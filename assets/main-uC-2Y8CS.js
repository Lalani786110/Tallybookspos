function vz(r,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();var Jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function bz(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),e}var J2={exports:{}},um={},Z2={exports:{}},tn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function xz(){if(hE)return tn;hE=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function f(R){return R===null||typeof R!="object"?null:(R=d&&R[d]||R["@@iterator"],typeof R=="function"?R:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,m={};function g(R,V,B){this.props=R,this.context=V,this.refs=m,this.updater=B||h}g.prototype.isReactComponent={},g.prototype.setState=function(R,V){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,V,"setState")},g.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function v(){}v.prototype=g.prototype;function b(R,V,B){this.props=R,this.context=V,this.refs=m,this.updater=B||h}var w=b.prototype=new v;w.constructor=b,y(w,g.prototype),w.isPureReactComponent=!0;var _=Array.isArray,N=Object.prototype.hasOwnProperty,P={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function A(R,V,B){var K,Z={},ne=null,G=null;if(V!=null)for(K in V.ref!==void 0&&(G=V.ref),V.key!==void 0&&(ne=""+V.key),V)N.call(V,K)&&!M.hasOwnProperty(K)&&(Z[K]=V[K]);var te=arguments.length-2;if(te===1)Z.children=B;else if(1<te){for(var I=Array(te),D=0;D<te;D++)I[D]=arguments[D+2];Z.children=I}if(R&&R.defaultProps)for(K in te=R.defaultProps,te)Z[K]===void 0&&(Z[K]=te[K]);return{$$typeof:r,type:R,key:ne,ref:G,props:Z,_owner:P.current}}function F(R,V){return{$$typeof:r,type:R.type,key:V,ref:R.ref,props:R.props,_owner:R._owner}}function H(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function z(R){var V={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(B){return V[B]})}var U=/\/+/g;function O(R,V){return typeof R=="object"&&R!==null&&R.key!=null?z(""+R.key):V.toString(36)}function L(R,V,B,K,Z){var ne=typeof R;(ne==="undefined"||ne==="boolean")&&(R=null);var G=!1;if(R===null)G=!0;else switch(ne){case"string":case"number":G=!0;break;case"object":switch(R.$$typeof){case r:case t:G=!0}}if(G)return G=R,Z=Z(G),R=K===""?"."+O(G,0):K,_(Z)?(B="",R!=null&&(B=R.replace(U,"$&/")+"/"),L(Z,V,B,"",function(D){return D})):Z!=null&&(H(Z)&&(Z=F(Z,B+(!Z.key||G&&G.key===Z.key?"":(""+Z.key).replace(U,"$&/")+"/")+R)),V.push(Z)),1;if(G=0,K=K===""?".":K+":",_(R))for(var te=0;te<R.length;te++){ne=R[te];var I=K+O(ne,te);G+=L(ne,V,B,I,Z)}else if(I=f(R),typeof I=="function")for(R=I.call(R),te=0;!(ne=R.next()).done;)ne=ne.value,I=K+O(ne,te++),G+=L(ne,V,B,I,Z);else if(ne==="object")throw V=String(R),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return G}function C(R,V,B){if(R==null)return R;var K=[],Z=0;return L(R,K,"","",function(ne){return V.call(B,ne,Z++)}),K}function k(R){if(R._status===-1){var V=R._result;V=V(),V.then(function(B){(R._status===0||R._status===-1)&&(R._status=1,R._result=B)},function(B){(R._status===0||R._status===-1)&&(R._status=2,R._result=B)}),R._status===-1&&(R._status=0,R._result=V)}if(R._status===1)return R._result.default;throw R._result}var j={current:null},E={transition:null},T={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:E,ReactCurrentOwner:P};return tn.Children={map:C,forEach:function(R,V,B){C(R,function(){V.apply(this,arguments)},B)},count:function(R){var V=0;return C(R,function(){V++}),V},toArray:function(R){return C(R,function(V){return V})||[]},only:function(R){if(!H(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},tn.Component=g,tn.Fragment=e,tn.Profiler=i,tn.PureComponent=b,tn.StrictMode=n,tn.Suspense=c,tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,tn.cloneElement=function(R,V,B){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var K=y({},R.props),Z=R.key,ne=R.ref,G=R._owner;if(V!=null){if(V.ref!==void 0&&(ne=V.ref,G=P.current),V.key!==void 0&&(Z=""+V.key),R.type&&R.type.defaultProps)var te=R.type.defaultProps;for(I in V)N.call(V,I)&&!M.hasOwnProperty(I)&&(K[I]=V[I]===void 0&&te!==void 0?te[I]:V[I])}var I=arguments.length-2;if(I===1)K.children=B;else if(1<I){te=Array(I);for(var D=0;D<I;D++)te[D]=arguments[D+2];K.children=te}return{$$typeof:r,type:R.type,key:Z,ref:ne,props:K,_owner:G}},tn.createContext=function(R){return R={$$typeof:s,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:a,_context:R},R.Consumer=R},tn.createElement=A,tn.createFactory=function(R){var V=A.bind(null,R);return V.type=R,V},tn.createRef=function(){return{current:null}},tn.forwardRef=function(R){return{$$typeof:l,render:R}},tn.isValidElement=H,tn.lazy=function(R){return{$$typeof:u,_payload:{_status:-1,_result:R},_init:k}},tn.memo=function(R,V){return{$$typeof:o,type:R,compare:V===void 0?null:V}},tn.startTransition=function(R){var V=E.transition;E.transition={};try{R()}finally{E.transition=V}},tn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},tn.useCallback=function(R,V){return j.current.useCallback(R,V)},tn.useContext=function(R){return j.current.useContext(R)},tn.useDebugValue=function(){},tn.useDeferredValue=function(R){return j.current.useDeferredValue(R)},tn.useEffect=function(R,V){return j.current.useEffect(R,V)},tn.useId=function(){return j.current.useId()},tn.useImperativeHandle=function(R,V,B){return j.current.useImperativeHandle(R,V,B)},tn.useInsertionEffect=function(R,V){return j.current.useInsertionEffect(R,V)},tn.useLayoutEffect=function(R,V){return j.current.useLayoutEffect(R,V)},tn.useMemo=function(R,V){return j.current.useMemo(R,V)},tn.useReducer=function(R,V,B){return j.current.useReducer(R,V,B)},tn.useRef=function(R){return j.current.useRef(R)},tn.useState=function(R){return j.current.useState(R)},tn.useSyncExternalStore=function(R,V,B){return j.current.useSyncExternalStore(R,V,B)},tn.useTransition=function(){return j.current.useTransition()},tn.version="18.2.0",tn}var pE;function g8(){return pE||(pE=1,Z2.exports=xz()),Z2.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function wz(){if(mE)return um;mE=1;var r=g8(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,o){var u,d={},f=null,h=null;o!==void 0&&(f=""+o),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(h=c.ref);for(u in c)n.call(c,u)&&!a.hasOwnProperty(u)&&(d[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)d[u]===void 0&&(d[u]=c[u]);return{$$typeof:t,type:l,key:f,ref:h,props:d,_owner:i.current}}return um.Fragment=e,um.jsx=s,um.jsxs=s,um}var gE;function _z(){return gE||(gE=1,J2.exports=wz()),J2.exports}var p=_z(),fe=g8();const rt=kn(fe),Sz=vz({__proto__:null,default:rt},[fe]);var fy={},Q2={exports:{}},Gs={},ew={exports:{}},tw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function kz(){return yE||(yE=1,function(r){function t(E,T){var R=E.length;E.push(T);e:for(;0<R;){var V=R-1>>>1,B=E[V];if(0<i(B,T))E[V]=T,E[R]=B,R=V;else break e}}function e(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var T=E[0],R=E.pop();if(R!==T){E[0]=R;e:for(var V=0,B=E.length,K=B>>>1;V<K;){var Z=2*(V+1)-1,ne=E[Z],G=Z+1,te=E[G];if(0>i(ne,R))G<B&&0>i(te,ne)?(E[V]=te,E[G]=R,V=G):(E[V]=ne,E[Z]=R,V=Z);else if(G<B&&0>i(te,R))E[V]=te,E[G]=R,V=G;else break e}}return T}function i(E,T){var R=E.sortIndex-T.sortIndex;return R!==0?R:E.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();r.unstable_now=function(){return s.now()-l}}var c=[],o=[],u=1,d=null,f=3,h=!1,y=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(E){for(var T=e(o);T!==null;){if(T.callback===null)n(o);else if(T.startTime<=E)n(o),T.sortIndex=T.expirationTime,t(c,T);else break;T=e(o)}}function _(E){if(m=!1,w(E),!y)if(e(c)!==null)y=!0,k(N);else{var T=e(o);T!==null&&j(_,T.startTime-E)}}function N(E,T){y=!1,m&&(m=!1,v(A),A=-1),h=!0;var R=f;try{for(w(T),d=e(c);d!==null&&(!(d.expirationTime>T)||E&&!z());){var V=d.callback;if(typeof V=="function"){d.callback=null,f=d.priorityLevel;var B=V(d.expirationTime<=T);T=r.unstable_now(),typeof B=="function"?d.callback=B:d===e(c)&&n(c),w(T)}else n(c);d=e(c)}if(d!==null)var K=!0;else{var Z=e(o);Z!==null&&j(_,Z.startTime-T),K=!1}return K}finally{d=null,f=R,h=!1}}var P=!1,M=null,A=-1,F=5,H=-1;function z(){return!(r.unstable_now()-H<F)}function U(){if(M!==null){var E=r.unstable_now();H=E;var T=!0;try{T=M(!0,E)}finally{T?O():(P=!1,M=null)}}else P=!1}var O;if(typeof b=="function")O=function(){b(U)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,C=L.port2;L.port1.onmessage=U,O=function(){C.postMessage(null)}}else O=function(){g(U,0)};function k(E){M=E,P||(P=!0,O())}function j(E,T){A=g(function(){E(r.unstable_now())},T)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(E){E.callback=null},r.unstable_continueExecution=function(){y||h||(y=!0,k(N))},r.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<E?Math.floor(1e3/E):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return e(c)},r.unstable_next=function(E){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var R=f;f=T;try{return E()}finally{f=R}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(E,T){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var R=f;f=E;try{return T()}finally{f=R}},r.unstable_scheduleCallback=function(E,T,R){var V=r.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?V+R:V):R=V,E){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=R+B,E={id:u++,callback:T,priorityLevel:E,startTime:R,expirationTime:B,sortIndex:-1},R>V?(E.sortIndex=R,t(o,E),e(c)===null&&E===e(o)&&(m?(v(A),A=-1):m=!0,j(_,R-V))):(E.sortIndex=B,t(c,E),y||h||(y=!0,k(N))),E},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(E){var T=f;return function(){var R=f;f=T;try{return E.apply(this,arguments)}finally{f=R}}}}(tw)),tw}var vE;function Nz(){return vE||(vE=1,ew.exports=kz()),ew.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function Ez(){if(bE)return Gs;bE=1;var r=g8(),t=Nz();function e(x){for(var S="https://reactjs.org/docs/error-decoder.html?invariant="+x,q=1;q<arguments.length;q++)S+="&args[]="+encodeURIComponent(arguments[q]);return"Minified React error #"+x+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(x,S){s(x,S),s(x+"Capture",S)}function s(x,S){for(i[x]=S,x=0;x<S.length;x++)n.add(S[x])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,o=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},d={};function f(x){return c.call(d,x)?!0:c.call(u,x)?!1:o.test(x)?d[x]=!0:(u[x]=!0,!1)}function h(x,S,q,Y){if(q!==null&&q.type===0)return!1;switch(typeof S){case"function":case"symbol":return!0;case"boolean":return Y?!1:q!==null?!q.acceptsBooleans:(x=x.toLowerCase().slice(0,5),x!=="data-"&&x!=="aria-");default:return!1}}function y(x,S,q,Y){if(S===null||typeof S>"u"||h(x,S,q,Y))return!0;if(Y)return!1;if(q!==null)switch(q.type){case 3:return!S;case 4:return S===!1;case 5:return isNaN(S);case 6:return isNaN(S)||1>S}return!1}function m(x,S,q,Y,ie,ce,we){this.acceptsBooleans=S===2||S===3||S===4,this.attributeName=Y,this.attributeNamespace=ie,this.mustUseProperty=q,this.propertyName=x,this.type=S,this.sanitizeURL=ce,this.removeEmptyString=we}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(x){g[x]=new m(x,0,!1,x,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(x){var S=x[0];g[S]=new m(S,1,!1,x[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(x){g[x]=new m(x,2,!1,x.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(x){g[x]=new m(x,2,!1,x,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(x){g[x]=new m(x,3,!1,x.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(x){g[x]=new m(x,3,!0,x,null,!1,!1)}),["capture","download"].forEach(function(x){g[x]=new m(x,4,!1,x,null,!1,!1)}),["cols","rows","size","span"].forEach(function(x){g[x]=new m(x,6,!1,x,null,!1,!1)}),["rowSpan","start"].forEach(function(x){g[x]=new m(x,5,!1,x.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(x){return x[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(x){var S=x.replace(v,b);g[S]=new m(S,1,!1,x,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(x){var S=x.replace(v,b);g[S]=new m(S,1,!1,x,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(x){var S=x.replace(v,b);g[S]=new m(S,1,!1,x,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(x){g[x]=new m(x,1,!1,x.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(x){g[x]=new m(x,1,!1,x.toLowerCase(),null,!0,!0)});function w(x,S,q,Y){var ie=g.hasOwnProperty(S)?g[S]:null;(ie!==null?ie.type!==0:Y||!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(y(S,q,ie,Y)&&(q=null),Y||ie===null?f(S)&&(q===null?x.removeAttribute(S):x.setAttribute(S,""+q)):ie.mustUseProperty?x[ie.propertyName]=q===null?ie.type===3?!1:"":q:(S=ie.attributeName,Y=ie.attributeNamespace,q===null?x.removeAttribute(S):(ie=ie.type,q=ie===3||ie===4&&q===!0?"":""+q,Y?x.setAttributeNS(Y,S,q):x.setAttribute(S,q))))}var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),P=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),z=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),E=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}var R=Object.assign,V;function B(x){if(V===void 0)try{throw Error()}catch(q){var S=q.stack.trim().match(/\n( *(at )?)/);V=S&&S[1]||""}return`
`+V+x}var K=!1;function Z(x,S){if(!x||K)return"";K=!0;var q=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(S)if(S=function(){throw Error()},Object.defineProperty(S.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(S,[])}catch(yt){var Y=yt}Reflect.construct(x,[],S)}else{try{S.call()}catch(yt){Y=yt}x.call(S.prototype)}else{try{throw Error()}catch(yt){Y=yt}x()}}catch(yt){if(yt&&Y&&typeof yt.stack=="string"){for(var ie=yt.stack.split(`
`),ce=Y.stack.split(`
`),we=ie.length-1,Be=ce.length-1;1<=we&&0<=Be&&ie[we]!==ce[Be];)Be--;for(;1<=we&&0<=Be;we--,Be--)if(ie[we]!==ce[Be]){if(we!==1||Be!==1)do if(we--,Be--,0>Be||ie[we]!==ce[Be]){var Ke=`
`+ie[we].replace(" at new "," at ");return x.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",x.displayName)),Ke}while(1<=we&&0<=Be);break}}}finally{K=!1,Error.prepareStackTrace=q}return(x=x?x.displayName||x.name:"")?B(x):""}function ne(x){switch(x.tag){case 5:return B(x.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return x=Z(x.type,!1),x;case 11:return x=Z(x.type.render,!1),x;case 1:return x=Z(x.type,!0),x;default:return""}}function G(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case M:return"Fragment";case P:return"Portal";case F:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case L:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case z:return(x.displayName||"Context")+".Consumer";case H:return(x._context.displayName||"Context")+".Provider";case U:var S=x.render;return x=x.displayName,x||(x=S.displayName||S.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case C:return S=x.displayName||null,S!==null?S:G(x.type)||"Memo";case k:S=x._payload,x=x._init;try{return G(x(S))}catch{}}return null}function te(x){var S=x.type;switch(x.tag){case 24:return"Cache";case 9:return(S.displayName||"Context")+".Consumer";case 10:return(S._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=S.render,x=x.displayName||x.name||"",S.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return S;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(S);case 8:return S===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S}return null}function I(x){switch(typeof x){case"boolean":case"number":case"string":case"undefined":return x;case"object":return x;default:return""}}function D(x){var S=x.type;return(x=x.nodeName)&&x.toLowerCase()==="input"&&(S==="checkbox"||S==="radio")}function X(x){var S=D(x)?"checked":"value",q=Object.getOwnPropertyDescriptor(x.constructor.prototype,S),Y=""+x[S];if(!x.hasOwnProperty(S)&&typeof q<"u"&&typeof q.get=="function"&&typeof q.set=="function"){var ie=q.get,ce=q.set;return Object.defineProperty(x,S,{configurable:!0,get:function(){return ie.call(this)},set:function(we){Y=""+we,ce.call(this,we)}}),Object.defineProperty(x,S,{enumerable:q.enumerable}),{getValue:function(){return Y},setValue:function(we){Y=""+we},stopTracking:function(){x._valueTracker=null,delete x[S]}}}}function Q(x){x._valueTracker||(x._valueTracker=X(x))}function re(x){if(!x)return!1;var S=x._valueTracker;if(!S)return!0;var q=S.getValue(),Y="";return x&&(Y=D(x)?x.checked?"true":"false":x.value),x=Y,x!==q?(S.setValue(x),!0):!1}function oe(x){if(x=x||(typeof document<"u"?document:void 0),typeof x>"u")return null;try{return x.activeElement||x.body}catch{return x.body}}function se(x,S){var q=S.checked;return R({},S,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:q??x._wrapperState.initialChecked})}function he(x,S){var q=S.defaultValue==null?"":S.defaultValue,Y=S.checked!=null?S.checked:S.defaultChecked;q=I(S.value!=null?S.value:q),x._wrapperState={initialChecked:Y,initialValue:q,controlled:S.type==="checkbox"||S.type==="radio"?S.checked!=null:S.value!=null}}function le(x,S){S=S.checked,S!=null&&w(x,"checked",S,!1)}function de(x,S){le(x,S);var q=I(S.value),Y=S.type;if(q!=null)Y==="number"?(q===0&&x.value===""||x.value!=q)&&(x.value=""+q):x.value!==""+q&&(x.value=""+q);else if(Y==="submit"||Y==="reset"){x.removeAttribute("value");return}S.hasOwnProperty("value")?ge(x,S.type,q):S.hasOwnProperty("defaultValue")&&ge(x,S.type,I(S.defaultValue)),S.checked==null&&S.defaultChecked!=null&&(x.defaultChecked=!!S.defaultChecked)}function ve(x,S,q){if(S.hasOwnProperty("value")||S.hasOwnProperty("defaultValue")){var Y=S.type;if(!(Y!=="submit"&&Y!=="reset"||S.value!==void 0&&S.value!==null))return;S=""+x._wrapperState.initialValue,q||S===x.value||(x.value=S),x.defaultValue=S}q=x.name,q!==""&&(x.name=""),x.defaultChecked=!!x._wrapperState.initialChecked,q!==""&&(x.name=q)}function ge(x,S,q){(S!=="number"||oe(x.ownerDocument)!==x)&&(q==null?x.defaultValue=""+x._wrapperState.initialValue:x.defaultValue!==""+q&&(x.defaultValue=""+q))}var ke=Array.isArray;function Pe(x,S,q,Y){if(x=x.options,S){S={};for(var ie=0;ie<q.length;ie++)S["$"+q[ie]]=!0;for(q=0;q<x.length;q++)ie=S.hasOwnProperty("$"+x[q].value),x[q].selected!==ie&&(x[q].selected=ie),ie&&Y&&(x[q].defaultSelected=!0)}else{for(q=""+I(q),S=null,ie=0;ie<x.length;ie++){if(x[ie].value===q){x[ie].selected=!0,Y&&(x[ie].defaultSelected=!0);return}S!==null||x[ie].disabled||(S=x[ie])}S!==null&&(S.selected=!0)}}function Re(x,S){if(S.dangerouslySetInnerHTML!=null)throw Error(e(91));return R({},S,{value:void 0,defaultValue:void 0,children:""+x._wrapperState.initialValue})}function Ie(x,S){var q=S.value;if(q==null){if(q=S.children,S=S.defaultValue,q!=null){if(S!=null)throw Error(e(92));if(ke(q)){if(1<q.length)throw Error(e(93));q=q[0]}S=q}S==null&&(S=""),q=S}x._wrapperState={initialValue:I(q)}}function qe(x,S){var q=I(S.value),Y=I(S.defaultValue);q!=null&&(q=""+q,q!==x.value&&(x.value=q),S.defaultValue==null&&x.defaultValue!==q&&(x.defaultValue=q)),Y!=null&&(x.defaultValue=""+Y)}function Ue(x){var S=x.textContent;S===x._wrapperState.initialValue&&S!==""&&S!==null&&(x.value=S)}function vt(x){switch(x){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(x,S){return x==null||x==="http://www.w3.org/1999/xhtml"?vt(S):x==="http://www.w3.org/2000/svg"&&S==="foreignObject"?"http://www.w3.org/1999/xhtml":x}var De,lt=function(x){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(S,q,Y,ie){MSApp.execUnsafeLocalFunction(function(){return x(S,q,Y,ie)})}:x}(function(x,S){if(x.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in x)x.innerHTML=S;else{for(De=De||document.createElement("div"),De.innerHTML="<svg>"+S.valueOf().toString()+"</svg>",S=De.firstChild;x.firstChild;)x.removeChild(x.firstChild);for(;S.firstChild;)x.appendChild(S.firstChild)}});function gt(x,S){if(S){var q=x.firstChild;if(q&&q===x.lastChild&&q.nodeType===3){q.nodeValue=S;return}}x.textContent=S}var Ve={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dt=["Webkit","ms","Moz","O"];Object.keys(Ve).forEach(function(x){Dt.forEach(function(S){S=S+x.charAt(0).toUpperCase()+x.substring(1),Ve[S]=Ve[x]})});function bt(x,S,q){return S==null||typeof S=="boolean"||S===""?"":q||typeof S!="number"||S===0||Ve.hasOwnProperty(x)&&Ve[x]?(""+S).trim():S+"px"}function At(x,S){x=x.style;for(var q in S)if(S.hasOwnProperty(q)){var Y=q.indexOf("--")===0,ie=bt(q,S[q],Y);q==="float"&&(q="cssFloat"),Y?x.setProperty(q,ie):x[q]=ie}}var ft=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jt(x,S){if(S){if(ft[x]&&(S.children!=null||S.dangerouslySetInnerHTML!=null))throw Error(e(137,x));if(S.dangerouslySetInnerHTML!=null){if(S.children!=null)throw Error(e(60));if(typeof S.dangerouslySetInnerHTML!="object"||!("__html"in S.dangerouslySetInnerHTML))throw Error(e(61))}if(S.style!=null&&typeof S.style!="object")throw Error(e(62))}}function ht(x,S){if(x.indexOf("-")===-1)return typeof S.is=="string";switch(x){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lt=null;function ur(x){return x=x.target||x.srcElement||window,x.correspondingUseElement&&(x=x.correspondingUseElement),x.nodeType===3?x.parentNode:x}var zt=null,wr=null,br=null;function er(x){if(x=uf(x)){if(typeof zt!="function")throw Error(e(280));var S=x.stateNode;S&&(S=Ed(S),zt(x.stateNode,x.type,S))}}function Zt(x){wr?br?br.push(x):br=[x]:wr=x}function ar(){if(wr){var x=wr,S=br;if(br=wr=null,er(x),S)for(x=0;x<S.length;x++)er(S[x])}}function fr(x,S){return x(S)}function Sr(){}var Ur=!1;function dr(x,S,q){if(Ur)return x(S,q);Ur=!0;try{return fr(x,S,q)}finally{Ur=!1,(wr!==null||br!==null)&&(Sr(),ar())}}function Vt(x,S){var q=x.stateNode;if(q===null)return null;var Y=Ed(q);if(Y===null)return null;q=Y[S];e:switch(S){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Y=!Y.disabled)||(x=x.type,Y=!(x==="button"||x==="input"||x==="select"||x==="textarea")),x=!Y;break e;default:x=!1}if(x)return null;if(q&&typeof q!="function")throw Error(e(231,S,typeof q));return q}var Dr=!1;if(l)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Dr=!1}function ze(x,S,q,Y,ie,ce,we,Be,Ke){var yt=Array.prototype.slice.call(arguments,3);try{S.apply(q,yt)}catch(Ut){this.onError(Ut)}}var Ze=!1,mt=null,pe=!1,Ce=null,be={onError:function(x){Ze=!0,mt=x}};function Ee(x,S,q,Y,ie,ce,we,Be,Ke){Ze=!1,mt=null,ze.apply(be,arguments)}function Ae(x,S,q,Y,ie,ce,we,Be,Ke){if(Ee.apply(this,arguments),Ze){if(Ze){var yt=mt;Ze=!1,mt=null}else throw Error(e(198));pe||(pe=!0,Ce=yt)}}function Te(x){var S=x,q=x;if(x.alternate)for(;S.return;)S=S.return;else{x=S;do S=x,(S.flags&4098)!==0&&(q=S.return),x=S.return;while(x)}return S.tag===3?q:null}function He(x){if(x.tag===13){var S=x.memoizedState;if(S===null&&(x=x.alternate,x!==null&&(S=x.memoizedState)),S!==null)return S.dehydrated}return null}function tt(x){if(Te(x)!==x)throw Error(e(188))}function We(x){var S=x.alternate;if(!S){if(S=Te(x),S===null)throw Error(e(188));return S!==x?null:x}for(var q=x,Y=S;;){var ie=q.return;if(ie===null)break;var ce=ie.alternate;if(ce===null){if(Y=ie.return,Y!==null){q=Y;continue}break}if(ie.child===ce.child){for(ce=ie.child;ce;){if(ce===q)return tt(ie),x;if(ce===Y)return tt(ie),S;ce=ce.sibling}throw Error(e(188))}if(q.return!==Y.return)q=ie,Y=ce;else{for(var we=!1,Be=ie.child;Be;){if(Be===q){we=!0,q=ie,Y=ce;break}if(Be===Y){we=!0,Y=ie,q=ce;break}Be=Be.sibling}if(!we){for(Be=ce.child;Be;){if(Be===q){we=!0,q=ce,Y=ie;break}if(Be===Y){we=!0,Y=ce,q=ie;break}Be=Be.sibling}if(!we)throw Error(e(189))}}if(q.alternate!==Y)throw Error(e(190))}if(q.tag!==3)throw Error(e(188));return q.stateNode.current===q?x:S}function it(x){return x=We(x),x!==null?et(x):null}function et(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var S=et(x);if(S!==null)return S;x=x.sibling}return null}var Ct=t.unstable_scheduleCallback,Mt=t.unstable_cancelCallback,Gt=t.unstable_shouldYield,Se=t.unstable_requestPaint,Fe=t.unstable_now,ct=t.unstable_getCurrentPriorityLevel,wt=t.unstable_ImmediatePriority,Wt=t.unstable_UserBlockingPriority,It=t.unstable_NormalPriority,qt=t.unstable_LowPriority,Rr=t.unstable_IdlePriority,kr=null,mr=null;function or(x){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(kr,x,void 0,(x.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:Nn,Ar=Math.log,nn=Math.LN2;function Nn(x){return x>>>=0,x===0?32:31-(Ar(x)/nn|0)|0}var Bn=64,Kn=4194304;function Ti(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function ci(x,S){var q=x.pendingLanes;if(q===0)return 0;var Y=0,ie=x.suspendedLanes,ce=x.pingedLanes,we=q&268435455;if(we!==0){var Be=we&~ie;Be!==0?Y=Ti(Be):(ce&=we,ce!==0&&(Y=Ti(ce)))}else we=q&~ie,we!==0?Y=Ti(we):ce!==0&&(Y=Ti(ce));if(Y===0)return 0;if(S!==0&&S!==Y&&(S&ie)===0&&(ie=Y&-Y,ce=S&-S,ie>=ce||ie===16&&(ce&4194240)!==0))return S;if((Y&4)!==0&&(Y|=q&16),S=x.entangledLanes,S!==0)for(x=x.entanglements,S&=Y;0<S;)q=31-Er(S),ie=1<<q,Y|=x[q],S&=~ie;return Y}function vs(x,S){switch(x){case 1:case 2:case 4:return S+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yi(x,S){for(var q=x.suspendedLanes,Y=x.pingedLanes,ie=x.expirationTimes,ce=x.pendingLanes;0<ce;){var we=31-Er(ce),Be=1<<we,Ke=ie[we];Ke===-1?((Be&q)===0||(Be&Y)!==0)&&(ie[we]=vs(Be,S)):Ke<=S&&(x.expiredLanes|=Be),ce&=~Be}}function Wa(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function Qr(){var x=Bn;return Bn<<=1,(Bn&4194240)===0&&(Bn=64),x}function Gr(x){for(var S=[],q=0;31>q;q++)S.push(x);return S}function Xi(x,S,q){x.pendingLanes|=S,S!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,S=31-Er(S),x[S]=q}function io(x,S){var q=x.pendingLanes&~S;x.pendingLanes=S,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=S,x.mutableReadLanes&=S,x.entangledLanes&=S,S=x.entanglements;var Y=x.eventTimes;for(x=x.expirationTimes;0<q;){var ie=31-Er(q),ce=1<<ie;S[ie]=0,Y[ie]=-1,x[ie]=-1,q&=~ce}}function ao(x,S){var q=x.entangledLanes|=S;for(x=x.entanglements;q;){var Y=31-Er(q),ie=1<<Y;ie&S|x[Y]&S&&(x[Y]|=S),q&=~ie}}var Br=0;function aa(x){return x&=-x,1<x?4<x?(x&268435455)!==0?16:536870912:4:1}var bs,so,ol,Ki,sa,oo=!1,Is=[],On=null,ka=null,oa=null,Tr=new Map,Rs=new Map,Na=[],Mo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ud(x,S){switch(x){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Tr.delete(S.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(S.pointerId)}}function Wl(x,S,q,Y,ie,ce){return x===null||x.nativeEvent!==ce?(x={blockedOn:S,domEventName:q,eventSystemFlags:Y,nativeEvent:ce,targetContainers:[ie]},S!==null&&(S=uf(S),S!==null&&so(S)),x):(x.eventSystemFlags|=Y,S=x.targetContainers,ie!==null&&S.indexOf(ie)===-1&&S.push(ie),x)}function Bu(x,S,q,Y,ie){switch(S){case"focusin":return On=Wl(On,x,S,q,Y,ie),!0;case"dragenter":return ka=Wl(ka,x,S,q,Y,ie),!0;case"mouseover":return oa=Wl(oa,x,S,q,Y,ie),!0;case"pointerover":var ce=ie.pointerId;return Tr.set(ce,Wl(Tr.get(ce)||null,x,S,q,Y,ie)),!0;case"gotpointercapture":return ce=ie.pointerId,Rs.set(ce,Wl(Rs.get(ce)||null,x,S,q,Y,ie)),!0}return!1}function $u(x){var S=rc(x.target);if(S!==null){var q=Te(S);if(q!==null){if(S=q.tag,S===13){if(S=He(q),S!==null){x.blockedOn=S,sa(x.priority,function(){ol(q)});return}}else if(S===3&&q.stateNode.current.memoizedState.isDehydrated){x.blockedOn=q.tag===3?q.stateNode.containerInfo:null;return}}}x.blockedOn=null}function Uu(x){if(x.blockedOn!==null)return!1;for(var S=x.targetContainers;0<S.length;){var q=qu(x.domEventName,x.eventSystemFlags,S[0],x.nativeEvent);if(q===null){q=x.nativeEvent;var Y=new q.constructor(q.type,q);Lt=Y,q.target.dispatchEvent(Y),Lt=null}else return S=uf(q),S!==null&&so(S),x.blockedOn=q,!1;S.shift()}return!0}function Dh(x,S,q){Uu(x)&&q.delete(S)}function Hp(){oo=!1,On!==null&&Uu(On)&&(On=null),ka!==null&&Uu(ka)&&(ka=null),oa!==null&&Uu(oa)&&(oa=null),Tr.forEach(Dh),Rs.forEach(Dh)}function ll(x,S){x.blockedOn===S&&(x.blockedOn=null,oo||(oo=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Hp)))}function lo(x){function S(ie){return ll(ie,x)}if(0<Is.length){ll(Is[0],x);for(var q=1;q<Is.length;q++){var Y=Is[q];Y.blockedOn===x&&(Y.blockedOn=null)}}for(On!==null&&ll(On,x),ka!==null&&ll(ka,x),oa!==null&&ll(oa,x),Tr.forEach(S),Rs.forEach(S),q=0;q<Na.length;q++)Y=Na[q],Y.blockedOn===x&&(Y.blockedOn=null);for(;0<Na.length&&(q=Na[0],q.blockedOn===null);)$u(q),q.blockedOn===null&&Na.shift()}var xs=_.ReactCurrentBatchConfig,zu=!0;function Oc(x,S,q,Y){var ie=Br,ce=xs.transition;xs.transition=null;try{Br=1,Vl(x,S,q,Y)}finally{Br=ie,xs.transition=ce}}function fd(x,S,q,Y){var ie=Br,ce=xs.transition;xs.transition=null;try{Br=4,Vl(x,S,q,Y)}finally{Br=ie,xs.transition=ce}}function Vl(x,S,q,Y){if(zu){var ie=qu(x,S,q,Y);if(ie===null)Sd(x,S,Y,Pc,q),ud(x,Y);else if(Bu(ie,x,S,q,Y))Y.stopPropagation();else if(ud(x,Y),S&4&&-1<Mo.indexOf(x)){for(;ie!==null;){var ce=uf(ie);if(ce!==null&&bs(ce),ce=qu(x,S,q,Y),ce===null&&Sd(x,S,Y,Pc,q),ce===ie)break;ie=ce}ie!==null&&Y.stopPropagation()}else Sd(x,S,Y,null,q)}}var Pc=null;function qu(x,S,q,Y){if(Pc=null,x=ur(Y),x=rc(x),x!==null)if(S=Te(x),S===null)x=null;else if(q=S.tag,q===13){if(x=He(S),x!==null)return x;x=null}else if(q===3){if(S.stateNode.current.memoizedState.isDehydrated)return S.tag===3?S.stateNode.containerInfo:null;x=null}else S!==x&&(x=null);return Pc=x,null}function dd(x){switch(x){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ct()){case wt:return 1;case Wt:return 4;case It:case qt:return 16;case Rr:return 536870912;default:return 16}default:return 16}}var co=null,Fs=null,Ls=null;function Bh(){if(Ls)return Ls;var x,S=Fs,q=S.length,Y,ie="value"in co?co.value:co.textContent,ce=ie.length;for(x=0;x<q&&S[x]===ie[x];x++);var we=q-x;for(Y=1;Y<=we&&S[q-Y]===ie[ce-Y];Y++);return Ls=ie.slice(x,1<Y?1-Y:void 0)}function uo(x){var S=x.keyCode;return"charCode"in x?(x=x.charCode,x===0&&S===13&&(x=13)):x=S,x===10&&(x=13),32<=x||x===13?x:0}function Va(){return!0}function Hu(){return!1}function Ci(x){function S(q,Y,ie,ce,we){this._reactName=q,this._targetInst=ie,this.type=Y,this.nativeEvent=ce,this.target=we,this.currentTarget=null;for(var Be in x)x.hasOwnProperty(Be)&&(q=x[Be],this[Be]=q?q(ce):ce[Be]);return this.isDefaultPrevented=(ce.defaultPrevented!=null?ce.defaultPrevented:ce.returnValue===!1)?Va:Hu,this.isPropagationStopped=Hu,this}return R(S.prototype,{preventDefault:function(){this.defaultPrevented=!0;var q=this.nativeEvent;q&&(q.preventDefault?q.preventDefault():typeof q.returnValue!="unknown"&&(q.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var q=this.nativeEvent;q&&(q.stopPropagation?q.stopPropagation():typeof q.cancelBubble!="unknown"&&(q.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),S}var Gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(x){return x.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=Ci(Gl),Mc=R({},Gl,{view:0,detail:0}),hd=Ci(Mc),Ic,Wu,Io,Kl=R({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(x){return x.relatedTarget===void 0?x.fromElement===x.srcElement?x.toElement:x.fromElement:x.relatedTarget},movementX:function(x){return"movementX"in x?x.movementX:(x!==Io&&(Io&&x.type==="mousemove"?(Ic=x.screenX-Io.screenX,Wu=x.screenY-Io.screenY):Wu=Ic=0,Io=x),Ic)},movementY:function(x){return"movementY"in x?x.movementY:Wu}}),Vu=Ci(Kl),$h=R({},Kl,{dataTransfer:0}),Wp=Ci($h),Gu=R({},Mc,{relatedTarget:0}),cl=Ci(Gu),pd=R({},Gl,{animationName:0,elapsedTime:0,pseudoElement:0}),Yl=Ci(pd),md=R({},Gl,{clipboardData:function(x){return"clipboardData"in x?x.clipboardData:window.clipboardData}}),ee=Ci(md),ye=R({},Gl,{data:0}),Le=Ci(ye),Ge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},at={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bt(x){var S=this.nativeEvent;return S.getModifierState?S.getModifierState(x):(x=kt[x])?!!S[x]:!1}function rr(){return Bt}var Nr=R({},Mc,{key:function(x){if(x.key){var S=Ge[x.key]||x.key;if(S!=="Unidentified")return S}return x.type==="keypress"?(x=uo(x),x===13?"Enter":String.fromCharCode(x)):x.type==="keydown"||x.type==="keyup"?at[x.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(x){return x.type==="keypress"?uo(x):0},keyCode:function(x){return x.type==="keydown"||x.type==="keyup"?x.keyCode:0},which:function(x){return x.type==="keypress"?uo(x):x.type==="keydown"||x.type==="keyup"?x.keyCode:0}}),qr=Ci(Nr),zr=R({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),en=Ci(zr),ti=R({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),ui=Ci(ti),Si=R({},Gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),la=Ci(Si),Di=R({},Kl,{deltaX:function(x){return"deltaX"in x?x.deltaX:"wheelDeltaX"in x?-x.wheelDeltaX:0},deltaY:function(x){return"deltaY"in x?x.deltaY:"wheelDeltaY"in x?-x.wheelDeltaY:"wheelDelta"in x?-x.wheelDelta:0},deltaZ:0,deltaMode:0}),fo=Ci(Di),ws=[9,13,27,32],Ds=l&&"CompositionEvent"in window,Jl=null;l&&"documentMode"in document&&(Jl=document.documentMode);var gd=l&&"TextEvent"in window&&!Jl,Xu=l&&(!Ds||Jl&&8<Jl&&11>=Jl),Rc=" ",Ku=!1;function Yu(x,S){switch(x){case"keyup":return ws.indexOf(S.keyCode)!==-1;case"keydown":return S.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fc(x){return x=x.detail,typeof x=="object"&&"data"in x?x.data:null}var fi=!1;function Ju(x,S){switch(x){case"compositionend":return Fc(S);case"keypress":return S.which!==32?null:(Ku=!0,Rc);case"textInput":return x=S.data,x===Rc&&Ku?null:x;default:return null}}function Zu(x,S){if(fi)return x==="compositionend"||!Ds&&Yu(x,S)?(x=Bh(),Ls=Fs=co=null,fi=!1,x):null;switch(x){case"paste":return null;case"keypress":if(!(S.ctrlKey||S.altKey||S.metaKey)||S.ctrlKey&&S.altKey){if(S.char&&1<S.char.length)return S.char;if(S.which)return String.fromCharCode(S.which)}return null;case"compositionend":return Xu&&S.locale!=="ko"?null:S.data;default:return null}}var Qu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ef(x){var S=x&&x.nodeName&&x.nodeName.toLowerCase();return S==="input"?!!Qu[x.type]:S==="textarea"}function Ea(x,S,q,Y){Zt(Y),S=Hh(S,"onChange"),0<S.length&&(q=new Xl("onChange","change",null,q,Y),x.push({event:q,listeners:S}))}var Lc=null,ul=null;function Uh(x){wd(x,0)}function ja(x){var S=Vc(x);if(re(S))return x}function tf(x,S){if(x==="change")return S}var yd=!1;if(l){var rf;if(l){var Ro="oninput"in document;if(!Ro){var Zl=document.createElement("div");Zl.setAttribute("oninput","return;"),Ro=typeof Zl.oninput=="function"}rf=Ro}else rf=!1;yd=rf&&(!document.documentMode||9<document.documentMode)}function Aa(){Lc&&(Lc.detachEvent("onpropertychange",ca),ul=Lc=null)}function ca(x){if(x.propertyName==="value"&&ja(ul)){var S=[];Ea(S,ul,x,ur(x)),dr(Uh,S)}}function Ql(x,S,q){x==="focusin"?(Aa(),Lc=S,ul=q,Lc.attachEvent("onpropertychange",ca)):x==="focusout"&&Aa()}function fl(x){if(x==="selectionchange"||x==="keyup"||x==="keydown")return ja(ul)}function dl(x,S){if(x==="click")return ja(S)}function nf(x,S){if(x==="input"||x==="change")return ja(S)}function hl(x,S){return x===S&&(x!==0||1/x===1/S)||x!==x&&S!==S}var fn=typeof Object.is=="function"?Object.is:hl;function pl(x,S){if(fn(x,S))return!0;if(typeof x!="object"||x===null||typeof S!="object"||S===null)return!1;var q=Object.keys(x),Y=Object.keys(S);if(q.length!==Y.length)return!1;for(Y=0;Y<q.length;Y++){var ie=q[Y];if(!c.call(S,ie)||!fn(x[ie],S[ie]))return!1}return!0}function ua(x){for(;x&&x.firstChild;)x=x.firstChild;return x}function _s(x,S){var q=ua(x);x=0;for(var Y;q;){if(q.nodeType===3){if(Y=x+q.textContent.length,x<=S&&Y>=S)return{node:q,offset:S-x};x=Y}e:{for(;q;){if(q.nextSibling){q=q.nextSibling;break e}q=q.parentNode}q=void 0}q=ua(q)}}function Dc(x,S){return x&&S?x===S?!0:x&&x.nodeType===3?!1:S&&S.nodeType===3?Dc(x,S.parentNode):"contains"in x?x.contains(S):x.compareDocumentPosition?!!(x.compareDocumentPosition(S)&16):!1:!1}function vd(){for(var x=window,S=oe();S instanceof x.HTMLIFrameElement;){try{var q=typeof S.contentWindow.location.href=="string"}catch{q=!1}if(q)x=S.contentWindow;else break;S=oe(x.document)}return S}function Bc(x){var S=x&&x.nodeName&&x.nodeName.toLowerCase();return S&&(S==="input"&&(x.type==="text"||x.type==="search"||x.type==="tel"||x.type==="url"||x.type==="password")||S==="textarea"||x.contentEditable==="true")}function $c(x){var S=vd(),q=x.focusedElem,Y=x.selectionRange;if(S!==q&&q&&q.ownerDocument&&Dc(q.ownerDocument.documentElement,q)){if(Y!==null&&Bc(q)){if(S=Y.start,x=Y.end,x===void 0&&(x=S),"selectionStart"in q)q.selectionStart=S,q.selectionEnd=Math.min(x,q.value.length);else if(x=(S=q.ownerDocument||document)&&S.defaultView||window,x.getSelection){x=x.getSelection();var ie=q.textContent.length,ce=Math.min(Y.start,ie);Y=Y.end===void 0?ce:Math.min(Y.end,ie),!x.extend&&ce>Y&&(ie=Y,Y=ce,ce=ie),ie=_s(q,ce);var we=_s(q,Y);ie&&we&&(x.rangeCount!==1||x.anchorNode!==ie.node||x.anchorOffset!==ie.offset||x.focusNode!==we.node||x.focusOffset!==we.offset)&&(S=S.createRange(),S.setStart(ie.node,ie.offset),x.removeAllRanges(),ce>Y?(x.addRange(S),x.extend(we.node,we.offset)):(S.setEnd(we.node,we.offset),x.addRange(S)))}}for(S=[],x=q;x=x.parentNode;)x.nodeType===1&&S.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<S.length;q++)x=S[q],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}var Uc=l&&"documentMode"in document&&11>=document.documentMode,Ss=null,ml=null,Fo=null,gl=!1;function yl(x,S,q){var Y=q.window===q?q.document:q.nodeType===9?q:q.ownerDocument;gl||Ss==null||Ss!==oe(Y)||(Y=Ss,"selectionStart"in Y&&Bc(Y)?Y={start:Y.selectionStart,end:Y.selectionEnd}:(Y=(Y.ownerDocument&&Y.ownerDocument.defaultView||window).getSelection(),Y={anchorNode:Y.anchorNode,anchorOffset:Y.anchorOffset,focusNode:Y.focusNode,focusOffset:Y.focusOffset}),Fo&&pl(Fo,Y)||(Fo=Y,Y=Hh(ml,"onSelect"),0<Y.length&&(S=new Xl("onSelect","select",null,S,q),x.push({event:S,listeners:Y}),S.target=Ss)))}function ec(x,S){var q={};return q[x.toLowerCase()]=S.toLowerCase(),q["Webkit"+x]="webkit"+S,q["Moz"+x]="moz"+S,q}var Yi={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionend:ec("Transition","TransitionEnd")},Ga={},Pn={};l&&(Pn=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function vn(x){if(Ga[x])return Ga[x];if(!Yi[x])return x;var S=Yi[x],q;for(q in S)if(S.hasOwnProperty(q)&&q in Pn)return Ga[x]=S[q];return x}var di=vn("animationend"),ki=vn("animationiteration"),Lo=vn("animationstart"),af=vn("transitionend"),zc=new Map,bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(x,S){zc.set(x,S),a(S,[x])}for(var sf=0;sf<bd.length;sf++){var Ta=bd[sf],Bs=Ta.toLowerCase(),zh=Ta[0].toUpperCase()+Ta.slice(1);Do(Bs,"on"+zh)}Do(di,"onAnimationEnd"),Do(ki,"onAnimationIteration"),Do(Lo,"onAnimationStart"),Do("dblclick","onDoubleClick"),Do("focusin","onFocus"),Do("focusout","onBlur"),Do(af,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P1=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function xd(x,S,q){var Y=x.type||"unknown-event";x.currentTarget=q,Ae(Y,S,void 0,x),x.currentTarget=null}function wd(x,S){S=(S&4)!==0;for(var q=0;q<x.length;q++){var Y=x[q],ie=Y.event;Y=Y.listeners;e:{var ce=void 0;if(S)for(var we=Y.length-1;0<=we;we--){var Be=Y[we],Ke=Be.instance,yt=Be.currentTarget;if(Be=Be.listener,Ke!==ce&&ie.isPropagationStopped())break e;xd(ie,Be,yt),ce=Ke}else for(we=0;we<Y.length;we++){if(Be=Y[we],Ke=Be.instance,yt=Be.currentTarget,Be=Be.listener,Ke!==ce&&ie.isPropagationStopped())break e;xd(ie,Be,yt),ce=Ke}}}if(pe)throw x=Ce,pe=!1,Ce=null,x}function Mn(x,S){var q=S[Ka];q===void 0&&(q=S[Ka]=new Set);var Y=x+"__bubble";q.has(Y)||(_d(S,x,2,!1),q.add(Y))}function qh(x,S,q){var Y=0;S&&(Y|=4),_d(q,x,Y,S)}var of="_reactListening"+Math.random().toString(36).slice(2);function qc(x){if(!x[of]){x[of]=!0,n.forEach(function(q){q!=="selectionchange"&&(P1.has(q)||qh(q,!1,x),qh(q,!0,x))});var S=x.nodeType===9?x:x.ownerDocument;S===null||S[of]||(S[of]=!0,qh("selectionchange",!1,S))}}function _d(x,S,q,Y){switch(dd(S)){case 1:var ie=Oc;break;case 4:ie=fd;break;default:ie=Vl}q=ie.bind(null,S,q,x),ie=void 0,!Dr||S!=="touchstart"&&S!=="touchmove"&&S!=="wheel"||(ie=!0),Y?ie!==void 0?x.addEventListener(S,q,{capture:!0,passive:ie}):x.addEventListener(S,q,!0):ie!==void 0?x.addEventListener(S,q,{passive:ie}):x.addEventListener(S,q,!1)}function Sd(x,S,q,Y,ie){var ce=Y;if((S&1)===0&&(S&2)===0&&Y!==null)e:for(;;){if(Y===null)return;var we=Y.tag;if(we===3||we===4){var Be=Y.stateNode.containerInfo;if(Be===ie||Be.nodeType===8&&Be.parentNode===ie)break;if(we===4)for(we=Y.return;we!==null;){var Ke=we.tag;if((Ke===3||Ke===4)&&(Ke=we.stateNode.containerInfo,Ke===ie||Ke.nodeType===8&&Ke.parentNode===ie))return;we=we.return}for(;Be!==null;){if(we=rc(Be),we===null)return;if(Ke=we.tag,Ke===5||Ke===6){Y=ce=we;continue e}Be=Be.parentNode}}Y=Y.return}dr(function(){var yt=ce,Ut=ur(q),Ht=[];e:{var $t=zc.get(x);if($t!==void 0){var ir=Xl,hr=x;switch(x){case"keypress":if(uo(q)===0)break e;case"keydown":case"keyup":ir=qr;break;case"focusin":hr="focus",ir=cl;break;case"focusout":hr="blur",ir=cl;break;case"beforeblur":case"afterblur":ir=cl;break;case"click":if(q.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ir=Vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ir=Wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ir=ui;break;case di:case ki:case Lo:ir=Yl;break;case af:ir=la;break;case"scroll":ir=hd;break;case"wheel":ir=fo;break;case"copy":case"cut":case"paste":ir=ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ir=en}var gr=(S&4)!==0,Oi=!gr&&x==="scroll",ut=gr?$t!==null?$t+"Capture":null:$t;gr=[];for(var Qe=yt,pt;Qe!==null;){pt=Qe;var Kt=pt.stateNode;if(pt.tag===5&&Kt!==null&&(pt=Kt,ut!==null&&(Kt=Vt(Qe,ut),Kt!=null&&gr.push(kd(Qe,Kt,pt)))),Oi)break;Qe=Qe.return}0<gr.length&&($t=new ir($t,hr,null,q,Ut),Ht.push({event:$t,listeners:gr}))}}if((S&7)===0){e:{if($t=x==="mouseover"||x==="pointerover",ir=x==="mouseout"||x==="pointerout",$t&&q!==Lt&&(hr=q.relatedTarget||q.fromElement)&&(rc(hr)||hr[fa]))break e;if((ir||$t)&&($t=Ut.window===Ut?Ut:($t=Ut.ownerDocument)?$t.defaultView||$t.parentWindow:window,ir?(hr=q.relatedTarget||q.toElement,ir=yt,hr=hr?rc(hr):null,hr!==null&&(Oi=Te(hr),hr!==Oi||hr.tag!==5&&hr.tag!==6)&&(hr=null)):(ir=null,hr=yt),ir!==hr)){if(gr=Vu,Kt="onMouseLeave",ut="onMouseEnter",Qe="mouse",(x==="pointerout"||x==="pointerover")&&(gr=en,Kt="onPointerLeave",ut="onPointerEnter",Qe="pointer"),Oi=ir==null?$t:Vc(ir),pt=hr==null?$t:Vc(hr),$t=new gr(Kt,Qe+"leave",ir,q,Ut),$t.target=Oi,$t.relatedTarget=pt,Kt=null,rc(Ut)===yt&&(gr=new gr(ut,Qe+"enter",hr,q,Ut),gr.target=pt,gr.relatedTarget=Oi,Kt=gr),Oi=Kt,ir&&hr)t:{for(gr=ir,ut=hr,Qe=0,pt=gr;pt;pt=Hc(pt))Qe++;for(pt=0,Kt=ut;Kt;Kt=Hc(Kt))pt++;for(;0<Qe-pt;)gr=Hc(gr),Qe--;for(;0<pt-Qe;)ut=Hc(ut),pt--;for(;Qe--;){if(gr===ut||ut!==null&&gr===ut.alternate)break t;gr=Hc(gr),ut=Hc(ut)}gr=null}else gr=null;ir!==null&&M1(Ht,$t,ir,gr,!1),hr!==null&&Oi!==null&&M1(Ht,Oi,hr,gr,!0)}}e:{if($t=yt?Vc(yt):window,ir=$t.nodeName&&$t.nodeName.toLowerCase(),ir==="select"||ir==="input"&&$t.type==="file")var xr=tf;else if(ef($t))if(yd)xr=nf;else{xr=fl;var Mr=Ql}else(ir=$t.nodeName)&&ir.toLowerCase()==="input"&&($t.type==="checkbox"||$t.type==="radio")&&(xr=dl);if(xr&&(xr=xr(x,yt))){Ea(Ht,xr,q,Ut);break e}Mr&&Mr(x,$t,yt),x==="focusout"&&(Mr=$t._wrapperState)&&Mr.controlled&&$t.type==="number"&&ge($t,"number",$t.value)}switch(Mr=yt?Vc(yt):window,x){case"focusin":(ef(Mr)||Mr.contentEditable==="true")&&(Ss=Mr,ml=yt,Fo=null);break;case"focusout":Fo=ml=Ss=null;break;case"mousedown":gl=!0;break;case"contextmenu":case"mouseup":case"dragend":gl=!1,yl(Ht,q,Ut);break;case"selectionchange":if(Uc)break;case"keydown":case"keyup":yl(Ht,q,Ut)}var Ir;if(Ds)e:{switch(x){case"compositionstart":var $r="onCompositionStart";break e;case"compositionend":$r="onCompositionEnd";break e;case"compositionupdate":$r="onCompositionUpdate";break e}$r=void 0}else fi?Yu(x,q)&&($r="onCompositionEnd"):x==="keydown"&&q.keyCode===229&&($r="onCompositionStart");$r&&(Xu&&q.locale!=="ko"&&(fi||$r!=="onCompositionStart"?$r==="onCompositionEnd"&&fi&&(Ir=Bh()):(co=Ut,Fs="value"in co?co.value:co.textContent,fi=!0)),Mr=Hh(yt,$r),0<Mr.length&&($r=new Le($r,x,null,q,Ut),Ht.push({event:$r,listeners:Mr}),Ir?$r.data=Ir:(Ir=Fc(q),Ir!==null&&($r.data=Ir)))),(Ir=gd?Ju(x,q):Zu(x,q))&&(yt=Hh(yt,"onBeforeInput"),0<yt.length&&(Ut=new Le("onBeforeInput","beforeinput",null,q,Ut),Ht.push({event:Ut,listeners:yt}),Ut.data=Ir))}wd(Ht,S)})}function kd(x,S,q){return{instance:x,listener:S,currentTarget:q}}function Hh(x,S){for(var q=S+"Capture",Y=[];x!==null;){var ie=x,ce=ie.stateNode;ie.tag===5&&ce!==null&&(ie=ce,ce=Vt(x,q),ce!=null&&Y.unshift(kd(x,ce,ie)),ce=Vt(x,S),ce!=null&&Y.push(kd(x,ce,ie))),x=x.return}return Y}function Hc(x){if(x===null)return null;do x=x.return;while(x&&x.tag!==5);return x||null}function M1(x,S,q,Y,ie){for(var ce=S._reactName,we=[];q!==null&&q!==Y;){var Be=q,Ke=Be.alternate,yt=Be.stateNode;if(Ke!==null&&Ke===Y)break;Be.tag===5&&yt!==null&&(Be=yt,ie?(Ke=Vt(q,ce),Ke!=null&&we.unshift(kd(q,Ke,Be))):ie||(Ke=Vt(q,ce),Ke!=null&&we.push(kd(q,Ke,Be)))),q=q.return}we.length!==0&&x.push({event:S,listeners:we})}var h2=/\r\n?/g,p2=/\u0000|\uFFFD/g;function I1(x){return(typeof x=="string"?x:""+x).replace(h2,`
`).replace(p2,"")}function Wh(x,S,q){if(S=I1(S),I1(x)!==S&&q)throw Error(e(425))}function lf(){}var Nd=null,Wc=null;function Vp(x,S){return x==="textarea"||x==="noscript"||typeof S.children=="string"||typeof S.children=="number"||typeof S.dangerouslySetInnerHTML=="object"&&S.dangerouslySetInnerHTML!==null&&S.dangerouslySetInnerHTML.__html!=null}var Gp=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,F1=typeof Promise=="function"?Promise:void 0,m2=typeof queueMicrotask=="function"?queueMicrotask:typeof F1<"u"?function(x){return F1.resolve(null).then(x).catch(g2)}:Gp;function g2(x){setTimeout(function(){throw x})}function Xp(x,S){var q=S,Y=0;do{var ie=q.nextSibling;if(x.removeChild(q),ie&&ie.nodeType===8)if(q=ie.data,q==="/$"){if(Y===0){x.removeChild(ie),lo(S);return}Y--}else q!=="$"&&q!=="$?"&&q!=="$!"||Y++;q=ie}while(q);lo(S)}function Ca(x){for(;x!=null;x=x.nextSibling){var S=x.nodeType;if(S===1||S===3)break;if(S===8){if(S=x.data,S==="$"||S==="$!"||S==="$?")break;if(S==="/$")return null}}return x}function $s(x){x=x.previousSibling;for(var S=0;x;){if(x.nodeType===8){var q=x.data;if(q==="$"||q==="$!"||q==="$?"){if(S===0)return x;S--}else q==="/$"&&S++}x=x.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),Bo="__reactFiber$"+Xa,cf="__reactProps$"+Xa,fa="__reactContainer$"+Xa,Ka="__reactEvents$"+Xa,y2="__reactListeners$"+Xa,v2="__reactHandles$"+Xa;function rc(x){var S=x[Bo];if(S)return S;for(var q=x.parentNode;q;){if(S=q[fa]||q[Bo]){if(q=S.alternate,S.child!==null||q!==null&&q.child!==null)for(x=$s(x);x!==null;){if(q=x[Bo])return q;x=$s(x)}return S}x=q,q=x.parentNode}return null}function uf(x){return x=x[Bo]||x[fa],!x||x.tag!==5&&x.tag!==6&&x.tag!==13&&x.tag!==3?null:x}function Vc(x){if(x.tag===5||x.tag===6)return x.stateNode;throw Error(e(33))}function Ed(x){return x[cf]||null}var Kp=[],vl=-1;function ho(x){return{current:x}}function bn(x){0>vl||(x.current=Kp[vl],Kp[vl]=null,vl--)}function En(x,S){vl++,Kp[vl]=x.current,x.current=S}var nc={},Ji=ho(nc),Ya=ho(!1),Gc=nc;function ff(x,S){var q=x.type.contextTypes;if(!q)return nc;var Y=x.stateNode;if(Y&&Y.__reactInternalMemoizedUnmaskedChildContext===S)return Y.__reactInternalMemoizedMaskedChildContext;var ie={},ce;for(ce in q)ie[ce]=S[ce];return Y&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=S,x.__reactInternalMemoizedMaskedChildContext=ie),ie}function Ja(x){return x=x.childContextTypes,x!=null}function Vh(){bn(Ya),bn(Ji)}function L1(x,S,q){if(Ji.current!==nc)throw Error(e(168));En(Ji,S),En(Ya,q)}function Yp(x,S,q){var Y=x.stateNode;if(S=S.childContextTypes,typeof Y.getChildContext!="function")return q;Y=Y.getChildContext();for(var ie in Y)if(!(ie in S))throw Error(e(108,te(x)||"Unknown",ie));return R({},q,Y)}function Xc(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||nc,Gc=Ji.current,En(Ji,x),En(Ya,Ya.current),!0}function D1(x,S,q){var Y=x.stateNode;if(!Y)throw Error(e(169));q?(x=Yp(x,S,Gc),Y.__reactInternalMemoizedMergedChildContext=x,bn(Ya),bn(Ji),En(Ji,x)):bn(Ya),En(Ya,q)}var bl=null,jd=!1,W=!1;function J(x){bl===null?bl=[x]:bl.push(x)}function ae(x){jd=!0,J(x)}function ue(){if(!W&&bl!==null){W=!0;var x=0,S=Br;try{var q=bl;for(Br=1;x<q.length;x++){var Y=q[x];do Y=Y(!0);while(Y!==null)}bl=null,jd=!1}catch(ie){throw bl!==null&&(bl=bl.slice(x+1)),Ct(wt,ue),ie}finally{Br=S,W=!1}}return null}var me=[],xe=0,_e=null,Ne=0,je=[],Me=0,Xe=null,st=1,ot="";function nt(x,S){me[xe++]=Ne,me[xe++]=_e,_e=x,Ne=S}function Pt(x,S,q){je[Me++]=st,je[Me++]=ot,je[Me++]=Xe,Xe=x;var Y=st;x=ot;var ie=32-Er(Y)-1;Y&=~(1<<ie),q+=1;var ce=32-Er(S)+ie;if(30<ce){var we=ie-ie%5;ce=(Y&(1<<we)-1).toString(32),Y>>=we,ie-=we,st=1<<32-Er(S)+ie|q<<ie|Y,ot=ce+x}else st=1<<ce|q<<ie|Y,ot=x}function xt(x){x.return!==null&&(nt(x,1),Pt(x,1,0))}function Ye(x){for(;x===_e;)_e=me[--xe],me[xe]=null,Ne=me[--xe],me[xe]=null;for(;x===Xe;)Xe=je[--Me],je[Me]=null,ot=je[--Me],je[Me]=null,st=je[--Me],je[Me]=null}var Je=null,Et=null,Nt=!1,Tt=null;function nr(x,S){var q=Ho(5,null,null,0);q.elementType="DELETED",q.stateNode=S,q.return=x,S=x.deletions,S===null?(x.deletions=[q],x.flags|=16):S.push(q)}function Qt(x,S){switch(x.tag){case 5:var q=x.type;return S=S.nodeType!==1||q.toLowerCase()!==S.nodeName.toLowerCase()?null:S,S!==null?(x.stateNode=S,Je=x,Et=Ca(S.firstChild),!0):!1;case 6:return S=x.pendingProps===""||S.nodeType!==3?null:S,S!==null?(x.stateNode=S,Je=x,Et=null,!0):!1;case 13:return S=S.nodeType!==8?null:S,S!==null?(q=Xe!==null?{id:st,overflow:ot}:null,x.memoizedState={dehydrated:S,treeContext:q,retryLane:1073741824},q=Ho(18,null,null,0),q.stateNode=S,q.return=x,x.child=q,Je=x,Et=null,!0):!1;default:return!1}}function jr(x){return(x.mode&1)!==0&&(x.flags&128)===0}function tr(x){if(Nt){var S=Et;if(S){var q=S;if(!Qt(x,S)){if(jr(x))throw Error(e(418));S=Ca(q.nextSibling);var Y=Je;S&&Qt(x,S)?nr(Y,q):(x.flags=x.flags&-4097|2,Nt=!1,Je=x)}}else{if(jr(x))throw Error(e(418));x.flags=x.flags&-4097|2,Nt=!1,Je=x}}}function on(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;Je=x}function ln(x){if(x!==Je)return!1;if(!Nt)return on(x),Nt=!0,!1;var S;if((S=x.tag!==3)&&!(S=x.tag!==5)&&(S=x.type,S=S!=="head"&&S!=="body"&&!Vp(x.type,x.memoizedProps)),S&&(S=Et)){if(jr(x))throw an(),Error(e(418));for(;S;)nr(x,S),S=Ca(S.nextSibling)}if(on(x),x.tag===13){if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(e(317));e:{for(x=x.nextSibling,S=0;x;){if(x.nodeType===8){var q=x.data;if(q==="/$"){if(S===0){Et=Ca(x.nextSibling);break e}S--}else q!=="$"&&q!=="$!"&&q!=="$?"||S++}x=x.nextSibling}Et=null}}else Et=Je?Ca(x.stateNode.nextSibling):null;return!0}function an(){for(var x=Et;x;)x=Ca(x.nextSibling)}function Wr(){Et=Je=null,Nt=!1}function xn(x){Tt===null?Tt=[x]:Tt.push(x)}var jn=_.ReactCurrentBatchConfig;function Cr(x,S){if(x&&x.defaultProps){S=R({},S),x=x.defaultProps;for(var q in x)S[q]===void 0&&(S[q]=x[q]);return S}return S}var ri=ho(null),Zi=null,qn=null,da=null;function dn(){da=qn=Zi=null}function Oa(x){var S=ri.current;bn(ri),x._currentValue=S}function Pa(x,S,q){for(;x!==null;){var Y=x.alternate;if((x.childLanes&S)!==S?(x.childLanes|=S,Y!==null&&(Y.childLanes|=S)):Y!==null&&(Y.childLanes&S)!==S&&(Y.childLanes|=S),x===q)break;x=x.return}}function ni(x,S){Zi=x,da=qn=null,x=x.dependencies,x!==null&&x.firstContext!==null&&((x.lanes&S)!==0&&(Hs=!0),x.firstContext=null)}function An(x){var S=x._currentValue;if(da!==x)if(x={context:x,memoizedValue:S,next:null},qn===null){if(Zi===null)throw Error(e(308));qn=x,Zi.dependencies={lanes:0,firstContext:x}}else qn=qn.next=x;return S}var vi=null;function Za(x){vi===null?vi=[x]:vi.push(x)}function po(x,S,q,Y){var ie=S.interleaved;return ie===null?(q.next=q,Za(S)):(q.next=ie.next,ie.next=q),S.interleaved=q,$n(x,Y)}function $n(x,S){x.lanes|=S;var q=x.alternate;for(q!==null&&(q.lanes|=S),q=x,x=x.return;x!==null;)x.childLanes|=S,q=x.alternate,q!==null&&(q.childLanes|=S),q=x,x=x.return;return q.tag===3?q.stateNode:null}var ha=!1;function xl(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kc(x,S){x=x.updateQueue,S.updateQueue===x&&(S.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function pa(x,S){return{eventTime:x,lane:S,tag:0,payload:null,callback:null,next:null}}function wn(x,S,q){var Y=x.updateQueue;if(Y===null)return null;if(Y=Y.shared,(hn&2)!==0){var ie=Y.pending;return ie===null?S.next=S:(S.next=ie.next,ie.next=S),Y.pending=S,$n(x,q)}return ie=Y.interleaved,ie===null?(S.next=S,Za(Y)):(S.next=ie.next,ie.next=S),Y.interleaved=S,$n(x,q)}function df(x,S,q){if(S=S.updateQueue,S!==null&&(S=S.shared,(q&4194240)!==0)){var Y=S.lanes;Y&=x.pendingLanes,q|=Y,S.lanes=q,ao(x,q)}}function Jp(x,S){var q=x.updateQueue,Y=x.alternate;if(Y!==null&&(Y=Y.updateQueue,q===Y)){var ie=null,ce=null;if(q=q.firstBaseUpdate,q!==null){do{var we={eventTime:q.eventTime,lane:q.lane,tag:q.tag,payload:q.payload,callback:q.callback,next:null};ce===null?ie=ce=we:ce=ce.next=we,q=q.next}while(q!==null);ce===null?ie=ce=S:ce=ce.next=S}else ie=ce=S;q={baseState:Y.baseState,firstBaseUpdate:ie,lastBaseUpdate:ce,shared:Y.shared,effects:Y.effects},x.updateQueue=q;return}x=q.lastBaseUpdate,x===null?q.firstBaseUpdate=S:x.next=S,q.lastBaseUpdate=S}function Ad(x,S,q,Y){var ie=x.updateQueue;ha=!1;var ce=ie.firstBaseUpdate,we=ie.lastBaseUpdate,Be=ie.shared.pending;if(Be!==null){ie.shared.pending=null;var Ke=Be,yt=Ke.next;Ke.next=null,we===null?ce=yt:we.next=yt,we=Ke;var Ut=x.alternate;Ut!==null&&(Ut=Ut.updateQueue,Be=Ut.lastBaseUpdate,Be!==we&&(Be===null?Ut.firstBaseUpdate=yt:Be.next=yt,Ut.lastBaseUpdate=Ke))}if(ce!==null){var Ht=ie.baseState;we=0,Ut=yt=Ke=null,Be=ce;do{var $t=Be.lane,ir=Be.eventTime;if((Y&$t)===$t){Ut!==null&&(Ut=Ut.next={eventTime:ir,lane:0,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null});e:{var hr=x,gr=Be;switch($t=S,ir=q,gr.tag){case 1:if(hr=gr.payload,typeof hr=="function"){Ht=hr.call(ir,Ht,$t);break e}Ht=hr;break e;case 3:hr.flags=hr.flags&-65537|128;case 0:if(hr=gr.payload,$t=typeof hr=="function"?hr.call(ir,Ht,$t):hr,$t==null)break e;Ht=R({},Ht,$t);break e;case 2:ha=!0}}Be.callback!==null&&Be.lane!==0&&(x.flags|=64,$t=ie.effects,$t===null?ie.effects=[Be]:$t.push(Be))}else ir={eventTime:ir,lane:$t,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null},Ut===null?(yt=Ut=ir,Ke=Ht):Ut=Ut.next=ir,we|=$t;if(Be=Be.next,Be===null){if(Be=ie.shared.pending,Be===null)break;$t=Be,Be=$t.next,$t.next=null,ie.lastBaseUpdate=$t,ie.shared.pending=null}}while(!0);if(Ut===null&&(Ke=Ht),ie.baseState=Ke,ie.firstBaseUpdate=yt,ie.lastBaseUpdate=Ut,S=ie.shared.interleaved,S!==null){ie=S;do we|=ie.lane,ie=ie.next;while(ie!==S)}else ce===null&&(ie.shared.lanes=0);$d|=we,x.lanes=we,x.memoizedState=Ht}}function Td(x,S,q){if(x=S.effects,S.effects=null,x!==null)for(S=0;S<x.length;S++){var Y=x[S],ie=Y.callback;if(ie!==null){if(Y.callback=null,Y=q,typeof ie!="function")throw Error(e(191,ie));ie.call(Y)}}}var hf=new r.Component().refs;function pf(x,S,q,Y){S=x.memoizedState,q=q(Y,S),q=q==null?S:R({},S,q),x.memoizedState=q,x.lanes===0&&(x.updateQueue.baseState=q)}var Qa={isMounted:function(x){return(x=x._reactInternals)?Te(x)===x:!1},enqueueSetState:function(x,S,q){x=x._reactInternals;var Y=Ns(),ie=_f(x),ce=pa(Y,ie);ce.payload=S,q!=null&&(ce.callback=q),S=wn(x,ce,ie),S!==null&&(El(S,x,ie,Y),df(S,x,ie))},enqueueReplaceState:function(x,S,q){x=x._reactInternals;var Y=Ns(),ie=_f(x),ce=pa(Y,ie);ce.tag=1,ce.payload=S,q!=null&&(ce.callback=q),S=wn(x,ce,ie),S!==null&&(El(S,x,ie,Y),df(S,x,ie))},enqueueForceUpdate:function(x,S){x=x._reactInternals;var q=Ns(),Y=_f(x),ie=pa(q,Y);ie.tag=2,S!=null&&(ie.callback=S),S=wn(x,ie,Y),S!==null&&(El(S,x,Y,q),df(S,x,Y))}};function Yc(x,S,q,Y,ie,ce,we){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(Y,ce,we):S.prototype&&S.prototype.isPureReactComponent?!pl(q,Y)||!pl(ie,ce):!0}function Jc(x,S,q){var Y=!1,ie=nc,ce=S.contextType;return typeof ce=="object"&&ce!==null?ce=An(ce):(ie=Ja(S)?Gc:Ji.current,Y=S.contextTypes,ce=(Y=Y!=null)?ff(x,ie):nc),S=new S(q,ce),x.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Qa,x.stateNode=S,S._reactInternals=x,Y&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=ie,x.__reactInternalMemoizedMaskedChildContext=ce),S}function Zp(x,S,q,Y){x=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(q,Y),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(q,Y),S.state!==x&&Qa.enqueueReplaceState(S,S.state,null)}function mf(x,S,q,Y){var ie=x.stateNode;ie.props=q,ie.state=x.memoizedState,ie.refs=hf,xl(x);var ce=S.contextType;typeof ce=="object"&&ce!==null?ie.context=An(ce):(ce=Ja(S)?Gc:Ji.current,ie.context=ff(x,ce)),ie.state=x.memoizedState,ce=S.getDerivedStateFromProps,typeof ce=="function"&&(pf(x,S,ce,q),ie.state=x.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof ie.getSnapshotBeforeUpdate=="function"||typeof ie.UNSAFE_componentWillMount!="function"&&typeof ie.componentWillMount!="function"||(S=ie.state,typeof ie.componentWillMount=="function"&&ie.componentWillMount(),typeof ie.UNSAFE_componentWillMount=="function"&&ie.UNSAFE_componentWillMount(),S!==ie.state&&Qa.enqueueReplaceState(ie,ie.state,null),Ad(x,q,ie,Y),ie.state=x.memoizedState),typeof ie.componentDidMount=="function"&&(x.flags|=4194308)}function gf(x,S,q){if(x=q.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(q._owner){if(q=q._owner,q){if(q.tag!==1)throw Error(e(309));var Y=q.stateNode}if(!Y)throw Error(e(147,x));var ie=Y,ce=""+x;return S!==null&&S.ref!==null&&typeof S.ref=="function"&&S.ref._stringRef===ce?S.ref:(S=function(we){var Be=ie.refs;Be===hf&&(Be=ie.refs={}),we===null?delete Be[ce]:Be[ce]=we},S._stringRef=ce,S)}if(typeof x!="string")throw Error(e(284));if(!q._owner)throw Error(e(290,x))}return x}function Zc(x,S){throw x=Object.prototype.toString.call(S),Error(e(31,x==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":x))}function Gh(x){var S=x._init;return S(x._payload)}function Cd(x){function S(ut,Qe){if(x){var pt=ut.deletions;pt===null?(ut.deletions=[Qe],ut.flags|=16):pt.push(Qe)}}function q(ut,Qe){if(!x)return null;for(;Qe!==null;)S(ut,Qe),Qe=Qe.sibling;return null}function Y(ut,Qe){for(ut=new Map;Qe!==null;)Qe.key!==null?ut.set(Qe.key,Qe):ut.set(Qe.index,Qe),Qe=Qe.sibling;return ut}function ie(ut,Qe){return ut=kf(ut,Qe),ut.index=0,ut.sibling=null,ut}function ce(ut,Qe,pt){return ut.index=pt,x?(pt=ut.alternate,pt!==null?(pt=pt.index,pt<Qe?(ut.flags|=2,Qe):pt):(ut.flags|=2,Qe)):(ut.flags|=1048576,Qe)}function we(ut){return x&&ut.alternate===null&&(ut.flags|=2),ut}function Be(ut,Qe,pt,Kt){return Qe===null||Qe.tag!==6?(Qe=W2(pt,ut.mode,Kt),Qe.return=ut,Qe):(Qe=ie(Qe,pt),Qe.return=ut,Qe)}function Ke(ut,Qe,pt,Kt){var xr=pt.type;return xr===M?Ut(ut,Qe,pt.props.children,Kt,pt.key):Qe!==null&&(Qe.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===k&&Gh(xr)===Qe.type)?(Kt=ie(Qe,pt.props),Kt.ref=gf(ut,Qe,pt),Kt.return=ut,Kt):(Kt=ny(pt.type,pt.key,pt.props,null,ut.mode,Kt),Kt.ref=gf(ut,Qe,pt),Kt.return=ut,Kt)}function yt(ut,Qe,pt,Kt){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==pt.containerInfo||Qe.stateNode.implementation!==pt.implementation?(Qe=V2(pt,ut.mode,Kt),Qe.return=ut,Qe):(Qe=ie(Qe,pt.children||[]),Qe.return=ut,Qe)}function Ut(ut,Qe,pt,Kt,xr){return Qe===null||Qe.tag!==7?(Qe=Hd(pt,ut.mode,Kt,xr),Qe.return=ut,Qe):(Qe=ie(Qe,pt),Qe.return=ut,Qe)}function Ht(ut,Qe,pt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return Qe=W2(""+Qe,ut.mode,pt),Qe.return=ut,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case N:return pt=ny(Qe.type,Qe.key,Qe.props,null,ut.mode,pt),pt.ref=gf(ut,null,Qe),pt.return=ut,pt;case P:return Qe=V2(Qe,ut.mode,pt),Qe.return=ut,Qe;case k:var Kt=Qe._init;return Ht(ut,Kt(Qe._payload),pt)}if(ke(Qe)||T(Qe))return Qe=Hd(Qe,ut.mode,pt,null),Qe.return=ut,Qe;Zc(ut,Qe)}return null}function $t(ut,Qe,pt,Kt){var xr=Qe!==null?Qe.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return xr!==null?null:Be(ut,Qe,""+pt,Kt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case N:return pt.key===xr?Ke(ut,Qe,pt,Kt):null;case P:return pt.key===xr?yt(ut,Qe,pt,Kt):null;case k:return xr=pt._init,$t(ut,Qe,xr(pt._payload),Kt)}if(ke(pt)||T(pt))return xr!==null?null:Ut(ut,Qe,pt,Kt,null);Zc(ut,pt)}return null}function ir(ut,Qe,pt,Kt,xr){if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number")return ut=ut.get(pt)||null,Be(Qe,ut,""+Kt,xr);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case N:return ut=ut.get(Kt.key===null?pt:Kt.key)||null,Ke(Qe,ut,Kt,xr);case P:return ut=ut.get(Kt.key===null?pt:Kt.key)||null,yt(Qe,ut,Kt,xr);case k:var Mr=Kt._init;return ir(ut,Qe,pt,Mr(Kt._payload),xr)}if(ke(Kt)||T(Kt))return ut=ut.get(pt)||null,Ut(Qe,ut,Kt,xr,null);Zc(Qe,Kt)}return null}function hr(ut,Qe,pt,Kt){for(var xr=null,Mr=null,Ir=Qe,$r=Qe=0,ga=null;Ir!==null&&$r<pt.length;$r++){Ir.index>$r?(ga=Ir,Ir=null):ga=Ir.sibling;var gn=$t(ut,Ir,pt[$r],Kt);if(gn===null){Ir===null&&(Ir=ga);break}x&&Ir&&gn.alternate===null&&S(ut,Ir),Qe=ce(gn,Qe,$r),Mr===null?xr=gn:Mr.sibling=gn,Mr=gn,Ir=ga}if($r===pt.length)return q(ut,Ir),Nt&&nt(ut,$r),xr;if(Ir===null){for(;$r<pt.length;$r++)Ir=Ht(ut,pt[$r],Kt),Ir!==null&&(Qe=ce(Ir,Qe,$r),Mr===null?xr=Ir:Mr.sibling=Ir,Mr=Ir);return Nt&&nt(ut,$r),xr}for(Ir=Y(ut,Ir);$r<pt.length;$r++)ga=ir(Ir,ut,$r,pt[$r],Kt),ga!==null&&(x&&ga.alternate!==null&&Ir.delete(ga.key===null?$r:ga.key),Qe=ce(ga,Qe,$r),Mr===null?xr=ga:Mr.sibling=ga,Mr=ga);return x&&Ir.forEach(function(Nf){return S(ut,Nf)}),Nt&&nt(ut,$r),xr}function gr(ut,Qe,pt,Kt){var xr=T(pt);if(typeof xr!="function")throw Error(e(150));if(pt=xr.call(pt),pt==null)throw Error(e(151));for(var Mr=xr=null,Ir=Qe,$r=Qe=0,ga=null,gn=pt.next();Ir!==null&&!gn.done;$r++,gn=pt.next()){Ir.index>$r?(ga=Ir,Ir=null):ga=Ir.sibling;var Nf=$t(ut,Ir,gn.value,Kt);if(Nf===null){Ir===null&&(Ir=ga);break}x&&Ir&&Nf.alternate===null&&S(ut,Ir),Qe=ce(Nf,Qe,$r),Mr===null?xr=Nf:Mr.sibling=Nf,Mr=Nf,Ir=ga}if(gn.done)return q(ut,Ir),Nt&&nt(ut,$r),xr;if(Ir===null){for(;!gn.done;$r++,gn=pt.next())gn=Ht(ut,gn.value,Kt),gn!==null&&(Qe=ce(gn,Qe,$r),Mr===null?xr=gn:Mr.sibling=gn,Mr=gn);return Nt&&nt(ut,$r),xr}for(Ir=Y(ut,Ir);!gn.done;$r++,gn=pt.next())gn=ir(Ir,ut,$r,gn.value,Kt),gn!==null&&(x&&gn.alternate!==null&&Ir.delete(gn.key===null?$r:gn.key),Qe=ce(gn,Qe,$r),Mr===null?xr=gn:Mr.sibling=gn,Mr=gn);return x&&Ir.forEach(function(yz){return S(ut,yz)}),Nt&&nt(ut,$r),xr}function Oi(ut,Qe,pt,Kt){if(typeof pt=="object"&&pt!==null&&pt.type===M&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case N:e:{for(var xr=pt.key,Mr=Qe;Mr!==null;){if(Mr.key===xr){if(xr=pt.type,xr===M){if(Mr.tag===7){q(ut,Mr.sibling),Qe=ie(Mr,pt.props.children),Qe.return=ut,ut=Qe;break e}}else if(Mr.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===k&&Gh(xr)===Mr.type){q(ut,Mr.sibling),Qe=ie(Mr,pt.props),Qe.ref=gf(ut,Mr,pt),Qe.return=ut,ut=Qe;break e}q(ut,Mr);break}else S(ut,Mr);Mr=Mr.sibling}pt.type===M?(Qe=Hd(pt.props.children,ut.mode,Kt,pt.key),Qe.return=ut,ut=Qe):(Kt=ny(pt.type,pt.key,pt.props,null,ut.mode,Kt),Kt.ref=gf(ut,Qe,pt),Kt.return=ut,ut=Kt)}return we(ut);case P:e:{for(Mr=pt.key;Qe!==null;){if(Qe.key===Mr)if(Qe.tag===4&&Qe.stateNode.containerInfo===pt.containerInfo&&Qe.stateNode.implementation===pt.implementation){q(ut,Qe.sibling),Qe=ie(Qe,pt.children||[]),Qe.return=ut,ut=Qe;break e}else{q(ut,Qe);break}else S(ut,Qe);Qe=Qe.sibling}Qe=V2(pt,ut.mode,Kt),Qe.return=ut,ut=Qe}return we(ut);case k:return Mr=pt._init,Oi(ut,Qe,Mr(pt._payload),Kt)}if(ke(pt))return hr(ut,Qe,pt,Kt);if(T(pt))return gr(ut,Qe,pt,Kt);Zc(ut,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,Qe!==null&&Qe.tag===6?(q(ut,Qe.sibling),Qe=ie(Qe,pt),Qe.return=ut,ut=Qe):(q(ut,Qe),Qe=W2(pt,ut.mode,Kt),Qe.return=ut,ut=Qe),we(ut)):q(ut,Qe)}return Oi}var $o=Cd(!0),B1=Cd(!1),Od={},Us=ho(Od),zs=ho(Od),Pd=ho(Od);function Qc(x){if(x===Od)throw Error(e(174));return x}function Qp(x,S){switch(En(Pd,S),En(zs,x),En(Us,Od),x=S.nodeType,x){case 9:case 11:S=(S=S.documentElement)?S.namespaceURI:St(null,"");break;default:x=x===8?S.parentNode:S,S=x.namespaceURI||null,x=x.tagName,S=St(S,x)}bn(Us),En(Us,S)}function eu(){bn(Us),bn(zs),bn(Pd)}function Md(x){Qc(Pd.current);var S=Qc(Us.current),q=St(S,x.type);S!==q&&(En(zs,x),En(Us,q))}function Xh(x){zs.current===x&&(bn(Us),bn(zs))}var Yn=ho(0);function tu(x){for(var S=x;S!==null;){if(S.tag===13){var q=S.memoizedState;if(q!==null&&(q=q.dehydrated,q===null||q.data==="$?"||q.data==="$!"))return S}else if(S.tag===19&&S.memoizedProps.revealOrder!==void 0){if((S.flags&128)!==0)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===x)break;for(;S.sibling===null;){if(S.return===null||S.return===x)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}var Id=[];function ru(){for(var x=0;x<Id.length;x++)Id[x]._workInProgressVersionPrimary=null;Id.length=0}var Rd=_.ReactCurrentDispatcher,em=_.ReactCurrentBatchConfig,Uo=0,Jn=null,bi=null,Hn=null,Fd=!1,yf=!1,Ld=0,$1=0;function xi(){throw Error(e(321))}function tm(x,S){if(S===null)return!1;for(var q=0;q<S.length&&q<x.length;q++)if(!fn(x[q],S[q]))return!1;return!0}function Kh(x,S,q,Y,ie,ce){if(Uo=ce,Jn=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,Rd.current=x===null||x.memoizedState===null?qU:HU,x=q(Y,ie),yf){ce=0;do{if(yf=!1,Ld=0,25<=ce)throw Error(e(301));ce+=1,Hn=bi=null,S.updateQueue=null,Rd.current=WU,x=q(Y,ie)}while(yf)}if(Rd.current=H1,S=bi!==null&&bi.next!==null,Uo=0,Hn=bi=Jn=null,Fd=!1,S)throw Error(e(300));return x}function rm(){var x=Ld!==0;return Ld=0,x}function mo(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Jn.memoizedState=Hn=x:Hn=Hn.next=x,Hn}function qs(){if(bi===null){var x=Jn.alternate;x=x!==null?x.memoizedState:null}else x=bi.next;var S=Hn===null?Jn.memoizedState:Hn.next;if(S!==null)Hn=S,bi=x;else{if(x===null)throw Error(e(310));bi=x,x={memoizedState:bi.memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,queue:bi.queue,next:null},Hn===null?Jn.memoizedState=Hn=x:Hn=Hn.next=x}return Hn}function wl(x,S){return typeof S=="function"?S(x):S}function Dd(x){var S=qs(),q=S.queue;if(q===null)throw Error(e(311));q.lastRenderedReducer=x;var Y=bi,ie=Y.baseQueue,ce=q.pending;if(ce!==null){if(ie!==null){var we=ie.next;ie.next=ce.next,ce.next=we}Y.baseQueue=ie=ce,q.pending=null}if(ie!==null){ce=ie.next,Y=Y.baseState;var Be=we=null,Ke=null,yt=ce;do{var Ut=yt.lane;if((Uo&Ut)===Ut)Ke!==null&&(Ke=Ke.next={lane:0,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null}),Y=yt.hasEagerState?yt.eagerState:x(Y,yt.action);else{var Ht={lane:Ut,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null};Ke===null?(Be=Ke=Ht,we=Y):Ke=Ke.next=Ht,Jn.lanes|=Ut,$d|=Ut}yt=yt.next}while(yt!==null&&yt!==ce);Ke===null?we=Y:Ke.next=Be,fn(Y,S.memoizedState)||(Hs=!0),S.memoizedState=Y,S.baseState=we,S.baseQueue=Ke,q.lastRenderedState=Y}if(x=q.interleaved,x!==null){ie=x;do ce=ie.lane,Jn.lanes|=ce,$d|=ce,ie=ie.next;while(ie!==x)}else ie===null&&(q.lanes=0);return[S.memoizedState,q.dispatch]}function vf(x){var S=qs(),q=S.queue;if(q===null)throw Error(e(311));q.lastRenderedReducer=x;var Y=q.dispatch,ie=q.pending,ce=S.memoizedState;if(ie!==null){q.pending=null;var we=ie=ie.next;do ce=x(ce,we.action),we=we.next;while(we!==ie);fn(ce,S.memoizedState)||(Hs=!0),S.memoizedState=ce,S.baseQueue===null&&(S.baseState=ce),q.lastRenderedState=ce}return[ce,Y]}function zo(){}function _l(x,S){var q=Jn,Y=qs(),ie=S(),ce=!fn(Y.memoizedState,ie);if(ce&&(Y.memoizedState=ie,Hs=!0),Y=Y.queue,b2(Yh.bind(null,q,Y,x),[x]),Y.getSnapshot!==S||ce||Hn!==null&&Hn.memoizedState.tag&1){if(q.flags|=2048,nu(9,Bd.bind(null,q,Y,ie,S),void 0,null),ma===null)throw Error(e(349));(Uo&30)!==0||Sl(q,S,ie)}return ie}function Sl(x,S,q){x.flags|=16384,x={getSnapshot:S,value:q},S=Jn.updateQueue,S===null?(S={lastEffect:null,stores:null},Jn.updateQueue=S,S.stores=[x]):(q=S.stores,q===null?S.stores=[x]:q.push(x))}function Bd(x,S,q,Y){S.value=q,S.getSnapshot=Y,nm(S)&&U1(x)}function Yh(x,S,q){return q(function(){nm(S)&&U1(x)})}function nm(x){var S=x.getSnapshot;x=x.value;try{var q=S();return!fn(x,q)}catch{return!0}}function U1(x){var S=$n(x,1);S!==null&&El(S,x,1,-1)}function Jh(x){var S=mo();return typeof x=="function"&&(x=x()),S.memoizedState=S.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:x},S.queue=x,x=x.dispatch=zU.bind(null,Jn,x),[S.memoizedState,x]}function nu(x,S,q,Y){return x={tag:x,create:S,destroy:q,deps:Y,next:null},S=Jn.updateQueue,S===null?(S={lastEffect:null,stores:null},Jn.updateQueue=S,S.lastEffect=x.next=x):(q=S.lastEffect,q===null?S.lastEffect=x.next=x:(Y=q.next,q.next=x,x.next=Y,S.lastEffect=x)),x}function cN(){return qs().memoizedState}function z1(x,S,q,Y){var ie=mo();Jn.flags|=x,ie.memoizedState=nu(1|S,q,void 0,Y===void 0?null:Y)}function q1(x,S,q,Y){var ie=qs();Y=Y===void 0?null:Y;var ce=void 0;if(bi!==null){var we=bi.memoizedState;if(ce=we.destroy,Y!==null&&tm(Y,we.deps)){ie.memoizedState=nu(S,q,ce,Y);return}}Jn.flags|=x,ie.memoizedState=nu(1|S,q,ce,Y)}function uN(x,S){return z1(8390656,8,x,S)}function b2(x,S){return q1(2048,8,x,S)}function fN(x,S){return q1(4,2,x,S)}function dN(x,S){return q1(4,4,x,S)}function hN(x,S){if(typeof S=="function")return x=x(),S(x),function(){S(null)};if(S!=null)return x=x(),S.current=x,function(){S.current=null}}function pN(x,S,q){return q=q!=null?q.concat([x]):null,q1(4,4,hN.bind(null,S,x),q)}function x2(){}function mN(x,S){var q=qs();S=S===void 0?null:S;var Y=q.memoizedState;return Y!==null&&S!==null&&tm(S,Y[1])?Y[0]:(q.memoizedState=[x,S],x)}function gN(x,S){var q=qs();S=S===void 0?null:S;var Y=q.memoizedState;return Y!==null&&S!==null&&tm(S,Y[1])?Y[0]:(x=x(),q.memoizedState=[x,S],x)}function yN(x,S,q){return(Uo&21)===0?(x.baseState&&(x.baseState=!1,Hs=!0),x.memoizedState=q):(fn(q,S)||(q=Qr(),Jn.lanes|=q,$d|=q,x.baseState=!0),S)}function $U(x,S){var q=Br;Br=q!==0&&4>q?q:4,x(!0);var Y=em.transition;em.transition={};try{x(!1),S()}finally{Br=q,em.transition=Y}}function vN(){return qs().memoizedState}function UU(x,S,q){var Y=_f(x);if(q={lane:Y,action:q,hasEagerState:!1,eagerState:null,next:null},bN(x))xN(S,q);else if(q=po(x,S,q,Y),q!==null){var ie=Ns();El(q,x,Y,ie),wN(q,S,Y)}}function zU(x,S,q){var Y=_f(x),ie={lane:Y,action:q,hasEagerState:!1,eagerState:null,next:null};if(bN(x))xN(S,ie);else{var ce=x.alternate;if(x.lanes===0&&(ce===null||ce.lanes===0)&&(ce=S.lastRenderedReducer,ce!==null))try{var we=S.lastRenderedState,Be=ce(we,q);if(ie.hasEagerState=!0,ie.eagerState=Be,fn(Be,we)){var Ke=S.interleaved;Ke===null?(ie.next=ie,Za(S)):(ie.next=Ke.next,Ke.next=ie),S.interleaved=ie;return}}catch{}finally{}q=po(x,S,ie,Y),q!==null&&(ie=Ns(),El(q,x,Y,ie),wN(q,S,Y))}}function bN(x){var S=x.alternate;return x===Jn||S!==null&&S===Jn}function xN(x,S){yf=Fd=!0;var q=x.pending;q===null?S.next=S:(S.next=q.next,q.next=S),x.pending=S}function wN(x,S,q){if((q&4194240)!==0){var Y=S.lanes;Y&=x.pendingLanes,q|=Y,S.lanes=q,ao(x,q)}}var H1={readContext:An,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},qU={readContext:An,useCallback:function(x,S){return mo().memoizedState=[x,S===void 0?null:S],x},useContext:An,useEffect:uN,useImperativeHandle:function(x,S,q){return q=q!=null?q.concat([x]):null,z1(4194308,4,hN.bind(null,S,x),q)},useLayoutEffect:function(x,S){return z1(4194308,4,x,S)},useInsertionEffect:function(x,S){return z1(4,2,x,S)},useMemo:function(x,S){var q=mo();return S=S===void 0?null:S,x=x(),q.memoizedState=[x,S],x},useReducer:function(x,S,q){var Y=mo();return S=q!==void 0?q(S):S,Y.memoizedState=Y.baseState=S,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:S},Y.queue=x,x=x.dispatch=UU.bind(null,Jn,x),[Y.memoizedState,x]},useRef:function(x){var S=mo();return x={current:x},S.memoizedState=x},useState:Jh,useDebugValue:x2,useDeferredValue:function(x){return mo().memoizedState=x},useTransition:function(){var x=Jh(!1),S=x[0];return x=$U.bind(null,x[1]),mo().memoizedState=x,[S,x]},useMutableSource:function(){},useSyncExternalStore:function(x,S,q){var Y=Jn,ie=mo();if(Nt){if(q===void 0)throw Error(e(407));q=q()}else{if(q=S(),ma===null)throw Error(e(349));(Uo&30)!==0||Sl(Y,S,q)}ie.memoizedState=q;var ce={value:q,getSnapshot:S};return ie.queue=ce,uN(Yh.bind(null,Y,ce,x),[x]),Y.flags|=2048,nu(9,Bd.bind(null,Y,ce,q,S),void 0,null),q},useId:function(){var x=mo(),S=ma.identifierPrefix;if(Nt){var q=ot,Y=st;q=(Y&~(1<<32-Er(Y)-1)).toString(32)+q,S=":"+S+"R"+q,q=Ld++,0<q&&(S+="H"+q.toString(32)),S+=":"}else q=$1++,S=":"+S+"r"+q.toString(32)+":";return x.memoizedState=S},unstable_isNewReconciler:!1},HU={readContext:An,useCallback:mN,useContext:An,useEffect:b2,useImperativeHandle:pN,useInsertionEffect:fN,useLayoutEffect:dN,useMemo:gN,useReducer:Dd,useRef:cN,useState:function(){return Dd(wl)},useDebugValue:x2,useDeferredValue:function(x){var S=qs();return yN(S,bi.memoizedState,x)},useTransition:function(){var x=Dd(wl)[0],S=qs().memoizedState;return[x,S]},useMutableSource:zo,useSyncExternalStore:_l,useId:vN,unstable_isNewReconciler:!1},WU={readContext:An,useCallback:mN,useContext:An,useEffect:b2,useImperativeHandle:pN,useInsertionEffect:fN,useLayoutEffect:dN,useMemo:gN,useReducer:vf,useRef:cN,useState:function(){return vf(wl)},useDebugValue:x2,useDeferredValue:function(x){var S=qs();return bi===null?S.memoizedState=x:yN(S,bi.memoizedState,x)},useTransition:function(){var x=vf(wl)[0],S=qs().memoizedState;return[x,S]},useMutableSource:zo,useSyncExternalStore:_l,useId:vN,unstable_isNewReconciler:!1};function Zh(x,S){try{var q="",Y=S;do q+=ne(Y),Y=Y.return;while(Y);var ie=q}catch(ce){ie=`
Error generating stack: `+ce.message+`
`+ce.stack}return{value:x,source:S,stack:ie,digest:null}}function w2(x,S,q){return{value:x,source:null,stack:q??null,digest:S??null}}function _2(x,S){try{console.error(S.value)}catch(q){setTimeout(function(){throw q})}}var VU=typeof WeakMap=="function"?WeakMap:Map;function _N(x,S,q){q=pa(-1,q),q.tag=3,q.payload={element:null};var Y=S.value;return q.callback=function(){J1||(J1=!0,L2=Y),_2(x,S)},q}function SN(x,S,q){q=pa(-1,q),q.tag=3;var Y=x.type.getDerivedStateFromError;if(typeof Y=="function"){var ie=S.value;q.payload=function(){return Y(ie)},q.callback=function(){_2(x,S)}}var ce=x.stateNode;return ce!==null&&typeof ce.componentDidCatch=="function"&&(q.callback=function(){_2(x,S),typeof Y!="function"&&(xf===null?xf=new Set([this]):xf.add(this));var we=S.stack;this.componentDidCatch(S.value,{componentStack:we!==null?we:""})}),q}function kN(x,S,q){var Y=x.pingCache;if(Y===null){Y=x.pingCache=new VU;var ie=new Set;Y.set(S,ie)}else ie=Y.get(S),ie===void 0&&(ie=new Set,Y.set(S,ie));ie.has(q)||(ie.add(q),x=sz.bind(null,x,S,q),S.then(x,x))}function NN(x){do{var S;if((S=x.tag===13)&&(S=x.memoizedState,S=S!==null?S.dehydrated!==null:!0),S)return x;x=x.return}while(x!==null);return null}function EN(x,S,q,Y,ie){return(x.mode&1)===0?(x===S?x.flags|=65536:(x.flags|=128,q.flags|=131072,q.flags&=-52805,q.tag===1&&(q.alternate===null?q.tag=17:(S=pa(-1,1),S.tag=2,wn(q,S,1))),q.lanes|=1),x):(x.flags|=65536,x.lanes=ie,x)}var GU=_.ReactCurrentOwner,Hs=!1;function ks(x,S,q,Y){S.child=x===null?B1(S,null,q,Y):$o(S,x.child,q,Y)}function jN(x,S,q,Y,ie){q=q.render;var ce=S.ref;return ni(S,ie),Y=Kh(x,S,q,Y,ce,ie),q=rm(),x!==null&&!Hs?(S.updateQueue=x.updateQueue,S.flags&=-2053,x.lanes&=~ie,iu(x,S,ie)):(Nt&&q&&xt(S),S.flags|=1,ks(x,S,Y,ie),S.child)}function AN(x,S,q,Y,ie){if(x===null){var ce=q.type;return typeof ce=="function"&&!H2(ce)&&ce.defaultProps===void 0&&q.compare===null&&q.defaultProps===void 0?(S.tag=15,S.type=ce,TN(x,S,ce,Y,ie)):(x=ny(q.type,null,Y,S,S.mode,ie),x.ref=S.ref,x.return=S,S.child=x)}if(ce=x.child,(x.lanes&ie)===0){var we=ce.memoizedProps;if(q=q.compare,q=q!==null?q:pl,q(we,Y)&&x.ref===S.ref)return iu(x,S,ie)}return S.flags|=1,x=kf(ce,Y),x.ref=S.ref,x.return=S,S.child=x}function TN(x,S,q,Y,ie){if(x!==null){var ce=x.memoizedProps;if(pl(ce,Y)&&x.ref===S.ref)if(Hs=!1,S.pendingProps=Y=ce,(x.lanes&ie)!==0)(x.flags&131072)!==0&&(Hs=!0);else return S.lanes=x.lanes,iu(x,S,ie)}return S2(x,S,q,Y,ie)}function CN(x,S,q){var Y=S.pendingProps,ie=Y.children,ce=x!==null?x.memoizedState:null;if(Y.mode==="hidden")if((S.mode&1)===0)S.memoizedState={baseLanes:0,cachePool:null,transitions:null},En(e0,go),go|=q;else{if((q&1073741824)===0)return x=ce!==null?ce.baseLanes|q:q,S.lanes=S.childLanes=1073741824,S.memoizedState={baseLanes:x,cachePool:null,transitions:null},S.updateQueue=null,En(e0,go),go|=x,null;S.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y=ce!==null?ce.baseLanes:q,En(e0,go),go|=Y}else ce!==null?(Y=ce.baseLanes|q,S.memoizedState=null):Y=q,En(e0,go),go|=Y;return ks(x,S,ie,q),S.child}function ON(x,S){var q=S.ref;(x===null&&q!==null||x!==null&&x.ref!==q)&&(S.flags|=512,S.flags|=2097152)}function S2(x,S,q,Y,ie){var ce=Ja(q)?Gc:Ji.current;return ce=ff(S,ce),ni(S,ie),q=Kh(x,S,q,Y,ce,ie),Y=rm(),x!==null&&!Hs?(S.updateQueue=x.updateQueue,S.flags&=-2053,x.lanes&=~ie,iu(x,S,ie)):(Nt&&Y&&xt(S),S.flags|=1,ks(x,S,q,ie),S.child)}function PN(x,S,q,Y,ie){if(Ja(q)){var ce=!0;Xc(S)}else ce=!1;if(ni(S,ie),S.stateNode===null)V1(x,S),Jc(S,q,Y),mf(S,q,Y,ie),Y=!0;else if(x===null){var we=S.stateNode,Be=S.memoizedProps;we.props=Be;var Ke=we.context,yt=q.contextType;typeof yt=="object"&&yt!==null?yt=An(yt):(yt=Ja(q)?Gc:Ji.current,yt=ff(S,yt));var Ut=q.getDerivedStateFromProps,Ht=typeof Ut=="function"||typeof we.getSnapshotBeforeUpdate=="function";Ht||typeof we.UNSAFE_componentWillReceiveProps!="function"&&typeof we.componentWillReceiveProps!="function"||(Be!==Y||Ke!==yt)&&Zp(S,we,Y,yt),ha=!1;var $t=S.memoizedState;we.state=$t,Ad(S,Y,we,ie),Ke=S.memoizedState,Be!==Y||$t!==Ke||Ya.current||ha?(typeof Ut=="function"&&(pf(S,q,Ut,Y),Ke=S.memoizedState),(Be=ha||Yc(S,q,Be,Y,$t,Ke,yt))?(Ht||typeof we.UNSAFE_componentWillMount!="function"&&typeof we.componentWillMount!="function"||(typeof we.componentWillMount=="function"&&we.componentWillMount(),typeof we.UNSAFE_componentWillMount=="function"&&we.UNSAFE_componentWillMount()),typeof we.componentDidMount=="function"&&(S.flags|=4194308)):(typeof we.componentDidMount=="function"&&(S.flags|=4194308),S.memoizedProps=Y,S.memoizedState=Ke),we.props=Y,we.state=Ke,we.context=yt,Y=Be):(typeof we.componentDidMount=="function"&&(S.flags|=4194308),Y=!1)}else{we=S.stateNode,Kc(x,S),Be=S.memoizedProps,yt=S.type===S.elementType?Be:Cr(S.type,Be),we.props=yt,Ht=S.pendingProps,$t=we.context,Ke=q.contextType,typeof Ke=="object"&&Ke!==null?Ke=An(Ke):(Ke=Ja(q)?Gc:Ji.current,Ke=ff(S,Ke));var ir=q.getDerivedStateFromProps;(Ut=typeof ir=="function"||typeof we.getSnapshotBeforeUpdate=="function")||typeof we.UNSAFE_componentWillReceiveProps!="function"&&typeof we.componentWillReceiveProps!="function"||(Be!==Ht||$t!==Ke)&&Zp(S,we,Y,Ke),ha=!1,$t=S.memoizedState,we.state=$t,Ad(S,Y,we,ie);var hr=S.memoizedState;Be!==Ht||$t!==hr||Ya.current||ha?(typeof ir=="function"&&(pf(S,q,ir,Y),hr=S.memoizedState),(yt=ha||Yc(S,q,yt,Y,$t,hr,Ke)||!1)?(Ut||typeof we.UNSAFE_componentWillUpdate!="function"&&typeof we.componentWillUpdate!="function"||(typeof we.componentWillUpdate=="function"&&we.componentWillUpdate(Y,hr,Ke),typeof we.UNSAFE_componentWillUpdate=="function"&&we.UNSAFE_componentWillUpdate(Y,hr,Ke)),typeof we.componentDidUpdate=="function"&&(S.flags|=4),typeof we.getSnapshotBeforeUpdate=="function"&&(S.flags|=1024)):(typeof we.componentDidUpdate!="function"||Be===x.memoizedProps&&$t===x.memoizedState||(S.flags|=4),typeof we.getSnapshotBeforeUpdate!="function"||Be===x.memoizedProps&&$t===x.memoizedState||(S.flags|=1024),S.memoizedProps=Y,S.memoizedState=hr),we.props=Y,we.state=hr,we.context=Ke,Y=yt):(typeof we.componentDidUpdate!="function"||Be===x.memoizedProps&&$t===x.memoizedState||(S.flags|=4),typeof we.getSnapshotBeforeUpdate!="function"||Be===x.memoizedProps&&$t===x.memoizedState||(S.flags|=1024),Y=!1)}return k2(x,S,q,Y,ce,ie)}function k2(x,S,q,Y,ie,ce){ON(x,S);var we=(S.flags&128)!==0;if(!Y&&!we)return ie&&D1(S,q,!1),iu(x,S,ce);Y=S.stateNode,GU.current=S;var Be=we&&typeof q.getDerivedStateFromError!="function"?null:Y.render();return S.flags|=1,x!==null&&we?(S.child=$o(S,x.child,null,ce),S.child=$o(S,null,Be,ce)):ks(x,S,Be,ce),S.memoizedState=Y.state,ie&&D1(S,q,!0),S.child}function MN(x){var S=x.stateNode;S.pendingContext?L1(x,S.pendingContext,S.pendingContext!==S.context):S.context&&L1(x,S.context,!1),Qp(x,S.containerInfo)}function IN(x,S,q,Y,ie){return Wr(),xn(ie),S.flags|=256,ks(x,S,q,Y),S.child}var N2={dehydrated:null,treeContext:null,retryLane:0};function E2(x){return{baseLanes:x,cachePool:null,transitions:null}}function RN(x,S,q){var Y=S.pendingProps,ie=Yn.current,ce=!1,we=(S.flags&128)!==0,Be;if((Be=we)||(Be=x!==null&&x.memoizedState===null?!1:(ie&2)!==0),Be?(ce=!0,S.flags&=-129):(x===null||x.memoizedState!==null)&&(ie|=1),En(Yn,ie&1),x===null)return tr(S),x=S.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?((S.mode&1)===0?S.lanes=1:x.data==="$!"?S.lanes=8:S.lanes=1073741824,null):(we=Y.children,x=Y.fallback,ce?(Y=S.mode,ce=S.child,we={mode:"hidden",children:we},(Y&1)===0&&ce!==null?(ce.childLanes=0,ce.pendingProps=we):ce=iy(we,Y,0,null),x=Hd(x,Y,q,null),ce.return=S,x.return=S,ce.sibling=x,S.child=ce,S.child.memoizedState=E2(q),S.memoizedState=N2,x):j2(S,we));if(ie=x.memoizedState,ie!==null&&(Be=ie.dehydrated,Be!==null))return XU(x,S,we,Y,Be,ie,q);if(ce){ce=Y.fallback,we=S.mode,ie=x.child,Be=ie.sibling;var Ke={mode:"hidden",children:Y.children};return(we&1)===0&&S.child!==ie?(Y=S.child,Y.childLanes=0,Y.pendingProps=Ke,S.deletions=null):(Y=kf(ie,Ke),Y.subtreeFlags=ie.subtreeFlags&14680064),Be!==null?ce=kf(Be,ce):(ce=Hd(ce,we,q,null),ce.flags|=2),ce.return=S,Y.return=S,Y.sibling=ce,S.child=Y,Y=ce,ce=S.child,we=x.child.memoizedState,we=we===null?E2(q):{baseLanes:we.baseLanes|q,cachePool:null,transitions:we.transitions},ce.memoizedState=we,ce.childLanes=x.childLanes&~q,S.memoizedState=N2,Y}return ce=x.child,x=ce.sibling,Y=kf(ce,{mode:"visible",children:Y.children}),(S.mode&1)===0&&(Y.lanes=q),Y.return=S,Y.sibling=null,x!==null&&(q=S.deletions,q===null?(S.deletions=[x],S.flags|=16):q.push(x)),S.child=Y,S.memoizedState=null,Y}function j2(x,S){return S=iy({mode:"visible",children:S},x.mode,0,null),S.return=x,x.child=S}function W1(x,S,q,Y){return Y!==null&&xn(Y),$o(S,x.child,null,q),x=j2(S,S.pendingProps.children),x.flags|=2,S.memoizedState=null,x}function XU(x,S,q,Y,ie,ce,we){if(q)return S.flags&256?(S.flags&=-257,Y=w2(Error(e(422))),W1(x,S,we,Y)):S.memoizedState!==null?(S.child=x.child,S.flags|=128,null):(ce=Y.fallback,ie=S.mode,Y=iy({mode:"visible",children:Y.children},ie,0,null),ce=Hd(ce,ie,we,null),ce.flags|=2,Y.return=S,ce.return=S,Y.sibling=ce,S.child=Y,(S.mode&1)!==0&&$o(S,x.child,null,we),S.child.memoizedState=E2(we),S.memoizedState=N2,ce);if((S.mode&1)===0)return W1(x,S,we,null);if(ie.data==="$!"){if(Y=ie.nextSibling&&ie.nextSibling.dataset,Y)var Be=Y.dgst;return Y=Be,ce=Error(e(419)),Y=w2(ce,Y,void 0),W1(x,S,we,Y)}if(Be=(we&x.childLanes)!==0,Hs||Be){if(Y=ma,Y!==null){switch(we&-we){case 4:ie=2;break;case 16:ie=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ie=32;break;case 536870912:ie=268435456;break;default:ie=0}ie=(ie&(Y.suspendedLanes|we))!==0?0:ie,ie!==0&&ie!==ce.retryLane&&(ce.retryLane=ie,$n(x,ie),El(Y,x,ie,-1))}return q2(),Y=w2(Error(e(421))),W1(x,S,we,Y)}return ie.data==="$?"?(S.flags|=128,S.child=x.child,S=oz.bind(null,x),ie._reactRetry=S,null):(x=ce.treeContext,Et=Ca(ie.nextSibling),Je=S,Nt=!0,Tt=null,x!==null&&(je[Me++]=st,je[Me++]=ot,je[Me++]=Xe,st=x.id,ot=x.overflow,Xe=S),S=j2(S,Y.children),S.flags|=4096,S)}function FN(x,S,q){x.lanes|=S;var Y=x.alternate;Y!==null&&(Y.lanes|=S),Pa(x.return,S,q)}function A2(x,S,q,Y,ie){var ce=x.memoizedState;ce===null?x.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:Y,tail:q,tailMode:ie}:(ce.isBackwards=S,ce.rendering=null,ce.renderingStartTime=0,ce.last=Y,ce.tail=q,ce.tailMode=ie)}function LN(x,S,q){var Y=S.pendingProps,ie=Y.revealOrder,ce=Y.tail;if(ks(x,S,Y.children,q),Y=Yn.current,(Y&2)!==0)Y=Y&1|2,S.flags|=128;else{if(x!==null&&(x.flags&128)!==0)e:for(x=S.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&FN(x,q,S);else if(x.tag===19)FN(x,q,S);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===S)break e;for(;x.sibling===null;){if(x.return===null||x.return===S)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}Y&=1}if(En(Yn,Y),(S.mode&1)===0)S.memoizedState=null;else switch(ie){case"forwards":for(q=S.child,ie=null;q!==null;)x=q.alternate,x!==null&&tu(x)===null&&(ie=q),q=q.sibling;q=ie,q===null?(ie=S.child,S.child=null):(ie=q.sibling,q.sibling=null),A2(S,!1,ie,q,ce);break;case"backwards":for(q=null,ie=S.child,S.child=null;ie!==null;){if(x=ie.alternate,x!==null&&tu(x)===null){S.child=ie;break}x=ie.sibling,ie.sibling=q,q=ie,ie=x}A2(S,!0,q,null,ce);break;case"together":A2(S,!1,null,null,void 0);break;default:S.memoizedState=null}return S.child}function V1(x,S){(S.mode&1)===0&&x!==null&&(x.alternate=null,S.alternate=null,S.flags|=2)}function iu(x,S,q){if(x!==null&&(S.dependencies=x.dependencies),$d|=S.lanes,(q&S.childLanes)===0)return null;if(x!==null&&S.child!==x.child)throw Error(e(153));if(S.child!==null){for(x=S.child,q=kf(x,x.pendingProps),S.child=q,q.return=S;x.sibling!==null;)x=x.sibling,q=q.sibling=kf(x,x.pendingProps),q.return=S;q.sibling=null}return S.child}function KU(x,S,q){switch(S.tag){case 3:MN(S),Wr();break;case 5:Md(S);break;case 1:Ja(S.type)&&Xc(S);break;case 4:Qp(S,S.stateNode.containerInfo);break;case 10:var Y=S.type._context,ie=S.memoizedProps.value;En(ri,Y._currentValue),Y._currentValue=ie;break;case 13:if(Y=S.memoizedState,Y!==null)return Y.dehydrated!==null?(En(Yn,Yn.current&1),S.flags|=128,null):(q&S.child.childLanes)!==0?RN(x,S,q):(En(Yn,Yn.current&1),x=iu(x,S,q),x!==null?x.sibling:null);En(Yn,Yn.current&1);break;case 19:if(Y=(q&S.childLanes)!==0,(x.flags&128)!==0){if(Y)return LN(x,S,q);S.flags|=128}if(ie=S.memoizedState,ie!==null&&(ie.rendering=null,ie.tail=null,ie.lastEffect=null),En(Yn,Yn.current),Y)break;return null;case 22:case 23:return S.lanes=0,CN(x,S,q)}return iu(x,S,q)}var DN,T2,BN,$N;DN=function(x,S){for(var q=S.child;q!==null;){if(q.tag===5||q.tag===6)x.appendChild(q.stateNode);else if(q.tag!==4&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===S)break;for(;q.sibling===null;){if(q.return===null||q.return===S)return;q=q.return}q.sibling.return=q.return,q=q.sibling}},T2=function(){},BN=function(x,S,q,Y){var ie=x.memoizedProps;if(ie!==Y){x=S.stateNode,Qc(Us.current);var ce=null;switch(q){case"input":ie=se(x,ie),Y=se(x,Y),ce=[];break;case"select":ie=R({},ie,{value:void 0}),Y=R({},Y,{value:void 0}),ce=[];break;case"textarea":ie=Re(x,ie),Y=Re(x,Y),ce=[];break;default:typeof ie.onClick!="function"&&typeof Y.onClick=="function"&&(x.onclick=lf)}jt(q,Y);var we;q=null;for(yt in ie)if(!Y.hasOwnProperty(yt)&&ie.hasOwnProperty(yt)&&ie[yt]!=null)if(yt==="style"){var Be=ie[yt];for(we in Be)Be.hasOwnProperty(we)&&(q||(q={}),q[we]="")}else yt!=="dangerouslySetInnerHTML"&&yt!=="children"&&yt!=="suppressContentEditableWarning"&&yt!=="suppressHydrationWarning"&&yt!=="autoFocus"&&(i.hasOwnProperty(yt)?ce||(ce=[]):(ce=ce||[]).push(yt,null));for(yt in Y){var Ke=Y[yt];if(Be=ie!=null?ie[yt]:void 0,Y.hasOwnProperty(yt)&&Ke!==Be&&(Ke!=null||Be!=null))if(yt==="style")if(Be){for(we in Be)!Be.hasOwnProperty(we)||Ke&&Ke.hasOwnProperty(we)||(q||(q={}),q[we]="");for(we in Ke)Ke.hasOwnProperty(we)&&Be[we]!==Ke[we]&&(q||(q={}),q[we]=Ke[we])}else q||(ce||(ce=[]),ce.push(yt,q)),q=Ke;else yt==="dangerouslySetInnerHTML"?(Ke=Ke?Ke.__html:void 0,Be=Be?Be.__html:void 0,Ke!=null&&Be!==Ke&&(ce=ce||[]).push(yt,Ke)):yt==="children"?typeof Ke!="string"&&typeof Ke!="number"||(ce=ce||[]).push(yt,""+Ke):yt!=="suppressContentEditableWarning"&&yt!=="suppressHydrationWarning"&&(i.hasOwnProperty(yt)?(Ke!=null&&yt==="onScroll"&&Mn("scroll",x),ce||Be===Ke||(ce=[])):(ce=ce||[]).push(yt,Ke))}q&&(ce=ce||[]).push("style",q);var yt=ce;(S.updateQueue=yt)&&(S.flags|=4)}},$N=function(x,S,q,Y){q!==Y&&(S.flags|=4)};function im(x,S){if(!Nt)switch(x.tailMode){case"hidden":S=x.tail;for(var q=null;S!==null;)S.alternate!==null&&(q=S),S=S.sibling;q===null?x.tail=null:q.sibling=null;break;case"collapsed":q=x.tail;for(var Y=null;q!==null;)q.alternate!==null&&(Y=q),q=q.sibling;Y===null?S||x.tail===null?x.tail=null:x.tail.sibling=null:Y.sibling=null}}function es(x){var S=x.alternate!==null&&x.alternate.child===x.child,q=0,Y=0;if(S)for(var ie=x.child;ie!==null;)q|=ie.lanes|ie.childLanes,Y|=ie.subtreeFlags&14680064,Y|=ie.flags&14680064,ie.return=x,ie=ie.sibling;else for(ie=x.child;ie!==null;)q|=ie.lanes|ie.childLanes,Y|=ie.subtreeFlags,Y|=ie.flags,ie.return=x,ie=ie.sibling;return x.subtreeFlags|=Y,x.childLanes=q,S}function YU(x,S,q){var Y=S.pendingProps;switch(Ye(S),S.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(S),null;case 1:return Ja(S.type)&&Vh(),es(S),null;case 3:return Y=S.stateNode,eu(),bn(Ya),bn(Ji),ru(),Y.pendingContext&&(Y.context=Y.pendingContext,Y.pendingContext=null),(x===null||x.child===null)&&(ln(S)?S.flags|=4:x===null||x.memoizedState.isDehydrated&&(S.flags&256)===0||(S.flags|=1024,Tt!==null&&($2(Tt),Tt=null))),T2(x,S),es(S),null;case 5:Xh(S);var ie=Qc(Pd.current);if(q=S.type,x!==null&&S.stateNode!=null)BN(x,S,q,Y,ie),x.ref!==S.ref&&(S.flags|=512,S.flags|=2097152);else{if(!Y){if(S.stateNode===null)throw Error(e(166));return es(S),null}if(x=Qc(Us.current),ln(S)){Y=S.stateNode,q=S.type;var ce=S.memoizedProps;switch(Y[Bo]=S,Y[cf]=ce,x=(S.mode&1)!==0,q){case"dialog":Mn("cancel",Y),Mn("close",Y);break;case"iframe":case"object":case"embed":Mn("load",Y);break;case"video":case"audio":for(ie=0;ie<tc.length;ie++)Mn(tc[ie],Y);break;case"source":Mn("error",Y);break;case"img":case"image":case"link":Mn("error",Y),Mn("load",Y);break;case"details":Mn("toggle",Y);break;case"input":he(Y,ce),Mn("invalid",Y);break;case"select":Y._wrapperState={wasMultiple:!!ce.multiple},Mn("invalid",Y);break;case"textarea":Ie(Y,ce),Mn("invalid",Y)}jt(q,ce),ie=null;for(var we in ce)if(ce.hasOwnProperty(we)){var Be=ce[we];we==="children"?typeof Be=="string"?Y.textContent!==Be&&(ce.suppressHydrationWarning!==!0&&Wh(Y.textContent,Be,x),ie=["children",Be]):typeof Be=="number"&&Y.textContent!==""+Be&&(ce.suppressHydrationWarning!==!0&&Wh(Y.textContent,Be,x),ie=["children",""+Be]):i.hasOwnProperty(we)&&Be!=null&&we==="onScroll"&&Mn("scroll",Y)}switch(q){case"input":Q(Y),ve(Y,ce,!0);break;case"textarea":Q(Y),Ue(Y);break;case"select":case"option":break;default:typeof ce.onClick=="function"&&(Y.onclick=lf)}Y=ie,S.updateQueue=Y,Y!==null&&(S.flags|=4)}else{we=ie.nodeType===9?ie:ie.ownerDocument,x==="http://www.w3.org/1999/xhtml"&&(x=vt(q)),x==="http://www.w3.org/1999/xhtml"?q==="script"?(x=we.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild)):typeof Y.is=="string"?x=we.createElement(q,{is:Y.is}):(x=we.createElement(q),q==="select"&&(we=x,Y.multiple?we.multiple=!0:Y.size&&(we.size=Y.size))):x=we.createElementNS(x,q),x[Bo]=S,x[cf]=Y,DN(x,S,!1,!1),S.stateNode=x;e:{switch(we=ht(q,Y),q){case"dialog":Mn("cancel",x),Mn("close",x),ie=Y;break;case"iframe":case"object":case"embed":Mn("load",x),ie=Y;break;case"video":case"audio":for(ie=0;ie<tc.length;ie++)Mn(tc[ie],x);ie=Y;break;case"source":Mn("error",x),ie=Y;break;case"img":case"image":case"link":Mn("error",x),Mn("load",x),ie=Y;break;case"details":Mn("toggle",x),ie=Y;break;case"input":he(x,Y),ie=se(x,Y),Mn("invalid",x);break;case"option":ie=Y;break;case"select":x._wrapperState={wasMultiple:!!Y.multiple},ie=R({},Y,{value:void 0}),Mn("invalid",x);break;case"textarea":Ie(x,Y),ie=Re(x,Y),Mn("invalid",x);break;default:ie=Y}jt(q,ie),Be=ie;for(ce in Be)if(Be.hasOwnProperty(ce)){var Ke=Be[ce];ce==="style"?At(x,Ke):ce==="dangerouslySetInnerHTML"?(Ke=Ke?Ke.__html:void 0,Ke!=null&&lt(x,Ke)):ce==="children"?typeof Ke=="string"?(q!=="textarea"||Ke!=="")&&gt(x,Ke):typeof Ke=="number"&&gt(x,""+Ke):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?Ke!=null&&ce==="onScroll"&&Mn("scroll",x):Ke!=null&&w(x,ce,Ke,we))}switch(q){case"input":Q(x),ve(x,Y,!1);break;case"textarea":Q(x),Ue(x);break;case"option":Y.value!=null&&x.setAttribute("value",""+I(Y.value));break;case"select":x.multiple=!!Y.multiple,ce=Y.value,ce!=null?Pe(x,!!Y.multiple,ce,!1):Y.defaultValue!=null&&Pe(x,!!Y.multiple,Y.defaultValue,!0);break;default:typeof ie.onClick=="function"&&(x.onclick=lf)}switch(q){case"button":case"input":case"select":case"textarea":Y=!!Y.autoFocus;break e;case"img":Y=!0;break e;default:Y=!1}}Y&&(S.flags|=4)}S.ref!==null&&(S.flags|=512,S.flags|=2097152)}return es(S),null;case 6:if(x&&S.stateNode!=null)$N(x,S,x.memoizedProps,Y);else{if(typeof Y!="string"&&S.stateNode===null)throw Error(e(166));if(q=Qc(Pd.current),Qc(Us.current),ln(S)){if(Y=S.stateNode,q=S.memoizedProps,Y[Bo]=S,(ce=Y.nodeValue!==q)&&(x=Je,x!==null))switch(x.tag){case 3:Wh(Y.nodeValue,q,(x.mode&1)!==0);break;case 5:x.memoizedProps.suppressHydrationWarning!==!0&&Wh(Y.nodeValue,q,(x.mode&1)!==0)}ce&&(S.flags|=4)}else Y=(q.nodeType===9?q:q.ownerDocument).createTextNode(Y),Y[Bo]=S,S.stateNode=Y}return es(S),null;case 13:if(bn(Yn),Y=S.memoizedState,x===null||x.memoizedState!==null&&x.memoizedState.dehydrated!==null){if(Nt&&Et!==null&&(S.mode&1)!==0&&(S.flags&128)===0)an(),Wr(),S.flags|=98560,ce=!1;else if(ce=ln(S),Y!==null&&Y.dehydrated!==null){if(x===null){if(!ce)throw Error(e(318));if(ce=S.memoizedState,ce=ce!==null?ce.dehydrated:null,!ce)throw Error(e(317));ce[Bo]=S}else Wr(),(S.flags&128)===0&&(S.memoizedState=null),S.flags|=4;es(S),ce=!1}else Tt!==null&&($2(Tt),Tt=null),ce=!0;if(!ce)return S.flags&65536?S:null}return(S.flags&128)!==0?(S.lanes=q,S):(Y=Y!==null,Y!==(x!==null&&x.memoizedState!==null)&&Y&&(S.child.flags|=8192,(S.mode&1)!==0&&(x===null||(Yn.current&1)!==0?Qi===0&&(Qi=3):q2())),S.updateQueue!==null&&(S.flags|=4),es(S),null);case 4:return eu(),T2(x,S),x===null&&qc(S.stateNode.containerInfo),es(S),null;case 10:return Oa(S.type._context),es(S),null;case 17:return Ja(S.type)&&Vh(),es(S),null;case 19:if(bn(Yn),ce=S.memoizedState,ce===null)return es(S),null;if(Y=(S.flags&128)!==0,we=ce.rendering,we===null)if(Y)im(ce,!1);else{if(Qi!==0||x!==null&&(x.flags&128)!==0)for(x=S.child;x!==null;){if(we=tu(x),we!==null){for(S.flags|=128,im(ce,!1),Y=we.updateQueue,Y!==null&&(S.updateQueue=Y,S.flags|=4),S.subtreeFlags=0,Y=q,q=S.child;q!==null;)ce=q,x=Y,ce.flags&=14680066,we=ce.alternate,we===null?(ce.childLanes=0,ce.lanes=x,ce.child=null,ce.subtreeFlags=0,ce.memoizedProps=null,ce.memoizedState=null,ce.updateQueue=null,ce.dependencies=null,ce.stateNode=null):(ce.childLanes=we.childLanes,ce.lanes=we.lanes,ce.child=we.child,ce.subtreeFlags=0,ce.deletions=null,ce.memoizedProps=we.memoizedProps,ce.memoizedState=we.memoizedState,ce.updateQueue=we.updateQueue,ce.type=we.type,x=we.dependencies,ce.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),q=q.sibling;return En(Yn,Yn.current&1|2),S.child}x=x.sibling}ce.tail!==null&&Fe()>t0&&(S.flags|=128,Y=!0,im(ce,!1),S.lanes=4194304)}else{if(!Y)if(x=tu(we),x!==null){if(S.flags|=128,Y=!0,q=x.updateQueue,q!==null&&(S.updateQueue=q,S.flags|=4),im(ce,!0),ce.tail===null&&ce.tailMode==="hidden"&&!we.alternate&&!Nt)return es(S),null}else 2*Fe()-ce.renderingStartTime>t0&&q!==1073741824&&(S.flags|=128,Y=!0,im(ce,!1),S.lanes=4194304);ce.isBackwards?(we.sibling=S.child,S.child=we):(q=ce.last,q!==null?q.sibling=we:S.child=we,ce.last=we)}return ce.tail!==null?(S=ce.tail,ce.rendering=S,ce.tail=S.sibling,ce.renderingStartTime=Fe(),S.sibling=null,q=Yn.current,En(Yn,Y?q&1|2:q&1),S):(es(S),null);case 22:case 23:return z2(),Y=S.memoizedState!==null,x!==null&&x.memoizedState!==null!==Y&&(S.flags|=8192),Y&&(S.mode&1)!==0?(go&1073741824)!==0&&(es(S),S.subtreeFlags&6&&(S.flags|=8192)):es(S),null;case 24:return null;case 25:return null}throw Error(e(156,S.tag))}function JU(x,S){switch(Ye(S),S.tag){case 1:return Ja(S.type)&&Vh(),x=S.flags,x&65536?(S.flags=x&-65537|128,S):null;case 3:return eu(),bn(Ya),bn(Ji),ru(),x=S.flags,(x&65536)!==0&&(x&128)===0?(S.flags=x&-65537|128,S):null;case 5:return Xh(S),null;case 13:if(bn(Yn),x=S.memoizedState,x!==null&&x.dehydrated!==null){if(S.alternate===null)throw Error(e(340));Wr()}return x=S.flags,x&65536?(S.flags=x&-65537|128,S):null;case 19:return bn(Yn),null;case 4:return eu(),null;case 10:return Oa(S.type._context),null;case 22:case 23:return z2(),null;case 24:return null;default:return null}}var G1=!1,ts=!1,ZU=typeof WeakSet=="function"?WeakSet:Set,lr=null;function Qh(x,S){var q=x.ref;if(q!==null)if(typeof q=="function")try{q(null)}catch(Y){Ni(x,S,Y)}else q.current=null}function C2(x,S,q){try{q()}catch(Y){Ni(x,S,Y)}}var UN=!1;function QU(x,S){if(Nd=zu,x=vd(),Bc(x)){if("selectionStart"in x)var q={start:x.selectionStart,end:x.selectionEnd};else e:{q=(q=x.ownerDocument)&&q.defaultView||window;var Y=q.getSelection&&q.getSelection();if(Y&&Y.rangeCount!==0){q=Y.anchorNode;var ie=Y.anchorOffset,ce=Y.focusNode;Y=Y.focusOffset;try{q.nodeType,ce.nodeType}catch{q=null;break e}var we=0,Be=-1,Ke=-1,yt=0,Ut=0,Ht=x,$t=null;t:for(;;){for(var ir;Ht!==q||ie!==0&&Ht.nodeType!==3||(Be=we+ie),Ht!==ce||Y!==0&&Ht.nodeType!==3||(Ke=we+Y),Ht.nodeType===3&&(we+=Ht.nodeValue.length),(ir=Ht.firstChild)!==null;)$t=Ht,Ht=ir;for(;;){if(Ht===x)break t;if($t===q&&++yt===ie&&(Be=we),$t===ce&&++Ut===Y&&(Ke=we),(ir=Ht.nextSibling)!==null)break;Ht=$t,$t=Ht.parentNode}Ht=ir}q=Be===-1||Ke===-1?null:{start:Be,end:Ke}}else q=null}q=q||{start:0,end:0}}else q=null;for(Wc={focusedElem:x,selectionRange:q},zu=!1,lr=S;lr!==null;)if(S=lr,x=S.child,(S.subtreeFlags&1028)!==0&&x!==null)x.return=S,lr=x;else for(;lr!==null;){S=lr;try{var hr=S.alternate;if((S.flags&1024)!==0)switch(S.tag){case 0:case 11:case 15:break;case 1:if(hr!==null){var gr=hr.memoizedProps,Oi=hr.memoizedState,ut=S.stateNode,Qe=ut.getSnapshotBeforeUpdate(S.elementType===S.type?gr:Cr(S.type,gr),Oi);ut.__reactInternalSnapshotBeforeUpdate=Qe}break;case 3:var pt=S.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(Kt){Ni(S,S.return,Kt)}if(x=S.sibling,x!==null){x.return=S.return,lr=x;break}lr=S.return}return hr=UN,UN=!1,hr}function am(x,S,q){var Y=S.updateQueue;if(Y=Y!==null?Y.lastEffect:null,Y!==null){var ie=Y=Y.next;do{if((ie.tag&x)===x){var ce=ie.destroy;ie.destroy=void 0,ce!==void 0&&C2(S,q,ce)}ie=ie.next}while(ie!==Y)}}function X1(x,S){if(S=S.updateQueue,S=S!==null?S.lastEffect:null,S!==null){var q=S=S.next;do{if((q.tag&x)===x){var Y=q.create;q.destroy=Y()}q=q.next}while(q!==S)}}function O2(x){var S=x.ref;if(S!==null){var q=x.stateNode;switch(x.tag){case 5:x=q;break;default:x=q}typeof S=="function"?S(x):S.current=x}}function zN(x){var S=x.alternate;S!==null&&(x.alternate=null,zN(S)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(S=x.stateNode,S!==null&&(delete S[Bo],delete S[cf],delete S[Ka],delete S[y2],delete S[v2])),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function qN(x){return x.tag===5||x.tag===3||x.tag===4}function HN(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||qN(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function P2(x,S,q){var Y=x.tag;if(Y===5||Y===6)x=x.stateNode,S?q.nodeType===8?q.parentNode.insertBefore(x,S):q.insertBefore(x,S):(q.nodeType===8?(S=q.parentNode,S.insertBefore(x,q)):(S=q,S.appendChild(x)),q=q._reactRootContainer,q!=null||S.onclick!==null||(S.onclick=lf));else if(Y!==4&&(x=x.child,x!==null))for(P2(x,S,q),x=x.sibling;x!==null;)P2(x,S,q),x=x.sibling}function M2(x,S,q){var Y=x.tag;if(Y===5||Y===6)x=x.stateNode,S?q.insertBefore(x,S):q.appendChild(x);else if(Y!==4&&(x=x.child,x!==null))for(M2(x,S,q),x=x.sibling;x!==null;)M2(x,S,q),x=x.sibling}var Ma=null,kl=!1;function bf(x,S,q){for(q=q.child;q!==null;)WN(x,S,q),q=q.sibling}function WN(x,S,q){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(kr,q)}catch{}switch(q.tag){case 5:ts||Qh(q,S);case 6:var Y=Ma,ie=kl;Ma=null,bf(x,S,q),Ma=Y,kl=ie,Ma!==null&&(kl?(x=Ma,q=q.stateNode,x.nodeType===8?x.parentNode.removeChild(q):x.removeChild(q)):Ma.removeChild(q.stateNode));break;case 18:Ma!==null&&(kl?(x=Ma,q=q.stateNode,x.nodeType===8?Xp(x.parentNode,q):x.nodeType===1&&Xp(x,q),lo(x)):Xp(Ma,q.stateNode));break;case 4:Y=Ma,ie=kl,Ma=q.stateNode.containerInfo,kl=!0,bf(x,S,q),Ma=Y,kl=ie;break;case 0:case 11:case 14:case 15:if(!ts&&(Y=q.updateQueue,Y!==null&&(Y=Y.lastEffect,Y!==null))){ie=Y=Y.next;do{var ce=ie,we=ce.destroy;ce=ce.tag,we!==void 0&&((ce&2)!==0||(ce&4)!==0)&&C2(q,S,we),ie=ie.next}while(ie!==Y)}bf(x,S,q);break;case 1:if(!ts&&(Qh(q,S),Y=q.stateNode,typeof Y.componentWillUnmount=="function"))try{Y.props=q.memoizedProps,Y.state=q.memoizedState,Y.componentWillUnmount()}catch(Be){Ni(q,S,Be)}bf(x,S,q);break;case 21:bf(x,S,q);break;case 22:q.mode&1?(ts=(Y=ts)||q.memoizedState!==null,bf(x,S,q),ts=Y):bf(x,S,q);break;default:bf(x,S,q)}}function VN(x){var S=x.updateQueue;if(S!==null){x.updateQueue=null;var q=x.stateNode;q===null&&(q=x.stateNode=new ZU),S.forEach(function(Y){var ie=lz.bind(null,x,Y);q.has(Y)||(q.add(Y),Y.then(ie,ie))})}}function Nl(x,S){var q=S.deletions;if(q!==null)for(var Y=0;Y<q.length;Y++){var ie=q[Y];try{var ce=x,we=S,Be=we;e:for(;Be!==null;){switch(Be.tag){case 5:Ma=Be.stateNode,kl=!1;break e;case 3:Ma=Be.stateNode.containerInfo,kl=!0;break e;case 4:Ma=Be.stateNode.containerInfo,kl=!0;break e}Be=Be.return}if(Ma===null)throw Error(e(160));WN(ce,we,ie),Ma=null,kl=!1;var Ke=ie.alternate;Ke!==null&&(Ke.return=null),ie.return=null}catch(yt){Ni(ie,S,yt)}}if(S.subtreeFlags&12854)for(S=S.child;S!==null;)GN(S,x),S=S.sibling}function GN(x,S){var q=x.alternate,Y=x.flags;switch(x.tag){case 0:case 11:case 14:case 15:if(Nl(S,x),ic(x),Y&4){try{am(3,x,x.return),X1(3,x)}catch(gr){Ni(x,x.return,gr)}try{am(5,x,x.return)}catch(gr){Ni(x,x.return,gr)}}break;case 1:Nl(S,x),ic(x),Y&512&&q!==null&&Qh(q,q.return);break;case 5:if(Nl(S,x),ic(x),Y&512&&q!==null&&Qh(q,q.return),x.flags&32){var ie=x.stateNode;try{gt(ie,"")}catch(gr){Ni(x,x.return,gr)}}if(Y&4&&(ie=x.stateNode,ie!=null)){var ce=x.memoizedProps,we=q!==null?q.memoizedProps:ce,Be=x.type,Ke=x.updateQueue;if(x.updateQueue=null,Ke!==null)try{Be==="input"&&ce.type==="radio"&&ce.name!=null&&le(ie,ce),ht(Be,we);var yt=ht(Be,ce);for(we=0;we<Ke.length;we+=2){var Ut=Ke[we],Ht=Ke[we+1];Ut==="style"?At(ie,Ht):Ut==="dangerouslySetInnerHTML"?lt(ie,Ht):Ut==="children"?gt(ie,Ht):w(ie,Ut,Ht,yt)}switch(Be){case"input":de(ie,ce);break;case"textarea":qe(ie,ce);break;case"select":var $t=ie._wrapperState.wasMultiple;ie._wrapperState.wasMultiple=!!ce.multiple;var ir=ce.value;ir!=null?Pe(ie,!!ce.multiple,ir,!1):$t!==!!ce.multiple&&(ce.defaultValue!=null?Pe(ie,!!ce.multiple,ce.defaultValue,!0):Pe(ie,!!ce.multiple,ce.multiple?[]:"",!1))}ie[cf]=ce}catch(gr){Ni(x,x.return,gr)}}break;case 6:if(Nl(S,x),ic(x),Y&4){if(x.stateNode===null)throw Error(e(162));ie=x.stateNode,ce=x.memoizedProps;try{ie.nodeValue=ce}catch(gr){Ni(x,x.return,gr)}}break;case 3:if(Nl(S,x),ic(x),Y&4&&q!==null&&q.memoizedState.isDehydrated)try{lo(S.containerInfo)}catch(gr){Ni(x,x.return,gr)}break;case 4:Nl(S,x),ic(x);break;case 13:Nl(S,x),ic(x),ie=x.child,ie.flags&8192&&(ce=ie.memoizedState!==null,ie.stateNode.isHidden=ce,!ce||ie.alternate!==null&&ie.alternate.memoizedState!==null||(F2=Fe())),Y&4&&VN(x);break;case 22:if(Ut=q!==null&&q.memoizedState!==null,x.mode&1?(ts=(yt=ts)||Ut,Nl(S,x),ts=yt):Nl(S,x),ic(x),Y&8192){if(yt=x.memoizedState!==null,(x.stateNode.isHidden=yt)&&!Ut&&(x.mode&1)!==0)for(lr=x,Ut=x.child;Ut!==null;){for(Ht=lr=Ut;lr!==null;){switch($t=lr,ir=$t.child,$t.tag){case 0:case 11:case 14:case 15:am(4,$t,$t.return);break;case 1:Qh($t,$t.return);var hr=$t.stateNode;if(typeof hr.componentWillUnmount=="function"){Y=$t,q=$t.return;try{S=Y,hr.props=S.memoizedProps,hr.state=S.memoizedState,hr.componentWillUnmount()}catch(gr){Ni(Y,q,gr)}}break;case 5:Qh($t,$t.return);break;case 22:if($t.memoizedState!==null){YN(Ht);continue}}ir!==null?(ir.return=$t,lr=ir):YN(Ht)}Ut=Ut.sibling}e:for(Ut=null,Ht=x;;){if(Ht.tag===5){if(Ut===null){Ut=Ht;try{ie=Ht.stateNode,yt?(ce=ie.style,typeof ce.setProperty=="function"?ce.setProperty("display","none","important"):ce.display="none"):(Be=Ht.stateNode,Ke=Ht.memoizedProps.style,we=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null,Be.style.display=bt("display",we))}catch(gr){Ni(x,x.return,gr)}}}else if(Ht.tag===6){if(Ut===null)try{Ht.stateNode.nodeValue=yt?"":Ht.memoizedProps}catch(gr){Ni(x,x.return,gr)}}else if((Ht.tag!==22&&Ht.tag!==23||Ht.memoizedState===null||Ht===x)&&Ht.child!==null){Ht.child.return=Ht,Ht=Ht.child;continue}if(Ht===x)break e;for(;Ht.sibling===null;){if(Ht.return===null||Ht.return===x)break e;Ut===Ht&&(Ut=null),Ht=Ht.return}Ut===Ht&&(Ut=null),Ht.sibling.return=Ht.return,Ht=Ht.sibling}}break;case 19:Nl(S,x),ic(x),Y&4&&VN(x);break;case 21:break;default:Nl(S,x),ic(x)}}function ic(x){var S=x.flags;if(S&2){try{e:{for(var q=x.return;q!==null;){if(qN(q)){var Y=q;break e}q=q.return}throw Error(e(160))}switch(Y.tag){case 5:var ie=Y.stateNode;Y.flags&32&&(gt(ie,""),Y.flags&=-33);var ce=HN(x);M2(x,ce,ie);break;case 3:case 4:var we=Y.stateNode.containerInfo,Be=HN(x);P2(x,Be,we);break;default:throw Error(e(161))}}catch(Ke){Ni(x,x.return,Ke)}x.flags&=-3}S&4096&&(x.flags&=-4097)}function ez(x,S,q){lr=x,XN(x)}function XN(x,S,q){for(var Y=(x.mode&1)!==0;lr!==null;){var ie=lr,ce=ie.child;if(ie.tag===22&&Y){var we=ie.memoizedState!==null||G1;if(!we){var Be=ie.alternate,Ke=Be!==null&&Be.memoizedState!==null||ts;Be=G1;var yt=ts;if(G1=we,(ts=Ke)&&!yt)for(lr=ie;lr!==null;)we=lr,Ke=we.child,we.tag===22&&we.memoizedState!==null?JN(ie):Ke!==null?(Ke.return=we,lr=Ke):JN(ie);for(;ce!==null;)lr=ce,XN(ce),ce=ce.sibling;lr=ie,G1=Be,ts=yt}KN(x)}else(ie.subtreeFlags&8772)!==0&&ce!==null?(ce.return=ie,lr=ce):KN(x)}}function KN(x){for(;lr!==null;){var S=lr;if((S.flags&8772)!==0){var q=S.alternate;try{if((S.flags&8772)!==0)switch(S.tag){case 0:case 11:case 15:ts||X1(5,S);break;case 1:var Y=S.stateNode;if(S.flags&4&&!ts)if(q===null)Y.componentDidMount();else{var ie=S.elementType===S.type?q.memoizedProps:Cr(S.type,q.memoizedProps);Y.componentDidUpdate(ie,q.memoizedState,Y.__reactInternalSnapshotBeforeUpdate)}var ce=S.updateQueue;ce!==null&&Td(S,ce,Y);break;case 3:var we=S.updateQueue;if(we!==null){if(q=null,S.child!==null)switch(S.child.tag){case 5:q=S.child.stateNode;break;case 1:q=S.child.stateNode}Td(S,we,q)}break;case 5:var Be=S.stateNode;if(q===null&&S.flags&4){q=Be;var Ke=S.memoizedProps;switch(S.type){case"button":case"input":case"select":case"textarea":Ke.autoFocus&&q.focus();break;case"img":Ke.src&&(q.src=Ke.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(S.memoizedState===null){var yt=S.alternate;if(yt!==null){var Ut=yt.memoizedState;if(Ut!==null){var Ht=Ut.dehydrated;Ht!==null&&lo(Ht)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}ts||S.flags&512&&O2(S)}catch($t){Ni(S,S.return,$t)}}if(S===x){lr=null;break}if(q=S.sibling,q!==null){q.return=S.return,lr=q;break}lr=S.return}}function YN(x){for(;lr!==null;){var S=lr;if(S===x){lr=null;break}var q=S.sibling;if(q!==null){q.return=S.return,lr=q;break}lr=S.return}}function JN(x){for(;lr!==null;){var S=lr;try{switch(S.tag){case 0:case 11:case 15:var q=S.return;try{X1(4,S)}catch(Ke){Ni(S,q,Ke)}break;case 1:var Y=S.stateNode;if(typeof Y.componentDidMount=="function"){var ie=S.return;try{Y.componentDidMount()}catch(Ke){Ni(S,ie,Ke)}}var ce=S.return;try{O2(S)}catch(Ke){Ni(S,ce,Ke)}break;case 5:var we=S.return;try{O2(S)}catch(Ke){Ni(S,we,Ke)}}}catch(Ke){Ni(S,S.return,Ke)}if(S===x){lr=null;break}var Be=S.sibling;if(Be!==null){Be.return=S.return,lr=Be;break}lr=S.return}}var tz=Math.ceil,K1=_.ReactCurrentDispatcher,I2=_.ReactCurrentOwner,qo=_.ReactCurrentBatchConfig,hn=0,ma=null,Bi=null,Ia=0,go=0,e0=ho(0),Qi=0,sm=null,$d=0,Y1=0,R2=0,om=null,Ws=null,F2=0,t0=1/0,au=null,J1=!1,L2=null,xf=null,Z1=!1,wf=null,Q1=0,lm=0,D2=null,ey=-1,ty=0;function Ns(){return(hn&6)!==0?Fe():ey!==-1?ey:ey=Fe()}function _f(x){return(x.mode&1)===0?1:(hn&2)!==0&&Ia!==0?Ia&-Ia:jn.transition!==null?(ty===0&&(ty=Qr()),ty):(x=Br,x!==0||(x=window.event,x=x===void 0?16:dd(x.type)),x)}function El(x,S,q,Y){if(50<lm)throw lm=0,D2=null,Error(e(185));Xi(x,q,Y),((hn&2)===0||x!==ma)&&(x===ma&&((hn&2)===0&&(Y1|=q),Qi===4&&Sf(x,Ia)),Vs(x,Y),q===1&&hn===0&&(S.mode&1)===0&&(t0=Fe()+500,jd&&ue()))}function Vs(x,S){var q=x.callbackNode;yi(x,S);var Y=ci(x,x===ma?Ia:0);if(Y===0)q!==null&&Mt(q),x.callbackNode=null,x.callbackPriority=0;else if(S=Y&-Y,x.callbackPriority!==S){if(q!=null&&Mt(q),S===1)x.tag===0?ae(QN.bind(null,x)):J(QN.bind(null,x)),m2(function(){(hn&6)===0&&ue()}),q=null;else{switch(aa(Y)){case 1:q=wt;break;case 4:q=Wt;break;case 16:q=It;break;case 536870912:q=Rr;break;default:q=It}q=oE(q,ZN.bind(null,x))}x.callbackPriority=S,x.callbackNode=q}}function ZN(x,S){if(ey=-1,ty=0,(hn&6)!==0)throw Error(e(327));var q=x.callbackNode;if(r0()&&x.callbackNode!==q)return null;var Y=ci(x,x===ma?Ia:0);if(Y===0)return null;if((Y&30)!==0||(Y&x.expiredLanes)!==0||S)S=ry(x,Y);else{S=Y;var ie=hn;hn|=2;var ce=tE();(ma!==x||Ia!==S)&&(au=null,t0=Fe()+500,zd(x,S));do try{iz();break}catch(Be){eE(x,Be)}while(!0);dn(),K1.current=ce,hn=ie,Bi!==null?S=0:(ma=null,Ia=0,S=Qi)}if(S!==0){if(S===2&&(ie=Wa(x),ie!==0&&(Y=ie,S=B2(x,ie))),S===1)throw q=sm,zd(x,0),Sf(x,Y),Vs(x,Fe()),q;if(S===6)Sf(x,Y);else{if(ie=x.current.alternate,(Y&30)===0&&!rz(ie)&&(S=ry(x,Y),S===2&&(ce=Wa(x),ce!==0&&(Y=ce,S=B2(x,ce))),S===1))throw q=sm,zd(x,0),Sf(x,Y),Vs(x,Fe()),q;switch(x.finishedWork=ie,x.finishedLanes=Y,S){case 0:case 1:throw Error(e(345));case 2:qd(x,Ws,au);break;case 3:if(Sf(x,Y),(Y&130023424)===Y&&(S=F2+500-Fe(),10<S)){if(ci(x,0)!==0)break;if(ie=x.suspendedLanes,(ie&Y)!==Y){Ns(),x.pingedLanes|=x.suspendedLanes&ie;break}x.timeoutHandle=Gp(qd.bind(null,x,Ws,au),S);break}qd(x,Ws,au);break;case 4:if(Sf(x,Y),(Y&4194240)===Y)break;for(S=x.eventTimes,ie=-1;0<Y;){var we=31-Er(Y);ce=1<<we,we=S[we],we>ie&&(ie=we),Y&=~ce}if(Y=ie,Y=Fe()-Y,Y=(120>Y?120:480>Y?480:1080>Y?1080:1920>Y?1920:3e3>Y?3e3:4320>Y?4320:1960*tz(Y/1960))-Y,10<Y){x.timeoutHandle=Gp(qd.bind(null,x,Ws,au),Y);break}qd(x,Ws,au);break;case 5:qd(x,Ws,au);break;default:throw Error(e(329))}}}return Vs(x,Fe()),x.callbackNode===q?ZN.bind(null,x):null}function B2(x,S){var q=om;return x.current.memoizedState.isDehydrated&&(zd(x,S).flags|=256),x=ry(x,S),x!==2&&(S=Ws,Ws=q,S!==null&&$2(S)),x}function $2(x){Ws===null?Ws=x:Ws.push.apply(Ws,x)}function rz(x){for(var S=x;;){if(S.flags&16384){var q=S.updateQueue;if(q!==null&&(q=q.stores,q!==null))for(var Y=0;Y<q.length;Y++){var ie=q[Y],ce=ie.getSnapshot;ie=ie.value;try{if(!fn(ce(),ie))return!1}catch{return!1}}}if(q=S.child,S.subtreeFlags&16384&&q!==null)q.return=S,S=q;else{if(S===x)break;for(;S.sibling===null;){if(S.return===null||S.return===x)return!0;S=S.return}S.sibling.return=S.return,S=S.sibling}}return!0}function Sf(x,S){for(S&=~R2,S&=~Y1,x.suspendedLanes|=S,x.pingedLanes&=~S,x=x.expirationTimes;0<S;){var q=31-Er(S),Y=1<<q;x[q]=-1,S&=~Y}}function QN(x){if((hn&6)!==0)throw Error(e(327));r0();var S=ci(x,0);if((S&1)===0)return Vs(x,Fe()),null;var q=ry(x,S);if(x.tag!==0&&q===2){var Y=Wa(x);Y!==0&&(S=Y,q=B2(x,Y))}if(q===1)throw q=sm,zd(x,0),Sf(x,S),Vs(x,Fe()),q;if(q===6)throw Error(e(345));return x.finishedWork=x.current.alternate,x.finishedLanes=S,qd(x,Ws,au),Vs(x,Fe()),null}function U2(x,S){var q=hn;hn|=1;try{return x(S)}finally{hn=q,hn===0&&(t0=Fe()+500,jd&&ue())}}function Ud(x){wf!==null&&wf.tag===0&&(hn&6)===0&&r0();var S=hn;hn|=1;var q=qo.transition,Y=Br;try{if(qo.transition=null,Br=1,x)return x()}finally{Br=Y,qo.transition=q,hn=S,(hn&6)===0&&ue()}}function z2(){go=e0.current,bn(e0)}function zd(x,S){x.finishedWork=null,x.finishedLanes=0;var q=x.timeoutHandle;if(q!==-1&&(x.timeoutHandle=-1,R1(q)),Bi!==null)for(q=Bi.return;q!==null;){var Y=q;switch(Ye(Y),Y.tag){case 1:Y=Y.type.childContextTypes,Y!=null&&Vh();break;case 3:eu(),bn(Ya),bn(Ji),ru();break;case 5:Xh(Y);break;case 4:eu();break;case 13:bn(Yn);break;case 19:bn(Yn);break;case 10:Oa(Y.type._context);break;case 22:case 23:z2()}q=q.return}if(ma=x,Bi=x=kf(x.current,null),Ia=go=S,Qi=0,sm=null,R2=Y1=$d=0,Ws=om=null,vi!==null){for(S=0;S<vi.length;S++)if(q=vi[S],Y=q.interleaved,Y!==null){q.interleaved=null;var ie=Y.next,ce=q.pending;if(ce!==null){var we=ce.next;ce.next=ie,Y.next=we}q.pending=Y}vi=null}return x}function eE(x,S){do{var q=Bi;try{if(dn(),Rd.current=H1,Fd){for(var Y=Jn.memoizedState;Y!==null;){var ie=Y.queue;ie!==null&&(ie.pending=null),Y=Y.next}Fd=!1}if(Uo=0,Hn=bi=Jn=null,yf=!1,Ld=0,I2.current=null,q===null||q.return===null){Qi=1,sm=S,Bi=null;break}e:{var ce=x,we=q.return,Be=q,Ke=S;if(S=Ia,Be.flags|=32768,Ke!==null&&typeof Ke=="object"&&typeof Ke.then=="function"){var yt=Ke,Ut=Be,Ht=Ut.tag;if((Ut.mode&1)===0&&(Ht===0||Ht===11||Ht===15)){var $t=Ut.alternate;$t?(Ut.updateQueue=$t.updateQueue,Ut.memoizedState=$t.memoizedState,Ut.lanes=$t.lanes):(Ut.updateQueue=null,Ut.memoizedState=null)}var ir=NN(we);if(ir!==null){ir.flags&=-257,EN(ir,we,Be,ce,S),ir.mode&1&&kN(ce,yt,S),S=ir,Ke=yt;var hr=S.updateQueue;if(hr===null){var gr=new Set;gr.add(Ke),S.updateQueue=gr}else hr.add(Ke);break e}else{if((S&1)===0){kN(ce,yt,S),q2();break e}Ke=Error(e(426))}}else if(Nt&&Be.mode&1){var Oi=NN(we);if(Oi!==null){(Oi.flags&65536)===0&&(Oi.flags|=256),EN(Oi,we,Be,ce,S),xn(Zh(Ke,Be));break e}}ce=Ke=Zh(Ke,Be),Qi!==4&&(Qi=2),om===null?om=[ce]:om.push(ce),ce=we;do{switch(ce.tag){case 3:ce.flags|=65536,S&=-S,ce.lanes|=S;var ut=_N(ce,Ke,S);Jp(ce,ut);break e;case 1:Be=Ke;var Qe=ce.type,pt=ce.stateNode;if((ce.flags&128)===0&&(typeof Qe.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(xf===null||!xf.has(pt)))){ce.flags|=65536,S&=-S,ce.lanes|=S;var Kt=SN(ce,Be,S);Jp(ce,Kt);break e}}ce=ce.return}while(ce!==null)}nE(q)}catch(xr){S=xr,Bi===q&&q!==null&&(Bi=q=q.return);continue}break}while(!0)}function tE(){var x=K1.current;return K1.current=H1,x===null?H1:x}function q2(){(Qi===0||Qi===3||Qi===2)&&(Qi=4),ma===null||($d&268435455)===0&&(Y1&268435455)===0||Sf(ma,Ia)}function ry(x,S){var q=hn;hn|=2;var Y=tE();(ma!==x||Ia!==S)&&(au=null,zd(x,S));do try{nz();break}catch(ie){eE(x,ie)}while(!0);if(dn(),hn=q,K1.current=Y,Bi!==null)throw Error(e(261));return ma=null,Ia=0,Qi}function nz(){for(;Bi!==null;)rE(Bi)}function iz(){for(;Bi!==null&&!Gt();)rE(Bi)}function rE(x){var S=sE(x.alternate,x,go);x.memoizedProps=x.pendingProps,S===null?nE(x):Bi=S,I2.current=null}function nE(x){var S=x;do{var q=S.alternate;if(x=S.return,(S.flags&32768)===0){if(q=YU(q,S,go),q!==null){Bi=q;return}}else{if(q=JU(q,S),q!==null){q.flags&=32767,Bi=q;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{Qi=6,Bi=null;return}}if(S=S.sibling,S!==null){Bi=S;return}Bi=S=x}while(S!==null);Qi===0&&(Qi=5)}function qd(x,S,q){var Y=Br,ie=qo.transition;try{qo.transition=null,Br=1,az(x,S,q,Y)}finally{qo.transition=ie,Br=Y}return null}function az(x,S,q,Y){do r0();while(wf!==null);if((hn&6)!==0)throw Error(e(327));q=x.finishedWork;var ie=x.finishedLanes;if(q===null)return null;if(x.finishedWork=null,x.finishedLanes=0,q===x.current)throw Error(e(177));x.callbackNode=null,x.callbackPriority=0;var ce=q.lanes|q.childLanes;if(io(x,ce),x===ma&&(Bi=ma=null,Ia=0),(q.subtreeFlags&2064)===0&&(q.flags&2064)===0||Z1||(Z1=!0,oE(It,function(){return r0(),null})),ce=(q.flags&15990)!==0,(q.subtreeFlags&15990)!==0||ce){ce=qo.transition,qo.transition=null;var we=Br;Br=1;var Be=hn;hn|=4,I2.current=null,QU(x,q),GN(q,x),$c(Wc),zu=!!Nd,Wc=Nd=null,x.current=q,ez(q),Se(),hn=Be,Br=we,qo.transition=ce}else x.current=q;if(Z1&&(Z1=!1,wf=x,Q1=ie),ce=x.pendingLanes,ce===0&&(xf=null),or(q.stateNode),Vs(x,Fe()),S!==null)for(Y=x.onRecoverableError,q=0;q<S.length;q++)ie=S[q],Y(ie.value,{componentStack:ie.stack,digest:ie.digest});if(J1)throw J1=!1,x=L2,L2=null,x;return(Q1&1)!==0&&x.tag!==0&&r0(),ce=x.pendingLanes,(ce&1)!==0?x===D2?lm++:(lm=0,D2=x):lm=0,ue(),null}function r0(){if(wf!==null){var x=aa(Q1),S=qo.transition,q=Br;try{if(qo.transition=null,Br=16>x?16:x,wf===null)var Y=!1;else{if(x=wf,wf=null,Q1=0,(hn&6)!==0)throw Error(e(331));var ie=hn;for(hn|=4,lr=x.current;lr!==null;){var ce=lr,we=ce.child;if((lr.flags&16)!==0){var Be=ce.deletions;if(Be!==null){for(var Ke=0;Ke<Be.length;Ke++){var yt=Be[Ke];for(lr=yt;lr!==null;){var Ut=lr;switch(Ut.tag){case 0:case 11:case 15:am(8,Ut,ce)}var Ht=Ut.child;if(Ht!==null)Ht.return=Ut,lr=Ht;else for(;lr!==null;){Ut=lr;var $t=Ut.sibling,ir=Ut.return;if(zN(Ut),Ut===yt){lr=null;break}if($t!==null){$t.return=ir,lr=$t;break}lr=ir}}}var hr=ce.alternate;if(hr!==null){var gr=hr.child;if(gr!==null){hr.child=null;do{var Oi=gr.sibling;gr.sibling=null,gr=Oi}while(gr!==null)}}lr=ce}}if((ce.subtreeFlags&2064)!==0&&we!==null)we.return=ce,lr=we;else e:for(;lr!==null;){if(ce=lr,(ce.flags&2048)!==0)switch(ce.tag){case 0:case 11:case 15:am(9,ce,ce.return)}var ut=ce.sibling;if(ut!==null){ut.return=ce.return,lr=ut;break e}lr=ce.return}}var Qe=x.current;for(lr=Qe;lr!==null;){we=lr;var pt=we.child;if((we.subtreeFlags&2064)!==0&&pt!==null)pt.return=we,lr=pt;else e:for(we=Qe;lr!==null;){if(Be=lr,(Be.flags&2048)!==0)try{switch(Be.tag){case 0:case 11:case 15:X1(9,Be)}}catch(xr){Ni(Be,Be.return,xr)}if(Be===we){lr=null;break e}var Kt=Be.sibling;if(Kt!==null){Kt.return=Be.return,lr=Kt;break e}lr=Be.return}}if(hn=ie,ue(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(kr,x)}catch{}Y=!0}return Y}finally{Br=q,qo.transition=S}}return!1}function iE(x,S,q){S=Zh(q,S),S=_N(x,S,1),x=wn(x,S,1),S=Ns(),x!==null&&(Xi(x,1,S),Vs(x,S))}function Ni(x,S,q){if(x.tag===3)iE(x,x,q);else for(;S!==null;){if(S.tag===3){iE(S,x,q);break}else if(S.tag===1){var Y=S.stateNode;if(typeof S.type.getDerivedStateFromError=="function"||typeof Y.componentDidCatch=="function"&&(xf===null||!xf.has(Y))){x=Zh(q,x),x=SN(S,x,1),S=wn(S,x,1),x=Ns(),S!==null&&(Xi(S,1,x),Vs(S,x));break}}S=S.return}}function sz(x,S,q){var Y=x.pingCache;Y!==null&&Y.delete(S),S=Ns(),x.pingedLanes|=x.suspendedLanes&q,ma===x&&(Ia&q)===q&&(Qi===4||Qi===3&&(Ia&130023424)===Ia&&500>Fe()-F2?zd(x,0):R2|=q),Vs(x,S)}function aE(x,S){S===0&&((x.mode&1)===0?S=1:(S=Kn,Kn<<=1,(Kn&130023424)===0&&(Kn=4194304)));var q=Ns();x=$n(x,S),x!==null&&(Xi(x,S,q),Vs(x,q))}function oz(x){var S=x.memoizedState,q=0;S!==null&&(q=S.retryLane),aE(x,q)}function lz(x,S){var q=0;switch(x.tag){case 13:var Y=x.stateNode,ie=x.memoizedState;ie!==null&&(q=ie.retryLane);break;case 19:Y=x.stateNode;break;default:throw Error(e(314))}Y!==null&&Y.delete(S),aE(x,q)}var sE;sE=function(x,S,q){if(x!==null)if(x.memoizedProps!==S.pendingProps||Ya.current)Hs=!0;else{if((x.lanes&q)===0&&(S.flags&128)===0)return Hs=!1,KU(x,S,q);Hs=(x.flags&131072)!==0}else Hs=!1,Nt&&(S.flags&1048576)!==0&&Pt(S,Ne,S.index);switch(S.lanes=0,S.tag){case 2:var Y=S.type;V1(x,S),x=S.pendingProps;var ie=ff(S,Ji.current);ni(S,q),ie=Kh(null,S,Y,x,ie,q);var ce=rm();return S.flags|=1,typeof ie=="object"&&ie!==null&&typeof ie.render=="function"&&ie.$$typeof===void 0?(S.tag=1,S.memoizedState=null,S.updateQueue=null,Ja(Y)?(ce=!0,Xc(S)):ce=!1,S.memoizedState=ie.state!==null&&ie.state!==void 0?ie.state:null,xl(S),ie.updater=Qa,S.stateNode=ie,ie._reactInternals=S,mf(S,Y,x,q),S=k2(null,S,Y,!0,ce,q)):(S.tag=0,Nt&&ce&&xt(S),ks(null,S,ie,q),S=S.child),S;case 16:Y=S.elementType;e:{switch(V1(x,S),x=S.pendingProps,ie=Y._init,Y=ie(Y._payload),S.type=Y,ie=S.tag=uz(Y),x=Cr(Y,x),ie){case 0:S=S2(null,S,Y,x,q);break e;case 1:S=PN(null,S,Y,x,q);break e;case 11:S=jN(null,S,Y,x,q);break e;case 14:S=AN(null,S,Y,Cr(Y.type,x),q);break e}throw Error(e(306,Y,""))}return S;case 0:return Y=S.type,ie=S.pendingProps,ie=S.elementType===Y?ie:Cr(Y,ie),S2(x,S,Y,ie,q);case 1:return Y=S.type,ie=S.pendingProps,ie=S.elementType===Y?ie:Cr(Y,ie),PN(x,S,Y,ie,q);case 3:e:{if(MN(S),x===null)throw Error(e(387));Y=S.pendingProps,ce=S.memoizedState,ie=ce.element,Kc(x,S),Ad(S,Y,null,q);var we=S.memoizedState;if(Y=we.element,ce.isDehydrated)if(ce={element:Y,isDehydrated:!1,cache:we.cache,pendingSuspenseBoundaries:we.pendingSuspenseBoundaries,transitions:we.transitions},S.updateQueue.baseState=ce,S.memoizedState=ce,S.flags&256){ie=Zh(Error(e(423)),S),S=IN(x,S,Y,q,ie);break e}else if(Y!==ie){ie=Zh(Error(e(424)),S),S=IN(x,S,Y,q,ie);break e}else for(Et=Ca(S.stateNode.containerInfo.firstChild),Je=S,Nt=!0,Tt=null,q=B1(S,null,Y,q),S.child=q;q;)q.flags=q.flags&-3|4096,q=q.sibling;else{if(Wr(),Y===ie){S=iu(x,S,q);break e}ks(x,S,Y,q)}S=S.child}return S;case 5:return Md(S),x===null&&tr(S),Y=S.type,ie=S.pendingProps,ce=x!==null?x.memoizedProps:null,we=ie.children,Vp(Y,ie)?we=null:ce!==null&&Vp(Y,ce)&&(S.flags|=32),ON(x,S),ks(x,S,we,q),S.child;case 6:return x===null&&tr(S),null;case 13:return RN(x,S,q);case 4:return Qp(S,S.stateNode.containerInfo),Y=S.pendingProps,x===null?S.child=$o(S,null,Y,q):ks(x,S,Y,q),S.child;case 11:return Y=S.type,ie=S.pendingProps,ie=S.elementType===Y?ie:Cr(Y,ie),jN(x,S,Y,ie,q);case 7:return ks(x,S,S.pendingProps,q),S.child;case 8:return ks(x,S,S.pendingProps.children,q),S.child;case 12:return ks(x,S,S.pendingProps.children,q),S.child;case 10:e:{if(Y=S.type._context,ie=S.pendingProps,ce=S.memoizedProps,we=ie.value,En(ri,Y._currentValue),Y._currentValue=we,ce!==null)if(fn(ce.value,we)){if(ce.children===ie.children&&!Ya.current){S=iu(x,S,q);break e}}else for(ce=S.child,ce!==null&&(ce.return=S);ce!==null;){var Be=ce.dependencies;if(Be!==null){we=ce.child;for(var Ke=Be.firstContext;Ke!==null;){if(Ke.context===Y){if(ce.tag===1){Ke=pa(-1,q&-q),Ke.tag=2;var yt=ce.updateQueue;if(yt!==null){yt=yt.shared;var Ut=yt.pending;Ut===null?Ke.next=Ke:(Ke.next=Ut.next,Ut.next=Ke),yt.pending=Ke}}ce.lanes|=q,Ke=ce.alternate,Ke!==null&&(Ke.lanes|=q),Pa(ce.return,q,S),Be.lanes|=q;break}Ke=Ke.next}}else if(ce.tag===10)we=ce.type===S.type?null:ce.child;else if(ce.tag===18){if(we=ce.return,we===null)throw Error(e(341));we.lanes|=q,Be=we.alternate,Be!==null&&(Be.lanes|=q),Pa(we,q,S),we=ce.sibling}else we=ce.child;if(we!==null)we.return=ce;else for(we=ce;we!==null;){if(we===S){we=null;break}if(ce=we.sibling,ce!==null){ce.return=we.return,we=ce;break}we=we.return}ce=we}ks(x,S,ie.children,q),S=S.child}return S;case 9:return ie=S.type,Y=S.pendingProps.children,ni(S,q),ie=An(ie),Y=Y(ie),S.flags|=1,ks(x,S,Y,q),S.child;case 14:return Y=S.type,ie=Cr(Y,S.pendingProps),ie=Cr(Y.type,ie),AN(x,S,Y,ie,q);case 15:return TN(x,S,S.type,S.pendingProps,q);case 17:return Y=S.type,ie=S.pendingProps,ie=S.elementType===Y?ie:Cr(Y,ie),V1(x,S),S.tag=1,Ja(Y)?(x=!0,Xc(S)):x=!1,ni(S,q),Jc(S,Y,ie),mf(S,Y,ie,q),k2(null,S,Y,!0,x,q);case 19:return LN(x,S,q);case 22:return CN(x,S,q)}throw Error(e(156,S.tag))};function oE(x,S){return Ct(x,S)}function cz(x,S,q,Y){this.tag=x,this.key=q,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ho(x,S,q,Y){return new cz(x,S,q,Y)}function H2(x){return x=x.prototype,!(!x||!x.isReactComponent)}function uz(x){if(typeof x=="function")return H2(x)?1:0;if(x!=null){if(x=x.$$typeof,x===U)return 11;if(x===C)return 14}return 2}function kf(x,S){var q=x.alternate;return q===null?(q=Ho(x.tag,S,x.key,x.mode),q.elementType=x.elementType,q.type=x.type,q.stateNode=x.stateNode,q.alternate=x,x.alternate=q):(q.pendingProps=S,q.type=x.type,q.flags=0,q.subtreeFlags=0,q.deletions=null),q.flags=x.flags&14680064,q.childLanes=x.childLanes,q.lanes=x.lanes,q.child=x.child,q.memoizedProps=x.memoizedProps,q.memoizedState=x.memoizedState,q.updateQueue=x.updateQueue,S=x.dependencies,q.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},q.sibling=x.sibling,q.index=x.index,q.ref=x.ref,q}function ny(x,S,q,Y,ie,ce){var we=2;if(Y=x,typeof x=="function")H2(x)&&(we=1);else if(typeof x=="string")we=5;else e:switch(x){case M:return Hd(q.children,ie,ce,S);case A:we=8,ie|=8;break;case F:return x=Ho(12,q,S,ie|2),x.elementType=F,x.lanes=ce,x;case O:return x=Ho(13,q,S,ie),x.elementType=O,x.lanes=ce,x;case L:return x=Ho(19,q,S,ie),x.elementType=L,x.lanes=ce,x;case j:return iy(q,ie,ce,S);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case H:we=10;break e;case z:we=9;break e;case U:we=11;break e;case C:we=14;break e;case k:we=16,Y=null;break e}throw Error(e(130,x==null?x:typeof x,""))}return S=Ho(we,q,S,ie),S.elementType=x,S.type=Y,S.lanes=ce,S}function Hd(x,S,q,Y){return x=Ho(7,x,Y,S),x.lanes=q,x}function iy(x,S,q,Y){return x=Ho(22,x,Y,S),x.elementType=j,x.lanes=q,x.stateNode={isHidden:!1},x}function W2(x,S,q){return x=Ho(6,x,null,S),x.lanes=q,x}function V2(x,S,q){return S=Ho(4,x.children!==null?x.children:[],x.key,S),S.lanes=q,S.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},S}function fz(x,S,q,Y,ie){this.tag=S,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gr(0),this.expirationTimes=Gr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.identifierPrefix=Y,this.onRecoverableError=ie,this.mutableSourceEagerHydrationData=null}function G2(x,S,q,Y,ie,ce,we,Be,Ke){return x=new fz(x,S,q,Be,Ke),S===1?(S=1,ce===!0&&(S|=8)):S=0,ce=Ho(3,null,null,S),x.current=ce,ce.stateNode=x,ce.memoizedState={element:Y,isDehydrated:q,cache:null,transitions:null,pendingSuspenseBoundaries:null},xl(ce),x}function dz(x,S,q){var Y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:Y==null?null:""+Y,children:x,containerInfo:S,implementation:q}}function lE(x){if(!x)return nc;x=x._reactInternals;e:{if(Te(x)!==x||x.tag!==1)throw Error(e(170));var S=x;do{switch(S.tag){case 3:S=S.stateNode.context;break e;case 1:if(Ja(S.type)){S=S.stateNode.__reactInternalMemoizedMergedChildContext;break e}}S=S.return}while(S!==null);throw Error(e(171))}if(x.tag===1){var q=x.type;if(Ja(q))return Yp(x,q,S)}return S}function cE(x,S,q,Y,ie,ce,we,Be,Ke){return x=G2(q,Y,!0,x,ie,ce,we,Be,Ke),x.context=lE(null),q=x.current,Y=Ns(),ie=_f(q),ce=pa(Y,ie),ce.callback=S??null,wn(q,ce,ie),x.current.lanes=ie,Xi(x,ie,Y),Vs(x,Y),x}function ay(x,S,q,Y){var ie=S.current,ce=Ns(),we=_f(ie);return q=lE(q),S.context===null?S.context=q:S.pendingContext=q,S=pa(ce,we),S.payload={element:x},Y=Y===void 0?null:Y,Y!==null&&(S.callback=Y),x=wn(ie,S,we),x!==null&&(El(x,ie,we,ce),df(x,ie,we)),we}function sy(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return x.child.stateNode;default:return x.child.stateNode}}function uE(x,S){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var q=x.retryLane;x.retryLane=q!==0&&q<S?q:S}}function X2(x,S){uE(x,S),(x=x.alternate)&&uE(x,S)}function hz(){return null}var fE=typeof reportError=="function"?reportError:function(x){console.error(x)};function K2(x){this._internalRoot=x}oy.prototype.render=K2.prototype.render=function(x){var S=this._internalRoot;if(S===null)throw Error(e(409));ay(x,S,null,null)},oy.prototype.unmount=K2.prototype.unmount=function(){var x=this._internalRoot;if(x!==null){this._internalRoot=null;var S=x.containerInfo;Ud(function(){ay(null,x,null,null)}),S[fa]=null}};function oy(x){this._internalRoot=x}oy.prototype.unstable_scheduleHydration=function(x){if(x){var S=Ki();x={blockedOn:null,target:x,priority:S};for(var q=0;q<Na.length&&S!==0&&S<Na[q].priority;q++);Na.splice(q,0,x),q===0&&$u(x)}};function Y2(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)}function ly(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11&&(x.nodeType!==8||x.nodeValue!==" react-mount-point-unstable "))}function dE(){}function pz(x,S,q,Y,ie){if(ie){if(typeof Y=="function"){var ce=Y;Y=function(){var yt=sy(we);ce.call(yt)}}var we=cE(S,Y,x,0,null,!1,!1,"",dE);return x._reactRootContainer=we,x[fa]=we.current,qc(x.nodeType===8?x.parentNode:x),Ud(),we}for(;ie=x.lastChild;)x.removeChild(ie);if(typeof Y=="function"){var Be=Y;Y=function(){var yt=sy(Ke);Be.call(yt)}}var Ke=G2(x,0,!1,null,null,!1,!1,"",dE);return x._reactRootContainer=Ke,x[fa]=Ke.current,qc(x.nodeType===8?x.parentNode:x),Ud(function(){ay(S,Ke,q,Y)}),Ke}function cy(x,S,q,Y,ie){var ce=q._reactRootContainer;if(ce){var we=ce;if(typeof ie=="function"){var Be=ie;ie=function(){var Ke=sy(we);Be.call(Ke)}}ay(S,we,x,ie)}else we=pz(q,S,x,ie,Y);return sy(we)}bs=function(x){switch(x.tag){case 3:var S=x.stateNode;if(S.current.memoizedState.isDehydrated){var q=Ti(S.pendingLanes);q!==0&&(ao(S,q|1),Vs(S,Fe()),(hn&6)===0&&(t0=Fe()+500,ue()))}break;case 13:Ud(function(){var Y=$n(x,1);if(Y!==null){var ie=Ns();El(Y,x,1,ie)}}),X2(x,1)}},so=function(x){if(x.tag===13){var S=$n(x,134217728);if(S!==null){var q=Ns();El(S,x,134217728,q)}X2(x,134217728)}},ol=function(x){if(x.tag===13){var S=_f(x),q=$n(x,S);if(q!==null){var Y=Ns();El(q,x,S,Y)}X2(x,S)}},Ki=function(){return Br},sa=function(x,S){var q=Br;try{return Br=x,S()}finally{Br=q}},zt=function(x,S,q){switch(S){case"input":if(de(x,q),S=q.name,q.type==="radio"&&S!=null){for(q=x;q.parentNode;)q=q.parentNode;for(q=q.querySelectorAll("input[name="+JSON.stringify(""+S)+'][type="radio"]'),S=0;S<q.length;S++){var Y=q[S];if(Y!==x&&Y.form===x.form){var ie=Ed(Y);if(!ie)throw Error(e(90));re(Y),de(Y,ie)}}}break;case"textarea":qe(x,q);break;case"select":S=q.value,S!=null&&Pe(x,!!q.multiple,S,!1)}},fr=U2,Sr=Ud;var mz={usingClientEntryPoint:!1,Events:[uf,Vc,Ed,Zt,ar,U2]},cm={findFiberByHostInstance:rc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gz={bundleType:cm.bundleType,version:cm.version,rendererPackageName:cm.rendererPackageName,rendererConfig:cm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(x){return x=it(x),x===null?null:x.stateNode},findFiberByHostInstance:cm.findFiberByHostInstance||hz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uy.isDisabled&&uy.supportsFiber)try{kr=uy.inject(gz),mr=uy}catch{}}return Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mz,Gs.createPortal=function(x,S){var q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Y2(S))throw Error(e(200));return dz(x,S,null,q)},Gs.createRoot=function(x,S){if(!Y2(x))throw Error(e(299));var q=!1,Y="",ie=fE;return S!=null&&(S.unstable_strictMode===!0&&(q=!0),S.identifierPrefix!==void 0&&(Y=S.identifierPrefix),S.onRecoverableError!==void 0&&(ie=S.onRecoverableError)),S=G2(x,1,!1,null,null,q,!1,Y,ie),x[fa]=S.current,qc(x.nodeType===8?x.parentNode:x),new K2(S)},Gs.findDOMNode=function(x){if(x==null)return null;if(x.nodeType===1)return x;var S=x._reactInternals;if(S===void 0)throw typeof x.render=="function"?Error(e(188)):(x=Object.keys(x).join(","),Error(e(268,x)));return x=it(S),x=x===null?null:x.stateNode,x},Gs.flushSync=function(x){return Ud(x)},Gs.hydrate=function(x,S,q){if(!ly(S))throw Error(e(200));return cy(null,x,S,!0,q)},Gs.hydrateRoot=function(x,S,q){if(!Y2(x))throw Error(e(405));var Y=q!=null&&q.hydratedSources||null,ie=!1,ce="",we=fE;if(q!=null&&(q.unstable_strictMode===!0&&(ie=!0),q.identifierPrefix!==void 0&&(ce=q.identifierPrefix),q.onRecoverableError!==void 0&&(we=q.onRecoverableError)),S=cE(S,null,x,1,q??null,ie,!1,ce,we),x[fa]=S.current,qc(x),Y)for(x=0;x<Y.length;x++)q=Y[x],ie=q._getVersion,ie=ie(q._source),S.mutableSourceEagerHydrationData==null?S.mutableSourceEagerHydrationData=[q,ie]:S.mutableSourceEagerHydrationData.push(q,ie);return new oy(S)},Gs.render=function(x,S,q){if(!ly(S))throw Error(e(200));return cy(null,x,S,!1,q)},Gs.unmountComponentAtNode=function(x){if(!ly(x))throw Error(e(40));return x._reactRootContainer?(Ud(function(){cy(null,null,x,!1,function(){x._reactRootContainer=null,x[fa]=null})}),!0):!1},Gs.unstable_batchedUpdates=U2,Gs.unstable_renderSubtreeIntoContainer=function(x,S,q,Y){if(!ly(q))throw Error(e(200));if(x==null||x._reactInternals===void 0)throw Error(e(38));return cy(x,S,q,!1,Y)},Gs.version="18.2.0-next-9e3b772b8-20220608",Gs}var xE;function sR(){if(xE)return Q2.exports;xE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Q2.exports=Ez(),Q2.exports}var wE;function jz(){if(wE)return fy;wE=1;var r=sR();return fy.createRoot=r.createRoot,fy.hydrateRoot=r.hydrateRoot,fy}var Az=jz();sR();/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cg(){return cg=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},cg.apply(this,arguments)}var Df;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Df||(Df={}));const _E="popstate";function Tz(r){r===void 0&&(r={});function t(n,i){let{pathname:a,search:s,hash:l}=n.location;return _6("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function e(n,i){return typeof i=="string"?i:Uv(i)}return Oz(t,e,null,r)}function Fi(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function oR(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cz(){return Math.random().toString(36).substr(2,8)}function SE(r,t){return{usr:r.state,key:r.key,idx:t}}function _6(r,t,e,n){return e===void 0&&(e=null),cg({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof t=="string"?jp(t):t,{state:e,key:t&&t.key||n||Cz()})}function Uv(r){let{pathname:t="/",search:e="",hash:n=""}=r;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jp(r){let t={};if(r){let e=r.indexOf("#");e>=0&&(t.hash=r.substr(e),r=r.substr(0,e));let n=r.indexOf("?");n>=0&&(t.search=r.substr(n),r=r.substr(0,n)),r&&(t.pathname=r)}return t}function Oz(r,t,e,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l=Df.Pop,c=null,o=u();o==null&&(o=0,s.replaceState(cg({},s.state,{idx:o}),""));function u(){return(s.state||{idx:null}).idx}function d(){l=Df.Pop;let g=u(),v=g==null?null:g-o;o=g,c&&c({action:l,location:m.location,delta:v})}function f(g,v){l=Df.Push;let b=_6(m.location,g,v);o=u()+1;let w=SE(b,o),_=m.createHref(b);try{s.pushState(w,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(_)}a&&c&&c({action:l,location:m.location,delta:1})}function h(g,v){l=Df.Replace;let b=_6(m.location,g,v);o=u();let w=SE(b,o),_=m.createHref(b);s.replaceState(w,"",_),a&&c&&c({action:l,location:m.location,delta:0})}function y(g){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof g=="string"?g:Uv(g);return b=b.replace(/ $/,"%20"),Fi(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let m={get action(){return l},get location(){return r(i,s)},listen(g){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(_E,d),c=g,()=>{i.removeEventListener(_E,d),c=null}},createHref(g){return t(i,g)},createURL:y,encodeLocation(g){let v=y(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(g){return s.go(g)}};return m}var kE;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(kE||(kE={}));function Pz(r,t,e){e===void 0&&(e="/");let n=typeof t=="string"?jp(t):t,i=y8(n.pathname||"/",e);if(i==null)return null;let a=lR(r);Mz(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=Wz(i);s=zz(a[l],c)}return s}function lR(r,t,e,n){t===void 0&&(t=[]),e===void 0&&(e=[]),n===void 0&&(n="");let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Fi(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let o=qf([n,c.relativePath]),u=e.concat(c);a.children&&a.children.length>0&&(Fi(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),lR(a.children,t,u,o)),!(a.path==null&&!a.index)&&t.push({path:o,score:$z(o,a.index),routesMeta:u})};return r.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of cR(a.path))i(a,s,c)}),t}function cR(r){let t=r.split("/");if(t.length===0)return[];let[e,...n]=t,i=e.endsWith("?"),a=e.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=cR(n.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function Mz(r){r.sort((t,e)=>t.score!==e.score?e.score-t.score:Uz(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}const Iz=/^:[\w-]+$/,Rz=3,Fz=2,Lz=1,Dz=10,Bz=-2,NE=r=>r==="*";function $z(r,t){let e=r.split("/"),n=e.length;return e.some(NE)&&(n+=Bz),t&&(n+=Fz),e.filter(i=>!NE(i)).reduce((i,a)=>i+(Iz.test(a)?Rz:a===""?Lz:Dz),n)}function Uz(r,t){return r.length===t.length&&r.slice(0,-1).every((n,i)=>n===t[i])?r[r.length-1]-t[t.length-1]:0}function zz(r,t){let{routesMeta:e}=r,n={},i="/",a=[];for(let s=0;s<e.length;++s){let l=e[s],c=s===e.length-1,o=i==="/"?t:t.slice(i.length)||"/",u=qz({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},o);if(!u)return null;Object.assign(n,u.params);let d=l.route;a.push({params:n,pathname:qf([i,u.pathname]),pathnameBase:Kz(qf([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=qf([i,u.pathnameBase]))}return a}function qz(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[e,n]=Hz(r.path,r.caseSensitive,r.end),i=t.match(e);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((o,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let m=l[d]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}const y=l[d];return h&&!y?o[f]=void 0:o[f]=(y||"").replace(/%2F/g,"/"),o},{}),pathname:a,pathnameBase:s,pattern:r}}function Hz(r,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),oR(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Wz(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oR(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),r}}function y8(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=r.charAt(e);return n&&n!=="/"?null:r.slice(e)||"/"}function Vz(r,t){t===void 0&&(t="/");let{pathname:e,search:n="",hash:i=""}=typeof r=="string"?jp(r):r;return{pathname:e?e.startsWith("/")?e:Gz(e,t):t,search:Yz(n),hash:Jz(i)}}function Gz(r,t){let e=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function rw(r,t,e,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xz(r){return r.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function v8(r,t){let e=Xz(r);return t?e.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):e.map(n=>n.pathnameBase)}function b8(r,t,e,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=jp(r):(i=cg({},r),Fi(!i.pathname||!i.pathname.includes("?"),rw("?","pathname","search",i)),Fi(!i.pathname||!i.pathname.includes("#"),rw("#","pathname","hash",i)),Fi(!i.search||!i.search.includes("#"),rw("#","search","hash",i)));let a=r===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=e;else{let d=t.length-1;if(!n&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?t[d]:"/"}let c=Vz(i,l),o=s&&s!=="/"&&s.endsWith("/"),u=(a||s===".")&&e.endsWith("/");return!c.pathname.endsWith("/")&&(o||u)&&(c.pathname+="/"),c}const qf=r=>r.join("/").replace(/\/\/+/g,"/"),Kz=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Yz=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Jz=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Zz(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const uR=["post","put","patch","delete"];new Set(uR);const Qz=["get",...uR];new Set(Qz);/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ug(){return ug=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ug.apply(this,arguments)}const x8=fe.createContext(null),eq=fe.createContext(null),ed=fe.createContext(null),hx=fe.createContext(null),td=fe.createContext({outlet:null,matches:[],isDataRoute:!1}),fR=fe.createContext(null);function tq(r,t){let{relative:e}=t===void 0?{}:t;Ap()||Fi(!1);let{basename:n,navigator:i}=fe.useContext(ed),{hash:a,pathname:s,search:l}=hR(r,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:qf([n,s])),i.createHref({pathname:c,search:l,hash:a})}function Ap(){return fe.useContext(hx)!=null}function nl(){return Ap()||Fi(!1),fe.useContext(hx).location}function dR(r){fe.useContext(ed).static||fe.useLayoutEffect(r)}function qa(){let{isDataRoute:r}=fe.useContext(td);return r?pq():rq()}function rq(){Ap()||Fi(!1);let r=fe.useContext(x8),{basename:t,future:e,navigator:n}=fe.useContext(ed),{matches:i}=fe.useContext(td),{pathname:a}=nl(),s=JSON.stringify(v8(i,e.v7_relativeSplatPath)),l=fe.useRef(!1);return dR(()=>{l.current=!0}),fe.useCallback(function(o,u){if(u===void 0&&(u={}),!l.current)return;if(typeof o=="number"){n.go(o);return}let d=b8(o,JSON.parse(s),a,u.relative==="path");r==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:qf([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,s,a,r])}function hR(r,t){let{relative:e}=t===void 0?{}:t,{future:n}=fe.useContext(ed),{matches:i}=fe.useContext(td),{pathname:a}=nl(),s=JSON.stringify(v8(i,n.v7_relativeSplatPath));return fe.useMemo(()=>b8(r,JSON.parse(s),a,e==="path"),[r,s,a,e])}function nq(r,t){return iq(r,t)}function iq(r,t,e,n){Ap()||Fi(!1);let{navigator:i}=fe.useContext(ed),{matches:a}=fe.useContext(td),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let o=nl(),u;if(t){var d;let g=typeof t=="string"?jp(t):t;c==="/"||(d=g.pathname)!=null&&d.startsWith(c)||Fi(!1),u=g}else u=o;let f=u.pathname||"/",h=f;if(c!=="/"){let g=c.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let y=Pz(r,{pathname:h}),m=cq(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:qf([c,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:qf([c,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,e,n);return t&&m?fe.createElement(hx.Provider,{value:{location:ug({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Df.Pop}},m):m}function aq(){let r=hq(),t=Zz(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),e=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return fe.createElement(fe.Fragment,null,fe.createElement("h2",null,"Unexpected Application Error!"),fe.createElement("h3",{style:{fontStyle:"italic"}},t),e?fe.createElement("pre",{style:i},e):null,null)}const sq=fe.createElement(aq,null);class oq extends fe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?fe.createElement(td.Provider,{value:this.props.routeContext},fe.createElement(fR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lq(r){let{routeContext:t,match:e,children:n}=r,i=fe.useContext(x8);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),fe.createElement(td.Provider,{value:t},n)}function cq(r,t,e,n){var i;if(t===void 0&&(t=[]),e===void 0&&(e=null),n===void 0&&(n=null),r==null){var a;if((a=e)!=null&&a.errors)r=e.matches;else return null}let s=r,l=(i=e)==null?void 0:i.errors;if(l!=null){let u=s.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id]));u>=0||Fi(!1),s=s.slice(0,Math.min(s.length,u+1))}let c=!1,o=-1;if(e&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(o=u),d.route.id){let{loaderData:f,errors:h}=e,y=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||y){c=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let h,y=!1,m=null,g=null;e&&(h=l&&d.route.id?l[d.route.id]:void 0,m=d.route.errorElement||sq,c&&(o<0&&f===0?(mq("route-fallback"),y=!0,g=null):o===f&&(y=!0,g=d.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,f+1)),b=()=>{let w;return h?w=m:y?w=g:d.route.Component?w=fe.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,fe.createElement(lq,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:e!=null},children:w})};return e&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?fe.createElement(oq,{location:e.location,revalidation:e.revalidation,component:m,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var pR=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(pR||{}),mR=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(mR||{});function uq(r){let t=fe.useContext(x8);return t||Fi(!1),t}function fq(r){let t=fe.useContext(eq);return t||Fi(!1),t}function dq(r){let t=fe.useContext(td);return t||Fi(!1),t}function gR(r){let t=dq(),e=t.matches[t.matches.length-1];return e.route.id||Fi(!1),e.route.id}function hq(){var r;let t=fe.useContext(fR),e=fq(),n=gR();return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function pq(){let{router:r}=uq(pR.UseNavigateStable),t=gR(mR.UseNavigateStable),e=fe.useRef(!1);return dR(()=>{e.current=!0}),fe.useCallback(function(i,a){a===void 0&&(a={}),e.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,ug({fromRouteId:t},a)))},[r,t])}const EE={};function mq(r,t,e){EE[r]||(EE[r]=!0)}function Ko(r){let{to:t,replace:e,state:n,relative:i}=r;Ap()||Fi(!1);let{future:a,static:s}=fe.useContext(ed),{matches:l}=fe.useContext(td),{pathname:c}=nl(),o=qa(),u=b8(t,v8(l,a.v7_relativeSplatPath),c,i==="path"),d=JSON.stringify(u);return fe.useEffect(()=>o(JSON.parse(d),{replace:e,state:n,relative:i}),[o,d,i,e,n]),null}function hi(r){Fi(!1)}function gq(r){let{basename:t="/",children:e=null,location:n,navigationType:i=Df.Pop,navigator:a,static:s=!1,future:l}=r;Ap()&&Fi(!1);let c=t.replace(/^\/*/,"/"),o=fe.useMemo(()=>({basename:c,navigator:a,static:s,future:ug({v7_relativeSplatPath:!1},l)}),[c,l,a,s]);typeof n=="string"&&(n=jp(n));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:y="default"}=n,m=fe.useMemo(()=>{let g=y8(u,c);return g==null?null:{location:{pathname:g,search:d,hash:f,state:h,key:y},navigationType:i}},[c,u,d,f,h,y,i]);return m==null?null:fe.createElement(ed.Provider,{value:o},fe.createElement(hx.Provider,{children:e,value:m}))}function yq(r){let{children:t,location:e}=r;return nq(S6(t),e)}new Promise(()=>{});function S6(r,t){t===void 0&&(t=[]);let e=[];return fe.Children.forEach(r,(n,i)=>{if(!fe.isValidElement(n))return;let a=[...t,i];if(n.type===fe.Fragment){e.push.apply(e,S6(n.props.children,a));return}n.type!==hi&&Fi(!1),!n.props.index||!n.props.children||Fi(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=S6(n.props.children,a)),e.push(s)}),e}/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k6(){return k6=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},k6.apply(this,arguments)}function vq(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function bq(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function xq(r,t){return r.button===0&&(!t||t==="_self")&&!bq(r)}const wq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_q="6";try{window.__reactRouterVersion=_q}catch{}const Sq="startTransition",jE=Sz[Sq];function kq(r){let{basename:t,children:e,future:n,window:i}=r,a=fe.useRef();a.current==null&&(a.current=Tz({window:i,v5Compat:!0}));let s=a.current,[l,c]=fe.useState({action:s.action,location:s.location}),{v7_startTransition:o}=n||{},u=fe.useCallback(d=>{o&&jE?jE(()=>c(d)):c(d)},[c,o]);return fe.useLayoutEffect(()=>s.listen(u),[s,u]),fe.createElement(gq,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,future:n})}const Nq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Eq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ri=fe.forwardRef(function(t,e){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:l,target:c,to:o,preventScrollReset:u,unstable_viewTransition:d}=t,f=vq(t,wq),{basename:h}=fe.useContext(ed),y,m=!1;if(typeof o=="string"&&Eq.test(o)&&(y=o,Nq))try{let w=new URL(window.location.href),_=o.startsWith("//")?new URL(w.protocol+o):new URL(o),N=y8(_.pathname,h);_.origin===w.origin&&N!=null?o=N+_.search+_.hash:m=!0}catch{}let g=tq(o,{relative:i}),v=jq(o,{replace:s,state:l,target:c,preventScrollReset:u,relative:i,unstable_viewTransition:d});function b(w){n&&n(w),w.defaultPrevented||v(w)}return fe.createElement("a",k6({},f,{href:y||g,onClick:m||a?n:b,ref:e,target:c}))});var AE;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(AE||(AE={}));var TE;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(TE||(TE={}));function jq(r,t){let{target:e,replace:n,state:i,preventScrollReset:a,relative:s,unstable_viewTransition:l}=t===void 0?{}:t,c=qa(),o=nl(),u=hR(r,{relative:s});return fe.useCallback(d=>{if(xq(d,e)){d.preventDefault();let f=n!==void 0?n:Uv(o)===Uv(u);c(r,{replace:f,state:i,preventScrollReset:a,relative:s,unstable_viewTransition:l})}},[o,c,u,n,i,e,r,a,s,l])}let Aq={data:""},Tq=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||Aq,Cq=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Oq=/\/\*[^]*?\*\/|  +/g,CE=/\n+/g,Rf=(r,t)=>{let e="",n="",i="";for(let a in r){let s=r[a];a[0]=="@"?a[1]=="i"?e=a+" "+s+";":n+=a[1]=="f"?Rf(s,a):a+"{"+Rf(s,a[1]=="k"?"":t)+"}":typeof s=="object"?n+=Rf(s,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Rf.p?Rf.p(a,s):a+":"+s+";")}return e+(t&&i?t+"{"+i+"}":i)+n},su={},yR=r=>{if(typeof r=="object"){let t="";for(let e in r)t+=e+yR(r[e]);return t}return r},Pq=(r,t,e,n,i)=>{let a=yR(r),s=su[a]||(su[a]=(c=>{let o=0,u=11;for(;o<c.length;)u=101*u+c.charCodeAt(o++)>>>0;return"go"+u})(a));if(!su[s]){let c=a!==r?r:(o=>{let u,d,f=[{}];for(;u=Cq.exec(o.replace(Oq,""));)u[4]?f.shift():u[3]?(d=u[3].replace(CE," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(CE," ").trim();return f[0]})(r);su[s]=Rf(i?{["@keyframes "+s]:c}:c,e?"":"."+s)}let l=e&&su.g?su.g:null;return e&&(su.g=su[s]),((c,o,u,d)=>{d?o.data=o.data.replace(d,c):o.data.indexOf(c)===-1&&(o.data=u?c+o.data:o.data+c)})(su[s],t,n,l),s},Mq=(r,t,e)=>r.reduce((n,i,a)=>{let s=t[a];if(s&&s.call){let l=s(e),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;s=c?"."+c:l&&typeof l=="object"?l.props?"":Rf(l,""):l===!1?"":l}return n+i+(s??"")},"");function px(r){let t=this||{},e=r.call?r(t.p):r;return Pq(e.unshift?e.raw?Mq(e,[].slice.call(arguments,1),t.p):e.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):e,Tq(t.target),t.g,t.o,t.k)}let vR,N6,E6;px.bind({g:1});let Nu=px.bind({k:1});function Iq(r,t,e,n){Rf.p=t,vR=r,N6=e,E6=n}function rd(r,t){let e=this||{};return function(){let n=arguments;function i(a,s){let l=Object.assign({},a),c=l.className||i.className;e.p=Object.assign({theme:N6&&N6()},l),e.o=/ *go\d+/.test(c),l.className=px.apply(e,n)+(c?" "+c:"");let o=r;return r[0]&&(o=l.as||r,delete l.as),E6&&o[0]&&E6(l),vR(o,l)}return i}}var Rq=r=>typeof r=="function",zv=(r,t)=>Rq(r)?r(t):r,Fq=(()=>{let r=0;return()=>(++r).toString()})(),bR=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");r=!t||t.matches}return r}})(),Lq=20,Av=new Map,Dq=1e3,OE=r=>{if(Av.has(r))return;let t=setTimeout(()=>{Av.delete(r),Nh({type:4,toastId:r})},Dq);Av.set(r,t)},Bq=r=>{let t=Av.get(r);t&&clearTimeout(t)},j6=(r,t)=>{switch(t.type){case 0:return{...r,toasts:[t.toast,...r.toasts].slice(0,Lq)};case 1:return t.toast.id&&Bq(t.toast.id),{...r,toasts:r.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:e}=t;return r.toasts.find(a=>a.id===e.id)?j6(r,{type:1,toast:e}):j6(r,{type:0,toast:e});case 3:let{toastId:n}=t;return n?OE(n):r.toasts.forEach(a=>{OE(a.id)}),{...r,toasts:r.toasts.map(a=>a.id===n||n===void 0?{...a,visible:!1}:a)};case 4:return t.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...r,pausedAt:t.time};case 6:let i=t.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Tv=[],Cv={toasts:[],pausedAt:void 0},Nh=r=>{Cv=j6(Cv,r),Tv.forEach(t=>{t(Cv)})},$q={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Uq=(r={})=>{let[t,e]=fe.useState(Cv);fe.useEffect(()=>(Tv.push(e),()=>{let i=Tv.indexOf(e);i>-1&&Tv.splice(i,1)}),[t]);let n=t.toasts.map(i=>{var a,s;return{...r,...r[i.type],...i,duration:i.duration||((a=r[i.type])==null?void 0:a.duration)||(r==null?void 0:r.duration)||$q[i.type],style:{...r.style,...(s=r[i.type])==null?void 0:s.style,...i.style}}});return{...t,toasts:n}},zq=(r,t="blank",e)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...e,id:(e==null?void 0:e.id)||Fq()}),d1=r=>(t,e)=>{let n=zq(t,r,e);return Nh({type:2,toast:n}),n.id},Ao=(r,t)=>d1("blank")(r,t);Ao.error=d1("error");Ao.success=d1("success");Ao.loading=d1("loading");Ao.custom=d1("custom");Ao.dismiss=r=>{Nh({type:3,toastId:r})};Ao.remove=r=>Nh({type:4,toastId:r});Ao.promise=(r,t,e)=>{let n=Ao.loading(t.loading,{...e,...e==null?void 0:e.loading});return r.then(i=>(Ao.success(zv(t.success,i),{id:n,...e,...e==null?void 0:e.success}),i)).catch(i=>{Ao.error(zv(t.error,i),{id:n,...e,...e==null?void 0:e.error})}),r};var qq=(r,t)=>{Nh({type:1,toast:{id:r,height:t}})},Hq=()=>{Nh({type:5,time:Date.now()})},Wq=r=>{let{toasts:t,pausedAt:e}=Uq(r);fe.useEffect(()=>{if(e)return;let a=Date.now(),s=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&Ao.dismiss(l.id);return}return setTimeout(()=>Ao.dismiss(l.id),c)});return()=>{s.forEach(l=>l&&clearTimeout(l))}},[t,e]);let n=fe.useCallback(()=>{e&&Nh({type:6,time:Date.now()})},[e]),i=fe.useCallback((a,s)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:o}=s||{},u=t.filter(h=>(h.position||o)===(a.position||o)&&h.height),d=u.findIndex(h=>h.id===a.id),f=u.filter((h,y)=>y<d&&h.visible).length;return u.filter(h=>h.visible).slice(...l?[f+1]:[0,f]).reduce((h,y)=>h+(y.height||0)+c,0)},[t]);return{toasts:t,handlers:{updateHeight:qq,startPause:Hq,endPause:n,calculateOffset:i}}},Vq=Nu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Gq=Nu`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xq=Nu`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Kq=rd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Vq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Gq} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Xq} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Yq=Nu`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Jq=rd("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${Yq} 1s linear infinite;
`,Zq=Nu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Qq=Nu`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,eH=rd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Zq} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Qq} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tH=rd("div")`
  position: absolute;
`,rH=rd("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nH=Nu`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,iH=rd("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,aH=({toast:r})=>{let{icon:t,type:e,iconTheme:n}=r;return t!==void 0?typeof t=="string"?fe.createElement(iH,null,t):t:e==="blank"?null:fe.createElement(rH,null,fe.createElement(Jq,{...n}),e!=="loading"&&fe.createElement(tH,null,e==="error"?fe.createElement(Kq,{...n}):fe.createElement(eH,{...n})))},sH=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,oH=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,lH="0%{opacity:0;} 100%{opacity:1;}",cH="0%{opacity:1;} 100%{opacity:0;}",uH=rd("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,fH=rd("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,dH=(r,t)=>{let e=r.includes("top")?1:-1,[n,i]=bR()?[lH,cH]:[sH(e),oH(e)];return{animation:t?`${Nu(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Nu(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},hH=fe.memo(({toast:r,position:t,style:e,children:n})=>{let i=r.height?dH(r.position||t||"top-center",r.visible):{opacity:0},a=fe.createElement(aH,{toast:r}),s=fe.createElement(fH,{...r.ariaProps},zv(r.message,r));return fe.createElement(uH,{className:r.className,style:{...i,...e,...r.style}},typeof n=="function"?n({icon:a,message:s}):fe.createElement(fe.Fragment,null,a,s))});Iq(fe.createElement);var pH=({id:r,className:t,style:e,onHeightUpdate:n,children:i})=>{let a=fe.useCallback(s=>{if(s){let l=()=>{let c=s.getBoundingClientRect().height;n(r,c)};l(),new MutationObserver(l).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return fe.createElement("div",{ref:a,className:t,style:e},i)},mH=(r,t)=>{let e=r.includes("top"),n=e?{top:0}:{bottom:0},i=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:bR()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...n,...i}},gH=px`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,dy=16,yH=({reverseOrder:r,position:t="top-center",toastOptions:e,gutter:n,children:i,containerStyle:a,containerClassName:s})=>{let{toasts:l,handlers:c}=Wq(e);return fe.createElement("div",{style:{position:"fixed",zIndex:9999,top:dy,left:dy,right:dy,bottom:dy,pointerEvents:"none",...a},className:s,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(o=>{let u=o.position||t,d=c.calculateOffset(o,{reverseOrder:r,gutter:n,defaultPosition:t}),f=mH(u,d);return fe.createElement(pH,{id:o.id,key:o.id,onHeightUpdate:c.updateHeight,className:o.visible?gH:"",style:f},o.type==="custom"?zv(o.message,o):i?i(o):fe.createElement(hH,{toast:o,position:u}))}))},Oe=Ao;const vH="modulepreload",bH=function(r){return"/"+r},PE={},Oo=function(t,e,n){let i=Promise.resolve();if(e&&e.length>0){let s=function(o){return Promise.all(o.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(e.map(o=>{if(o=bH(o),o in PE)return;PE[o]=!0;const u=o.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":vH,u||(f.as="script"),f.crossOrigin="",f.href=o,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((h,y)=>{f.addEventListener("load",h),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},xH=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>Oo(async()=>{const{default:n}=await Promise.resolve().then(()=>Tp);return{default:n}},void 0).then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)};class w8 extends Error{constructor(t,e="FunctionsError",n){super(t),this.name=e,this.context=n}}class wH extends w8{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _H extends w8{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class SH extends w8{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var A6;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(A6||(A6={}));var kH=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function l(u){try{o(n.next(u))}catch(d){s(d)}}function c(u){try{o(n.throw(u))}catch(d){s(d)}}function o(u){u.done?a(u.value):i(u.value).then(l,c)}o((n=n.apply(r,t||[])).next())})};class NH{constructor(t,{headers:e={},customFetch:n,region:i=A6.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=xH(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var n;return kH(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=e;let l={},{region:c}=e;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let o;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",o=s):typeof s=="string"?(l["Content-Type"]="text/plain",o=s):typeof FormData<"u"&&s instanceof FormData?o=s:(l["Content-Type"]="application/json",o=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:o}).catch(y=>{throw new wH(y)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new _H(u);if(!u.ok)throw new SH(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}}var ya={},n0={},i0={},a0={},s0={},o0={},EH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Z0=EH();const jH=Z0.fetch,xR=Z0.fetch.bind(Z0),wR=Z0.Headers,AH=Z0.Request,TH=Z0.Response,Tp=Object.freeze(Object.defineProperty({__proto__:null,Headers:wR,Request:AH,Response:TH,default:xR,fetch:jH},Symbol.toStringTag,{value:"Module"})),CH=bz(Tp);var hy={},ME;function _R(){if(ME)return hy;ME=1,Object.defineProperty(hy,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return hy.default=r,hy}var IE;function SR(){if(IE)return o0;IE=1;var r=o0&&o0.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(o0,"__esModule",{value:!0});const t=r(CH),e=r(_R());class n{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=Object.assign({},this.headers),this.headers[a]=s,this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var u,d,f;let h=null,y=null,m=null,g=o.status,v=o.statusText;if(o.ok){if(this.method!=="HEAD"){const N=await o.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=N:y=JSON.parse(N))}const w=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),_=(d=o.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");w&&_&&_.length>1&&(m=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(h={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,m=null,g=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const w=await o.text();try{h=JSON.parse(w),Array.isArray(h)&&o.status===404&&(y=[],h=null,g=200,v="OK")}catch{o.status===404&&w===""?(g=204,v="No Content"):h={message:w}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,g=200,v="OK"),h&&this.shouldThrowOnError)throw new e.default(h)}return{error:h,data:y,count:m,status:g,statusText:v}});return this.shouldThrowOnError||(c=c.catch(o=>{var u,d,f;return{error:{message:`${(u=o==null?void 0:o.name)!==null&&u!==void 0?u:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(d=o==null?void 0:o.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=o==null?void 0:o.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,s)}returns(){return this}overrideTypes(){return this}}return o0.default=n,o0}var RE;function kR(){if(RE)return s0;RE=1;var r=s0&&s0.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(s0,"__esModule",{value:!0});const t=r(SR());class e extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:l,referencedTable:c=l}={}){const o=c?`${c}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:l=s}={}){const c=typeof l>"u"?"offset":`${l}.offset`,o=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(o,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:l=!1,wal:c=!1,format:o="text"}={}){var u;const d=[i?"analyze":null,a?"verbose":null,s?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${f}"; options=${d};`,o==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return s0.default=e,s0}var FE;function _8(){if(FE)return a0;FE=1;var r=a0&&a0.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(a0,"__esModule",{value:!0});const t=r(kR());class e extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const s=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:s,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${c}fts${o}.${a}`),this}match(i){return Object.entries(i).forEach(([a,s])=>{this.url.searchParams.append(a,`eq.${s}`)}),this}not(i,a,s){return this.url.searchParams.append(i,`not.${a}.${s}`),this}or(i,{foreignTable:a,referencedTable:s=a}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,s){return this.url.searchParams.append(i,`${a}.${s}`),this}}return a0.default=e,a0}var LE;function NR(){if(LE)return i0;LE=1;var r=i0&&i0.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(i0,"__esModule",{value:!0});const t=r(_8());class e{constructor(i,{headers:a={},schema:s,fetch:l}){this.url=i,this.headers=a,this.schema=s,this.fetch=l}select(i,{head:a=!1,count:s}={}){const l=a?"HEAD":"GET";let c=!1;const o=(i??"*").split("").map(u=>/\s/.test(u)&&!c?"":(u==='"'&&(c=!c),u)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:s=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),s||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const o=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(o.length>0){const u=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:l,defaultToNull:c=!0}={}){const o="POST",u=[`resolution=${s?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&u.push(this.headers.Prefer),l&&u.push(`count=${l}`),c||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const d=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const s="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),this.headers.Prefer=l.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",s=[];return i&&s.push(`count=${i}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return i0.default=e,i0}var fm={},dm={},DE;function OH(){return DE||(DE=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.version=void 0,dm.version="0.0.0-automated"),dm}var BE;function PH(){if(BE)return fm;BE=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.DEFAULT_HEADERS=void 0;const r=OH();return fm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`},fm}var $E;function MH(){if($E)return n0;$E=1;var r=n0&&n0.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n0,"__esModule",{value:!0});const t=r(NR()),e=r(_8()),n=PH();class i{constructor(s,{headers:l={},schema:c,fetch:o}={}){this.url=s,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=o}from(s){const l=new URL(`${this.url}/${s}`);return new t.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new i(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:c=!1,get:o=!1,count:u}={}){let d;const f=new URL(`${this.url}/rpc/${s}`);let h;c||o?(d=c?"HEAD":"GET",Object.entries(l).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{f.searchParams.append(m,g)})):(d="POST",h=l);const y=Object.assign({},this.headers);return u&&(y.Prefer=`count=${u}`),new e.default({method:d,url:f,headers:y,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}}return n0.default=i,n0}var UE;function IH(){if(UE)return ya;UE=1;var r=ya&&ya.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ya,"__esModule",{value:!0}),ya.PostgrestError=ya.PostgrestBuilder=ya.PostgrestTransformBuilder=ya.PostgrestFilterBuilder=ya.PostgrestQueryBuilder=ya.PostgrestClient=void 0;const t=r(MH());ya.PostgrestClient=t.default;const e=r(NR());ya.PostgrestQueryBuilder=e.default;const n=r(_8());ya.PostgrestFilterBuilder=n.default;const i=r(kR());ya.PostgrestTransformBuilder=i.default;const a=r(SR());ya.PostgrestBuilder=a.default;const s=r(_R());return ya.PostgrestError=s.default,ya.default={PostgrestClient:t.default,PostgrestQueryBuilder:e.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:s.default},ya}var RH=IH();const FH=kn(RH),{PostgrestClient:LH,PostgrestQueryBuilder:kxe,PostgrestFilterBuilder:Nxe,PostgrestTransformBuilder:Exe,PostgrestBuilder:jxe,PostgrestError:Axe}=FH,DH="2.11.2",BH={"X-Client-Info":`realtime-js/${DH}`},$H="1.0.0",ER=1e4,UH=1e3;var M0;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(M0||(M0={}));var bo;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(bo||(bo={}));var Il;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Il||(Il={}));var T6;(function(r){r.websocket="websocket"})(T6||(T6={}));var th;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(th||(th={}));class zH{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,e,n)}_decodeBroadcast(t,e,n){const i=e.getUint8(1),a=e.getUint8(2);let s=this.HEADER_LENGTH+2;const l=n.decode(t.slice(s,s+i));s=s+i;const c=n.decode(t.slice(s,s+a));s=s+a;const o=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:c,payload:o}}}class jR{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Zn;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Zn||(Zn={}));const zE=(r,t,e={})=>{var n;const i=(n=e.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=qH(s,r,t,i),a),{})},qH=(r,t,e,n)=>{const i=t.find(l=>l.name===r),a=i==null?void 0:i.type,s=e[r];return a&&!n.includes(a)?AR(a,s):C6(s)},AR=(r,t)=>{if(r.charAt(0)==="_"){const e=r.slice(1,r.length);return GH(t,e)}switch(r){case Zn.bool:return HH(t);case Zn.float4:case Zn.float8:case Zn.int2:case Zn.int4:case Zn.int8:case Zn.numeric:case Zn.oid:return WH(t);case Zn.json:case Zn.jsonb:return VH(t);case Zn.timestamp:return XH(t);case Zn.abstime:case Zn.date:case Zn.daterange:case Zn.int4range:case Zn.int8range:case Zn.money:case Zn.reltime:case Zn.text:case Zn.time:case Zn.timestamptz:case Zn.timetz:case Zn.tsrange:case Zn.tstzrange:return C6(t);default:return C6(t)}},C6=r=>r,HH=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},WH=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},VH=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},GH=(r,t)=>{if(typeof r!="string")return r;const e=r.length-1,n=r[e];if(r[0]==="{"&&n==="}"){let a;const s=r.slice(1,e);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>AR(t,l))}return r},XH=r=>typeof r=="string"?r.replace(" ","T"):r,TR=r=>{let t=r;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class nw{constructor(t,e,n={},i=ER){this.channel=t,this.event=e,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var n;return this._hasReceived(t)&&e((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qE;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(qE||(qE={}));class Vm{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(e==null?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vm.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Vm.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vm.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,n,i){const a=this.cloneDeep(t),s=this.transformState(e),l={},c={};return this.map(a,(o,u)=>{s[o]||(c[o]=u)}),this.map(s,(o,u)=>{const d=a[o];if(d){const f=u.map(g=>g.presence_ref),h=d.map(g=>g.presence_ref),y=u.filter(g=>h.indexOf(g.presence_ref)<0),m=d.filter(g=>f.indexOf(g.presence_ref)<0);y.length>0&&(l[o]=y),m.length>0&&(c[o]=m)}else l[o]=u}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,e,n,i){const{joins:a,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var o;const u=(o=t[l])!==null&&o!==void 0?o:[];if(t[l]=this.cloneDeep(c),u.length>0){const d=t[l].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);t[l].unshift(...f)}n(l,u,c)}),this.map(s,(l,c)=>{let o=t[l];if(!o)return;const u=c.map(d=>d.presence_ref);o=o.filter(d=>u.indexOf(d.presence_ref)<0),t[l]=o,i(l,o,c),o.length===0&&delete t[l]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(n=>e(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,n)=>{const i=t[n];return"metas"in i?e[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):e[n]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var HE;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(HE||(HE={}));var WE;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(WE||(WE={}));var uu;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(uu||(uu={}));class S8{constructor(t,e={config:{}},n){this.topic=t,this.params=e,this.socket=n,this.bindings={},this.state=bo.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new nw(this,Il.join,this.params,this.timeout),this.rejoinTimer=new jR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bo.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bo.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=bo.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bo.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Il.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Vm(this),this.broadcastEndpointURL=TR(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:s,private:l}}=this.params;this._onError(u=>t==null?void 0:t(uu.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(uu.CLOSED));const c={},o={broadcast:a,presence:s,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:o},c)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(uu.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,y=[];for(let m=0;m<h;m++){const g=f[m],{filter:{event:v,schema:b,table:w,filter:_}}=g,N=u&&u[m];if(N&&N.event===v&&N.schema===b&&N.table===w&&N.filter===_)y.push(Object.assign(Object.assign({},g),{id:N.id}));else{this.unsubscribe(),t==null||t(uu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(uu.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(uu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(uu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,n){return this._on(t,e,n)}async send(t,e={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const o=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=e.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=o.body)===null||i===void 0?void 0:i.cancel()),o.ok?"ok":"error"}catch(o){return o.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const o=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),o.receive("ok",()=>a("ok")),o.receive("error",()=>a("error")),o.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=bo.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Il.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new nw(this,Il.leave,{},t);i.receive("ok",()=>{e(),n("ok")}).receive("timeout",()=>{e(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,e,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(a),s}_push(t,e,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new nw(this,t,e,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,e,n){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,n){var i,a;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:o,join:u}=Il;if(n&&[l,c,o,u].indexOf(s)>=0&&n!==this._joinRef())return;let f=this._onMessage(s,e,n);if(e&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var y,m,g;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(m=h.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(h=>h.callback(f,n)):(a=this.bindings[s])===null||a===void 0||a.filter(h=>{var y,m,g,v,b,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const _=h.id,N=(y=h.filter)===null||y===void 0?void 0:y.event;return _&&((m=e.ids)===null||m===void 0?void 0:m.includes(_))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((g=e.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(b=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((w=e==null?void 0:e.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:m,table:g,commit_timestamp:v,type:b,errors:w}=y;f=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:v,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(y))}h.callback(f,n)})}_isClosed(){return this.state===bo.closed}_isJoined(){return this.state===bo.joined}_isJoining(){return this.state===bo.joining}_isLeaving(){return this.state===bo.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,n){const i=t.toLocaleLowerCase(),a={type:i,filter:e,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,e){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&S8.isEqual(i.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Il.close,{},t)}_onError(t){this._on(Il.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bo.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=zE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=zE(t.columns,t.old_record)),e}}const KH=()=>{},YH=typeof WebSocket<"u",JH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ZH{constructor(t,e){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=BH,this.params={},this.timeout=ER,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=KH,this.conn=null,this.sendBuffer=[],this.serializer=new zH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...l)=>Oo(async()=>{const{default:c}=await Promise.resolve().then(()=>Tp);return{default:c}},void 0).then(({default:c})=>c(...l)):s=fetch,(...l)=>s(...l)},this.endPoint=`${t}/${T6.websocket}`,this.httpEndpoint=TR(t),e!=null&&e.transport?this.transport=e.transport:this.transport=null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e!=null&&e.timeout&&(this.timeout=e.timeout),e!=null&&e.logger&&(this.logger=e.logger),e!=null&&e.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const i=(n=e==null?void 0:e.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e!=null&&e.reconnectAfterMs?e.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=e!=null&&e.encode?e.encode:(a,s)=>s(JSON.stringify(a)),this.decode=e!=null&&e.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jR(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(e==null?void 0:e.fetch),e!=null&&e.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(e==null?void 0:e.worker)||!1,this.workerUrl=e==null?void 0:e.workerUrl}this.accessToken=(e==null?void 0:e.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(YH){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new QH(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Oo(async()=>{const{default:t}=await import("./browser-Dv4BJLII.js").then(e=>e.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$H}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t}log(t,e,n){this.logger(t,e,n)}connectionState(){switch(this.conn&&this.conn.readyState){case M0.connecting:return th.Connecting;case M0.open:return th.Open;case M0.closing:return th.Closing;default:return th.Closed}}isConnected(){return this.connectionState()===th.Open}channel(t,e={config:{}}){const n=new S8(`realtime:${t}`,e,this);return this.channels.push(n),n}push(t){const{topic:e,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${e} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let e=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let n=null;try{n=JSON.parse(atob(e.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(Il.access_token,{access_token:e})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(UH,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:n,event:i,payload:a,ref:s}=e;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${s&&"("+s+")"||""}`,a),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,a,s)),this.stateChangeCallbacks.message.forEach(l=>l(e))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Il.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${n}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{const n=new Blob([JH],{type:"application/javascript"});e=URL.createObjectURL(n)}return e}}class QH{constructor(t,e,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=M0.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class k8 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ba(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class eW extends k8{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class O6 extends k8{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var tW=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function l(u){try{o(n.next(u))}catch(d){s(d)}}function c(u){try{o(n.throw(u))}catch(d){s(d)}}function o(u){u.done?a(u.value):i(u.value).then(l,c)}o((n=n.apply(r,t||[])).next())})};const CR=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>Oo(async()=>{const{default:n}=await Promise.resolve().then(()=>Tp);return{default:n}},void 0).then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)},rW=()=>tW(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oo(()=>Promise.resolve().then(()=>Tp),void 0)).Response:Response}),P6=r=>{if(Array.isArray(r))return r.map(e=>P6(e));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([e,n])=>{const i=e.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=P6(n)}),t};var Eh=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function l(u){try{o(n.next(u))}catch(d){s(d)}}function c(u){try{o(n.throw(u))}catch(d){s(d)}}function o(u){u.done?a(u.value):i(u.value).then(l,c)}o((n=n.apply(r,t||[])).next())})};const iw=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),nW=(r,t,e)=>Eh(void 0,void 0,void 0,function*(){const n=yield rW();r instanceof n&&!(e!=null&&e.noResolveJson)?r.json().then(i=>{t(new eW(iw(i),r.status||500))}).catch(i=>{t(new O6(iw(i),i))}):t(new O6(iw(r),r))}),iW=(r,t,e,n)=>{const i={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),e))};function h1(r,t,e,n,i,a){return Eh(this,void 0,void 0,function*(){return new Promise((s,l)=>{r(e,iW(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>nW(c,l,n))})})}function qv(r,t,e,n){return Eh(this,void 0,void 0,function*(){return h1(r,"GET",t,e,n)})}function Mf(r,t,e,n,i){return Eh(this,void 0,void 0,function*(){return h1(r,"POST",t,n,i,e)})}function aW(r,t,e,n,i){return Eh(this,void 0,void 0,function*(){return h1(r,"PUT",t,n,i,e)})}function sW(r,t,e,n){return Eh(this,void 0,void 0,function*(){return h1(r,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),n)})}function OR(r,t,e,n,i){return Eh(this,void 0,void 0,function*(){return h1(r,"DELETE",t,n,i,e)})}var Xs=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function l(u){try{o(n.next(u))}catch(d){s(d)}}function c(u){try{o(n.throw(u))}catch(d){s(d)}}function o(u){u.done?a(u.value):i(u.value).then(l,c)}o((n=n.apply(r,t||[])).next())})};const oW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},VE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lW{constructor(t,e={},n,i){this.url=t,this.headers=e,this.bucketId=n,this.fetch=CR(i)}uploadOrUpdate(t,e,n,i){return Xs(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},VE),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const o=this._removeEmptyFolders(e),u=this._getFinalPath(o),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:a,headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{})),f=yield d.json();return d.ok?{data:{path:o,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(ba(a))return{data:null,error:a};throw a}})}upload(t,e,n){return Xs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,n)})}uploadToSignedUrl(t,e,n,i){return Xs(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",e);try{let c;const o=Object.assign({upsert:VE.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(o.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",o.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",o.cacheControl)):(c=n,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),f=yield d.json();return d.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(ba(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,e){return Xs(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=yield Mf(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),l=s.searchParams.get("token");if(!l)throw new k8("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(n){if(ba(n))return{data:null,error:n};throw n}})}update(t,e,n){return Xs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,n)})}move(t,e,n){return Xs(this,void 0,void 0,function*(){try{return{data:yield Mf(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ba(i))return{data:null,error:i};throw i}})}copy(t,e,n){return Xs(this,void 0,void 0,function*(){try{return{data:{path:(yield Mf(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ba(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,n){return Xs(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Mf(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(ba(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,n){return Xs(this,void 0,void 0,function*(){try{const i=yield Mf(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(ba(i))return{data:null,error:i};throw i}})}download(t,e){return Xs(this,void 0,void 0,function*(){const i=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield qv(this.fetch,`${this.url}/${i}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ba(l))return{data:null,error:l};throw l}})}info(t){return Xs(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const n=yield qv(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:P6(n),error:null}}catch(n){if(ba(n))return{data:null,error:n};throw n}})}exists(t){return Xs(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield sW(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ba(n)&&n instanceof O6){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,e){const n=this._getFinalPath(t),i=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&i.push(a);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&i.push(c);let o=i.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${o}`)}}}remove(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield OR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(ba(e))return{data:null,error:e};throw e}})}list(t,e,n){return Xs(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},oW),e),{prefix:t||""});return{data:yield Mf(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(ba(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const cW="2.7.1",uW={"X-Client-Info":`storage-js/${cW}`};var l0=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function l(u){try{o(n.next(u))}catch(d){s(d)}}function c(u){try{o(n.throw(u))}catch(d){s(d)}}function o(u){u.done?a(u.value):i(u.value).then(l,c)}o((n=n.apply(r,t||[])).next())})};class fW{constructor(t,e={},n){this.url=t,this.headers=Object.assign(Object.assign({},uW),e),this.fetch=CR(n)}listBuckets(){return l0(this,void 0,void 0,function*(){try{return{data:yield qv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ba(t))return{data:null,error:t};throw t}})}getBucket(t){return l0(this,void 0,void 0,function*(){try{return{data:yield qv(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(ba(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return l0(this,void 0,void 0,function*(){try{return{data:yield Mf(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ba(n))return{data:null,error:n};throw n}})}updateBucket(t,e){return l0(this,void 0,void 0,function*(){try{return{data:yield aW(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ba(n))return{data:null,error:n};throw n}})}emptyBucket(t){return l0(this,void 0,void 0,function*(){try{return{data:yield Mf(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(ba(e))return{data:null,error:e};throw e}})}deleteBucket(t){return l0(this,void 0,void 0,function*(){try{return{data:yield OR(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(ba(e))return{data:null,error:e};throw e}})}}class dW extends fW{constructor(t,e={},n){super(t,e,n)}from(t){return new lW(this.url,this.headers,t,this.fetch)}}const hW="2.49.4";let Lm="";typeof Deno<"u"?Lm="deno":typeof document<"u"?Lm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lm="react-native":Lm="node";const pW={"X-Client-Info":`supabase-js-${Lm}/${hW}`},mW={headers:pW},gW={schema:"public"},yW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vW={};var bW=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function l(u){try{o(n.next(u))}catch(d){s(d)}}function c(u){try{o(n.throw(u))}catch(d){s(d)}}function o(u){u.done?a(u.value):i(u.value).then(l,c)}o((n=n.apply(r,t||[])).next())})};const xW=r=>{let t;return r?t=r:typeof fetch>"u"?t=xR:t=fetch,(...e)=>t(...e)},wW=()=>typeof Headers>"u"?wR:Headers,_W=(r,t,e)=>{const n=xW(e),i=wW();return(a,s)=>bW(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:r;let o=new i(s==null?void 0:s.headers);return o.has("apikey")||o.set("apikey",r),o.has("Authorization")||o.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},s),{headers:o}))})};var SW=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function l(u){try{o(n.next(u))}catch(d){s(d)}}function c(u){try{o(n.throw(u))}catch(d){s(d)}}function o(u){u.done?a(u.value):i(u.value).then(l,c)}o((n=n.apply(r,t||[])).next())})};function kW(r){return r.replace(/\/$/,"")}function NW(r,t){const{db:e,auth:n,realtime:i,global:a}=r,{db:s,auth:l,realtime:c,global:o}=t,u={db:Object.assign(Object.assign({},s),e),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},o),a),accessToken:()=>SW(this,void 0,void 0,function*(){return""})};return r.accessToken?u.accessToken=r.accessToken:delete u.accessToken,u}const PR="2.69.1",k0=30*1e3,M6=3,aw=M6*k0,EW="http://localhost:9999",jW="supabase.auth.token",AW={"X-Client-Info":`gotrue-js/${PR}`},I6="X-Supabase-Api-Version",MR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CW=6e5;class N8 extends Error{constructor(t,e,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=n}}function Yr(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class OW extends N8{constructor(t,e,n){super(t,e,n),this.name="AuthApiError",this.status=e,this.code=n}}function PW(r){return Yr(r)&&r.name==="AuthApiError"}class IR extends N8{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class nd extends N8{constructor(t,e,n,i){super(t,n,i),this.name=e,this.status=n}}class Cf extends nd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function MW(r){return Yr(r)&&r.name==="AuthSessionMissingError"}class sw extends nd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class py extends nd{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class my extends nd{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function IW(r){return Yr(r)&&r.name==="AuthImplicitGrantRedirectError"}class GE extends nd{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class R6 extends nd{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function ow(r){return Yr(r)&&r.name==="AuthRetryableFetchError"}class XE extends nd{constructor(t,e,n){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=n}}class Gm extends nd{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const KE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),YE=` 	
\r=`.split(""),RW=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<YE.length;t+=1)r[YE[t].charCodeAt(0)]=-2;for(let t=0;t<KE.length;t+=1)r[KE[t].charCodeAt(0)]=t;return r})();function RR(r,t,e){const n=RW[r];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function JE(r){const t=[],e=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{DW(s,n,e)};for(let s=0;s<r.length;s+=1)RR(r.charCodeAt(s),i,a);return t.join("")}function FW(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function LW(r,t){for(let e=0;e<r.length;e+=1){let n=r.charCodeAt(e);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(r.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}FW(n,t)}}function DW(r,t,e){if(t.utf8seq===0){if(r<=127){e(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function BW(r){const t=[],e={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<r.length;i+=1)RR(r.charCodeAt(i),e,n);return new Uint8Array(t)}function $W(r){const t=[];return LW(r,e=>t.push(e)),new Uint8Array(t)}function UW(r){return Math.round(Date.now()/1e3)+r}function zW(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const sc=()=>typeof window<"u"&&typeof document<"u",Wd={tested:!1,writable:!1},Xm=()=>{if(!sc())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wd.tested)return Wd.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Wd.tested=!0,Wd.writable=!0}catch{Wd.tested=!0,Wd.writable=!1}return Wd.writable};function qW(r){const t={},e=new URL(r);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return e.searchParams.forEach((n,i)=>{t[i]=n}),t}const FR=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>Oo(async()=>{const{default:n}=await Promise.resolve().then(()=>Tp);return{default:n}},void 0).then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)},HW=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",LR=async(r,t,e)=>{await r.setItem(t,JSON.stringify(e))},gy=async(r,t)=>{const e=await r.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},yy=async(r,t)=>{await r.removeItem(t)};class mx{constructor(){this.promise=new mx.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}mx.promiseConstructor=Promise;function lw(r){const t=r.split(".");if(t.length!==3)throw new Gm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!TW.test(t[n]))throw new Gm("JWT not in base64url format");return{header:JSON.parse(JE(t[0])),payload:JSON.parse(JE(t[1])),signature:BW(t[2]),raw:{header:t[0],payload:t[1]}}}async function WW(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function VW(r,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await r(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function GW(r){return("0"+r.toString(16)).substr(-2)}function XW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=e.length;let i="";for(let a=0;a<56;a++)i+=e.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,GW).join("")}async function KW(r){const e=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",e),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function YW(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const e=await KW(r);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function c0(r,t,e=!1){const n=XW();let i=n;e&&(i+="/PASSWORD_RECOVERY"),await LR(r,`${t}-code-verifier`,i);const a=await YW(n);return[a,n===a?"plain":"s256"]}const JW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZW(r){const t=r.headers.get(I6);if(!t||!t.match(JW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function QW(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function eV(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var tV=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};const Kd=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),rV=[502,503,504];async function ZE(r){var t;if(!HW(r))throw new R6(Kd(r),0);if(rV.includes(r.status))throw new R6(Kd(r),r.status);let e;try{e=await r.json()}catch(a){throw new IR(Kd(a),a)}let n;const i=ZW(r);if(i&&i.getTime()>=MR["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?n=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(n=e.error_code),n){if(n==="weak_password")throw new XE(Kd(e),r.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Cf}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new XE(Kd(e),r.status,e.weak_password.reasons);throw new OW(Kd(e),r.status||500,n)}const nV=(r,t,e,n)=>{const i={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),e))};async function sn(r,t,e,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[I6]||(a[I6]=MR["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await iV(r,t,e+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function iV(r,t,e,n,i,a){const s=nV(t,n,i,a);let l;try{l=await r(e,Object.assign({},s))}catch(c){throw console.error(c),new R6(Kd(c),0)}if(l.ok||await ZE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await ZE(c)}}function Of(r){var t;let e=null;lV(r)&&(e=Object.assign({},r),r.expires_at||(e.expires_at=UW(r.expires_in)));const n=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:e,user:n},error:null}}function QE(r){const t=Of(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((e,n)=>e&&typeof n=="string",!0)&&(t.data.weak_password=r.weak_password),t}function Ff(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function aV(r){return{data:r,error:null}}function sV(r){const{action_link:t,email_otp:e,hashed_token:n,redirect_to:i,verification_type:a}=r,s=tV(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:e,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function oV(r){return r}function lV(r){return r.access_token&&r.refresh_token&&r.expires_in}var cV=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e};class uV{constructor({url:t="",headers:e={},fetch:n}){this.url=t,this.headers=e,this.fetch=FR(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await sn(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Yr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,e={}){try{return await sn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Ff})}catch(n){if(Yr(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:e}=t,n=cV(t,["options"]),i=Object.assign(Object.assign({},n),e);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await sn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:sV,redirectTo:e==null?void 0:e.redirectTo})}catch(e){if(Yr(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await sn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ff})}catch(e){if(Yr(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,n,i,a,s,l,c;try{const o={nextPage:null,lastPage:0,total:0},u=await sn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:oV});if(u.error)throw u.error;const d=await u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{const m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);o[`${g}Page`]=m}),o.total=parseInt(f)),{data:Object.assign(Object.assign({},d),o),error:null}}catch(o){if(Yr(o))return{data:{users:[]},error:o};throw o}}async getUserById(t){try{return await sn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ff})}catch(e){if(Yr(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await sn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Ff})}catch(n){if(Yr(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,e=!1){try{return await sn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Ff})}catch(n){if(Yr(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:e,error:n}=await sn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:n}}catch(e){if(Yr(e))return{data:null,error:e};throw e}}async _deleteFactor(t){try{return{data:await sn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(Yr(e))return{data:null,error:e};throw e}}}const fV={getItem:r=>Xm()?globalThis.localStorage.getItem(r):null,setItem:(r,t)=>{Xm()&&globalThis.localStorage.setItem(r,t)},removeItem:r=>{Xm()&&globalThis.localStorage.removeItem(r)}};function e7(r={}){return{getItem:t=>r[t]||null,setItem:(t,e)=>{r[t]=e},removeItem:t=>{delete r[t]}}}function dV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const u0={debug:!!(globalThis&&Xm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class DR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hV extends DR{}async function pV(r,t,e){u0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),u0.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){u0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return await e()}finally{u0.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(t===0)throw u0.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new hV(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(u0.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}dV();const mV={url:EW,storageKey:jW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function t7(r,t,e){return await e()}class fg{constructor(t){var e,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fg.nextInstanceID,fg.nextInstanceID+=1,this.instanceID>0&&sc()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},mV),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new uV({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=FR(i.fetch),this.lock=i.lock||t7,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:sc()&&(!((e=globalThis==null?void 0:globalThis.navigator)===null||e===void 0)&&e.locks)?this.lock=pV:this.lock=t7,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Xm()?this.storage=fV:(this.memoryStorage={},this.storage=e7(this.memoryStorage)):(this.memoryStorage={},this.storage=e7(this.memoryStorage)),sc()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${PR}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const e=qW(window.location.href);let n="none";if(this._isImplicitGrantCallback(e)?n="implicit":await this._isPKCECallback(e)&&(n="pkce"),sc()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(e,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),IW(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Yr(e)?{error:e}:{error:new IR("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,n,i;try{const a=await sn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(e=t==null?void 0:t.options)===null||e===void 0?void 0:e.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Of}),{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,o=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:o,session:c},error:null}}catch(a){if(Yr(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var e,n,i;try{let a;if("email"in t){const{email:u,password:d,options:f}=t;let h=null,y=null;this.flowType==="pkce"&&([h,y]=await c0(this.storage,this.storageKey)),a=await sn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(e=f==null?void 0:f.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:y},xform:Of})}else if("phone"in t){const{phone:u,password:d,options:f}=t;a=await sn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Of})}else throw new py("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,o=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:o,session:c},error:null}}catch(a){if(Yr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let e;if("email"in t){const{email:a,password:s,options:l}=t;e=await sn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:QE})}else if("phone"in t){const{phone:a,password:s,options:l}=t;e=await sn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:QE})}else throw new py("You must provide either an email or phone number and a password");const{data:n,error:i}=e;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new sw}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(e){if(Yr(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const e=await gy(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(e??"").split("/");try{const{data:a,error:s}=await sn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Of});if(await yy(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new sw}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(Yr(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:e,provider:n,token:i,access_token:a,nonce:s}=t,l=await sn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:e==null?void 0:e.captchaToken}},xform:Of}),{data:c,error:o}=l;return o?{data:{user:null,session:null},error:o}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new sw}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:o})}catch(e){if(Yr(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,n,i,a,s;try{if("email"in t){const{email:l,options:c}=t;let o=null,u=null;this.flowType==="pkce"&&([o,u]=await c0(this.storage,this.storageKey));const{error:d}=await sn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(e=c==null?void 0:c.data)!==null&&e!==void 0?e:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:o,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:o,error:u}=await sn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new py("You must provide either an email or phone number.")}catch(l){if(Yr(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var e,n;try{let i,a;"options"in t&&(i=(e=t.options)===null||e===void 0?void 0:e.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await sn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Of});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,o=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:o,session:c},error:null}}catch(i){if(Yr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var e,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await c0(this.storage,this.storageKey)),await sn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:aV})}catch(a){if(Yr(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:n}=t;if(n)throw n;if(!e)throw new Cf;const{error:i}=await sn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Yr(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await sn(this.fetch,"POST",e,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:l}=await sn(this.fetch,"POST",e,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new py("You must provide either an email or phone number and a type")}catch(e){if(Yr(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await e()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=e();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await gy(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<aw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,o,u)=>(!s&&o==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,o,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await sn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ff}):await this._useSession(async e=>{var n,i,a;const{data:s,error:l}=e;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cf}:await sn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ff})})}catch(e){if(Yr(e))return MW(e)&&(await this._removeSession(),await yy(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Cf;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await c0(this.storage,this.storageKey));const{data:o,error:u}=await sn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e==null?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Ff});if(u)throw u;return s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Yr(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cf;const e=Date.now()/1e3;let n=e,i=!0,a=null;const{payload:s}=lw(t.access_token);if(s.exp&&(n=s.exp,i=n<=e),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-e,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(e){if(Yr(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var n;if(!t){const{data:s,error:l}=e;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Cf;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(Yr(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t,e){try{if(!sc())throw new my("No browser detected.");if(t.error||t.error_description||t.error_code)throw new my(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new GE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new my("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new GE("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:o}=t;if(!a||!l||!s||!o)throw new my("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(l);let f=u+d;c&&(f=parseInt(c));const h=f-u;h*1e3<=k0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const y=f-d;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,u);const{data:m,error:g}=await this._getUser(a);if(g)throw g;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:f,refresh_token:s,token_type:o,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(Yr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await gy(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var n;const{data:i,error:a}=e;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(PW(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await yy(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const e=zW(),n={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async e=>{var n,i;try{const{data:{session:a},error:s}=e;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,e={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await c0(this.storage,this.storageKey,!0));try{return await sn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(a){if(Yr(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:e,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(Yr(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:n,error:i}=await this._useSession(async a=>{var s,l,c,o,u;const{data:d,error:f}=a;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await sn(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return sc()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Yr(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async e=>{var n,i;const{data:a,error:s}=e;if(s)throw s;return await sn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(e){if(Yr(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const n=Date.now();return await VW(async i=>(i>0&&await WW(200*Math.pow(2,i-1)),this._debug(e,"refreshing attempt",i),await sn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Of})),(i,a)=>{const s=200*Math.pow(2,i);return a&&ow(a)&&Date.now()+s-n<k0})}catch(n){if(this._debug(e,"error",n),Yr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",n),sc()&&!e.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const e="#_recoverAndRefresh()";this._debug(e,"begin");try{const n=await gy(this.storage,this.storageKey);if(this._debug(e,"session from storage",n),!this._isValidSession(n)){this._debug(e,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<aw;if(this._debug(e,`session has${i?"":" not"} expired with margin of ${aw}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),ow(a)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(e,"error",n),console.error(n);return}finally{this._debug(e,"end")}}async _callRefreshToken(t){var e,n;if(!t)throw new Cf;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new mx;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Cf;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),Yr(a)){const s={session:null,error:a};return ow(a)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,e,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",e,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:e});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,e)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await LR(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await yy(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sc()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),k0);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/k0);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${k0}ms, refresh threshold is ${M6} ticks`),i<=M6&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof DR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sc()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,n){const i=[`provider=${encodeURIComponent(e)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await c0(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var n;const{data:i,error:a}=e;return a?{data:null,error:a}:await sn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(e){if(Yr(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var n,i;const{data:a,error:s}=e;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:o}=await sn(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(e){if(Yr(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var n;const{data:i,error:a}=e;if(a)return{data:null,error:a};const{data:s,error:l}=await sn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(e){if(Yr(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var n;const{data:i,error:a}=e;return a?{data:null,error:a}:await sn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(e){if(Yr(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=lw(i.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,e={keys:[]}){let n=e.keys.find(s=>s.kid===t);if(n||(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+CW>Date.now()))return n;const{data:i,error:a}=await sn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!i.keys||i.keys.length===0)throw new Gm("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(s=>s.kid===t),!n)throw new Gm("No matching signing key found in JWKS");return n}async getClaims(t,e={keys:[]}){try{let n=t;if(!n){const{data:h,error:y}=await this.getSession();if(y||!h.session)return{data:null,error:y};n=h.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:c}}=lw(n);if(QW(a.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:a,header:i,signature:s},error:null}}const o=eV(i.alg),u=await this.fetchJwk(i.kid,e),d=await crypto.subtle.importKey("jwk",u,o,!0,["verify"]);if(!await crypto.subtle.verify(o,d,s,$W(`${l}.${c}`)))throw new Gm("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(Yr(n))return{data:null,error:n};throw n}}}fg.nextInstanceID=0;const gV=fg;class yV extends gV{constructor(t){super(t)}}var vV=function(r,t,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function l(u){try{o(n.next(u))}catch(d){s(d)}}function c(u){try{o(n.throw(u))}catch(d){s(d)}}function o(u){u.done?a(u.value):i(u.value).then(l,c)}o((n=n.apply(r,t||[])).next())})};class bV{constructor(t,e,n){var i,a,s;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const l=kW(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,o={db:gW,realtime:vW,auth:Object.assign(Object.assign({},yW),{storageKey:c}),global:mW},u=NW(n??{},o);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=_W(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new LH(`${l}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new NH(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new dW(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return vV(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(e=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,storageKey:a,flowType:s,lock:l,debug:c},o,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yV({url:this.authUrl,headers:Object.assign(Object.assign({},d),o),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,flowType:s,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ZH(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,n)=>{this._handleTokenChanged(e,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const BR=(r,t,e)=>new bV(r,t,e),xV="https://pdxyqlxbucoghoetyzmv.supabase.co",wV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBkeHlxbHhidWNvZ2hvZXR5em12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk0MjMyODAsImV4cCI6MjA1NDk5OTI4MH0.HlFAMTnjM-Uxlxu_VbhmZt_6dLgYsVyGRy_lu1foASc",Ks=!1;let r7=!0,n7=0,i7=0,cw=!1,a7=0;function $R(){return console.log(` [${new Date().toISOString()}] Creating new Supabase client instance`),BR(xV,wV,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{fetch:(...t)=>{const e=t[1]||{},n=new Promise((a,s)=>{setTimeout(()=>s(new Error("Request timeout")),15e3)}),i=fetch(t[0],e).then(a=>(a.ok,a)).catch(a=>{throw a});return Promise.race([i,n])}}})}let Yd=$R();async function _V(){if(cw)return!1;const r=Date.now();if(r-n7<3e4||r-a7<1e4)return!1;n7=r,a7=r,i7++,cw=!0;try{Yd=$R();let t=!1;try{await new Promise(n=>setTimeout(n,100));const{error:e}=await Yd.from("products").select("id").limit(1);e||(t=!0)}catch{}if(!t)try{const{data:e}=await Yd.auth.getSession();if(e.session){const{error:n}=await Yd.auth.refreshSession();if(!n){const{error:i}=await Yd.from("products").select("id").limit(1);i||(t=!0)}}}catch{}if(!t)try{const{error:e}=await Yd.from("companies").select("id").limit(1);e||(t=!0)}catch{}return r7=t,t&&(i7=0),t}catch{return r7=!1,!1}finally{cw=!1}}const SV=Yd;async function UR(r,t,e){try{const{data:n,error:i}=await $e.from("products").select("stock").eq("id",r).eq("company_id",e).single();if(i)return console.error("Error getting current product stock:",i),{success:!1,error:`Failed to get current product stock: ${i.message}`};if(!n)return console.error("No product found with id:",r),{success:!1,error:"Failed to get current product: No data returned"};const a=n.stock||0,s=Math.max(0,a+t);console.log(`Updating product ${r} stock: ${a} ${t>=0?"+":"-"} ${Math.abs(t)} = ${s}`);const{data:l,error:c}=await $e.from("products").update({stock:s,updated_at:new Date().toISOString()}).eq("id",r).eq("company_id",e).select().single();return c?(console.error("Error updating product stock:",c),{success:!1,error:`Failed to update product stock: ${c.message}`}):l?(console.log("Product stock updated successfully:",l),{success:!0,updatedProduct:l}):(console.error("No product data returned after stock update"),{success:!1,error:"Failed to update product stock: No data returned"})}catch(n){return console.error("Error in updateProductStock:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error occurred during stock update"}}}const $e=SV;async function kV(r){try{const{data:t,error:e}=await $e.from("tax_rates").select("*");if(e)return console.error("Error checking tax rates:",e),!1;if(!t||t.length===0){const a=[{rate:0,description:"GST Exempt"},{rate:5,description:"GST 5%"},{rate:18,description:"GST 18%"},{rate:28,description:"GST 28%"}],{error:s}=await $e.from("tax_rates").insert(a);if(s)return console.error("Error inserting default tax rates:",s),!1}const{data:n,error:i}=await $e.from("tax_settings").select("*").eq("company_id",r);if(i)return console.error("Error checking tax settings:",i),!1;if(!n||n.length===0){const a={company_id:r,tax_type:"split",tax_inclusive:!1,cess_enabled:!1},{error:s}=await $e.from("tax_settings").insert(a);if(s)return console.error("Error inserting default tax settings:",s),!1}return!0}catch(t){return console.error("Error initializing tax settings:",t),!1}}async function NV(r){try{const{data:{user:t},error:e}=await $e.auth.getUser();if(e)return console.error("Error getting current user:",e),{success:!1,error:`Failed to get current user: ${e.message}`};if(!t)return console.error("No authenticated user found"),{success:!1,error:"User not authenticated"};let n=r.companyId;if(!n){console.log("No company ID provided, getting default company for user");const{data:w,error:_}=await $e.from("company_users").select("company_id, role").eq("user_id",t.id).eq("is_active",!0).order("role",{ascending:!0});if(_)return console.error("Error getting company users:",_),{success:!1,error:`Failed to get company users: ${_.message}`};if(!w||w.length===0)return console.error("No active companies found for user"),{success:!1,error:"No active companies found for user"};n=w[0].company_id}console.log("Using company ID for sale:",n);const{data:i,error:a}=await $e.from("tax_settings").select("*").eq("company_id",n).single();if(a)return console.error("Error getting tax settings:",a),{success:!1,error:`Failed to get tax settings: ${a.message}`};if(!i)return console.error("No tax settings found"),{success:!1,error:"No tax settings found"};const{data:s,error:l}=await $e.from("tax_rates").select("*");if(l)return console.error("Error getting tax rates:",l),{success:!1,error:`Failed to get tax rates: ${l.message}`};if(!s)return console.error("No tax rates found"),{success:!1,error:"No tax rates found"};const c=s.reduce((w,_)=>(w[_.id]=_,w),{}),o=r.taxInclusive??i.tax_inclusive;let u=r.cgst||0,d=r.sgst||0,f=r.igst||0,h=r.cess||0,y=0,m=0,g=0;!r.cgst&&!r.sgst&&!r.igst&&(i.tax_type==="split"?(u=r.tax/2,d=r.tax/2,y=u/r.subtotal*100,m=y):(f=r.tax,g=f/r.subtotal*100)),console.log("GST components:",{cgst:u,sgst:d,igst:f,cess:h}),i.cess_enabled&&r.items.some(_=>{if(!_.taxRateId)return console.log("Item has no taxRateId:",_.name),!1;const N=c[_.taxRateId];return N?N.rate===28:(console.log("No tax rate found for ID:",_.taxRateId),!1)})&&(h=r.subtotal*.01,console.log("CESS applied:",h));const{data:v,error:b}=await $e.from("sales").insert({customer_id:r.customerId,company_id:n,subtotal:r.subtotal,tax:r.tax,total:r.total,payment_method:r.paymentMethod,tax_type:i.tax_type,tax_inclusive:o,cgst:u,sgst:d,igst:f,cess:h,cgst_rate:y,sgst_rate:m,igst_rate:g,cash_received:r.cashReceived,change_amount:r.change,user_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(b)return console.error("Error creating sale:",b),{success:!1,error:`Failed to create sale record: ${b.message}`};if(!v)return console.error("No sale record returned after insert"),{success:!1,error:"Failed to create sale record"};console.log("Sale record created:",v),console.log("Creating sale items for sale ID:",v.id);for(const w of r.items){const{error:_}=await $e.from("sale_items").insert({sale_id:v.id,product_id:w.id,quantity:w.quantity,price:w.price,total:w.price*w.quantity,tax_rate_id:w.taxRateId,tax_amount:w.taxAmount,company_id:n});if(_)return console.error("Error creating sale item:",_),{success:!1,error:`Failed to create sale item: ${_.message}`};if(!n)return console.error("Company ID is undefined, cannot update product stock"),{success:!1,error:"Company ID is required to update product stock"};const{success:N,error:P}=await UR(w.id,-w.quantity,n);if(!N)return console.error("Error updating product stock:",P),{success:!1,error:P||"Failed to update product stock"};console.log("Product stock updated successfully for sale")}return{success:!0,saleId:v.id}}catch(t){return console.error("Error in processSale:",t),{success:!1,error:t instanceof Error?t.message:"Unknown error occurred"}}}async function EV(r){try{const{data:{user:t},error:e}=await $e.auth.getUser();if(e)throw console.error("Error getting current user:",e),new Error(`Failed to get current user: ${e.message}`);if(!t)throw console.error("No authenticated user found"),new Error("User not authenticated");let n=r.companyId;if(!n){console.log("No company ID provided for purchase, getting default company for user");const{data:P,error:M}=await $e.from("company_users").select("company_id, role").eq("user_id",t.id).eq("is_active",!0).order("role",{ascending:!0});if(M)throw console.error("Error getting company users:",M),new Error(`Failed to get company users: ${M.message}`);if(!P||P.length===0)throw console.error("No active companies found for user"),new Error("No active companies found for user");n=P[0].company_id}console.log("Using company ID for purchase:",n);let{data:i,error:a}=await $e.from("tax_settings").select("*").eq("company_id",n);if(a)throw console.error("Error getting tax settings:",a),new Error(`Failed to get tax settings: ${a.message}`);if(!i||i.length===0){console.log("No tax settings found for company:",n,"Creating default tax settings...");const P={company_id:n,tax_type:"split",cess_enabled:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:M,error:A}=await $e.from("tax_settings").insert(P).select().single();if(A)throw console.error("Error creating default tax settings:",A),new Error(`Failed to create default tax settings: ${A.message}`);if(!M)throw console.error("Failed to create default tax settings: No data returned"),new Error("Failed to create default tax settings");console.log("Created default tax settings:",M),i=[M]}const s=i[0];console.log("Using tax settings:",s);let{data:l,error:c}=await $e.from("tax_rates").select("*");if(c)throw console.error("Error getting tax rates:",c),new Error(`Failed to get tax rates: ${c.message}`);if(!l||l.length===0){console.log("No tax rates found. Creating default tax rates...");const P=[{rate:0,description:"GST 0%"},{rate:5,description:"GST 5%"},{rate:12,description:"GST 12%"},{rate:18,description:"GST 18%"},{rate:28,description:"GST 28%"}],{data:M,error:A}=await $e.from("tax_rates").insert(P.map(F=>({rate:F.rate,description:F.description,hsn_code:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}))).select();if(A)throw console.error("Error creating default tax rates:",A),new Error(`Failed to create default tax rates: ${A.message}`);if(!M||M.length===0)throw console.error("Failed to create default tax rates: No data returned"),new Error("Failed to create default tax rates");console.log("Created default tax rates:",M),l=M}const o=l.reduce((P,M)=>(P[M.id]=M,P),{});let u=0,d=0,f=0,h=0,y=0;r.cess!==void 0&&r.cess!==null?(h=r.cess,console.log("Using CESS amount from purchase data:",h)):s.cess_enabled&&r.items.some(M=>{if(!M.taxRateId)return console.log("Item has no taxRateId:",M.name),!1;const A=o[M.taxRateId];return A?A.rate===28:(console.log("No tax rate found for ID:",M.taxRateId),!1)})&&(h=r.subtotal*.01,console.log("Auto-calculated CESS applied:",h)),r.igst!==void 0&&r.igst!==null?(y=r.igst,console.log("Using IGST amount from purchase data:",y)):r.cgst!==void 0&&r.cgst!==null&&r.sgst!==void 0&&r.sgst!==null?(y=r.cgst+r.sgst,console.log("Using CGST+SGST amount from purchase data:",y)):h>0&&r.total===r.subtotal+r.tax+h?(y=r.tax,console.log("Tax amount already excludes CESS:",y)):h>0&&r.total===r.subtotal+r.tax?(y=r.tax-h,console.log("Subtracting CESS from tax amount:",y)):(y=r.tax,console.log("Using tax amount as-is:",y)),console.log("Purchase tax type:",r.taxType),r.cgst!==void 0&&r.sgst!==void 0?(console.log("Using provided CGST and SGST values:",r.cgst,r.sgst),u=r.cgst,d=r.sgst,f=0):r.igst!==void 0?(console.log("Using provided IGST value:",r.igst),f=r.igst,u=0,d=0):r.taxType==="split"?(console.log("Using split tax (CGST+SGST) for this purchase with amount:",y),u=y/2,d=y/2,f=0):(console.log("Using integrated tax (IGST) for this purchase with amount:",y),f=y,u=0,d=0),r.taxType==="integrated"&&f===0&&y>0&&(console.log("Forcing IGST value for integrated tax type:",y),f=y,u=0,d=0),console.log("Creating purchase entry with data:",{creditor_id:r.creditorId,company_id:n,subtotal:r.subtotal,tax:r.tax,total:r.total+h,payment_method:r.paymentMethod,tax_type:r.taxType,cgst:u,sgst:d,igst:f,cess:h,user_id:t.id});const m=parseFloat(u.toFixed(2)),g=parseFloat(d.toFixed(2)),v=parseFloat(f.toFixed(2)),b=parseFloat(h.toFixed(2));console.log("Formatted tax amounts:",{cgst:m,sgst:g,igst:v,cess:b});const w={creditor_id:r.creditorId,company_id:n,subtotal:r.subtotal,tax:r.tax,total:r.total+b,payment_method:r.paymentMethod,status:"completed",tax_type:r.taxType,cgst:m,sgst:g,igst:r.taxType==="integrated"?v:0,cess:b,user_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Final purchase entry data:",w);const{data:_,error:N}=await $e.from("purchase_entries").insert(w).select().single();if(N)throw console.error("Purchase error:",N),new Error("Failed to create purchase record: "+N.message);if(!_)throw new Error("Failed to create purchase record: No data returned");console.log("Purchase record created successfully:",_);for(const P of r.items){const M=P.total||P.price*P.quantity;console.log("Inserting purchase item:",{purchase_id:_.id,product_id:P.id,quantity:P.quantity,purchase_price:P.price,total:M,tax_rate_id:P.taxRateId,tax_amount:P.taxAmount,company_id:n});try{const{error:H}=await $e.from("purchase_items").insert({purchase_id:_.id,product_id:P.id,quantity:P.quantity,purchase_price:P.price,total:M,tax_rate_id:P.taxRateId,tax_amount:P.taxAmount,company_id:n});if(H)if(console.error("Error creating purchase item:",H),H.message.includes("schema cache")||H.message.includes("Could not find")||H.message.includes("column")||H.message.includes("tax_amount")||H.message.includes("company_id")){console.log("Schema cache error detected. Trying simpler insert...");let z;if(H.message.includes("tax_amount")){console.log("Trying fallback insert with company_id but without tax_amount");const{error:U}=await $e.from("purchase_items").insert({purchase_id:_.id,product_id:P.id,quantity:P.quantity,purchase_price:P.price,total:M,tax_rate_id:P.taxRateId,company_id:n});z=U,U||console.log("Fallback insert with company_id succeeded")}if(z&&H.message.includes("company_id")){console.log("Trying fallback insert with tax_amount but without company_id");const{error:U}=await $e.from("purchase_items").insert({purchase_id:_.id,product_id:P.id,quantity:P.quantity,purchase_price:P.price,total:M,tax_rate_id:P.taxRateId,tax_amount:P.taxAmount});z=U,U||console.log("Fallback insert with tax_amount succeeded")}if(z){console.log("Trying basic fallback insert without tax_amount and company_id");const{error:U}=await $e.from("purchase_items").insert({purchase_id:_.id,product_id:P.id,quantity:P.quantity,purchase_price:P.price,total:M,tax_rate_id:P.taxRateId});z=U,U||console.log("Basic fallback insert succeeded")}if(z)throw console.error("Fallback insert also failed:",z),new Error("Failed to create purchase item: "+H.message);console.log("Fallback insert succeeded without tax_amount and company_id")}else throw new Error("Failed to create purchase item: "+H.message)}catch(H){throw console.error("Error in purchase item insertion:",H),H}if(!n)throw console.error("Cannot update product stock: Company ID is undefined"),new Error("Company ID is required to update product stock");const{success:A,error:F}=await UR(P.id,P.quantity,n);if(!A)throw console.error("Error updating product stock:",F),new Error(F||"Failed to update product stock");console.log("Product stock updated successfully for purchase")}return _.id}catch(t){throw console.error("Error in processPurchase:",t),t}}const jV=r=>{try{localStorage.setItem("auth_user_email",r),console.log("Session info stored")}catch(t){console.error("Failed to store session info:",t)}},uw=async()=>{try{console.log("Attempting to recover session...");const{data:r,error:t}=await $e.auth.refreshSession();return t?(console.error("Session recovery failed:",t),!1):r.session?(console.log("Session recovered successfully"),!0):!1}catch(r){return console.error("Error during session recovery:",r),!1}},zR=fe.createContext(void 0),AV=({children:r})=>{const[t,e]=fe.useState(null),[n,i]=fe.useState(null),[a,s]=fe.useState(!0),[l,c]=fe.useState(!1),o=fe.useRef(null),u=fe.useRef(0),d=fe.useRef(null),f=(N,P=1e3)=>{d.current&&clearTimeout(d.current),d.current=setTimeout(N,P)};fe.useEffect(()=>{(async()=>{try{const{data:{session:P}}=await $e.auth.getSession();if(P!=null&&P.user)e(P.user),i(P),h(P.user);else if(console.log("No active session found, attempting recovery..."),await uw()){const{data:{session:A}}=await $e.auth.getSession();A!=null&&A.user?(e(A.user),i(A),h(A.user)):(e(null),i(null))}else e(null),i(null)}catch(P){console.error("Error getting session:",P),e(null),i(null)}finally{s(!1)}})();const{data:{subscription:N}}=$e.auth.onAuthStateChange((P,M)=>{console.log("Auth state changed:",P,M?"Session exists":"No session"),P==="SIGNED_IN"&&(M!=null&&M.user)?(console.log("User signed in:",M.user.id),e(M.user),i(M),s(!1),h(M.user)):P==="SIGNED_OUT"?(console.log("User signed out"),e(null),i(null),s(!1)):P==="TOKEN_REFRESHED"&&(M!=null&&M.user)?(console.log("Token refreshed for user:",M.user.id),e(M.user),i(M)):f(()=>{M!=null&&M.user?(console.log("User authenticated:",M.user.id),e(M.user),i(M)):(console.log("No authenticated user"),e(null),i(null)),s(!1)},300)});return o.current=window.setInterval(async()=>{try{const P=Date.now();if(P-u.current<3e4)return;u.current=P;const{data:M}=await $e.auth.getSession();if(M.session){const A=M.session.expires_at;if(A){const F=new Date(A*1e3),H=new Date(Date.now()+5*60*1e3);F<H&&(console.log("Session about to expire, refreshing..."),await y())}}}catch(P){console.error("Error checking session:",P)}},10*60*1e3),()=>{N.unsubscribe(),o.current&&clearInterval(o.current),d.current&&clearTimeout(d.current)}},[]);const h=async N=>{var P;try{const{error:M}=await $e.from("auth_users").select("id").limit(1);if(M){console.error("Auth users table not ready:",M);return}const{data:A,error:F}=await $e.from("auth_users").select("*").eq("id",N.id).single();if(F&&F.code!=="PGRST116")throw F;const H={id:N.id,display_name:N.user_metadata.display_name||((P=N.email)==null?void 0:P.split("@")[0])||"User",avatar_url:N.user_metadata.avatar_url||null};let z;if(A){const{error:U}=await $e.from("auth_users").update(H).eq("id",N.id).select().single();z=U}else{const{error:U}=await $e.from("auth_users").insert([H]).select().single();z=U}z&&(console.error("Profile operation error:",z),z.code!=="42P01"&&Oe.error("Failed to update profile"))}catch(M){console.error("Profile update error:",M),M instanceof Error&&!M.message.includes('relation "auth_users" does not exist')&&Oe.error("Failed to update profile")}},y=async()=>{try{const{data:N,error:P}=await $e.auth.refreshSession();return P?(console.error("Error refreshing session:",P),P.message.includes("JWT expired")||P.message.includes("No active session found")||P.message.includes("Invalid JWT")?(console.log("Session expired or invalid, attempting recovery..."),await uw()):!1):N.session?(e(N.session.user),i(N.session),!0):(console.log("No session after refresh, attempting recovery..."),await uw())}catch(N){return console.error("Error in refreshSession:",N),!1}},m=async()=>{try{await $e.auth.signOut(),e(null),i(null),Oe.success("Signed out successfully")}catch(N){console.error("Error signing out:",N),Oe.error("Failed to sign out")}},g=async(N,P,M=!1)=>{try{let A;M?A=await $e.auth.verifyOtp({email:N,token:P,type:"magiclink"}):A=await $e.auth.signInWithPassword({email:N,password:P});const{data:F,error:H}=A;return H?(console.error("Login error:",H),Oe.error(H.message||"Failed to login"),!1):F!=null&&F.user?(e(F.user),i(F.session),Oe.success("Logged in successfully"),!0):!1}catch(A){return console.error("Login error:",A),Oe.error("An unexpected error occurred during login"),!1}},v=async(N,P,M)=>{try{const{error:A}=await $e.auth.verifyOtp({email:N,token:P,type:"recovery"});if(A)return{success:!1,message:A.message||"Invalid or expired token"};const{error:F}=await $e.auth.updateUser({password:M});return F?{success:!1,message:F.message||"Failed to update password"}:(Oe.success("Credentials updated successfully"),{success:!0})}catch(A){return console.error("Error updating credentials:",A),{success:!1,message:A instanceof Error?A.message:"An unexpected error occurred"}}},b=async()=>{if(t)try{const{data:N,error:P}=await $e.auth.getUser();if(P){console.error("Error refreshing user:",P);return}N.user&&e(N.user)}catch(N){console.error("Error in refreshUser:",N)}},w=async()=>{if(!t)return!1;try{const{data:N,error:P}=await $e.from("user_preferences").select("onboarding_completed").eq("user_id",t.id).single();if(P)return P.code==="PGRST116"?(c(!0),!0):(console.error("Error checking first login status:",P),!1);const M=!N||N.onboarding_completed!==!0;return c(M),M}catch(N){return console.error("Error in checkFirstLogin:",N),!1}};fe.useEffect(()=>{t?w():c(!1)},[t]);const _={user:t,session:n,isAuthenticated:!!t,isLoading:a,isFirstLogin:l,signOut:m,refreshSession:y,refreshUser:b,login:g,updateCredentials:v,checkFirstLogin:w};return p.jsx(zR.Provider,{value:_,children:r})},jc=()=>{const r=fe.useContext(zR);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},qR=fe.createContext(void 0),TV=({children:r})=>{const{user:t,isAuthenticated:e}=jc(),[n,i]=fe.useState([]),[a,s]=fe.useState([]),[l,c]=fe.useState(null),[o,u]=fe.useState(!0),[d,f]=fe.useState(null),h=async()=>{if(!e||!t){i([]),s([]),c(null),u(!1);return}u(!0),f(null);try{const{data:v,error:b}=await $e.from("companies").select(`
          *,
          company_users!inner (
            user_id,
            role,
            is_active
          )
        `).eq("company_users.user_id",t.id).eq("company_users.is_active",!0).eq("is_active",!0).order("created_at",{ascending:!1});if(b)throw console.error("Error fetching companies:",b),Oe.error("Failed to load companies"),b;const{data:w,error:_}=await $e.from("company_users").select("company_id, role, is_active").eq("is_active",!0);if(_)throw _;const N=new Map;w.forEach(A=>{var F;N.has(A.company_id)||N.set(A.company_id,new Set),(F=N.get(A.company_id))==null||F.add(A.role)});const P=(v==null?void 0:v.map(A=>{var z;const F=Array.from(N.get(A.id)||[]),H=F.includes("manager")&&F.includes("cashier")&&F.includes("salesperson");return{...A,role:((z=A.company_users[0])==null?void 0:z.role)||"cashier",has_all_roles:H,assigned_roles:F}}))||[];i(P);const M=P.filter(A=>A.company_users&&A.company_users.length>0&&A.company_users.some(F=>F.user_id===t.id&&F.is_active===!0));if(s(M),!l&&M.length>0){const A=localStorage.getItem("selectedCompanyId");if(A){const F=M.find(H=>H.id===A);F?c(F):(c(M[0]),localStorage.setItem("selectedCompanyId",M[0].id))}else c(M[0]),localStorage.setItem("selectedCompanyId",M[0].id)}else if(M.length===0)c(null),localStorage.removeItem("selectedCompanyId"),P.length>0?Oe.error("Please ensure your company has all required roles assigned"):Oe.error("No companies available. Please contact your administrator.");else if(l)if(!M.some(F=>F.id===l.id))M.length>0?(c(M[0]),localStorage.setItem("selectedCompanyId",M[0].id),Oe.error(`${l.name} is missing required roles and can't be operated`)):(c(null),localStorage.removeItem("selectedCompanyId"),Oe.error("No companies have all required roles assigned"));else{const F=M.find(H=>H.id===l.id);F&&c(F)}}catch(v){console.error("Error fetching companies:",v);const b=v instanceof Error?v.message:"Failed to fetch companies";f(b),Oe.error(b)}finally{u(!1)}};fe.useEffect(()=>{const v=setTimeout(()=>{h()},200);return()=>clearTimeout(v)},[e,t]);const g={companies:n,operableCompanies:a,selectedCompany:l,setSelectedCompany:v=>{c(v),v?localStorage.setItem("selectedCompanyId",v.id):localStorage.removeItem("selectedCompanyId")},loading:o,error:d,fetchCompanies:h,addCompany:async v=>{if(!e||!t)throw new Error("User not authenticated");u(!0),f(null);try{const{data:b,error:w}=await $e.rpc("create_company",{p_name:v.name||"",p_user_id:t.id,p_legal_name:v.legal_name||"",p_tax_number:v.tax_number||"",p_email:v.email||"",p_phone:v.phone||"",p_website:v.website||"",p_address_street:v.address_street||"",p_address_city:v.address_city||"",p_address_state:v.address_state||"",p_address_postal_code:v.address_postal_code||"",p_address_country:v.address_country||""});if(b&&!w){const{error:M}=await $e.from("company_users").update({role:"owner"}).eq("company_id",b).eq("user_id",t.id);M&&console.error("Failed to set user role:",M)}if(w)throw w;if(!b)throw new Error("No company ID returned from RPC");const{data:_,error:N}=await $e.from("companies").select("*").eq("id",b).single();if(N)throw N;if(!_)throw new Error("Could not fetch newly created company");const P={..._,role:"owner"};return await h(),P}catch(b){const w=(b==null?void 0:b.message)||JSON.stringify(b)||"Failed to add company";throw f(w),Oe.error(`Failed to add company: ${w}`),b}finally{u(!1)}},refresh:h};return p.jsx(qR.Provider,{value:g,children:r})},li=()=>{const r=fe.useContext(qR);if(r===void 0)throw new Error("useCompanyContext must be used within a CompanyProvider");return r},CV=li,s7={manager:{dashboard:{view:!0,create:!0,edit:!0,delete:!0},products:{view:!0,create:!0,edit:!0,delete:!0},sales:{view:!0,create:!0,edit:!0,delete:!0},customers:{view:!0,create:!0,edit:!0,delete:!0},purchase:{view:!0,create:!0,edit:!0,delete:!0},reports:{view:!0,create:!0,edit:!0,delete:!0},gst:{view:!0,create:!0,edit:!0,delete:!0},users:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,create:!0,edit:!0,delete:!0}},cashier:{dashboard:{view:!0,create:!1,edit:!1,delete:!1},products:{view:!0,create:!1,edit:!1,delete:!1},sales:{view:!0,create:!0,edit:!0,delete:!1},customers:{view:!0,create:!0,edit:!1,delete:!1},purchase:{view:!1,create:!1,edit:!1,delete:!1},reports:{view:!0,create:!1,edit:!1,delete:!1},gst:{view:!1,create:!1,edit:!1,delete:!1},users:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,create:!1,edit:!1,delete:!1}},salesperson:{dashboard:{view:!0,create:!1,edit:!1,delete:!1},products:{view:!0,create:!1,edit:!1,delete:!1},sales:{view:!0,create:!0,edit:!1,delete:!1},customers:{view:!0,create:!0,edit:!0,delete:!1},purchase:{view:!1,create:!1,edit:!1,delete:!1},reports:{view:!1,create:!1,edit:!1,delete:!1},gst:{view:!1,create:!1,edit:!1,delete:!1},users:{view:!1,create:!1,edit:!1,delete:!1},settings:{view:!1,create:!1,edit:!1,delete:!1}},admin:{dashboard:{view:!0,create:!0,edit:!0,delete:!0},products:{view:!0,create:!0,edit:!0,delete:!0},sales:{view:!0,create:!0,edit:!0,delete:!0},customers:{view:!0,create:!0,edit:!0,delete:!0},purchase:{view:!0,create:!0,edit:!0,delete:!0},reports:{view:!0,create:!0,edit:!0,delete:!0},gst:{view:!0,create:!0,edit:!0,delete:!0},users:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,create:!0,edit:!0,delete:!0}},owner:{dashboard:{view:!0,create:!0,edit:!0,delete:!0},products:{view:!0,create:!0,edit:!0,delete:!0},sales:{view:!0,create:!0,edit:!0,delete:!0},customers:{view:!0,create:!0,edit:!0,delete:!0},purchase:{view:!0,create:!0,edit:!0,delete:!0},reports:{view:!0,create:!0,edit:!0,delete:!0},gst:{view:!0,create:!0,edit:!0,delete:!0},users:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,create:!0,edit:!0,delete:!0}}},HR=fe.createContext(void 0),OV=({children:r})=>{const{user:t,isAuthenticated:e}=jc(),{selectedCompany:n}=li(),[i,a]=fe.useState(null),[s,l]=fe.useState(null),[c,o]=fe.useState(!0),[u,d]=fe.useState("");fe.useEffect(()=>{const m=`${e}-${t==null?void 0:t.id}-${Date.now()}`;d(m),console.log("New session key generated:",m)},[e,t]),fe.useEffect(()=>{(!e||!t)&&(console.log("User not authenticated, clearing role state"),a(null),l(null),o(!1))},[e,t]);const f=async()=>{if(console.log("fetchUserRole called - isAuthenticated:",e,"user:",t==null?void 0:t.id,"company:",n==null?void 0:n.id),typeof window<"u"&&window.location.pathname==="/login"){console.log("On login page, skipping role fetch"),a(null),l(null),o(!1);return}if(!e||!t){console.log("Not authenticated or no user, clearing role state"),a(null),l(null),o(!1);return}if(!n){console.log("No company selected, clearing role state"),a(null),l(null),o(!1);return}o(!0);try{console.log("Fetching role for user:",t.id,"company:",n.id),await new Promise(v=>setTimeout(v,200));const{data:m,error:g}=await $e.from("company_users").select("role").eq("user_id",t.id).eq("company_id",n.id).eq("is_active",!0).single();if(g){console.error("Error fetching user role:",g);const v=window.location.pathname==="/login"||window.location.pathname.includes("dashboard")||window.location.pathname==="/role-selection";g.code!=="PGRST116"?v||Oe.error("Failed to retrieve user role - please contact your manager"):v||Oe.error("No role assigned for this company - please contact your manager"),a(null),l(null);return}if(m){const v=m.role;console.log("Setting user role:",v,"for user:",t.id),a(v),l(s7[v])}else console.log("No role data found"),a(null),l(null)}catch(m){console.error("Error in fetchUserRole:",m),window.location.pathname==="/login"||window.location.pathname.includes("dashboard")||window.location.pathname==="/role-selection"||Oe.error("An error occurred while fetching user role"),a(null),l(null)}finally{o(!1)}},h=async()=>{if(!t||!n){a(null);return}try{const{data:m,error:g}=await $e.from("company_users").select("role").eq("user_id",t.id).eq("company_id",n.id).eq("is_active",!0).single();if(g){console.error("Error fetching role from company_users:",g),a(null);return}if(m!=null&&m.role){const v=m.role;a(v),l(s7[v]);return}a(null),l(null)}catch(m){console.error("Error refreshing user role:",m),a(null),l(null)}},y=(m,g="view")=>s?s[m][g]:!1;return fe.useEffect(()=>{console.log("RoleContext useEffect triggered - isAuthenticated:",e,"user:",t==null?void 0:t.id,"company:",n==null?void 0:n.id),f()},[e,t,n]),p.jsx(HR.Provider,{value:{userRole:i,permissions:s,isRoleLoading:c,hasPermission:y,refreshUserRole:h},children:r},u)},Ha=()=>{const r=fe.useContext(HR);if(r===void 0)throw new Error("useRole must be used within a RoleProvider");return r};let fw=!1,dw=null,o7=0,N0=0;const PV=3;function MV(){if(fw)return console.log("Connection manager already initialized"),()=>{};console.log("Initializing connection manager"),fw=!0,dw=setInterval(async()=>{await hw()},5*60*1e3);const r=()=>{document.visibilityState==="visible"&&(console.log("Page became visible, checking connection health"),setTimeout(()=>{hw()},1e3))};document.addEventListener("visibilitychange",r);const t=async()=>{console.log("Network came online, checking connection"),await hw()},e=()=>{console.log("Network went offline"),N0++};return window.addEventListener("online",t),window.addEventListener("offline",e),()=>{dw&&clearInterval(dw),document.removeEventListener("visibilitychange",r),window.removeEventListener("online",t),window.removeEventListener("offline",e),fw=!1}}async function hw(){const r=Date.now();if(!(r-o7<3e4)){o7=r;try{console.log("Checking connection health...");const{error:t}=await $e.from("products").select("id").limit(1);t?(N0++,console.error("Connection health check failed:",t),N0>=PV&&(console.log("Multiple connection failures detected, attempting reconnection"),await _V(),N0=0)):(N0=0,console.log("Connection health check passed"))}catch(t){N0++,console.error("Connection health check error:",t)}}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Yt=(r,t)=>{const e=fe.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:c,...o},u)=>fe.createElement("svg",{ref:u,...IV,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${RV(r)}`,l].join(" "),...o},[...t.map(([d,f])=>fe.createElement(d,f)),...Array.isArray(c)?c:[c]]));return e.displayName=`${r}`,e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Yt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Yt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=Yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=Yt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Yt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=Yt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=Yt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=Yt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Yt("BarChart4",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=Yt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=Yt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Yt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Yt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=Yt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=Yt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=Yt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=Yt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=Yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=Yt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=Yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=Yt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=Yt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=Yt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=Yt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=Yt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Yt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=Yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=Yt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Yt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=Yt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=Yt("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=Yt("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=Yt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=Yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=Yt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=Yt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=Yt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=Yt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=Yt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=Yt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Yt("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=Yt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Yt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=Yt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=Yt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Yt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=Yt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=Yt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=Yt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=Yt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=Yt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Yt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Yt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Yt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Yt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Yt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Yt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Yt("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=Yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=Yt("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Yt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=Yt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Yt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=Yt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Yt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=Yt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Yt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=Yt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=Yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=Yt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Yt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=Yt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=Yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=Yt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=Yt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=Yt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=Yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=Yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=Yt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),oF=fe.createContext(void 0),XV=({children:r})=>{const[t,e]=fe.useState(()=>localStorage.getItem("theme")||"dark");fe.useEffect(()=>{localStorage.setItem("theme",t)},[t]);const n=()=>{e(i=>i==="light"?"dark":"light")};return p.jsx(oF.Provider,{value:{theme:t,toggleTheme:n},children:r})},Vr=()=>{const r=fe.useContext(oF);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},_t=rt.forwardRef(({children:r,variant:t="primary",size:e="md",isLoading:n=!1,leftIcon:i,rightIcon:a,disabled:s,fullWidth:l=!1,androidRipple:c=!0,className:o="",...u},d)=>{const f="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",h={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 active:bg-blue-800",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500 active:bg-gray-400 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600 dark:active:bg-gray-900",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 active:bg-red-800",ghost:"bg-transparent hover:bg-gray-100 dark:hover:bg-gray-800 focus:ring-gray-500 active:bg-gray-200 dark:active:bg-gray-700"},y={sm:"text-sm px-3 py-2 md:py-1.5",md:"text-base px-4 py-2.5 md:py-2",lg:"text-lg px-5 py-3 md:px-6"},m=l?"w-full":"",g=c?"android-ripple":"";return p.jsxs("button",{ref:d,className:`${f} ${h[t]} ${y[e]} ${m} ${g} ${o}`,disabled:n||s,...u,children:[n&&p.jsx(nF,{className:"w-4 h-4 mr-2 animate-spin","aria-hidden":"true"}),!n&&i&&p.jsx("span",{className:"mr-2 flex-shrink-0",children:i}),p.jsx("span",{className:"truncate",children:r}),!n&&a&&p.jsx("span",{className:"ml-2 flex-shrink-0",children:a})]})});_t.displayName="Button";function mg(r,t={}){const[e,n]=fe.useState([]),[i,a]=fe.useState(!0),[s,l]=fe.useState(null),c=fe.useMemo(()=>t.filters?t.filters.map(h=>`${h.column}${h.operator}${h.value}`).join("|"):"",[t.filters]),o=fe.useCallback(async()=>{try{let h=$e.from(r).select(t.select||"*");t.filters&&t.filters.forEach(v=>{h=h.filter(v.column,v.operator,v.value)});const{data:y,error:m}=await h;if(m)throw m;const g=y.map(v=>Object.entries(v).reduce((w,[_,N])=>{const P=_.replace(/_([a-z])/g,(M,A)=>A.toUpperCase());return _==="image_url"?w.imageUrl=N:_==="company_id"?w.companyId=N:w[P]=N,w},{}));n(g)}catch(h){l(h instanceof Error?h:new Error("Unknown error occurred"))}finally{a(!1)}},[r,t.select,c]);return fe.useEffect(()=>{o()},[o]),{data:e,loading:i,error:s,add:async h=>{try{const y=Object.entries(h).reduce((v,[b,w])=>{const _=b.replace(/[A-Z]/g,N=>`_${N.toLowerCase()}`);return b==="imageUrl"?v.image_url=w:b==="companyId"?v.company_id=w:b==="taxRateId"?v.tax_rate_id=w:b==="taxType"?v.tax_type=w:b==="taxInclusive"?v.tax_inclusive=w:b==="hsnCode"?v.hsn_code=w:b==="createdAt"?v.created_at=w:b==="updatedAt"?v.updated_at=w:v[_]=w,v},{}),{data:m,error:g}=await $e.from(r).insert(y).select().single();if(g)throw console.error("Database error:",g),g.code==="23505"&&g.message.includes("products_sku_key")?new Error("A product with this SKU already exists. Please use a unique SKU."):new Error(g.message||"Failed to add");if(!m)throw new Error("No data returned after insert");return Oe.success("Added successfully"),m.id}catch(y){throw console.error("Add error:",y),Oe.error(y instanceof Error?y.message:"Failed to add"),y instanceof Error?y:new Error("Failed to add")}},update:async(h,y)=>{try{const m=Object.entries(y).reduce((v,[b,w])=>{const _=b.replace(/[A-Z]/g,N=>`_${N.toLowerCase()}`);return b==="imageUrl"?v.image_url=w:b==="companyId"?v.company_id=w:v[_]=w,v},{}),{error:g}=await $e.from(r).update(m).eq("id",h);if(g)throw console.error("Database update error:",g),g.code==="23505"&&g.message.includes("products_sku_key")?new Error("A product with this SKU already exists. Please use a unique SKU."):g;Oe.success("Updated successfully")}catch(m){throw Oe.error("Failed to update"),m instanceof Error?m:new Error("Failed to update")}},remove:async h=>{try{const{error:y}=await $e.from(r).delete().eq("id",h);if(y)throw y;Oe.success("Deleted successfully")}catch(y){throw Oe.error("Failed to delete"),y instanceof Error?y:new Error("Failed to delete")}}}}function Ln(r){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ln(r)}var hs=Uint8Array,To=Uint16Array,P8=Int32Array,xx=new hs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wx=new hs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),D6=new hs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lF=function(r,t){for(var e=new To(31),n=0;n<31;++n)e[n]=t+=1<<r[n-1];for(var i=new P8(e[30]),n=1;n<30;++n)for(var a=e[n];a<e[n+1];++a)i[a]=a-e[n]<<5|n;return{b:e,r:i}},cF=lF(xx,2),uF=cF.b,B6=cF.r;uF[28]=258,B6[258]=28;var fF=lF(wx,0),KV=fF.b,u7=fF.r,$6=new To(32768);for(var ai=0;ai<32768;++ai){var Ef=(ai&43690)>>1|(ai&21845)<<1;Ef=(Ef&52428)>>2|(Ef&13107)<<2,Ef=(Ef&61680)>>4|(Ef&3855)<<4,$6[ai]=((Ef&65280)>>8|(Ef&255)<<8)>>1}var xc=function(r,t,e){for(var n=r.length,i=0,a=new To(t);i<n;++i)r[i]&&++a[r[i]-1];var s=new To(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(e){l=new To(1<<t);var c=15-t;for(i=0;i<n;++i)if(r[i])for(var o=i<<4|r[i],u=t-r[i],d=s[r[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)l[$6[d]>>c]=o}else for(l=new To(n),i=0;i<n;++i)r[i]&&(l[i]=$6[s[r[i]-1]++]>>15-r[i]);return l},Gf=new hs(288);for(var ai=0;ai<144;++ai)Gf[ai]=8;for(var ai=144;ai<256;++ai)Gf[ai]=9;for(var ai=256;ai<280;++ai)Gf[ai]=7;for(var ai=280;ai<288;++ai)Gf[ai]=8;var gg=new hs(32);for(var ai=0;ai<32;++ai)gg[ai]=5;var YV=xc(Gf,9,0),JV=xc(Gf,9,1),ZV=xc(gg,5,0),QV=xc(gg,5,1),yw=function(r){for(var t=r[0],e=1;e<r.length;++e)r[e]>t&&(t=r[e]);return t},jl=function(r,t,e){var n=t/8|0;return(r[n]|r[n+1]<<8)>>(t&7)&e},vw=function(r,t){var e=t/8|0;return(r[e]|r[e+1]<<8|r[e+2]<<16)>>(t&7)},M8=function(r){return(r+7)/8|0},dF=function(r,t,e){return(e==null||e>r.length)&&(e=r.length),new hs(r.subarray(t,e))},eG=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ml=function(r,t,e){var n=new Error(t||eG[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Ml),!e)throw n;return n},tG=function(r,t,e,n){var i=r.length,a=0;if(!i||t.f&&!t.l)return e||new hs(0);var s=!e,l=s||t.i!=2,c=t.i;s&&(e=new hs(i*3));var o=function(Q){var re=e.length;if(Q>re){var oe=new hs(Math.max(re*2,Q));oe.set(e),e=oe}},u=t.f||0,d=t.p||0,f=t.b||0,h=t.l,y=t.d,m=t.m,g=t.n,v=i*8;do{if(!h){u=jl(r,d,1);var b=jl(r,d+1,3);if(d+=3,b)if(b==1)h=JV,y=QV,m=9,g=5;else if(b==2){var P=jl(r,d,31)+257,M=jl(r,d+10,15)+4,A=P+jl(r,d+5,31)+1;d+=14;for(var F=new hs(A),H=new hs(19),z=0;z<M;++z)H[D6[z]]=jl(r,d+z*3,7);d+=M*3;for(var U=yw(H),O=(1<<U)-1,L=xc(H,U,1),z=0;z<A;){var C=L[jl(r,d,O)];d+=C&15;var w=C>>4;if(w<16)F[z++]=w;else{var k=0,j=0;for(w==16?(j=3+jl(r,d,3),d+=2,k=F[z-1]):w==17?(j=3+jl(r,d,7),d+=3):w==18&&(j=11+jl(r,d,127),d+=7);j--;)F[z++]=k}}var E=F.subarray(0,P),T=F.subarray(P);m=yw(E),g=yw(T),h=xc(E,m,1),y=xc(T,g,1)}else Ml(1);else{var w=M8(d)+4,_=r[w-4]|r[w-3]<<8,N=w+_;if(N>i){c&&Ml(0);break}l&&o(f+_),e.set(r.subarray(w,N),f),t.b=f+=_,t.p=d=N*8,t.f=u;continue}if(d>v){c&&Ml(0);break}}l&&o(f+131072);for(var R=(1<<m)-1,V=(1<<g)-1,B=d;;B=d){var k=h[vw(r,d)&R],K=k>>4;if(d+=k&15,d>v){c&&Ml(0);break}if(k||Ml(2),K<256)e[f++]=K;else if(K==256){B=d,h=null;break}else{var Z=K-254;if(K>264){var z=K-257,ne=xx[z];Z=jl(r,d,(1<<ne)-1)+uF[z],d+=ne}var G=y[vw(r,d)&V],te=G>>4;G||Ml(3),d+=G&15;var T=KV[te];if(te>3){var ne=wx[te];T+=vw(r,d)&(1<<ne)-1,d+=ne}if(d>v){c&&Ml(0);break}l&&o(f+131072);var I=f+Z;if(f<T){var D=a-T,X=Math.min(T,I);for(D+f<0&&Ml(3);f<X;++f)e[f]=n[D+f]}for(;f<I;++f)e[f]=e[f-T]}}t.l=h,t.p=B,t.b=f,t.f=u,h&&(u=1,t.m=m,t.d=y,t.n=g)}while(!u);return f!=e.length&&s?dF(e,0,f):e.subarray(0,f)},ou=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8},pm=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8,r[n+2]|=e>>16},bw=function(r,t){for(var e=[],n=0;n<r.length;++n)r[n]&&e.push({s:n,f:r[n]});var i=e.length,a=e.slice();if(!i)return{t:pF,l:0};if(i==1){var s=new hs(e[0].s+1);return s[e[0].s]=1,{t:s,l:1}}e.sort(function(N,P){return N.f-P.f}),e.push({s:-1,f:25001});var l=e[0],c=e[1],o=0,u=1,d=2;for(e[0]={s:-1,f:l.f+c.f,l,r:c};u!=i-1;)l=e[e[o].f<e[d].f?o++:d++],c=e[o!=u&&e[o].f<e[d].f?o++:d++],e[u++]={s:-1,f:l.f+c.f,l,r:c};for(var f=a[0].s,n=1;n<i;++n)a[n].s>f&&(f=a[n].s);var h=new To(f+1),y=U6(e[u-1],h,0);if(y>t){var n=0,m=0,g=y-t,v=1<<g;for(a.sort(function(P,M){return h[M.s]-h[P.s]||P.f-M.f});n<i;++n){var b=a[n].s;if(h[b]>t)m+=v-(1<<y-h[b]),h[b]=t;else break}for(m>>=g;m>0;){var w=a[n].s;h[w]<t?m-=1<<t-h[w]++-1:++n}for(;n>=0&&m;--n){var _=a[n].s;h[_]==t&&(--h[_],++m)}y=t}return{t:new hs(h),l:y}},U6=function(r,t,e){return r.s==-1?Math.max(U6(r.l,t,e+1),U6(r.r,t,e+1)):t[r.s]=e},f7=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new To(++t),n=0,i=r[0],a=1,s=function(c){e[n++]=c},l=1;l<=t;++l)if(r[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=r[l]}return{c:e.subarray(0,n),n:t}},mm=function(r,t){for(var e=0,n=0;n<t.length;++n)e+=r[n]*t[n];return e},hF=function(r,t,e){var n=e.length,i=M8(t+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var a=0;a<n;++a)r[i+a+4]=e[a];return(i+4+n)*8},d7=function(r,t,e,n,i,a,s,l,c,o,u){ou(t,u++,e),++i[256];for(var d=bw(i,15),f=d.t,h=d.l,y=bw(a,15),m=y.t,g=y.l,v=f7(f),b=v.c,w=v.n,_=f7(m),N=_.c,P=_.n,M=new To(19),A=0;A<b.length;++A)++M[b[A]&31];for(var A=0;A<N.length;++A)++M[N[A]&31];for(var F=bw(M,7),H=F.t,z=F.l,U=19;U>4&&!H[D6[U-1]];--U);var O=o+5<<3,L=mm(i,Gf)+mm(a,gg)+s,C=mm(i,f)+mm(a,m)+s+14+3*U+mm(M,H)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&O<=L&&O<=C)return hF(t,u,r.subarray(c,c+o));var k,j,E,T;if(ou(t,u,1+(C<L)),u+=2,C<L){k=xc(f,h,0),j=f,E=xc(m,g,0),T=m;var R=xc(H,z,0);ou(t,u,w-257),ou(t,u+5,P-1),ou(t,u+10,U-4),u+=14;for(var A=0;A<U;++A)ou(t,u+3*A,H[D6[A]]);u+=3*U;for(var V=[b,N],B=0;B<2;++B)for(var K=V[B],A=0;A<K.length;++A){var Z=K[A]&31;ou(t,u,R[Z]),u+=H[Z],Z>15&&(ou(t,u,K[A]>>5&127),u+=K[A]>>12)}}else k=YV,j=Gf,E=ZV,T=gg;for(var A=0;A<l;++A){var ne=n[A];if(ne>255){var Z=ne>>18&31;pm(t,u,k[Z+257]),u+=j[Z+257],Z>7&&(ou(t,u,ne>>23&31),u+=xx[Z]);var G=ne&31;pm(t,u,E[G]),u+=T[G],G>3&&(pm(t,u,ne>>5&8191),u+=wx[G])}else pm(t,u,k[ne]),u+=j[ne]}return pm(t,u,k[256]),u+j[256]},rG=new P8([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pF=new hs(0),nG=function(r,t,e,n,i,a){var s=a.z||r.length,l=new hs(n+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(n,l.length-i),o=a.l,u=(a.r||0)&7;if(t){u&&(c[0]=a.r>>3);for(var d=rG[t-1],f=d>>13,h=d&8191,y=(1<<e)-1,m=a.p||new To(32768),g=a.h||new To(y+1),v=Math.ceil(e/3),b=2*v,w=function(se){return(r[se]^r[se+1]<<v^r[se+2]<<b)&y},_=new P8(25e3),N=new To(288),P=new To(32),M=0,A=0,F=a.i||0,H=0,z=a.w||0,U=0;F+2<s;++F){var O=w(F),L=F&32767,C=g[O];if(m[L]=C,g[O]=L,z<=F){var k=s-F;if((M>7e3||H>24576)&&(k>423||!o)){u=d7(r,c,0,_,N,P,A,H,U,F-U,u),H=M=A=0,U=F;for(var j=0;j<286;++j)N[j]=0;for(var j=0;j<30;++j)P[j]=0}var E=2,T=0,R=h,V=L-C&32767;if(k>2&&O==w(F-V))for(var B=Math.min(f,k)-1,K=Math.min(32767,F),Z=Math.min(258,k);V<=K&&--R&&L!=C;){if(r[F+E]==r[F+E-V]){for(var ne=0;ne<Z&&r[F+ne]==r[F+ne-V];++ne);if(ne>E){if(E=ne,T=V,ne>B)break;for(var G=Math.min(V,ne-2),te=0,j=0;j<G;++j){var I=F-V+j&32767,D=m[I],X=I-D&32767;X>te&&(te=X,C=I)}}}L=C,C=m[L],V+=L-C&32767}if(T){_[H++]=268435456|B6[E]<<18|u7[T];var Q=B6[E]&31,re=u7[T]&31;A+=xx[Q]+wx[re],++N[257+Q],++P[re],z=F+E,++M}else _[H++]=r[F],++N[r[F]]}}for(F=Math.max(F,z);F<s;++F)_[H++]=r[F],++N[r[F]];u=d7(r,c,o,_,N,P,A,H,U,F-U,u),o||(a.r=u&7|c[u/8|0]<<3,u-=7,a.h=g,a.p=m,a.i=F,a.w=z)}else{for(var F=a.w||0;F<s+o;F+=65535){var oe=F+65535;oe>=s&&(c[u/8|0]=o,oe=s),u=hF(c,u+1,r.subarray(F,oe))}a.i=s}return dF(l,0,n+M8(u)+i)},mF=function(){var r=1,t=0;return{p:function(e){for(var n=r,i=t,a=e.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=n+=e[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,t=i},d:function(){return r%=65521,t%=65521,(r&255)<<24|(r&65280)<<8|(t&255)<<8|t>>8}}},iG=function(r,t,e,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new hs(a.length+r.length);s.set(a),s.set(r,a.length),r=s,i.w=a.length}return nG(r,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+t.mem,e,n,i)},gF=function(r,t,e){for(;e;++t)r[t]=e,e>>>=8},aG=function(r,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(r[0]=120,r[1]=n<<6|(t.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,t.dictionary){var i=mF();i.p(t.dictionary),gF(r,2,i.d())}},sG=function(r,t){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&Ml(6,"invalid zlib data"),(r[1]>>5&1)==1&&Ml(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function z6(r,t){t||(t={});var e=mF();e.p(r);var n=iG(r,t,t.dictionary?6:2,4);return aG(n,t),gF(n,n.length-4,e.d()),n}function oG(r,t){return tG(r.subarray(sG(r),-4),{i:2},t,t)}var lG=typeof TextDecoder<"u"&&new TextDecoder,cG=0;try{lG.decode(pF,{stream:!0}),cG=1}catch{}var Fr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function xw(){Fr.console&&typeof Fr.console.log=="function"&&Fr.console.log.apply(Fr.console,arguments)}var Wn={log:xw,warn:function(r){Fr.console&&(typeof Fr.console.warn=="function"?Fr.console.warn.apply(Fr.console,arguments):xw.call(null,arguments))},error:function(r){Fr.console&&(typeof Fr.console.error=="function"?Fr.console.error.apply(Fr.console,arguments):xw(r))}};function ww(r,t,e){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Jd(n.response,t,e)},n.onerror=function(){Wn.error("could not download file")},n.send()}function h7(r){var t=new XMLHttpRequest;t.open("HEAD",r,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function by(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}}var Ym,q6,Jd=Fr.saveAs||((typeof window>"u"?"undefined":Ln(window))!=="object"||window!==Fr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,t,e){var n=Fr.URL||Fr.webkitURL,i=document.createElement("a");t=t||r.name||"download",i.download=t,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?h7(i.href)?ww(r,t,e):by(i,i.target="_blank"):by(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){by(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,t,e){if(t=t||r.name||"download",typeof r=="string")if(h7(r))ww(r,t,e);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){by(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Ln(a)!=="object"&&(Wn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(r,e),t)}:function(r,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return ww(r,t,e);var i=r.type==="application/octet-stream",a=/constructor/i.test(Fr.HTMLElement)||Fr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Ln(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(r)}else{var c=Fr.URL||Fr.webkitURL,o=c.createObjectURL(r);n?n.location=o:location.href=o,n=null,setTimeout(function(){c.revokeObjectURL(o)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function yF(r){var t;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<e.length;n++){var i=e[n].re,a=e[n].process,s=i.exec(r);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),o=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),o.length==1&&(o="0"+o),"#"+l+c+o}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _w(r,t){var e=r[0],n=r[1],i=r[2],a=r[3];e=rs(e,n,i,a,t[0],7,-680876936),a=rs(a,e,n,i,t[1],12,-389564586),i=rs(i,a,e,n,t[2],17,606105819),n=rs(n,i,a,e,t[3],22,-1044525330),e=rs(e,n,i,a,t[4],7,-176418897),a=rs(a,e,n,i,t[5],12,1200080426),i=rs(i,a,e,n,t[6],17,-1473231341),n=rs(n,i,a,e,t[7],22,-45705983),e=rs(e,n,i,a,t[8],7,1770035416),a=rs(a,e,n,i,t[9],12,-1958414417),i=rs(i,a,e,n,t[10],17,-42063),n=rs(n,i,a,e,t[11],22,-1990404162),e=rs(e,n,i,a,t[12],7,1804603682),a=rs(a,e,n,i,t[13],12,-40341101),i=rs(i,a,e,n,t[14],17,-1502002290),e=ns(e,n=rs(n,i,a,e,t[15],22,1236535329),i,a,t[1],5,-165796510),a=ns(a,e,n,i,t[6],9,-1069501632),i=ns(i,a,e,n,t[11],14,643717713),n=ns(n,i,a,e,t[0],20,-373897302),e=ns(e,n,i,a,t[5],5,-701558691),a=ns(a,e,n,i,t[10],9,38016083),i=ns(i,a,e,n,t[15],14,-660478335),n=ns(n,i,a,e,t[4],20,-405537848),e=ns(e,n,i,a,t[9],5,568446438),a=ns(a,e,n,i,t[14],9,-1019803690),i=ns(i,a,e,n,t[3],14,-187363961),n=ns(n,i,a,e,t[8],20,1163531501),e=ns(e,n,i,a,t[13],5,-1444681467),a=ns(a,e,n,i,t[2],9,-51403784),i=ns(i,a,e,n,t[7],14,1735328473),e=is(e,n=ns(n,i,a,e,t[12],20,-1926607734),i,a,t[5],4,-378558),a=is(a,e,n,i,t[8],11,-2022574463),i=is(i,a,e,n,t[11],16,1839030562),n=is(n,i,a,e,t[14],23,-35309556),e=is(e,n,i,a,t[1],4,-1530992060),a=is(a,e,n,i,t[4],11,1272893353),i=is(i,a,e,n,t[7],16,-155497632),n=is(n,i,a,e,t[10],23,-1094730640),e=is(e,n,i,a,t[13],4,681279174),a=is(a,e,n,i,t[0],11,-358537222),i=is(i,a,e,n,t[3],16,-722521979),n=is(n,i,a,e,t[6],23,76029189),e=is(e,n,i,a,t[9],4,-640364487),a=is(a,e,n,i,t[12],11,-421815835),i=is(i,a,e,n,t[15],16,530742520),e=as(e,n=is(n,i,a,e,t[2],23,-995338651),i,a,t[0],6,-198630844),a=as(a,e,n,i,t[7],10,1126891415),i=as(i,a,e,n,t[14],15,-1416354905),n=as(n,i,a,e,t[5],21,-57434055),e=as(e,n,i,a,t[12],6,1700485571),a=as(a,e,n,i,t[3],10,-1894986606),i=as(i,a,e,n,t[10],15,-1051523),n=as(n,i,a,e,t[1],21,-2054922799),e=as(e,n,i,a,t[8],6,1873313359),a=as(a,e,n,i,t[15],10,-30611744),i=as(i,a,e,n,t[6],15,-1560198380),n=as(n,i,a,e,t[13],21,1309151649),e=as(e,n,i,a,t[4],6,-145523070),a=as(a,e,n,i,t[11],10,-1120210379),i=as(i,a,e,n,t[2],15,718787259),n=as(n,i,a,e,t[9],21,-343485551),r[0]=Bf(e,r[0]),r[1]=Bf(n,r[1]),r[2]=Bf(i,r[2]),r[3]=Bf(a,r[3])}function _x(r,t,e,n,i,a){return t=Bf(Bf(t,r),Bf(n,a)),Bf(t<<i|t>>>32-i,e)}function rs(r,t,e,n,i,a,s){return _x(t&e|~t&n,r,t,i,a,s)}function ns(r,t,e,n,i,a,s){return _x(t&n|e&~n,r,t,i,a,s)}function is(r,t,e,n,i,a,s){return _x(t^e^n,r,t,i,a,s)}function as(r,t,e,n,i,a,s){return _x(e^(t|~n),r,t,i,a,s)}function vF(r){var t,e=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=r.length;t+=64)_w(n,uG(r.substring(t-64,t)));r=r.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r.length;t++)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(_w(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*e,_w(n,i),n}function uG(r){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24);return e}Ym=Fr.atob.bind(Fr),q6=Fr.btoa.bind(Fr);var p7="0123456789abcdef".split("");function fG(r){for(var t="",e=0;e<4;e++)t+=p7[r>>8*e+4&15]+p7[r>>8*e&15];return t}function dG(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function H6(r){return vF(r).map(dG).join("")}var hG=function(r){for(var t=0;t<r.length;t++)r[t]=fG(r[t]);return r.join("")}(vF("hello"))!="5d41402abc4b2a76b9719d911017c592";function Bf(r,t){if(hG){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}return r+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function W6(r,t){var e,n,i,a;if(r!==e){for(var s=(i=r,a=1+(256/r.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var o=0;for(c=0;c<256;c++){var u=l[c];o=(o+u+s.charCodeAt(c))%256,l[c]=l[o],l[o]=u}e=r,n=l}else l=n;var d=t.length,f=0,h=0,y="";for(c=0;c<d;c++)h=(h+(u=l[f=(f+1)%256]))%256,l[f]=l[h],l[h]=u,s=l[(l[f]+l[h])%256],y+=String.fromCharCode(t.charCodeAt(c)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var m7={print:4,modify:8,copy:16,"annot-forms":32};function E0(r,t,e,n){this.v=1,this.r=2;var i=192;r.forEach(function(l){if(m7.perm!==void 0)throw new Error("Invalid permission: "+l);i+=m7[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=H6(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=W6(this.encryptionKey,this.padding)}function j0(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var t="",e=r.length,n=0;n<e;n++){var i=r.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=r[n]}return t}function g7(r){if(Ln(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,i){if(i=i||!1,typeof e!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!i],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[e]){var s=t[e][a];try{s[0].apply(r,n)}catch(l){Fr.console&&Wn.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Yv(r){if(!(this instanceof Yv))return new Yv(r);var t="opacity,stroke-opacity".split(",");for(var e in r)r.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=r[e]);this.id="",this.objectNumber=-1}function bF(r,t){this.gState=r,this.matrix=t,this.id="",this.objectNumber=-1}function rh(r,t,e,n,i){if(!(this instanceof rh))return new rh(r,t,e,n,i);this.type=r==="axial"?2:3,this.coords=t,this.colors=e,bF.call(this,n,i)}function C0(r,t,e,n,i){if(!(this instanceof C0))return new C0(r,t,e,n,i);this.boundingBox=r,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,bF.call(this,n,i)}function Pr(r){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,o="S",u=null;Ln(r=r||{})==="object"&&(e=r.orientation,n=r.unit||n,i=r.format||i,a=r.compress||r.compressPdf||a,(u=r.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(t=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),o=r.defaultPathOperation||"S"),s=r.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",e=(""+(e||"P")).toLowerCase();var d=r.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=g7;var y="1.3",m=h.__private__.getPdfVersion=function(){return y};h.__private__.setPdfVersion=function(ee){y=ee};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return g};var v=h.__private__.getPageFormat=function(ee){return g[ee]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},w=b.COMPAT;function _(){this.saveGraphicsState(),le(new Vt(Ve,0,0,-Ve,0,Yl()*Ve).toString()+" cm"),this.setFontSize(this.getFontSize()/Ve),o="n",w=b.ADVANCED}function N(){this.restoreGraphicsState(),o="S",w=b.COMPAT}var P=h.__private__.combineFontStyleAndFontWeight=function(ee,ye){if(ee=="bold"&&ye=="normal"||ee=="bold"&&ye==400||ee=="normal"&&ye=="italic"||ee=="bold"&&ye=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ye&&(ee=ye==400||ye==="normal"?ee==="italic"?"italic":"normal":ye!=700&&ye!=="bold"||ee!=="normal"?(ye==700?"bold":ye)+""+ee:"bold"),ee};h.advancedAPI=function(ee){var ye=w===b.COMPAT;return ye&&_.call(this),typeof ee!="function"||(ee(this),ye&&N.call(this)),this},h.compatAPI=function(ee){var ye=w===b.ADVANCED;return ye&&N.call(this),typeof ee!="function"||(ee(this),ye&&_.call(this)),this},h.isAdvancedAPI=function(){return w===b.ADVANCED};var M,A=function(ee){if(w!==b.ADVANCED)throw new Error(ee+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=h.roundToPrecision=h.__private__.roundToPrecision=function(ee,ye){var Le=t||ye;if(isNaN(ee)||isNaN(Le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ee.toFixed(Le).replace(/0+$/,"")};M=h.hpf=h.__private__.hpf=typeof c=="number"?function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.hpf");return F(ee,c)}:c==="smart"?function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.hpf");return F(ee,ee>-1&&ee<1?16:5)}:function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.hpf");return F(ee,16)};var H=h.f2=h.__private__.f2=function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.f2");return F(ee,2)},z=h.__private__.f3=function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.f3");return F(ee,3)},U=h.scale=h.__private__.scale=function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.scale");return w===b.COMPAT?ee*Ve:w===b.ADVANCED?ee:void 0},O=function(ee){return w===b.COMPAT?Yl()-ee:w===b.ADVANCED?ee:void 0},L=function(ee){return U(O(ee))};h.__private__.setPrecision=h.setPrecision=function(ee){typeof parseInt(ee,10)=="number"&&(t=parseInt(ee,10))};var C,k="00000000000000000000000000000000",j=h.__private__.getFileId=function(){return k},E=h.__private__.setFileId=function(ee){return k=ee!==void 0&&/^[a-fA-F0-9]{32}$/.test(ee)?ee.toUpperCase():k.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(On=new E0(u.userPermissions,u.userPassword,u.ownerPassword,k)),k};h.setFileId=function(ee){return E(ee),this},h.getFileId=function(){return j()};var T=h.__private__.convertDateToPDFDate=function(ee){var ye=ee.getTimezoneOffset(),Le=ye<0?"+":"-",Ge=Math.floor(Math.abs(ye/60)),at=Math.abs(ye%60),kt=[Le,Z(Ge),"'",Z(at),"'"].join("");return["D:",ee.getFullYear(),Z(ee.getMonth()+1),Z(ee.getDate()),Z(ee.getHours()),Z(ee.getMinutes()),Z(ee.getSeconds()),kt].join("")},R=h.__private__.convertPDFDateToDate=function(ee){var ye=parseInt(ee.substr(2,4),10),Le=parseInt(ee.substr(6,2),10)-1,Ge=parseInt(ee.substr(8,2),10),at=parseInt(ee.substr(10,2),10),kt=parseInt(ee.substr(12,2),10),Bt=parseInt(ee.substr(14,2),10);return new Date(ye,Le,Ge,at,kt,Bt,0)},V=h.__private__.setCreationDate=function(ee){var ye;if(ee===void 0&&(ee=new Date),ee instanceof Date)ye=T(ee);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ee))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ye=ee}return C=ye},B=h.__private__.getCreationDate=function(ee){var ye=C;return ee==="jsDate"&&(ye=R(C)),ye};h.setCreationDate=function(ee){return V(ee),this},h.getCreationDate=function(ee){return B(ee)};var K,Z=h.__private__.padd2=function(ee){return("0"+parseInt(ee)).slice(-2)},ne=h.__private__.padd2Hex=function(ee){return("00"+(ee=ee.toString())).substr(ee.length)},G=0,te=[],I=[],D=0,X=[],Q=[],re=!1,oe=I,se=function(){G=0,D=0,I=[],te=[],X=[],be=mt(),Ee=mt()};h.__private__.setCustomOutputDestination=function(ee){re=!0,oe=ee};var he=function(ee){re||(oe=ee)};h.__private__.resetCustomOutputDestination=function(){re=!1,oe=I};var le=h.__private__.out=function(ee){return ee=ee.toString(),D+=ee.length+1,oe.push(ee),oe},de=h.__private__.write=function(ee){return le(arguments.length===1?ee.toString():Array.prototype.join.call(arguments," "))},ve=h.__private__.getArrayBuffer=function(ee){for(var ye=ee.length,Le=new ArrayBuffer(ye),Ge=new Uint8Array(Le);ye--;)Ge[ye]=ee.charCodeAt(ye);return Le},ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ge};var ke=r.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(ee){return ke=w===b.ADVANCED?ee/Ve:ee,this};var Pe,Re=h.__private__.getFontSize=h.getFontSize=function(){return w===b.COMPAT?ke:ke*Ve},Ie=r.R2L||!1;h.__private__.setR2L=h.setR2L=function(ee){return Ie=ee,this},h.__private__.getR2L=h.getR2L=function(){return Ie};var qe,Ue=h.__private__.setZoomMode=function(ee){var ye=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ee))Pe=ee;else if(isNaN(ee)){if(ye.indexOf(ee)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ee+'" is not recognized.');Pe=ee}else Pe=parseInt(ee,10)};h.__private__.getZoomMode=function(){return Pe};var vt,St=h.__private__.setPageMode=function(ee){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ee)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ee+'" is not recognized.');qe=ee};h.__private__.getPageMode=function(){return qe};var De=h.__private__.setLayoutMode=function(ee){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ee)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ee+'" is not recognized.');vt=ee};h.__private__.getLayoutMode=function(){return vt},h.__private__.setDisplayMode=h.setDisplayMode=function(ee,ye,Le){return Ue(ee),De(ye),St(Le),this};var lt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(ee){if(Object.keys(lt).indexOf(ee)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return lt[ee]},h.__private__.getDocumentProperties=function(){return lt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(ee){for(var ye in lt)lt.hasOwnProperty(ye)&&ee[ye]&&(lt[ye]=ee[ye]);return this},h.__private__.setDocumentProperty=function(ee,ye){if(Object.keys(lt).indexOf(ee)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return lt[ee]=ye};var gt,Ve,Dt,bt,At,ft={},jt={},ht=[],Lt={},ur={},zt={},wr={},br=null,er=0,Zt=[],ar=new g7(h),fr=r.hotfixes||[],Sr={},Ur={},dr=[],Vt=function ee(ye,Le,Ge,at,kt,Bt){if(!(this instanceof ee))return new ee(ye,Le,Ge,at,kt,Bt);isNaN(ye)&&(ye=1),isNaN(Le)&&(Le=0),isNaN(Ge)&&(Ge=0),isNaN(at)&&(at=1),isNaN(kt)&&(kt=0),isNaN(Bt)&&(Bt=0),this._matrix=[ye,Le,Ge,at,kt,Bt]};Object.defineProperty(Vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ee){this._matrix[0]=ee}}),Object.defineProperty(Vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ee){this._matrix[1]=ee}}),Object.defineProperty(Vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ee){this._matrix[2]=ee}}),Object.defineProperty(Vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ee){this._matrix[3]=ee}}),Object.defineProperty(Vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ee){this._matrix[4]=ee}}),Object.defineProperty(Vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ee){this._matrix[5]=ee}}),Object.defineProperty(Vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(ee){this._matrix[0]=ee}}),Object.defineProperty(Vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(ee){this._matrix[1]=ee}}),Object.defineProperty(Vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(ee){this._matrix[2]=ee}}),Object.defineProperty(Vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(ee){this._matrix[3]=ee}}),Object.defineProperty(Vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(ee){this._matrix[4]=ee}}),Object.defineProperty(Vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(ee){this._matrix[5]=ee}}),Object.defineProperty(Vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Vt.prototype.join=function(ee){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(ee)},Vt.prototype.multiply=function(ee){var ye=ee.sx*this.sx+ee.shy*this.shx,Le=ee.sx*this.shy+ee.shy*this.sy,Ge=ee.shx*this.sx+ee.sy*this.shx,at=ee.shx*this.shy+ee.sy*this.sy,kt=ee.tx*this.sx+ee.ty*this.shx+this.tx,Bt=ee.tx*this.shy+ee.ty*this.sy+this.ty;return new Vt(ye,Le,Ge,at,kt,Bt)},Vt.prototype.decompose=function(){var ee=this.sx,ye=this.shy,Le=this.shx,Ge=this.sy,at=this.tx,kt=this.ty,Bt=Math.sqrt(ee*ee+ye*ye),rr=(ee/=Bt)*Le+(ye/=Bt)*Ge;Le-=ee*rr,Ge-=ye*rr;var Nr=Math.sqrt(Le*Le+Ge*Ge);return rr/=Nr,ee*(Ge/=Nr)<ye*(Le/=Nr)&&(ee=-ee,ye=-ye,rr=-rr,Bt=-Bt),{scale:new Vt(Bt,0,0,Nr,0,0),translate:new Vt(1,0,0,1,at,kt),rotate:new Vt(ee,ye,-ye,ee,0,0),skew:new Vt(1,0,rr,1,0,0)}},Vt.prototype.toString=function(ee){return this.join(" ")},Vt.prototype.inversed=function(){var ee=this.sx,ye=this.shy,Le=this.shx,Ge=this.sy,at=this.tx,kt=this.ty,Bt=1/(ee*Ge-ye*Le),rr=Ge*Bt,Nr=-ye*Bt,qr=-Le*Bt,zr=ee*Bt;return new Vt(rr,Nr,qr,zr,-rr*at-qr*kt,-Nr*at-zr*kt)},Vt.prototype.applyToPoint=function(ee){var ye=ee.x*this.sx+ee.y*this.shx+this.tx,Le=ee.x*this.shy+ee.y*this.sy+this.ty;return new Io(ye,Le)},Vt.prototype.applyToRectangle=function(ee){var ye=this.applyToPoint(ee),Le=this.applyToPoint(new Io(ee.x+ee.w,ee.y+ee.h));return new Kl(ye.x,ye.y,Le.x-ye.x,Le.y-ye.y)},Vt.prototype.clone=function(){var ee=this.sx,ye=this.shy,Le=this.shx,Ge=this.sy,at=this.tx,kt=this.ty;return new Vt(ee,ye,Le,Ge,at,kt)},h.Matrix=Vt;var Dr=h.matrixMult=function(ee,ye){return ye.multiply(ee)},sr=new Vt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=sr;var ze=function(ee,ye){if(!ur[ee]){var Le=(ye instanceof rh?"Sh":"P")+(Object.keys(Lt).length+1).toString(10);ye.id=Le,ur[ee]=Le,Lt[Le]=ye,ar.publish("addPattern",ye)}};h.ShadingPattern=rh,h.TilingPattern=C0,h.addShadingPattern=function(ee,ye){return A("addShadingPattern()"),ze(ee,ye),this},h.beginTilingPattern=function(ee){A("beginTilingPattern()"),$h(ee.boundingBox[0],ee.boundingBox[1],ee.boundingBox[2]-ee.boundingBox[0],ee.boundingBox[3]-ee.boundingBox[1],ee.matrix)},h.endTilingPattern=function(ee,ye){A("endTilingPattern()"),ye.stream=Q[K].join(`
`),ze(ee,ye),ar.publish("endTilingPattern",ye),dr.pop().restore()};var Ze=h.__private__.newObject=function(){var ee=mt();return pe(ee,!0),ee},mt=h.__private__.newObjectDeferred=function(){return G++,te[G]=function(){return D},G},pe=function(ee,ye){return ye=typeof ye=="boolean"&&ye,te[ee]=D,ye&&le(ee+" 0 obj"),ee},Ce=h.__private__.newAdditionalObject=function(){var ee={objId:mt(),content:""};return X.push(ee),ee},be=mt(),Ee=mt(),Ae=h.__private__.decodeColorString=function(ee){var ye=ee.split(" ");if(ye.length!==2||ye[1]!=="g"&&ye[1]!=="G")ye.length===5&&(ye[4]==="k"||ye[4]==="K")&&(ye=[(1-ye[0])*(1-ye[3]),(1-ye[1])*(1-ye[3]),(1-ye[2])*(1-ye[3]),"r"]);else{var Le=parseFloat(ye[0]);ye=[Le,Le,Le,"r"]}for(var Ge="#",at=0;at<3;at++)Ge+=("0"+Math.floor(255*parseFloat(ye[at])).toString(16)).slice(-2);return Ge},Te=h.__private__.encodeColorString=function(ee){var ye;typeof ee=="string"&&(ee={ch1:ee});var Le=ee.ch1,Ge=ee.ch2,at=ee.ch3,kt=ee.ch4,Bt=ee.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Le=="string"&&Le.charAt(0)!=="#"){var rr=new yF(Le);if(rr.ok)Le=rr.toHex();else if(!/^\d*\.?\d*$/.test(Le))throw new Error('Invalid color "'+Le+'" passed to jsPDF.encodeColorString.')}if(typeof Le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Le)&&(Le="#"+Le[1]+Le[1]+Le[2]+Le[2]+Le[3]+Le[3]),typeof Le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Le)){var Nr=parseInt(Le.substr(1),16);Le=Nr>>16&255,Ge=Nr>>8&255,at=255&Nr}if(Ge===void 0||kt===void 0&&Le===Ge&&Ge===at)if(typeof Le=="string")ye=Le+" "+Bt[0];else switch(ee.precision){case 2:ye=H(Le/255)+" "+Bt[0];break;case 3:default:ye=z(Le/255)+" "+Bt[0]}else if(kt===void 0||Ln(kt)==="object"){if(kt&&!isNaN(kt.a)&&kt.a===0)return ye=["1.","1.","1.",Bt[1]].join(" ");if(typeof Le=="string")ye=[Le,Ge,at,Bt[1]].join(" ");else switch(ee.precision){case 2:ye=[H(Le/255),H(Ge/255),H(at/255),Bt[1]].join(" ");break;default:case 3:ye=[z(Le/255),z(Ge/255),z(at/255),Bt[1]].join(" ")}}else if(typeof Le=="string")ye=[Le,Ge,at,kt,Bt[2]].join(" ");else switch(ee.precision){case 2:ye=[H(Le),H(Ge),H(at),H(kt),Bt[2]].join(" ");break;case 3:default:ye=[z(Le),z(Ge),z(at),z(kt),Bt[2]].join(" ")}return ye},He=h.__private__.getFilters=function(){return s},tt=h.__private__.putStream=function(ee){var ye=(ee=ee||{}).data||"",Le=ee.filters||He(),Ge=ee.alreadyAppliedFilters||[],at=ee.addLength1||!1,kt=ye.length,Bt=ee.objectId,rr=function(la){return la};if(u!==null&&Bt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(rr=On.encryptor(Bt,0));var Nr={};Le===!0&&(Le=["FlateEncode"]);var qr=ee.additionalKeyValues||[],zr=(Nr=Pr.API.processDataByFilters!==void 0?Pr.API.processDataByFilters(ye,Le):{data:ye,reverseChain:[]}).reverseChain+(Array.isArray(Ge)?Ge.join(" "):Ge.toString());if(Nr.data.length!==0&&(qr.push({key:"Length",value:Nr.data.length}),at===!0&&qr.push({key:"Length1",value:kt})),zr.length!=0)if(zr.split("/").length-1==1)qr.push({key:"Filter",value:zr});else{qr.push({key:"Filter",value:"["+zr+"]"});for(var en=0;en<qr.length;en+=1)if(qr[en].key==="DecodeParms"){for(var ti=[],ui=0;ui<Nr.reverseChain.split("/").length-1;ui+=1)ti.push("null");ti.push(qr[en].value),qr[en].value="["+ti.join(" ")+"]"}}le("<<");for(var Si=0;Si<qr.length;Si++)le("/"+qr[Si].key+" "+qr[Si].value);le(">>"),Nr.data.length!==0&&(le("stream"),le(rr(Nr.data)),le("endstream"))},We=h.__private__.putPage=function(ee){var ye=ee.number,Le=ee.data,Ge=ee.objId,at=ee.contentsObjId;pe(Ge,!0),le("<</Type /Page"),le("/Parent "+ee.rootDictionaryObjId+" 0 R"),le("/Resources "+ee.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(M(ee.mediaBox.bottomLeftX))+" "+parseFloat(M(ee.mediaBox.bottomLeftY))+" "+M(ee.mediaBox.topRightX)+" "+M(ee.mediaBox.topRightY)+"]"),ee.cropBox!==null&&le("/CropBox ["+M(ee.cropBox.bottomLeftX)+" "+M(ee.cropBox.bottomLeftY)+" "+M(ee.cropBox.topRightX)+" "+M(ee.cropBox.topRightY)+"]"),ee.bleedBox!==null&&le("/BleedBox ["+M(ee.bleedBox.bottomLeftX)+" "+M(ee.bleedBox.bottomLeftY)+" "+M(ee.bleedBox.topRightX)+" "+M(ee.bleedBox.topRightY)+"]"),ee.trimBox!==null&&le("/TrimBox ["+M(ee.trimBox.bottomLeftX)+" "+M(ee.trimBox.bottomLeftY)+" "+M(ee.trimBox.topRightX)+" "+M(ee.trimBox.topRightY)+"]"),ee.artBox!==null&&le("/ArtBox ["+M(ee.artBox.bottomLeftX)+" "+M(ee.artBox.bottomLeftY)+" "+M(ee.artBox.topRightX)+" "+M(ee.artBox.topRightY)+"]"),typeof ee.userUnit=="number"&&ee.userUnit!==1&&le("/UserUnit "+ee.userUnit),ar.publish("putPage",{objId:Ge,pageContext:Zt[ye],pageNumber:ye,page:Le}),le("/Contents "+at+" 0 R"),le(">>"),le("endobj");var kt=Le.join(`
`);return w===b.ADVANCED&&(kt+=`
Q`),pe(at,!0),tt({data:kt,filters:He(),objectId:at}),le("endobj"),Ge},it=h.__private__.putPages=function(){var ee,ye,Le=[];for(ee=1;ee<=er;ee++)Zt[ee].objId=mt(),Zt[ee].contentsObjId=mt();for(ee=1;ee<=er;ee++)Le.push(We({number:ee,data:Q[ee],objId:Zt[ee].objId,contentsObjId:Zt[ee].contentsObjId,mediaBox:Zt[ee].mediaBox,cropBox:Zt[ee].cropBox,bleedBox:Zt[ee].bleedBox,trimBox:Zt[ee].trimBox,artBox:Zt[ee].artBox,userUnit:Zt[ee].userUnit,rootDictionaryObjId:be,resourceDictionaryObjId:Ee}));pe(be,!0),le("<</Type /Pages");var Ge="/Kids [";for(ye=0;ye<er;ye++)Ge+=Le[ye]+" 0 R ";le(Ge+"]"),le("/Count "+er),le(">>"),le("endobj"),ar.publish("postPutPages")},et=function(ee){ar.publish("putFont",{font:ee,out:le,newObject:Ze,putStream:tt}),ee.isAlreadyPutted!==!0&&(ee.objectNumber=Ze(),le("<<"),le("/Type /Font"),le("/BaseFont /"+j0(ee.postScriptName)),le("/Subtype /Type1"),typeof ee.encoding=="string"&&le("/Encoding /"+ee.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},Ct=function(){for(var ee in ft)ft.hasOwnProperty(ee)&&(d===!1||d===!0&&f.hasOwnProperty(ee))&&et(ft[ee])},Mt=function(ee){ee.objectNumber=Ze();var ye=[];ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Form"}),ye.push({key:"BBox",value:"["+[M(ee.x),M(ee.y),M(ee.x+ee.width),M(ee.y+ee.height)].join(" ")+"]"}),ye.push({key:"Matrix",value:"["+ee.matrix.toString()+"]"});var Le=ee.pages[1].join(`
`);tt({data:Le,additionalKeyValues:ye,objectId:ee.objectNumber}),le("endobj")},Gt=function(){for(var ee in Sr)Sr.hasOwnProperty(ee)&&Mt(Sr[ee])},Se=function(ee,ye){var Le,Ge=[],at=1/(ye-1);for(Le=0;Le<1;Le+=at)Ge.push(Le);if(Ge.push(1),ee[0].offset!=0){var kt={offset:0,color:ee[0].color};ee.unshift(kt)}if(ee[ee.length-1].offset!=1){var Bt={offset:1,color:ee[ee.length-1].color};ee.push(Bt)}for(var rr="",Nr=0,qr=0;qr<Ge.length;qr++){for(Le=Ge[qr];Le>ee[Nr+1].offset;)Nr++;var zr=ee[Nr].offset,en=(Le-zr)/(ee[Nr+1].offset-zr),ti=ee[Nr].color,ui=ee[Nr+1].color;rr+=ne(Math.round((1-en)*ti[0]+en*ui[0]).toString(16))+ne(Math.round((1-en)*ti[1]+en*ui[1]).toString(16))+ne(Math.round((1-en)*ti[2]+en*ui[2]).toString(16))}return rr.trim()},Fe=function(ee,ye){ye||(ye=21);var Le=Ze(),Ge=Se(ee.colors,ye),at=[];at.push({key:"FunctionType",value:"0"}),at.push({key:"Domain",value:"[0.0 1.0]"}),at.push({key:"Size",value:"["+ye+"]"}),at.push({key:"BitsPerSample",value:"8"}),at.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt({data:Ge,additionalKeyValues:at,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Le}),le("endobj"),ee.objectNumber=Ze(),le("<< /ShadingType "+ee.type),le("/ColorSpace /DeviceRGB");var kt="/Coords ["+M(parseFloat(ee.coords[0]))+" "+M(parseFloat(ee.coords[1]))+" ";ee.type===2?kt+=M(parseFloat(ee.coords[2]))+" "+M(parseFloat(ee.coords[3])):kt+=M(parseFloat(ee.coords[2]))+" "+M(parseFloat(ee.coords[3]))+" "+M(parseFloat(ee.coords[4]))+" "+M(parseFloat(ee.coords[5])),le(kt+="]"),ee.matrix&&le("/Matrix ["+ee.matrix.toString()+"]"),le("/Function "+Le+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},ct=function(ee,ye){var Le=mt(),Ge=Ze();ye.push({resourcesOid:Le,objectOid:Ge}),ee.objectNumber=Ge;var at=[];at.push({key:"Type",value:"/Pattern"}),at.push({key:"PatternType",value:"1"}),at.push({key:"PaintType",value:"1"}),at.push({key:"TilingType",value:"1"}),at.push({key:"BBox",value:"["+ee.boundingBox.map(M).join(" ")+"]"}),at.push({key:"XStep",value:M(ee.xStep)}),at.push({key:"YStep",value:M(ee.yStep)}),at.push({key:"Resources",value:Le+" 0 R"}),ee.matrix&&at.push({key:"Matrix",value:"["+ee.matrix.toString()+"]"}),tt({data:ee.stream,additionalKeyValues:at,objectId:ee.objectNumber}),le("endobj")},wt=function(ee){var ye;for(ye in Lt)Lt.hasOwnProperty(ye)&&(Lt[ye]instanceof rh?Fe(Lt[ye]):Lt[ye]instanceof C0&&ct(Lt[ye],ee))},Wt=function(ee){for(var ye in ee.objectNumber=Ze(),le("<<"),ee)switch(ye){case"opacity":le("/ca "+H(ee[ye]));break;case"stroke-opacity":le("/CA "+H(ee[ye]))}le(">>"),le("endobj")},It=function(){var ee;for(ee in zt)zt.hasOwnProperty(ee)&&Wt(zt[ee])},qt=function(){for(var ee in le("/XObject <<"),Sr)Sr.hasOwnProperty(ee)&&Sr[ee].objectNumber>=0&&le("/"+ee+" "+Sr[ee].objectNumber+" 0 R");ar.publish("putXobjectDict"),le(">>")},Rr=function(){On.oid=Ze(),le("<<"),le("/Filter /Standard"),le("/V "+On.v),le("/R "+On.r),le("/U <"+On.toHexString(On.U)+">"),le("/O <"+On.toHexString(On.O)+">"),le("/P "+On.P),le(">>"),le("endobj")},kr=function(){for(var ee in le("/Font <<"),ft)ft.hasOwnProperty(ee)&&(d===!1||d===!0&&f.hasOwnProperty(ee))&&le("/"+ee+" "+ft[ee].objectNumber+" 0 R");le(">>")},mr=function(){if(Object.keys(Lt).length>0){for(var ee in le("/Shading <<"),Lt)Lt.hasOwnProperty(ee)&&Lt[ee]instanceof rh&&Lt[ee].objectNumber>=0&&le("/"+ee+" "+Lt[ee].objectNumber+" 0 R");ar.publish("putShadingPatternDict"),le(">>")}},or=function(ee){if(Object.keys(Lt).length>0){for(var ye in le("/Pattern <<"),Lt)Lt.hasOwnProperty(ye)&&Lt[ye]instanceof h.TilingPattern&&Lt[ye].objectNumber>=0&&Lt[ye].objectNumber<ee&&le("/"+ye+" "+Lt[ye].objectNumber+" 0 R");ar.publish("putTilingPatternDict"),le(">>")}},Er=function(){if(Object.keys(zt).length>0){var ee;for(ee in le("/ExtGState <<"),zt)zt.hasOwnProperty(ee)&&zt[ee].objectNumber>=0&&le("/"+ee+" "+zt[ee].objectNumber+" 0 R");ar.publish("putGStateDict"),le(">>")}},Ar=function(ee){pe(ee.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),kr(),mr(),or(ee.objectOid),Er(),qt(),le(">>"),le("endobj")},nn=function(){var ee=[];Ct(),It(),Gt(),wt(ee),ar.publish("putResources"),ee.forEach(Ar),Ar({resourcesOid:Ee,objectOid:Number.MAX_SAFE_INTEGER}),ar.publish("postPutResources")},Nn=function(){ar.publish("putAdditionalObjects");for(var ee=0;ee<X.length;ee++){var ye=X[ee];pe(ye.objId,!0),le(ye.content),le("endobj")}ar.publish("postPutAdditionalObjects")},Bn=function(ee){jt[ee.fontName]=jt[ee.fontName]||{},jt[ee.fontName][ee.fontStyle]=ee.id},Kn=function(ee,ye,Le,Ge,at){var kt={id:"F"+(Object.keys(ft).length+1).toString(10),postScriptName:ee,fontName:ye,fontStyle:Le,encoding:Ge,isStandardFont:at||!1,metadata:{}};return ar.publish("addFont",{font:kt,instance:this}),ft[kt.id]=kt,Bn(kt),kt.id},Ti=function(ee){for(var ye=0,Le=ge.length;ye<Le;ye++){var Ge=Kn.call(this,ee[ye][0],ee[ye][1],ee[ye][2],ge[ye][3],!0);d===!1&&(f[Ge]=!0);var at=ee[ye][0].split("-");Bn({id:Ge,fontName:at[0],fontStyle:at[1]||""})}ar.publish("addFonts",{fonts:ft,dictionary:jt})},ci=function(ee){return ee.foo=function(){try{return ee.apply(this,arguments)}catch(Ge){var ye=Ge.stack||"";~ye.indexOf(" at ")&&(ye=ye.split(" at ")[1]);var Le="Error in function "+ye.split(`
`)[0].split("<")[0]+": "+Ge.message;if(!Fr.console)throw new Error(Le);Fr.console.error(Le,Ge),Fr.alert&&alert(Le)}},ee.foo.bar=ee,ee.foo},vs=function(ee,ye){var Le,Ge,at,kt,Bt,rr,Nr,qr,zr;if(at=(ye=ye||{}).sourceEncoding||"Unicode",Bt=ye.outputEncoding,(ye.autoencode||Bt)&&ft[gt].metadata&&ft[gt].metadata[at]&&ft[gt].metadata[at].encoding&&(kt=ft[gt].metadata[at].encoding,!Bt&&ft[gt].encoding&&(Bt=ft[gt].encoding),!Bt&&kt.codePages&&(Bt=kt.codePages[0]),typeof Bt=="string"&&(Bt=kt[Bt]),Bt)){for(Nr=!1,rr=[],Le=0,Ge=ee.length;Le<Ge;Le++)(qr=Bt[ee.charCodeAt(Le)])?rr.push(String.fromCharCode(qr)):rr.push(ee[Le]),rr[Le].charCodeAt(0)>>8&&(Nr=!0);ee=rr.join("")}for(Le=ee.length;Nr===void 0&&Le!==0;)ee.charCodeAt(Le-1)>>8&&(Nr=!0),Le--;if(!Nr)return ee;for(rr=ye.noBOM?[]:[254,255],Le=0,Ge=ee.length;Le<Ge;Le++){if((zr=(qr=ee.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rr.push(zr),rr.push(qr-(zr<<8))}return String.fromCharCode.apply(void 0,rr)},yi=h.__private__.pdfEscape=h.pdfEscape=function(ee,ye){return vs(ee,ye).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wa=h.__private__.beginPage=function(ee){Q[++er]=[],Zt[er]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ee[0]),topRightY:Number(ee[1])}},Xi(er),he(Q[K])},Qr=function(ee,ye){var Le,Ge,at;switch(e=ye||e,typeof ee=="string"&&(Le=v(ee.toLowerCase()),Array.isArray(Le)&&(Ge=Le[0],at=Le[1])),Array.isArray(ee)&&(Ge=ee[0]*Ve,at=ee[1]*Ve),isNaN(Ge)&&(Ge=i[0],at=i[1]),(Ge>14400||at>14400)&&(Wn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ge=Math.min(14400,Ge),at=Math.min(14400,at)),i=[Ge,at],e.substr(0,1)){case"l":at>Ge&&(i=[at,Ge]);break;case"p":Ge>at&&(i=[at,Ge])}Wa(i),Pc(fd),le(Va),hd!==0&&le(hd+" J"),Ic!==0&&le(Ic+" j"),ar.publish("addPage",{pageNumber:er})},Gr=function(ee){ee>0&&ee<=er&&(Q.splice(ee,1),Zt.splice(ee,1),er--,K>er&&(K=er),this.setPage(K))},Xi=function(ee){ee>0&&ee<=er&&(K=ee)},io=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Q.length-1},ao=function(ee,ye,Le){var Ge,at=void 0;return Le=Le||{},ee=ee!==void 0?ee:ft[gt].fontName,ye=ye!==void 0?ye:ft[gt].fontStyle,Ge=ee.toLowerCase(),jt[Ge]!==void 0&&jt[Ge][ye]!==void 0?at=jt[Ge][ye]:jt[ee]!==void 0&&jt[ee][ye]!==void 0?at=jt[ee][ye]:Le.disableWarning===!1&&Wn.warn("Unable to look up font label for font '"+ee+"', '"+ye+"'. Refer to getFontList() for available fonts."),at||Le.noFallback||(at=jt.times[ye])==null&&(at=jt.times.normal),at},Br=h.__private__.putInfo=function(){var ee=Ze(),ye=function(Ge){return Ge};for(var Le in u!==null&&(ye=On.encryptor(ee,0)),le("<<"),le("/Producer ("+yi(ye("jsPDF "+Pr.version))+")"),lt)lt.hasOwnProperty(Le)&&lt[Le]&&le("/"+Le.substr(0,1).toUpperCase()+Le.substr(1)+" ("+yi(ye(lt[Le]))+")");le("/CreationDate ("+yi(ye(C))+")"),le(">>"),le("endobj")},aa=h.__private__.putCatalog=function(ee){var ye=(ee=ee||{}).rootDictionaryObjId||be;switch(Ze(),le("<<"),le("/Type /Catalog"),le("/Pages "+ye+" 0 R"),Pe||(Pe="fullwidth"),Pe){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Le=""+Pe;Le.substr(Le.length-1)==="%"&&(Pe=parseInt(Pe)/100),typeof Pe=="number"&&le("/OpenAction [3 0 R /XYZ null null "+H(Pe)+"]")}switch(vt||(vt="continuous"),vt){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}qe&&le("/PageMode /"+qe),ar.publish("putCatalog"),le(">>"),le("endobj")},bs=h.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(G+1)),le("/Root "+G+" 0 R"),le("/Info "+(G-1)+" 0 R"),u!==null&&le("/Encrypt "+On.oid+" 0 R"),le("/ID [ <"+k+"> <"+k+"> ]"),le(">>")},so=h.__private__.putHeader=function(){le("%PDF-"+y),le("%")},ol=h.__private__.putXRef=function(){var ee="0000000000";le("xref"),le("0 "+(G+1)),le("0000000000 65535 f ");for(var ye=1;ye<=G;ye++)typeof te[ye]=="function"?le((ee+te[ye]()).slice(-10)+" 00000 n "):te[ye]!==void 0?le((ee+te[ye]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Ki=h.__private__.buildDocument=function(){se(),he(I),ar.publish("buildDocument"),so(),it(),Nn(),nn(),u!==null&&Rr(),Br(),aa();var ee=D;return ol(),bs(),le("startxref"),le(""+ee),le("%%EOF"),he(Q[K]),I.join(`
`)},sa=h.__private__.getBlob=function(ee){return new Blob([ve(ee)],{type:"application/pdf"})},oo=h.output=h.__private__.output=ci(function(ee,ye){switch(typeof(ye=ye||{})=="string"?ye={filename:ye}:ye.filename=ye.filename||"generated.pdf",ee){case void 0:return Ki();case"save":h.save(ye.filename);break;case"arraybuffer":return ve(Ki());case"blob":return sa(Ki());case"bloburi":case"bloburl":if(Fr.URL!==void 0&&typeof Fr.URL.createObjectURL=="function")return Fr.URL&&Fr.URL.createObjectURL(sa(Ki()))||void 0;Wn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Le="",Ge=Ki();try{Le=q6(Ge)}catch{Le=q6(unescape(encodeURIComponent(Ge)))}return"data:application/pdf;filename="+ye.filename+";base64,"+Le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Fr)==="[object Window]"){var at="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",kt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ye.pdfObjectUrl&&(at=ye.pdfObjectUrl,kt="");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+at+'"'+kt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ye)+");<\/script></body></html>",rr=Fr.open();return rr!==null&&rr.document.write(Bt),rr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Fr)==="[object Window]"){var Nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ye.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ye.filename+'" width="500px" height="400px" /></body></html>',qr=Fr.open();if(qr!==null){qr.document.write(Nr);var zr=this;qr.document.documentElement.querySelector("#pdfViewer").onload=function(){qr.document.title=ye.filename,qr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zr.output("bloburl"))}}return qr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Fr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ye)+'"></iframe></body></html>',ti=Fr.open();if(ti!==null&&(ti.document.write(en),ti.document.title=ye.filename),ti||typeof safari>"u")return ti;break;case"datauri":case"dataurl":return Fr.document.location.href=this.output("datauristring",ye);default:return null}}),Is=function(ee){return Array.isArray(fr)===!0&&fr.indexOf(ee)>-1};switch(n){case"pt":Ve=1;break;case"mm":Ve=72/25.4;break;case"cm":Ve=72/2.54;break;case"in":Ve=72;break;case"px":Ve=Is("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ve=12;break;case"ex":Ve=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ve=n}var On=null;V(),E();var ka=function(ee){return u!==null?On.encryptor(ee,0):function(ye){return ye}},oa=h.__private__.getPageInfo=h.getPageInfo=function(ee){if(isNaN(ee)||ee%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Zt[ee].objId,pageNumber:ee,pageContext:Zt[ee]}},Tr=h.__private__.getPageInfoByObjId=function(ee){if(isNaN(ee)||ee%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ye in Zt)if(Zt[ye].objId===ee)break;return oa(ye)},Rs=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Zt[K].objId,pageNumber:K,pageContext:Zt[K]}};h.addPage=function(){return Qr.apply(this,arguments),this},h.setPage=function(){return Xi.apply(this,arguments),he.call(this,Q[K]),this},h.insertPage=function(ee){return this.addPage(),this.movePage(K,ee),this},h.movePage=function(ee,ye){var Le,Ge;if(ee>ye){Le=Q[ee],Ge=Zt[ee];for(var at=ee;at>ye;at--)Q[at]=Q[at-1],Zt[at]=Zt[at-1];Q[ye]=Le,Zt[ye]=Ge,this.setPage(ye)}else if(ee<ye){Le=Q[ee],Ge=Zt[ee];for(var kt=ee;kt<ye;kt++)Q[kt]=Q[kt+1],Zt[kt]=Zt[kt+1];Q[ye]=Le,Zt[ye]=Ge,this.setPage(ye)}return this},h.deletePage=function(){return Gr.apply(this,arguments),this},h.__private__.text=h.text=function(ee,ye,Le,Ge,at){var kt,Bt,rr,Nr,qr,zr,en,ti,ui,Si=(Ge=Ge||{}).scope||this;if(typeof ee=="number"&&typeof ye=="number"&&(typeof Le=="string"||Array.isArray(Le))){var la=Le;Le=ye,ye=ee,ee=la}if(arguments[3]instanceof Vt?(A("The transform parameter of text() with a Matrix value"),ui=at):(rr=arguments[4],Nr=arguments[5],Ln(en=arguments[3])==="object"&&en!==null||(typeof rr=="string"&&(Nr=rr,rr=null),typeof en=="string"&&(Nr=en,en=null),typeof en=="number"&&(rr=en,en=null),Ge={flags:en,angle:rr,align:Nr})),isNaN(ye)||isNaN(Le)||ee==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ee.length===0)return Si;var Di="",fo=!1,ws=typeof Ge.lineHeightFactor=="number"?Ge.lineHeightFactor:Oc,Ds=Si.internal.scaleFactor;function Jl(Pn){return Pn=Pn.split("	").join(Array(Ge.TabLen||9).join(" ")),yi(Pn,en)}function gd(Pn){for(var vn,di=Pn.concat(),ki=[],Lo=di.length;Lo--;)typeof(vn=di.shift())=="string"?ki.push(vn):Array.isArray(Pn)&&(vn.length===1||vn[1]===void 0&&vn[2]===void 0)?ki.push(vn[0]):ki.push([vn[0],vn[1],vn[2]]);return ki}function Xu(Pn,vn){var di;if(typeof Pn=="string")di=vn(Pn)[0];else if(Array.isArray(Pn)){for(var ki,Lo,af=Pn.concat(),zc=[],bd=af.length;bd--;)typeof(ki=af.shift())=="string"?zc.push(vn(ki)[0]):Array.isArray(ki)&&typeof ki[0]=="string"&&(Lo=vn(ki[0],ki[1],ki[2]),zc.push([Lo[0],Lo[1],Lo[2]]));di=zc}return di}var Rc=!1,Ku=!0;if(typeof ee=="string")Rc=!0;else if(Array.isArray(ee)){var Yu=ee.concat();Bt=[];for(var Fc,fi=Yu.length;fi--;)(typeof(Fc=Yu.shift())!="string"||Array.isArray(Fc)&&typeof Fc[0]!="string")&&(Ku=!1);Rc=Ku}if(Rc===!1)throw new Error('Type of text must be string or Array. "'+ee+'" is not recognized.');typeof ee=="string"&&(ee=ee.match(/[\r?\n]/)?ee.split(/\r\n|\r|\n/g):[ee]);var Ju=ke/Si.internal.scaleFactor,Zu=Ju*(ws-1);switch(Ge.baseline){case"bottom":Le-=Zu;break;case"top":Le+=Ju-Zu;break;case"hanging":Le+=Ju-2*Zu;break;case"middle":Le+=Ju/2-Zu}if((zr=Ge.maxWidth||0)>0&&(typeof ee=="string"?ee=Si.splitTextToSize(ee,zr):Object.prototype.toString.call(ee)==="[object Array]"&&(ee=ee.reduce(function(Pn,vn){return Pn.concat(Si.splitTextToSize(vn,zr))},[]))),kt={text:ee,x:ye,y:Le,options:Ge,mutex:{pdfEscape:yi,activeFontKey:gt,fonts:ft,activeFontSize:ke}},ar.publish("preProcessText",kt),ee=kt.text,rr=(Ge=kt.options).angle,!(ui instanceof Vt)&&rr&&typeof rr=="number"){rr*=Math.PI/180,Ge.rotationDirection===0&&(rr=-rr),w===b.ADVANCED&&(rr=-rr);var Qu=Math.cos(rr),ef=Math.sin(rr);ui=new Vt(Qu,ef,-ef,Qu,0,0)}else rr&&rr instanceof Vt&&(ui=rr);w!==b.ADVANCED||ui||(ui=sr),(qr=Ge.charSpace||Xl)!==void 0&&(Di+=M(U(qr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ti=Ge.horizontalScale)!==void 0&&(Di+=M(100*ti)+` Tz
`),Ge.lang;var Ea=-1,Lc=Ge.renderingMode!==void 0?Ge.renderingMode:Ge.stroke,ul=Si.internal.getCurrentPageInfo().pageContext;switch(Lc){case 0:case!1:case"fill":Ea=0;break;case 1:case!0:case"stroke":Ea=1;break;case 2:case"fillThenStroke":Ea=2;break;case 3:case"invisible":Ea=3;break;case 4:case"fillAndAddForClipping":Ea=4;break;case 5:case"strokeAndAddPathForClipping":Ea=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ea=6;break;case 7:case"addToPathForClipping":Ea=7}var Uh=ul.usedRenderingMode!==void 0?ul.usedRenderingMode:-1;Ea!==-1?Di+=Ea+` Tr
`:Uh!==-1&&(Di+=`0 Tr
`),Ea!==-1&&(ul.usedRenderingMode=Ea),Nr=Ge.align||"left";var ja,tf=ke*ws,yd=Si.internal.pageSize.getWidth(),rf=ft[gt];qr=Ge.charSpace||Xl,zr=Ge.maxWidth||0,en=Object.assign({autoencode:!0,noBOM:!0},Ge.flags);var Ro=[],Zl=function(Pn){return Si.getStringUnitWidth(Pn,{font:rf,charSpace:qr,fontSize:ke,doKerning:!1})*ke/Ds};if(Object.prototype.toString.call(ee)==="[object Array]"){var Aa;Bt=gd(ee),Nr!=="left"&&(ja=Bt.map(Zl));var ca,Ql=0;if(Nr==="right"){ye-=ja[0],ee=[],fi=Bt.length;for(var fl=0;fl<fi;fl++)fl===0?(ca=Fs(ye),Aa=Ls(Le)):(ca=U(Ql-ja[fl]),Aa=-tf),ee.push([Bt[fl],ca,Aa]),Ql=ja[fl]}else if(Nr==="center"){ye-=ja[0]/2,ee=[],fi=Bt.length;for(var dl=0;dl<fi;dl++)dl===0?(ca=Fs(ye),Aa=Ls(Le)):(ca=U((Ql-ja[dl])/2),Aa=-tf),ee.push([Bt[dl],ca,Aa]),Ql=ja[dl]}else if(Nr==="left"){ee=[],fi=Bt.length;for(var nf=0;nf<fi;nf++)ee.push(Bt[nf])}else if(Nr==="justify"&&rf.encoding==="Identity-H"){ee=[],fi=Bt.length,zr=zr!==0?zr:yd;for(var hl=0,fn=0;fn<fi;fn++)if(Aa=fn===0?Ls(Le):-tf,ca=fn===0?Fs(ye):hl,fn<fi-1){var pl=U((zr-ja[fn])/(Bt[fn].split(" ").length-1)),ua=Bt[fn].split(" ");ee.push([ua[0]+" ",ca,Aa]),hl=0;for(var _s=1;_s<ua.length;_s++){var Dc=(Zl(ua[_s-1]+" "+ua[_s])-Zl(ua[_s]))*Ds+pl;_s==ua.length-1?ee.push([ua[_s],Dc,0]):ee.push([ua[_s]+" ",Dc,0]),hl-=Dc}}else ee.push([Bt[fn],ca,Aa]);ee.push(["",hl,0])}else{if(Nr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ee=[],fi=Bt.length,zr=zr!==0?zr:yd,fn=0;fn<fi;fn++)Aa=fn===0?Ls(Le):-tf,ca=fn===0?Fs(ye):0,fn<fi-1?Ro.push(M(U((zr-ja[fn])/(Bt[fn].split(" ").length-1)))):Ro.push(0),ee.push([Bt[fn],ca,Aa])}}var vd=typeof Ge.R2L=="boolean"?Ge.R2L:Ie;vd===!0&&(ee=Xu(ee,function(Pn,vn,di){return[Pn.split("").reverse().join(""),vn,di]})),kt={text:ee,x:ye,y:Le,options:Ge,mutex:{pdfEscape:yi,activeFontKey:gt,fonts:ft,activeFontSize:ke}},ar.publish("postProcessText",kt),ee=kt.text,fo=kt.mutex.isHex||!1;var Bc=ft[gt].encoding;Bc!=="WinAnsiEncoding"&&Bc!=="StandardEncoding"||(ee=Xu(ee,function(Pn,vn,di){return[Jl(Pn),vn,di]})),Bt=gd(ee),ee=[];for(var $c,Uc,Ss,ml=0,Fo=1,gl=Array.isArray(Bt[0])?Fo:ml,yl="",ec=function(Pn,vn,di){var ki="";return di instanceof Vt?(di=typeof Ge.angle=="number"?Dr(di,new Vt(1,0,0,1,Pn,vn)):Dr(new Vt(1,0,0,1,Pn,vn),di),w===b.ADVANCED&&(di=Dr(new Vt(1,0,0,-1,0,0),di)),ki=di.join(" ")+` Tm
`):ki=M(Pn)+" "+M(vn)+` Td
`,ki},Yi=0;Yi<Bt.length;Yi++){switch(yl="",gl){case Fo:Ss=(fo?"<":"(")+Bt[Yi][0]+(fo?">":")"),$c=parseFloat(Bt[Yi][1]),Uc=parseFloat(Bt[Yi][2]);break;case ml:Ss=(fo?"<":"(")+Bt[Yi]+(fo?">":")"),$c=Fs(ye),Uc=Ls(Le)}Ro!==void 0&&Ro[Yi]!==void 0&&(yl=Ro[Yi]+` Tw
`),Yi===0?ee.push(yl+ec($c,Uc,ui)+Ss):gl===ml?ee.push(yl+Ss):gl===Fo&&ee.push(yl+ec($c,Uc,ui)+Ss)}ee=gl===ml?ee.join(` Tj
T* `):ee.join(` Tj
`),ee+=` Tj
`;var Ga=`BT
/`;return Ga+=gt+" "+ke+` Tf
`,Ga+=M(ke*ws)+` TL
`,Ga+=Ci+`
`,Ga+=Di,Ga+=ee,le(Ga+="ET"),f[gt]=!0,Si};var Na=h.__private__.clip=h.clip=function(ee){return le(ee==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Na("evenodd")},h.__private__.discardPath=h.discardPath=function(){return le("n"),this};var Mo=h.__private__.isValidStyle=function(ee){var ye=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ee)!==-1&&(ye=!0),ye};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(ee){return Mo(ee)&&(o=ee),this};var ud=h.__private__.getStyle=h.getStyle=function(ee){var ye=o;switch(ee){case"D":case"S":ye="S";break;case"F":ye="f";break;case"FD":case"DF":ye="B";break;case"f":case"f*":case"B":case"B*":ye=ee}return ye},Wl=h.close=function(){return le("h"),this};h.stroke=function(){return le("S"),this},h.fill=function(ee){return Bu("f",ee),this},h.fillEvenOdd=function(ee){return Bu("f*",ee),this},h.fillStroke=function(ee){return Bu("B",ee),this},h.fillStrokeEvenOdd=function(ee){return Bu("B*",ee),this};var Bu=function(ee,ye){Ln(ye)==="object"?Dh(ye,ee):le(ee)},$u=function(ee){ee===null||w===b.ADVANCED&&ee===void 0||(ee=ud(ee),le(ee))};function Uu(ee,ye,Le,Ge,at){var kt=new C0(ye||this.boundingBox,Le||this.xStep,Ge||this.yStep,this.gState,at||this.matrix);kt.stream=this.stream;var Bt=ee+"$$"+this.cloneIndex+++"$$";return ze(Bt,kt),kt}var Dh=function(ee,ye){var Le=ur[ee.key],Ge=Lt[Le];if(Ge instanceof rh)le("q"),le(Hp(ye)),Ge.gState&&h.setGState(Ge.gState),le(ee.matrix.toString()+" cm"),le("/"+Le+" sh"),le("Q");else if(Ge instanceof C0){var at=new Vt(1,0,0,-1,0,Yl());ee.matrix&&(at=at.multiply(ee.matrix||sr),Le=Uu.call(Ge,ee.key,ee.boundingBox,ee.xStep,ee.yStep,at).id),le("q"),le("/Pattern cs"),le("/"+Le+" scn"),Ge.gState&&h.setGState(Ge.gState),le(ye),le("Q")}},Hp=function(ee){switch(ee){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ll=h.moveTo=function(ee,ye){return le(M(U(ee))+" "+M(L(ye))+" m"),this},lo=h.lineTo=function(ee,ye){return le(M(U(ee))+" "+M(L(ye))+" l"),this},xs=h.curveTo=function(ee,ye,Le,Ge,at,kt){return le([M(U(ee)),M(L(ye)),M(U(Le)),M(L(Ge)),M(U(at)),M(L(kt)),"c"].join(" ")),this};h.__private__.line=h.line=function(ee,ye,Le,Ge,at){if(isNaN(ee)||isNaN(ye)||isNaN(Le)||isNaN(Ge)||!Mo(at))throw new Error("Invalid arguments passed to jsPDF.line");return w===b.COMPAT?this.lines([[Le-ee,Ge-ye]],ee,ye,[1,1],at||"S"):this.lines([[Le-ee,Ge-ye]],ee,ye,[1,1]).stroke()},h.__private__.lines=h.lines=function(ee,ye,Le,Ge,at,kt){var Bt,rr,Nr,qr,zr,en,ti,ui,Si,la,Di,fo;if(typeof ee=="number"&&(fo=Le,Le=ye,ye=ee,ee=fo),Ge=Ge||[1,1],kt=kt||!1,isNaN(ye)||isNaN(Le)||!Array.isArray(ee)||!Array.isArray(Ge)||!Mo(at)||typeof kt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ll(ye,Le),Bt=Ge[0],rr=Ge[1],qr=ee.length,la=ye,Di=Le,Nr=0;Nr<qr;Nr++)(zr=ee[Nr]).length===2?(la=zr[0]*Bt+la,Di=zr[1]*rr+Di,lo(la,Di)):(en=zr[0]*Bt+la,ti=zr[1]*rr+Di,ui=zr[2]*Bt+la,Si=zr[3]*rr+Di,la=zr[4]*Bt+la,Di=zr[5]*rr+Di,xs(en,ti,ui,Si,la,Di));return kt&&Wl(),$u(at),this},h.path=function(ee){for(var ye=0;ye<ee.length;ye++){var Le=ee[ye],Ge=Le.c;switch(Le.op){case"m":ll(Ge[0],Ge[1]);break;case"l":lo(Ge[0],Ge[1]);break;case"c":xs.apply(this,Ge);break;case"h":Wl()}}return this},h.__private__.rect=h.rect=function(ee,ye,Le,Ge,at){if(isNaN(ee)||isNaN(ye)||isNaN(Le)||isNaN(Ge)||!Mo(at))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b.COMPAT&&(Ge=-Ge),le([M(U(ee)),M(L(ye)),M(U(Le)),M(U(Ge)),"re"].join(" ")),$u(at),this},h.__private__.triangle=h.triangle=function(ee,ye,Le,Ge,at,kt,Bt){if(isNaN(ee)||isNaN(ye)||isNaN(Le)||isNaN(Ge)||isNaN(at)||isNaN(kt)||!Mo(Bt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Le-ee,Ge-ye],[at-Le,kt-Ge],[ee-at,ye-kt]],ee,ye,[1,1],Bt,!0),this},h.__private__.roundedRect=h.roundedRect=function(ee,ye,Le,Ge,at,kt,Bt){if(isNaN(ee)||isNaN(ye)||isNaN(Le)||isNaN(Ge)||isNaN(at)||isNaN(kt)||!Mo(Bt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var rr=4/3*(Math.SQRT2-1);return at=Math.min(at,.5*Le),kt=Math.min(kt,.5*Ge),this.lines([[Le-2*at,0],[at*rr,0,at,kt-kt*rr,at,kt],[0,Ge-2*kt],[0,kt*rr,-at*rr,kt,-at,kt],[2*at-Le,0],[-at*rr,0,-at,-kt*rr,-at,-kt],[0,2*kt-Ge],[0,-kt*rr,at*rr,-kt,at,-kt]],ee+at,ye,[1,1],Bt,!0),this},h.__private__.ellipse=h.ellipse=function(ee,ye,Le,Ge,at){if(isNaN(ee)||isNaN(ye)||isNaN(Le)||isNaN(Ge)||!Mo(at))throw new Error("Invalid arguments passed to jsPDF.ellipse");var kt=4/3*(Math.SQRT2-1)*Le,Bt=4/3*(Math.SQRT2-1)*Ge;return ll(ee+Le,ye),xs(ee+Le,ye-Bt,ee+kt,ye-Ge,ee,ye-Ge),xs(ee-kt,ye-Ge,ee-Le,ye-Bt,ee-Le,ye),xs(ee-Le,ye+Bt,ee-kt,ye+Ge,ee,ye+Ge),xs(ee+kt,ye+Ge,ee+Le,ye+Bt,ee+Le,ye),$u(at),this},h.__private__.circle=h.circle=function(ee,ye,Le,Ge){if(isNaN(ee)||isNaN(ye)||isNaN(Le)||!Mo(Ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ee,ye,Le,Le,Ge)},h.setFont=function(ee,ye,Le){return Le&&(ye=P(ye,Le)),gt=ao(ee,ye,{disableWarning:!1}),this};var zu=h.__private__.getFont=h.getFont=function(){return ft[ao.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var ee,ye,Le={};for(ee in jt)if(jt.hasOwnProperty(ee))for(ye in Le[ee]=[],jt[ee])jt[ee].hasOwnProperty(ye)&&Le[ee].push(ye);return Le},h.addFont=function(ee,ye,Le,Ge,at){var kt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&kt.indexOf(arguments[3])!==-1?at=arguments[3]:arguments[3]&&kt.indexOf(arguments[3])==-1&&(Le=P(Le,Ge)),at=at||"Identity-H",Kn.call(this,ee,ye,Le,at)};var Oc,fd=r.lineWidth||.200025,Vl=h.__private__.getLineWidth=h.getLineWidth=function(){return fd},Pc=h.__private__.setLineWidth=h.setLineWidth=function(ee){return fd=ee,le(M(U(ee))+" w"),this};h.__private__.setLineDash=Pr.API.setLineDash=Pr.API.setLineDashPattern=function(ee,ye){if(ee=ee||[],ye=ye||0,isNaN(ye)||!Array.isArray(ee))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ee=ee.map(function(Le){return M(U(Le))}).join(" "),ye=M(U(ye)),le("["+ee+"] "+ye+" d"),this};var qu=h.__private__.getLineHeight=h.getLineHeight=function(){return ke*Oc};h.__private__.getLineHeight=h.getLineHeight=function(){return ke*Oc};var dd=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(ee){return typeof(ee=ee||1.15)=="number"&&(Oc=ee),this},co=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Oc};dd(r.lineHeight);var Fs=h.__private__.getHorizontalCoordinate=function(ee){return U(ee)},Ls=h.__private__.getVerticalCoordinate=function(ee){return w===b.ADVANCED?ee:Zt[K].mediaBox.topRightY-Zt[K].mediaBox.bottomLeftY-U(ee)},Bh=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(ee){return M(Fs(ee))},uo=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(ee){return M(Ls(ee))},Va=r.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ae(Va)},h.__private__.setStrokeColor=h.setDrawColor=function(ee,ye,Le,Ge){return Va=Te({ch1:ee,ch2:ye,ch3:Le,ch4:Ge,pdfColorType:"draw",precision:2}),le(Va),this};var Hu=r.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ae(Hu)},h.__private__.setFillColor=h.setFillColor=function(ee,ye,Le,Ge){return Hu=Te({ch1:ee,ch2:ye,ch3:Le,ch4:Ge,pdfColorType:"fill",precision:2}),le(Hu),this};var Ci=r.textColor||"0 g",Gl=h.__private__.getTextColor=h.getTextColor=function(){return Ae(Ci)};h.__private__.setTextColor=h.setTextColor=function(ee,ye,Le,Ge){return Ci=Te({ch1:ee,ch2:ye,ch3:Le,ch4:Ge,pdfColorType:"text",precision:3}),this};var Xl=r.charSpace,Mc=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Xl||0)};h.__private__.setCharSpace=h.setCharSpace=function(ee){if(isNaN(ee))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xl=ee,this};var hd=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(ee){var ye=h.CapJoinStyles[ee];if(ye===void 0)throw new Error("Line cap style of '"+ee+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hd=ye,le(ye+" J"),this};var Ic=0;h.__private__.setLineJoin=h.setLineJoin=function(ee){var ye=h.CapJoinStyles[ee];if(ye===void 0)throw new Error("Line join style of '"+ee+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ic=ye,le(ye+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(ee){if(ee=ee||0,isNaN(ee))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(M(U(ee))+" M"),this},h.GState=Yv,h.setGState=function(ee){(ee=typeof ee=="string"?zt[wr[ee]]:Wu(null,ee)).equals(br)||(le("/"+ee.id+" gs"),br=ee)};var Wu=function(ee,ye){if(!ee||!wr[ee]){var Le=!1;for(var Ge in zt)if(zt.hasOwnProperty(Ge)&&zt[Ge].equals(ye)){Le=!0;break}if(Le)ye=zt[Ge];else{var at="GS"+(Object.keys(zt).length+1).toString(10);zt[at]=ye,ye.id=at}return ee&&(wr[ee]=ye.id),ar.publish("addGState",ye),ye}};h.addGState=function(ee,ye){return Wu(ee,ye),this},h.saveGraphicsState=function(){return le("q"),ht.push({key:gt,size:ke,color:Ci}),this},h.restoreGraphicsState=function(){le("Q");var ee=ht.pop();return gt=ee.key,ke=ee.size,Ci=ee.color,br=null,this},h.setCurrentTransformationMatrix=function(ee){return le(ee.toString()+" cm"),this},h.comment=function(ee){return le("#"+ee),this};var Io=function(ee,ye){var Le=ee||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Le},set:function(kt){isNaN(kt)||(Le=parseFloat(kt))}});var Ge=ye||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ge},set:function(kt){isNaN(kt)||(Ge=parseFloat(kt))}});var at="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return at},set:function(kt){at=kt.toString()}}),this},Kl=function(ee,ye,Le,Ge){Io.call(this,ee,ye),this.type="rect";var at=Le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return at},set:function(Bt){isNaN(Bt)||(at=parseFloat(Bt))}});var kt=Ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return kt},set:function(Bt){isNaN(Bt)||(kt=parseFloat(Bt))}}),this},Vu=function(){this.page=er,this.currentPage=K,this.pages=Q.slice(0),this.pagesContext=Zt.slice(0),this.x=Dt,this.y=bt,this.matrix=At,this.width=cl(K),this.height=Yl(K),this.outputDestination=oe,this.id="",this.objectNumber=-1};Vu.prototype.restore=function(){er=this.page,K=this.currentPage,Zt=this.pagesContext,Q=this.pages,Dt=this.x,bt=this.y,At=this.matrix,pd(K,this.width),md(K,this.height),oe=this.outputDestination};var $h=function(ee,ye,Le,Ge,at){dr.push(new Vu),er=K=0,Q=[],Dt=ee,bt=ye,At=at,Wa([Le,Ge])},Wp=function(ee){if(Ur[ee])dr.pop().restore();else{var ye=new Vu,Le="Xo"+(Object.keys(Sr).length+1).toString(10);ye.id=Le,Ur[ee]=Le,Sr[Le]=ye,ar.publish("addFormObject",ye),dr.pop().restore()}};for(var Gu in h.beginFormObject=function(ee,ye,Le,Ge,at){return $h(ee,ye,Le,Ge,at),this},h.endFormObject=function(ee){return Wp(ee),this},h.doFormObject=function(ee,ye){var Le=Sr[Ur[ee]];return le("q"),le(ye.toString()+" cm"),le("/"+Le.id+" Do"),le("Q"),this},h.getFormObject=function(ee){var ye=Sr[Ur[ee]];return{x:ye.x,y:ye.y,width:ye.width,height:ye.height,matrix:ye.matrix}},h.save=function(ee,ye){return ee=ee||"generated.pdf",(ye=ye||{}).returnPromise=ye.returnPromise||!1,ye.returnPromise===!1?(Jd(sa(Ki()),ee),typeof Jd.unload=="function"&&Fr.setTimeout&&setTimeout(Jd.unload,911),this):new Promise(function(Le,Ge){try{var at=Jd(sa(Ki()),ee);typeof Jd.unload=="function"&&Fr.setTimeout&&setTimeout(Jd.unload,911),Le(at)}catch(kt){Ge(kt.message)}})},Pr.API)Pr.API.hasOwnProperty(Gu)&&(Gu==="events"&&Pr.API.events.length?function(ee,ye){var Le,Ge,at;for(at=ye.length-1;at!==-1;at--)Le=ye[at][0],Ge=ye[at][1],ee.subscribe.apply(ee,[Le].concat(typeof Ge=="function"?[Ge]:Ge))}(ar,Pr.API.events):h[Gu]=Pr.API[Gu]);var cl=h.getPageWidth=function(ee){return(Zt[ee=ee||K].mediaBox.topRightX-Zt[ee].mediaBox.bottomLeftX)/Ve},pd=h.setPageWidth=function(ee,ye){Zt[ee].mediaBox.topRightX=ye*Ve+Zt[ee].mediaBox.bottomLeftX},Yl=h.getPageHeight=function(ee){return(Zt[ee=ee||K].mediaBox.topRightY-Zt[ee].mediaBox.bottomLeftY)/Ve},md=h.setPageHeight=function(ee,ye){Zt[ee].mediaBox.topRightY=ye*Ve+Zt[ee].mediaBox.bottomLeftY};return h.internal={pdfEscape:yi,getStyle:ud,getFont:zu,getFontSize:Re,getCharSpace:Mc,getTextColor:Gl,getLineHeight:qu,getLineHeightFactor:co,getLineWidth:Vl,write:de,getHorizontalCoordinate:Fs,getVerticalCoordinate:Ls,getCoordinateString:Bh,getVerticalCoordinateString:uo,collections:{},newObject:Ze,newAdditionalObject:Ce,newObjectDeferred:mt,newObjectDeferredBegin:pe,getFilters:He,putStream:tt,events:ar,scaleFactor:Ve,pageSize:{getWidth:function(){return cl(K)},setWidth:function(ee){pd(K,ee)},getHeight:function(){return Yl(K)},setHeight:function(ee){md(K,ee)}},encryptionOptions:u,encryption:On,getEncryptor:ka,output:oo,getNumberOfPages:io,pages:Q,out:le,f2:H,f3:z,getPageInfo:oa,getPageInfoByObjId:Tr,getCurrentPageInfo:Rs,getPDFVersion:m,Point:Io,Rectangle:Kl,Matrix:Vt,hasHotfix:Is},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return cl(K)},set:function(ee){pd(K,ee)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Yl(K)},set:function(ee){md(K,ee)},enumerable:!0,configurable:!0}),Ti.call(h,ge),gt="F1",Qr(i,e),ar.publish("initialized"),h}E0.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},E0.prototype.toHexString=function(r){return r.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},E0.prototype.hexToBytes=function(r){for(var t=[],e=0;e<r.length;e+=2)t.push(String.fromCharCode(parseInt(r.substr(e,2),16)));return t.join("")},E0.prototype.processOwnerPassword=function(r,t){return W6(H6(t).substr(0,5),r)},E0.prototype.encryptor=function(r,t){var e=H6(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return W6(e,n)}},Yv.prototype.equals=function(r){var t,e="id,objectNumber,equals";if(!r||Ln(r)!==Ln(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!r.hasOwnProperty(t)||this[t]!==r[t])return!1;n++}for(t in r)r.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},Pr.API={events:[]},Pr.version="3.0.1";var ji=Pr.API,I8=1,jh=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},f0=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Hr=function(r){return r.toFixed(2)},jf=function(r){return r.toFixed(5)};ji.__acroform__={};var to=function(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r},y7=function(r){return r*I8},oc=function(r){var t=new wF,e=pr.internal.getHeight(r)||0,n=pr.internal.getWidth(r)||0;return t.BBox=[0,0,Number(Hr(n)),Number(Hr(e))],t},pG=ji.__acroform__.setBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<t},mG=ji.__acroform__.clearBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<t)},gG=ji.__acroform__.getBit=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(r&1<<t)==0?0:1},Pi=ji.__acroform__.getBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gG(r,t-1)},Mi=ji.__acroform__.setBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pG(r,t-1)},Ii=ji.__acroform__.clearBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return mG(r,t-1)},yG=ji.__acroform__.calculateCoordinates=function(r,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=r[0],a=r[1],s=r[2],l=r[3],c={};return c.lowerLeft_X=e(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=e(i+s)||0,c.upperRight_Y=n(a)||0,[Number(Hr(c.lowerLeft_X)),Number(Hr(c.lowerLeft_Y)),Number(Hr(c.upperRight_X)),Number(Hr(c.upperRight_Y))]},vG=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var t=[],e=r._V||r.DV,n=V6(r,e),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(r.scope.__private__.encodeColorString(r.color)),t.push("/"+i+" "+Hr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=oc(r);return a.scope=r.scope,a.stream=t.join(`
`),a}},V6=function(r,t){var e=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=r.multiline?i.map(function(z){return z.split(`
`)}):i.map(function(z){return[z]});var a=e,s=pr.internal.getHeight(r)||0;s=s<0?-s:s;var l=pr.internal.getWidth(r)||0;l=l<0?-l:l;var c=function(z,U,O){if(z+1<i.length){var L=U+" "+i[z+1][0];return xy(L,r,O).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var o,u,d=xy("3",r,a).height,f=r.multiline?s-a:(s-d)/2,h=f+=2,y=0,m=0,g=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+xy(t,r,a=12).width+", FieldWidth:"+l+`
`;break}for(var v="",b=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var _=!1;if(i[w].length!==1&&g!==i[w].length-1){if((d+2)*(b+2)+2>s)continue e;v+=i[w][g],_=!0,m=w,w--}else{v=(v+=i[w][g]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var N=parseInt(w),P=c(N,v,a),M=w>=i.length-1;if(P&&!M){v+=" ",g=0;continue}if(P||M){if(M)m=N;else if(r.multiline&&(d+2)*(b+2)+2>s)continue e}else{if(!r.multiline||(d+2)*(b+2)+2>s)continue e;m=N}}for(var A="",F=y;F<=m;F++){var H=i[F];if(r.multiline){if(F===m){A+=H[g]+" ",g=(g+1)%H.length;continue}if(F===y){A+=H[H.length-1]+" ";continue}}A+=H[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,u=xy(A,r,a).width,r.textAlign){case"right":o=l-u-2;break;case"center":o=(l-u)/2;break;case"left":default:o=2}t+=Hr(o)+" "+Hr(h)+` Td
`,t+="("+jh(A)+`) Tj
`,t+=-Hr(o)+` 0 Td
`,h=-(a+2),u=0,y=_?m:m+1,b++,v=""}break}return n.text=t,n.fontSize=a,n},xy=function(r,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:i}},bG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},xG=function(r,t){var e={type:"reference",object:r};t.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(r.page).pageContext.annotations.push(e)},wG=function(r,t){for(var e in r)if(r.hasOwnProperty(e)){var n=e,i=r[e];t.internal.newObjectDeferredBegin(i.objId,!0),Ln(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete r[n]}},_G=function(r,t){if(t.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(zl.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(bG)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");I8=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new _F,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&xG(a,e)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(e){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],c=[],o=l.Rect;if(l.Rect&&(l.Rect=yG(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=pr.createDefaultAppearanceStream(l),Ln(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=o,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=vG(l);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var d="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var h=l.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var y=h[s];typeof y=="function"&&(y=y.call(i,l)),d+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=h)=="function"&&(y=y.call(i,l)),d+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);d+=">>"}c.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&wG(i.internal.acroformPlugin.xForms,i)})(e,r)}),r.internal.acroformPlugin.isInitialized=!0}},xF=ji.__acroform__.arrayToPdfArray=function(r,t,e){var n=function(s){return s};if(Array.isArray(r)){for(var i="[",a=0;a<r.length;a++)switch(a!==0&&(i+=" "),Ln(r[a])){case"boolean":case"number":case"object":i+=r[a].toString();break;case"string":r[a].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),i+="("+jh(n(r[a].toString()))+")"):i+=r[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Sw=function(r,t,e){var n=function(i){return i};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(r=r||"").toString(),r="("+jh(n(r))+")"},mc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};mc.prototype.toString=function(){return this.objId+" 0 R"},mc.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},mc.prototype.getKeyValueListForStream=function(){var r=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:xF(i,this.objId,this.scope)}):i instanceof mc?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var wF=function(){mc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){r=e.trim()},get:function(){return r||null}})};to(wF,mc);var _F=function(){mc.call(this);var r,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+jh(e(r))+")"}},set:function(e){r=e}})};to(_F,mc);var zl=function r(){mc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Pi(t,3)},set:function(v){v?this.F=Mi(t,3):this.F=Ii(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');e=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Jv)return;a="FieldObject"+r.FieldNum++}var v=function(b){return b};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+jh(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var o=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return o===void 0?50/I8:o},set:function(v){o=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Jv||this instanceof fh))return Sw(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof wa?f:Sw(f,this.objId,this.scope)},set:function(v){v=v.toString(),f=this instanceof wa?v:v.substr(0,1)==="("?f0(v.substr(1,v.length-2)):f0(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wa?f0(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof wa?"/"+v:v}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof wa?h:Sw(h,this.objId,this.scope)},set:function(v){v=v.toString(),h=this instanceof wa?v:v.substr(0,1)==="("?f0(v.substr(1,v.length-2)):f0(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wa?f0(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof wa?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(v){v=!!v,m=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(v){y=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,1)},set:function(v){v?this.Ff=Mi(this.Ff,1):this.Ff=Ii(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,2)},set:function(v){v?this.Ff=Mi(this.Ff,2):this.Ff=Ii(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,3)},set:function(v){v?this.Ff=Mi(this.Ff,3):this.Ff=Ii(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');g=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(g){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};to(zl,mc);var F0=function(){zl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){r=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xF(t,this.objId,this.scope)},set:function(e){var n,i;i=[],typeof(n=e)=="string"&&(i=function(a,s,l){l||(l=1);for(var c,o=[];c=s.exec(a);)o.push(c[l]);return o}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,18)},set:function(e){e?this.Ff=Mi(this.Ff,18):this.Ff=Ii(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Mi(this.Ff,19):this.Ff=Ii(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,20)},set:function(e){e?(this.Ff=Mi(this.Ff,20),t.sort()):this.Ff=Ii(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,22)},set:function(e){e?this.Ff=Mi(this.Ff,22):this.Ff=Ii(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,23)},set:function(e){e?this.Ff=Mi(this.Ff,23):this.Ff=Ii(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,27)},set:function(e){e?this.Ff=Mi(this.Ff,27):this.Ff=Ii(this.Ff,27)}}),this.hasAppearanceStream=!1};to(F0,zl);var L0=function(){F0.call(this),this.fontName="helvetica",this.combo=!1};to(L0,F0);var D0=function(){L0.call(this),this.combo=!0};to(D0,L0);var Pv=function(){D0.call(this),this.edit=!0};to(Pv,D0);var wa=function(){zl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,15)},set:function(e){e?this.Ff=Mi(this.Ff,15):this.Ff=Ii(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,16)},set:function(e){e?this.Ff=Mi(this.Ff,16):this.Ff=Ii(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,17)},set:function(e){e?this.Ff=Mi(this.Ff,17):this.Ff=Ii(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,26)},set:function(e){e?this.Ff=Mi(this.Ff,26):this.Ff=Ii(this.Ff,26)}});var r,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(a){return a};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+jh(e(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(e){Ln(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}})};to(wa,zl);var Mv=function(){wa.call(this),this.pushButton=!0};to(Mv,wa);var B0=function(){wa.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t!==void 0?t:[]}})};to(B0,wa);var Jv=function(){var r,t;zl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+jh(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Ln(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=pr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};to(Jv,zl),B0.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=r.createAppearanceStream(e.optionName),e.caption=r.getCA()}},B0.prototype.createOption=function(r){var t=new Jv;return t.Parent=this,t.optionName=r,this.Kids.push(t),SG.call(this.scope,t),t};var Iv=function(){wa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=pr.CheckBox.createAppearanceStream()};to(Iv,wa);var fh=function(){zl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,13)},set:function(t){t?this.Ff=Mi(this.Ff,13):this.Ff=Ii(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,21)},set:function(t){t?this.Ff=Mi(this.Ff,21):this.Ff=Ii(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,23)},set:function(t){t?this.Ff=Mi(this.Ff,23):this.Ff=Ii(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,24)},set:function(t){t?this.Ff=Mi(this.Ff,24):this.Ff=Ii(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,25)},set:function(t){t?this.Ff=Mi(this.Ff,25):this.Ff=Ii(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,26)},set:function(t){t?this.Ff=Mi(this.Ff,26):this.Ff=Ii(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){Number.isInteger(t)&&(r=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};to(fh,zl);var Rv=function(){fh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Pi(this.Ff,14)},set:function(r){r?this.Ff=Mi(this.Ff,14):this.Ff=Ii(this.Ff,14)}}),this.password=!0};to(Rv,fh);var pr={CheckBox:{createAppearanceStream:function(){return{N:{On:pr.CheckBox.YesNormal},D:{On:pr.CheckBox.YesPushDown,Off:pr.CheckBox.OffPushDown}}},YesPushDown:function(r){var t=oc(r);t.scope=r.scope;var e=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),a=V6(r,r.caption);return e.push("0.749023 g"),e.push("0 0 "+Hr(pr.internal.getWidth(r))+" "+Hr(pr.internal.getHeight(r))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+Hr(a.fontSize)+" Tf "+i),e.push("BT"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(r){var t=oc(r);t.scope=r.scope;var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],a=pr.internal.getHeight(r),s=pr.internal.getWidth(r),l=V6(r,r.caption);return i.push("1 g"),i.push("0 0 "+Hr(s)+" "+Hr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Hr(s-1)+" "+Hr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+e+" "+Hr(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(r){var t=oc(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Hr(pr.internal.getWidth(r))+" "+Hr(pr.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(r){var t={D:{Off:pr.RadioButton.Circle.OffPushDown},N:{}};return t.N[r]=pr.RadioButton.Circle.YesNormal,t.D[r]=pr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(r){var t=oc(r);t.scope=r.scope;var e=[],n=pr.internal.getWidth(r)<=pr.internal.getHeight(r)?pr.internal.getWidth(r)/4:pr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=pr.internal.Bezier_C,a=Number((n*i).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+jf(pr.internal.getWidth(r)/2)+" "+jf(pr.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),e.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),e.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),e.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=oc(r);t.scope=r.scope;var e=[],n=pr.internal.getWidth(r)<=pr.internal.getHeight(r)?pr.internal.getWidth(r)/4:pr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*pr.internal.Bezier_C).toFixed(5)),s=Number((n*pr.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+jf(pr.internal.getWidth(r)/2)+" "+jf(pr.internal.getHeight(r)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+jf(pr.internal.getWidth(r)/2)+" "+jf(pr.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),e.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),e.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),e.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(r){var t=oc(r);t.scope=r.scope;var e=[],n=pr.internal.getWidth(r)<=pr.internal.getHeight(r)?pr.internal.getWidth(r)/4:pr.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*pr.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+jf(pr.internal.getWidth(r)/2)+" "+jf(pr.internal.getHeight(r)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(r){var t={D:{Off:pr.RadioButton.Cross.OffPushDown},N:{}};return t.N[r]=pr.RadioButton.Cross.YesNormal,t.D[r]=pr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(r){var t=oc(r);t.scope=r.scope;var e=[],n=pr.internal.calculateCross(r);return e.push("q"),e.push("1 1 "+Hr(pr.internal.getWidth(r)-2)+" "+Hr(pr.internal.getHeight(r)-2)+" re"),e.push("W"),e.push("n"),e.push(Hr(n.x1.x)+" "+Hr(n.x1.y)+" m"),e.push(Hr(n.x2.x)+" "+Hr(n.x2.y)+" l"),e.push(Hr(n.x4.x)+" "+Hr(n.x4.y)+" m"),e.push(Hr(n.x3.x)+" "+Hr(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=oc(r);t.scope=r.scope;var e=pr.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Hr(pr.internal.getWidth(r))+" "+Hr(pr.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Hr(pr.internal.getWidth(r)-2)+" "+Hr(pr.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Hr(e.x1.x)+" "+Hr(e.x1.y)+" m"),n.push(Hr(e.x2.x)+" "+Hr(e.x2.y)+" l"),n.push(Hr(e.x4.x)+" "+Hr(e.x4.y)+" m"),n.push(Hr(e.x3.x)+" "+Hr(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(r){var t=oc(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Hr(pr.internal.getWidth(r))+" "+Hr(pr.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(r){var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,e=r.scope.__private__.encodeColorString(r.color);return"/"+t+" "+r.fontSize+" Tf "+e}};pr.internal={Bezier_C:.551915024494,calculateCross:function(r){var t=pr.internal.getWidth(r),e=pr.internal.getHeight(r),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},pr.internal.getWidth=function(r){var t=0;return Ln(r)==="object"&&(t=y7(r.Rect[2])),t},pr.internal.getHeight=function(r){var t=0;return Ln(r)==="object"&&(t=y7(r.Rect[3])),t};var SG=ji.addField=function(r){if(_G(this,r),!(r instanceof zl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=r).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};ji.AcroFormChoiceField=F0,ji.AcroFormListBox=L0,ji.AcroFormComboBox=D0,ji.AcroFormEditBox=Pv,ji.AcroFormButton=wa,ji.AcroFormPushButton=Mv,ji.AcroFormRadioButton=B0,ji.AcroFormCheckBox=Iv,ji.AcroFormTextField=fh,ji.AcroFormPasswordField=Rv,ji.AcroFormAppearance=pr,ji.AcroForm={ChoiceField:F0,ListBox:L0,ComboBox:D0,EditBox:Pv,Button:wa,PushButton:Mv,RadioButton:B0,CheckBox:Iv,TextField:fh,PasswordField:Rv,Appearance:pr},Pr.AcroForm={ChoiceField:F0,ListBox:L0,ComboBox:D0,EditBox:Pv,Button:wa,PushButton:Mv,RadioButton:B0,CheckBox:Iv,TextField:fh,PasswordField:Rv,Appearance:pr};Pr.AcroForm;function SF(r){return r.reduce(function(t,e,n){return t[e]=n,t},{})}(function(r){r.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(z,U){var O,L,C,k,j,E=t;if((U=U||t)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(P(z))for(j in e)for(C=e[j],O=0;O<C.length;O+=1){for(k=!0,L=0;L<C[O].length;L+=1)if(C[O][L]!==void 0&&C[O][L]!==z[L]){k=!1;break}if(k===!0){E=j;break}}else for(j in e)for(C=e[j],O=0;O<C.length;O+=1){for(k=!0,L=0;L<C[O].length;L+=1)if(C[O][L]!==void 0&&C[O][L]!==z.charCodeAt(L)){k=!1;break}if(k===!0){E=j;break}}return E===t&&U!==t&&(E=U),E},i=function z(U){for(var O=this.internal.write,L=this.internal.putStream,C=(0,this.internal.getFilters)();C.indexOf("FlateEncode")!==-1;)C.splice(C.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var k=[];if(k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Image"}),k.push({key:"Width",value:U.width}),k.push({key:"Height",value:U.height}),U.colorSpace===g.INDEXED?k.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(k.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===g.DEVICE_CMYK&&k.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),k.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&k.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)){for(var j="",E=0,T=U.transparency.length;E<T;E++)j+=U.transparency[E]+" "+U.transparency[E]+" ";k.push({key:"Mask",value:"["+j+"]"})}U.sMask!==void 0&&k.push({key:"SMask",value:U.objectId+1+" 0 R"});var R=U.filter!==void 0?["/"+U.filter]:void 0;if(L({data:U.data,additionalKeyValues:k,alreadyAppliedFilters:R,objectId:U.objectId}),O("endobj"),"sMask"in U&&U.sMask!==void 0){var V="/Predictor "+U.predictor+" /Colors 1 /BitsPerComponent "+U.bitsPerComponent+" /Columns "+U.width,B={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:U.bitsPerComponent,decodeParameters:V,data:U.sMask};"filter"in U&&(B.filter=U.filter),z.call(this,B)}if(U.colorSpace===g.INDEXED){var K=this.internal.newObject();L({data:A(new Uint8Array(U.palette)),objectId:K}),O("endobj")}},a=function(){var z=this.internal.collections.addImage_images;for(var U in z)i.call(this,z[U])},s=function(){var z,U=this.internal.collections.addImage_images,O=this.internal.write;for(var L in U)O("/I"+(z=U[L]).index,z.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var z=this.internal.collections.addImage_images;return l.call(this),z},o=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(z){return typeof r["process"+z.toUpperCase()]=="function"},d=function(z){return Ln(z)==="object"&&z.nodeType===1},f=function(z,U){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var O=""+z.getAttribute("src");if(O.indexOf("data:image/")===0)return Ym(unescape(O).split("base64,").pop());var L=r.loadFile(O,!0);if(L!==void 0)return L}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var C;switch(U){case"PNG":C="image/png";break;case"WEBP":C="image/webp";break;case"JPEG":case"JPG":default:C="image/jpeg"}return Ym(z.toDataURL(C,1).split("base64,").pop())}},h=function(z){var U=this.internal.collections.addImage_images;if(U){for(var O in U)if(z===U[O].alias)return U[O]}},y=function(z,U,O){return z||U||(z=-96,U=-96),z<0&&(z=-1*O.width*72/z/this.internal.scaleFactor),U<0&&(U=-1*O.height*72/U/this.internal.scaleFactor),z===0&&(z=U*O.width/O.height),U===0&&(U=z*O.height/O.width),[z,U]},m=function(z,U,O,L,C,k){var j=y.call(this,O,L,C),E=this.internal.getCoordinateString,T=this.internal.getVerticalCoordinateString,R=c.call(this);if(O=j[0],L=j[1],R[C.index]=C,k){k*=Math.PI/180;var V=Math.cos(k),B=Math.sin(k),K=function(ne){return ne.toFixed(4)},Z=[K(V),K(B),K(-1*B),K(V),0,0,"cm"]}this.internal.write("q"),k?(this.internal.write([1,"0","0",1,E(z),T(U+L),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([E(O),"0","0",E(L),"0","0","cm"].join(" "))):this.internal.write([E(O),"0","0",E(L),E(z),T(U+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+C.index+" Do"),this.internal.write("Q")},g=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=r.__addimage__.sHashCode=function(z){var U,O,L=0;if(typeof z=="string")for(O=z.length,U=0;U<O;U++)L=(L<<5)-L+z.charCodeAt(U),L|=0;else if(P(z))for(O=z.byteLength/2,U=0;U<O;U++)L=(L<<5)-L+z[U],L|=0;return L},w=r.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var U=!0;return z.length===0&&(U=!1),z.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(U=!1),U},_=r.__addimage__.extractImageFromDataUrl=function(z){if(z==null||!(z=z.trim()).startsWith("data:"))return null;var U=z.indexOf(",");return U<0?null:z.substring(0,U).trim().endsWith("base64")?z.substring(U+1):null},N=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(z){return N()&&z instanceof ArrayBuffer};var P=r.__addimage__.isArrayBufferView=function(z){return N()&&typeof Uint32Array<"u"&&(z instanceof Int8Array||z instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array)},M=r.__addimage__.binaryStringToUint8Array=function(z){for(var U=z.length,O=new Uint8Array(U),L=0;L<U;L++)O[L]=z.charCodeAt(L);return O},A=r.__addimage__.arrayBufferToBinaryString=function(z){for(var U="",O=P(z)?z:new Uint8Array(z),L=0;L<O.length;L+=8192)U+=String.fromCharCode.apply(null,O.subarray(L,L+8192));return U};r.addImage=function(){var z,U,O,L,C,k,j,E,T;if(typeof arguments[1]=="number"?(U=t,O=arguments[1],L=arguments[2],C=arguments[3],k=arguments[4],j=arguments[5],E=arguments[6],T=arguments[7]):(U=arguments[1],O=arguments[2],L=arguments[3],C=arguments[4],k=arguments[5],j=arguments[6],E=arguments[7],T=arguments[8]),Ln(z=arguments[0])==="object"&&!d(z)&&"imageData"in z){var R=z;z=R.imageData,U=R.format||U||t,O=R.x||O||0,L=R.y||L||0,C=R.w||R.width||C,k=R.h||R.height||k,j=R.alias||j,E=R.compression||E,T=R.rotation||R.angle||T}var V=this.internal.getFilters();if(E===void 0&&V.indexOf("FlateEncode")!==-1&&(E="SLOW"),isNaN(O)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var B=F.call(this,z,U,j,E);return m.call(this,O,L,C,k,B,T),this};var F=function(z,U,O,L){var C,k,j;if(typeof z=="string"&&n(z)===t){z=unescape(z);var E=H(z,!1);(E!==""||(E=r.loadFile(z,!0))!==void 0)&&(z=E)}if(d(z)&&(z=f(z,U)),U=n(z,U),!u(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((j=O)==null||j.length===0)&&(O=function(T){return typeof T=="string"||P(T)?b(T):P(T.data)?b(T.data):null}(z)),(C=h.call(this,O))||(N()&&(z instanceof Uint8Array||U==="RGBA"||(k=z,z=M(z))),C=this["process"+U.toUpperCase()](z,o.call(this),O,function(T){return T&&typeof T=="string"&&(T=T.toUpperCase()),T in r.image_compression?T:v.NONE}(L),k)),!C)throw new Error("An unknown error occurred whilst processing the image.");return C},H=r.__addimage__.convertBase64ToBinaryString=function(z,U){U=typeof U!="boolean"||U;var O,L="";if(typeof z=="string"){var C;O=(C=_(z))!==null&&C!==void 0?C:z;try{L=Ym(O)}catch(k){if(U)throw w(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+k.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return L};r.getImageProperties=function(z){var U,O,L="";if(d(z)&&(z=f(z)),typeof z=="string"&&n(z)===t&&((L=H(z,!1))===""&&(L=r.loadFile(z)||""),z=L),O=n(z),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!N()||z instanceof Uint8Array||(z=M(z)),!(U=this["process"+O.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=O,U}})(Pr.API),function(r){var t=function(e){if(e!==void 0&&e!="")return!0};Pr.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(e){for(var n,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(e.objId),o=e.pageContext.annotations,u=!1,d=0;d<o.length&&!u;d++)switch((n=o[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<o.length;f++){n=o[f];var h=this.internal.pdfEscape,y=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(m.objId),b=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(v(n.contents))+")",a+=" /Popup "+g.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+h(v(b))+") >>",m.content=a;var w=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",g.content=a,this.internal.write(m.objId,"0 R",g.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(y(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var P=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),r.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},r.link=function(e,n,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(e),y:o(n),w:c(e+i),h:o(n+a)},options:s,type:"link"})},r.textWithLink=function(e,n,i,a){var s,l,c=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var u=this.splitTextToSize(e,l).length;s=Math.ceil(o*u)}else l=c,s=o;return this.text(e,n,i,a),i+=.2*o,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-o,l,s,a),c},r.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}}(Pr.API),function(r){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var a=r.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=r.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},l=r.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&i.indexOf(m.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length>=1};var o=r.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length>=3};var u=r.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length==4},d=r.__arabicParser__.resolveLigatures=function(m){var g=0,v=e,b="",w=0;for(g=0;g<m.length;g+=1)v[m.charCodeAt(g)]!==void 0?(w++,typeof(v=v[m.charCodeAt(g)])=="number"&&(b+=String.fromCharCode(v),v=e,w=0),g===m.length-1&&(v=e,b+=m.charAt(g-(w-1)),g-=w-1,w=0)):(v=e,b+=m.charAt(g-w),g-=w,w=0);return b};r.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var f=r.__arabicParser__.getCorrectForm=function(m,g,v){return s(m)?a(m)===!1?-1:!o(m)||!s(g)&&!s(v)||!s(v)&&l(g)||l(m)&&!s(g)||l(m)&&c(g)||l(m)&&l(g)?0:u(m)&&s(g)&&!l(g)&&s(v)&&o(v)?3:l(m)||!s(v)?1:2:-1},h=function(m){var g=0,v=0,b=0,w="",_="",N="",P=(m=m||"").split("\\s+"),M=[];for(g=0;g<P.length;g+=1){for(M.push(""),v=0;v<P[g].length;v+=1)w=P[g][v],_=P[g][v-1],N=P[g][v+1],s(w)?(b=f(w,_,N),M[g]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):M[g]+=w;M[g]=d(M[g])}return M.join(" ")},y=r.__arabicParser__.processArabic=r.processArabic=function(){var m,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(g)){var b=0;for(v=[],b=0;b<g.length;b+=1)Array.isArray(g[b])?v.push([h(g[b][0]),g[b][1],g[b][2]]):v.push([h(g[b])]);m=v}else m=h(g);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};r.events.push(["preProcessText",y])}(Pr.API),Pr.API.autoPrint=function(r){var t;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(r){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(l){e=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var i;if((e=e||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Pr.API),function(r){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var o=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return o},set:function(m){o=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(m){y=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,o){n.call(this);var u=(o=o||{}).fontSize||this.getFontSize(),d=o.font||this.getFont(),f=o.scaleFactor||this.internal.scaleFactor,h=0,y=0,m=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=o.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,_){return w.concat(g.splitTextToSize(_,v))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)h<(m=this.getStringUnitWidth(c[b],{font:d})*u)&&(h=m);return h!==0&&(y=c.length),{w:h/=f,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=r.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var o=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return o.lineNumber!==void 0&&(o.lineNumber===c.lineNumber?(c.x=(o.x||0)+(o.width||0),c.y=o.y||0):o.y+o.height+c.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=d.top,h&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=o.y+o.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,e===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};r.table=function(c,o,u,d,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,y,m,g,v=[],b=[],w=[],_={},N={},P=[],M=[],A=(f=f||{}).autoSize||!1,F=f.printHeaders!==!1,H=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,z=f.margins||Object.assign({width:this.getPageWidth()},t),U=typeof f.padding=="number"?f.padding:3,O=f.headerBackgroundColor||"#c8c8c8",L=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=L,this.setFontSize(H),d==null)b=v=Object.keys(u[0]),w=v.map(function(){return"left"});else if(Array.isArray(d)&&Ln(d[0])==="object")for(v=d.map(function(R){return R.name}),b=d.map(function(R){return R.prompt||R.name||""}),w=d.map(function(R){return R.align||"left"}),h=0;h<d.length;h+=1)N[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(b=v=d,w=v.map(function(){return"left"}));if(A||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<v.length;h+=1){for(_[g=v[h]]=u.map(function(R){return R[g]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=_[g],this.setFont(void 0,"normal"),m=0;m<y.length;m+=1)P.push(this.getTextDimensions(y[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[g]=Math.max.apply(null,P)+U+U,P=[]}if(F){var C={};for(h=0;h<v.length;h+=1)C[v[h]]={},C[v[h]].text=b[h],C[v[h]].align=w[h];var k=l.call(this,C,N);M=v.map(function(R){return new a(c,o,N[R],k,C[R].text,void 0,C[R].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var j=d.reduce(function(R,V){return R[V.name]=V.align,R},{});for(h=0;h<u.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:u[h]},this);var E=l.call(this,u[h],N);for(m=0;m<v.length;m+=1){var T=u[h][v[m]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:m,data:T},this),s.call(this,new a(c,o,N[v[m]],E,T,h+2,j[v[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=o,this};var l=function(c,o){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(h){var y=c[h];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,o[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+u+u},this).reduce(function(h,y){return Math.max(h,y)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,o){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),o&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(y)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),e=!1}}(Pr.API);var kF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},NF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],G6=SF(NF),EF=[100,200,300,400,500,600,700,800,900],kG=SF(EF);function X6(r){var t=r.family.replace(/"|'/g,"").toLowerCase(),e=function(a){return kF[a=a||"normal"]?a:"normal"}(r.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(r.weight),i=function(a){return typeof G6[a=a||"normal"]=="number"?a:"normal"}(r.stretch);return{family:t,style:e,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:t,style:[i,e,n].join(" ")}}}function v7(r,t,e,n){var i;for(i=e;i>=0&&i<t.length;i+=n)if(r[t[i]])return r[t[i]];for(i=e;i>=0&&i<t.length;i-=n)if(r[t[i]])return r[t[i]]}var NG={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},b7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function x7(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function EG(r,t,e){for(var n=(e=e||{}).defaultFontFamily||"times",i=Object.assign({},NG,e.genericFontFamilies||{}),a=null,s=null,l=0;l<t.length;++l)if(i[(a=X6(t[l])).family]&&(a.family=i[a.family]),r.hasOwnProperty(a.family)){s=r[a.family];break}if(!(s=s||r[n]))throw new Error("Could not find a font-family for the rule '"+x7(a)+"' and default family '"+n+"'.");if(s=function(c,o){if(o[c])return o[c];var u=G6[c],d=u<=G6.normal?-1:1,f=v7(o,NF,u,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(a.stretch,s),s=function(c,o){if(o[c])return o[c];for(var u=kF[c],d=0;d<u.length;++d)if(o[u[d]])return o[u[d]];throw new Error("Could not find a matching font-style for "+c)}(a.style,s),!(s=function(c,o){if(o[c])return o[c];if(c===400&&o[500])return o[500];if(c===500&&o[400])return o[400];var u=kG[c],d=v7(o,EF,u,c<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+c);return d}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+x7(a)+"'.");return s}function w7(r){return r.trimLeft()}function jG(r,t){for(var e=0;e<r.length;){if(r.charAt(e)===t)return[r.substring(0,e),r.substring(e+1)];e+=1}return null}function AG(r){var t=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],r.substring(t[0].length)]}var wy,_7,S7,kw=["times"];(function(r){var t,e,n,i,a,s,l,c,o,u=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new s,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new s,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,o=new u}]);var d=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=B;Object.defineProperty(this,"pdf",{get:function(){return K}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(he){Z=!!he}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(he){ne=!!he}});var G=0;Object.defineProperty(this,"posX",{get:function(){return G},set:function(he){isNaN(he)||(G=he)}});var te=0;Object.defineProperty(this,"posY",{get:function(){return te},set:function(he){isNaN(he)||(te=he)}}),Object.defineProperty(this,"margin",{get:function(){return o.margin},set:function(he){var le;typeof he=="number"?le=[he,he,he,he]:((le=new Array(4))[0]=he[0],le[1]=he.length>=2?he[1]:le[0],le[2]=he.length>=3?he[2]:le[0],le[3]=he.length>=4?he[3]:le[1]),o.margin=le}});var I=!1;Object.defineProperty(this,"autoPaging",{get:function(){return I},set:function(he){I=he}});var D=0;Object.defineProperty(this,"lastBreak",{get:function(){return D},set:function(he){D=he}});var X=[];Object.defineProperty(this,"pageBreaks",{get:function(){return X},set:function(he){X=he}}),Object.defineProperty(this,"ctx",{get:function(){return o},set:function(he){he instanceof u&&(o=he)}}),Object.defineProperty(this,"path",{get:function(){return o.path},set:function(he){o.path=he}});var Q=[];Object.defineProperty(this,"ctxStack",{get:function(){return Q},set:function(he){Q=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var le;le=f(he),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var le=f(he);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var re=null;function oe(he,le){if(re===null){var de=function(ve){var ge=[];return Object.keys(ve).forEach(function(ke){ve[ke].forEach(function(Pe){var Re=null;switch(Pe){case"bold":Re={family:ke,weight:"bold"};break;case"italic":Re={family:ke,style:"italic"};break;case"bolditalic":Re={family:ke,weight:"bold",style:"italic"};break;case"":case"normal":Re={family:ke}}Re!==null&&(Re.ref={name:ke,style:Pe},ge.push(Re))})}),ge}(he.getFontList());re=function(ve){for(var ge={},ke=0;ke<ve.length;++ke){var Pe=X6(ve[ke]),Re=Pe.family,Ie=Pe.stretch,qe=Pe.style,Ue=Pe.weight;ge[Re]=ge[Re]||{},ge[Re][Ie]=ge[Re][Ie]||{},ge[Re][Ie][qe]=ge[Re][Ie][qe]||{},ge[Re][Ie][qe][Ue]=Pe}return ge}(de.concat(le))}return re}var se=null;Object.defineProperty(this,"fontFaces",{get:function(){return se},set:function(he){re=null,se=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var le;if(this.ctx.font=he,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var de=le[1];le[2];var ve=le[3],ge=le[4];le[5];var ke=le[6],Pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ge)[2];ge=Math.floor(Pe==="px"?parseFloat(ge)*this.pdf.internal.scaleFactor:Pe==="em"?parseFloat(ge)*this.pdf.getFontSize():parseFloat(ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ge);var Re=function(lt){var gt,Ve,Dt=[],bt=lt.trim();if(bt==="")return kw;if(bt in b7)return[b7[bt]];for(;bt!=="";){switch(Ve=null,gt=(bt=w7(bt)).charAt(0)){case'"':case"'":Ve=jG(bt.substring(1),gt);break;default:Ve=AG(bt)}if(Ve===null||(Dt.push(Ve[0]),(bt=w7(Ve[1]))!==""&&bt.charAt(0)!==","))return kw;bt=bt.replace(/^,/,"")}return Dt}(ke);if(this.fontFaces){var Ie=EG(oe(this.pdf,this.fontFaces),Re.map(function(lt){return{family:lt,stretch:"normal",weight:ve,style:de}}));this.pdf.setFont(Ie.ref.name,Ie.ref.style)}else{var qe="";(ve==="bold"||parseInt(ve,10)>=700||de==="bold")&&(qe="bold"),de==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var Ue="",vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<Re.length;St++){if(this.pdf.internal.getFont(Re[St],qe,{noFallback:!0,disableWarning:!0})!==void 0){Ue=Re[St];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(Re[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ue=Re[St],qe="bold";else if(this.pdf.internal.getFont(Re[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ue=Re[St],qe="normal";break}}if(Ue===""){for(var De=0;De<Re.length;De++)if(vt[Re[De]]){Ue=vt[Re[De]];break}}Ue=Ue===""?"Times":Ue,this.pdf.setFont(Ue,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,V.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,V.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};d.prototype.setLineDash=function(B){this.lineDash=B},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){_.call(this,"fill",!1)},d.prototype.stroke=function(){_.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(B,K){if(isNaN(B)||isNaN(K))throw Wn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new s(B,K));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(B,K)},d.prototype.closePath=function(){var B=new s(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Ln(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){B=new s(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(B.x,B.y)},d.prototype.lineTo=function(B,K){if(isNaN(B)||isNaN(K))throw Wn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new s(B,K));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},d.prototype.quadraticCurveTo=function(B,K,Z,ne){if(isNaN(Z)||isNaN(ne)||isNaN(B)||isNaN(K))throw Wn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var G=this.ctx.transform.applyToPoint(new s(Z,ne)),te=this.ctx.transform.applyToPoint(new s(B,K));this.path.push({type:"qct",x1:te.x,y1:te.y,x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},d.prototype.bezierCurveTo=function(B,K,Z,ne,G,te){if(isNaN(G)||isNaN(te)||isNaN(B)||isNaN(K)||isNaN(Z)||isNaN(ne))throw Wn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var I=this.ctx.transform.applyToPoint(new s(G,te)),D=this.ctx.transform.applyToPoint(new s(B,K)),X=this.ctx.transform.applyToPoint(new s(Z,ne));this.path.push({type:"bct",x1:D.x,y1:D.y,x2:X.x,y2:X.y,x:I.x,y:I.y}),this.ctx.lastPoint=new s(I.x,I.y)},d.prototype.arc=function(B,K,Z,ne,G,te){if(isNaN(B)||isNaN(K)||isNaN(Z)||isNaN(ne)||isNaN(G))throw Wn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(te=!!te,!this.ctx.transform.isIdentity){var I=this.ctx.transform.applyToPoint(new s(B,K));B=I.x,K=I.y;var D=this.ctx.transform.applyToPoint(new s(0,Z)),X=this.ctx.transform.applyToPoint(new s(0,0));Z=Math.sqrt(Math.pow(D.x-X.x,2)+Math.pow(D.y-X.y,2))}Math.abs(G-ne)>=2*Math.PI&&(ne=0,G=2*Math.PI),this.path.push({type:"arc",x:B,y:K,radius:Z,startAngle:ne,endAngle:G,counterclockwise:te})},d.prototype.arcTo=function(B,K,Z,ne,G){throw new Error("arcTo not implemented.")},d.prototype.rect=function(B,K,Z,ne){if(isNaN(B)||isNaN(K)||isNaN(Z)||isNaN(ne))throw Wn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,K),this.lineTo(B+Z,K),this.lineTo(B+Z,K+ne),this.lineTo(B,K+ne),this.lineTo(B,K),this.lineTo(B+Z,K),this.lineTo(B,K)},d.prototype.fillRect=function(B,K,Z,ne){if(isNaN(B)||isNaN(K)||isNaN(Z)||isNaN(ne))throw Wn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var G={};this.lineCap!=="butt"&&(G.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(G.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,K,Z,ne),this.fill(),G.hasOwnProperty("lineCap")&&(this.lineCap=G.lineCap),G.hasOwnProperty("lineJoin")&&(this.lineJoin=G.lineJoin)}},d.prototype.strokeRect=function(B,K,Z,ne){if(isNaN(B)||isNaN(K)||isNaN(Z)||isNaN(ne))throw Wn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(B,K,Z,ne),this.stroke())},d.prototype.clearRect=function(B,K,Z,ne){if(isNaN(B)||isNaN(K)||isNaN(Z)||isNaN(ne))throw Wn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,K,Z,ne))},d.prototype.save=function(B){B=typeof B!="boolean"||B;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},d.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(K),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(B){var K,Z,ne,G;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))K=0,Z=0,ne=0,G=0;else{var te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(te!==null)K=parseInt(te[1]),Z=parseInt(te[2]),ne=parseInt(te[3]),G=1;else if((te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)K=parseInt(te[1]),Z=parseInt(te[2]),ne=parseInt(te[3]),G=parseFloat(te[4]);else{if(G=1,typeof B=="string"&&B.charAt(0)!=="#"){var I=new yF(B);B=I.ok?I.toHex():"#000000"}B.length===4?(K=B.substring(1,2),K+=K,Z=B.substring(2,3),Z+=Z,ne=B.substring(3,4),ne+=ne):(K=B.substring(1,3),Z=B.substring(3,5),ne=B.substring(5,7)),K=parseInt(K,16),Z=parseInt(Z,16),ne=parseInt(ne,16)}}return{r:K,g:Z,b:ne,a:G,style:B}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(B,K,Z,ne){if(isNaN(K)||isNaN(Z)||typeof B!="string")throw Wn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!h.call(this)){var G=E(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;U.call(this,{text:B,x:K,y:Z,scale:te,angle:G,align:this.textAlign,maxWidth:ne})}},d.prototype.strokeText=function(B,K,Z,ne){if(isNaN(K)||isNaN(Z)||typeof B!="string")throw Wn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ne=isNaN(ne)?void 0:ne;var G=E(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;U.call(this,{text:B,x:K,y:Z,scale:te,renderingMode:"stroke",angle:G,align:this.textAlign,maxWidth:ne})}},d.prototype.measureText=function(B){if(typeof B!="string")throw Wn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Z=this.pdf.internal.scaleFactor,ne=K.internal.getFontSize(),G=K.getStringUnitWidth(B)*ne/K.internal.scaleFactor,te=function(I){var D=(I=I||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return D}}),this};return new te({width:G*=Math.round(96*Z/72*1e4)/1e4})},d.prototype.scale=function(B,K){if(isNaN(B)||isNaN(K))throw Wn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(B,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},d.prototype.rotate=function(B){if(isNaN(B))throw Wn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.translate=function(B,K){if(isNaN(B)||isNaN(K))throw Wn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,B,K);this.ctx.transform=this.ctx.transform.multiply(Z)},d.prototype.transform=function(B,K,Z,ne,G,te){if(isNaN(B)||isNaN(K)||isNaN(Z)||isNaN(ne)||isNaN(G)||isNaN(te))throw Wn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var I=new c(B,K,Z,ne,G,te);this.ctx.transform=this.ctx.transform.multiply(I)},d.prototype.setTransform=function(B,K,Z,ne,G,te){B=isNaN(B)?1:B,K=isNaN(K)?0:K,Z=isNaN(Z)?0:Z,ne=isNaN(ne)?1:ne,G=isNaN(G)?0:G,te=isNaN(te)?0:te,this.ctx.transform=new c(B,K,Z,ne,G,te)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(B,K,Z,ne,G,te,I,D,X){var Q=this.pdf.getImageProperties(B),re=1,oe=1,se=1,he=1;ne!==void 0&&D!==void 0&&(se=D/ne,he=X/G,re=Q.width/ne*D/ne,oe=Q.height/G*X/G),te===void 0&&(te=K,I=Z,K=0,Z=0),ne!==void 0&&D===void 0&&(D=ne,X=G),ne===void 0&&D===void 0&&(D=Q.width,X=Q.height);for(var le,de=this.ctx.transform.decompose(),ve=E(de.rotate.shx),ge=new c,ke=(ge=(ge=(ge=ge.multiply(de.translate)).multiply(de.skew)).multiply(de.scale)).applyToRectangle(new l(te-K*se,I-Z*he,ne*re,G*oe)),Pe=g.call(this,ke),Re=[],Ie=0;Ie<Pe.length;Ie+=1)Re.indexOf(Pe[Ie])===-1&&Re.push(Pe[Ie]);if(w(Re),this.autoPaging)for(var qe=Re[0],Ue=Re[Re.length-1],vt=qe;vt<Ue+1;vt++){this.pdf.setPage(vt);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=vt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=vt===1?0:lt+(vt-2)*gt;if(this.ctx.clip_path.length!==0){var Dt=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(le,this.posX+this.margin[3],-Ve+De+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Dt}var bt=JSON.parse(JSON.stringify(ke));bt=b([bt],this.posX+this.margin[3],-Ve+De+this.ctx.prevPageLastElemOffset)[0];var At=(vt>qe||vt<Ue)&&m.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,gt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",bt.x,bt.y,bt.w,bt.h,null,null,ve),At&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(B,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,ve)};var g=function(B,K,Z){var ne=[];K=K||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var G=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":ne.push(Math.floor((B.y+G)/Z)+1);break;case"arc":ne.push(Math.floor((B.y+G-B.radius)/Z)+1),ne.push(Math.floor((B.y+G+B.radius)/Z)+1);break;case"qct":var te=T(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);ne.push(Math.floor((te.y+G)/Z)+1),ne.push(Math.floor((te.y+te.h+G)/Z)+1);break;case"bct":var I=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);ne.push(Math.floor((I.y+G)/Z)+1),ne.push(Math.floor((I.y+I.h+G)/Z)+1);break;case"rect":ne.push(Math.floor((B.y+G)/Z)+1),ne.push(Math.floor((B.y+B.h+G)/Z)+1)}for(var D=0;D<ne.length;D+=1)for(;this.pdf.internal.getNumberOfPages()<ne[D];)v.call(this);return ne},v=function(){var B=this.fillStyle,K=this.strokeStyle,Z=this.font,ne=this.lineCap,G=this.lineWidth,te=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=K,this.font=Z,this.lineCap=ne,this.lineWidth=G,this.lineJoin=te},b=function(B,K,Z){for(var ne=0;ne<B.length;ne++)switch(B[ne].type){case"bct":B[ne].x2+=K,B[ne].y2+=Z;case"qct":B[ne].x1+=K,B[ne].y1+=Z;case"mt":case"lt":case"arc":default:B[ne].x+=K,B[ne].y+=Z}return B},w=function(B){return B.sort(function(K,Z){return K-Z})},_=function(B,K){for(var Z,ne,G=this.fillStyle,te=this.strokeStyle,I=this.lineCap,D=this.lineWidth,X=Math.abs(D*this.ctx.transform.scaleX),Q=this.lineJoin,re=JSON.parse(JSON.stringify(this.path)),oe=JSON.parse(JSON.stringify(this.path)),se=[],he=0;he<oe.length;he++)if(oe[he].x!==void 0)for(var le=g.call(this,oe[he]),de=0;de<le.length;de+=1)se.indexOf(le[de])===-1&&se.push(le[de]);for(var ve=0;ve<se.length;ve++)for(;this.pdf.internal.getNumberOfPages()<se[ve];)v.call(this);if(w(se),this.autoPaging)for(var ge=se[0],ke=se[se.length-1],Pe=ge;Pe<ke+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=G,this.strokeStyle=te,this.lineCap=I,this.lineWidth=X,this.lineJoin=Q;var Re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ie=Pe===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=Pe===1?0:qe+(Pe-2)*Ue;if(this.ctx.clip_path.length!==0){var St=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Z,this.posX+this.margin[3],-vt+Ie+this.ctx.prevPageLastElemOffset),N.call(this,B,!0),this.path=St}if(ne=JSON.parse(JSON.stringify(re)),this.path=b(ne,this.posX+this.margin[3],-vt+Ie+this.ctx.prevPageLastElemOffset),K===!1||Pe===0){var De=(Pe>ge||Pe<ke)&&m.call(this);De&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Re,Ue,null).clip().discardPath()),N.call(this,B,K),De&&this.pdf.restoreGraphicsState()}this.lineWidth=D}else this.lineWidth=X,N.call(this,B,K),this.lineWidth=D;this.path=re},N=function(B,K){if((B!=="stroke"||K||!y.call(this))&&(B==="stroke"||K||!h.call(this))){for(var Z,ne,G=[],te=this.path,I=0;I<te.length;I++){var D=te[I];switch(D.type){case"begin":G.push({begin:!0});break;case"close":G.push({close:!0});break;case"mt":G.push({start:D,deltas:[],abs:[]});break;case"lt":var X=G.length;if(te[I-1]&&!isNaN(te[I-1].x)&&(Z=[D.x-te[I-1].x,D.y-te[I-1].y],X>0)){for(;X>=0;X--)if(G[X-1].close!==!0&&G[X-1].begin!==!0){G[X-1].deltas.push(Z),G[X-1].abs.push(D);break}}break;case"bct":Z=[D.x1-te[I-1].x,D.y1-te[I-1].y,D.x2-te[I-1].x,D.y2-te[I-1].y,D.x-te[I-1].x,D.y-te[I-1].y],G[G.length-1].deltas.push(Z);break;case"qct":var Q=te[I-1].x+2/3*(D.x1-te[I-1].x),re=te[I-1].y+2/3*(D.y1-te[I-1].y),oe=D.x+2/3*(D.x1-D.x),se=D.y+2/3*(D.y1-D.y),he=D.x,le=D.y;Z=[Q-te[I-1].x,re-te[I-1].y,oe-te[I-1].x,se-te[I-1].y,he-te[I-1].x,le-te[I-1].y],G[G.length-1].deltas.push(Z);break;case"arc":G.push({deltas:[],abs:[],arc:!0}),Array.isArray(G[G.length-1].abs)&&G[G.length-1].abs.push(D)}}ne=K?null:B==="stroke"?"stroke":"fill";for(var de=!1,ve=0;ve<G.length;ve++)if(G[ve].arc)for(var ge=G[ve].abs,ke=0;ke<ge.length;ke++){var Pe=ge[ke];Pe.type==="arc"?A.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,K,!de):O.call(this,Pe.x,Pe.y),de=!0}else if(G[ve].close===!0)this.pdf.internal.out("h"),de=!1;else if(G[ve].begin!==!0){var Re=G[ve].start.x,Ie=G[ve].start.y;L.call(this,G[ve].deltas,Re,Ie),de=!0}ne&&F.call(this,ne),K&&H.call(this)}},P=function(B){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-Z;case"top":return B+K-Z;case"hanging":return B+K-2*Z;case"middle":return B+K/2-Z;case"ideographic":return B;case"alphabetic":default:return B}},M=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(K,Z){this.colorStops.push([K,Z])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(B,K,Z,ne,G,te,I,D,X){for(var Q=k.call(this,Z,ne,G,te),re=0;re<Q.length;re++){var oe=Q[re];re===0&&(X?z.call(this,oe.x1+B,oe.y1+K):O.call(this,oe.x1+B,oe.y1+K)),C.call(this,B,K,oe.x2,oe.y2,oe.x3,oe.y3,oe.x4,oe.y4)}D?H.call(this):F.call(this,I)},F=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(B,K){this.pdf.internal.out(e(B)+" "+n(K)+" m")},U=function(B){var K;switch(B.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var Z=this.pdf.getTextDimensions(B.text),ne=P.call(this,B.y),G=M.call(this,ne)-Z.h,te=this.ctx.transform.applyToPoint(new s(B.x,ne)),I=this.ctx.transform.decompose(),D=new c;D=(D=(D=D.multiply(I.translate)).multiply(I.skew)).multiply(I.scale);for(var X,Q,re,oe=this.ctx.transform.applyToRectangle(new l(B.x,ne,Z.w,Z.h)),se=D.applyToRectangle(new l(B.x,G,Z.w,Z.h)),he=g.call(this,se),le=[],de=0;de<he.length;de+=1)le.indexOf(he[de])===-1&&le.push(he[de]);if(w(le),this.autoPaging)for(var ve=le[0],ge=le[le.length-1],ke=ve;ke<ge+1;ke++){this.pdf.setPage(ke);var Pe=ke===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[2],qe=Ie-this.margin[0],Ue=this.pdf.internal.pageSize.width-this.margin[1],vt=Ue-this.margin[3],St=ke===1?0:Re+(ke-2)*qe;if(this.ctx.clip_path.length!==0){var De=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(X,this.posX+this.margin[3],-1*St+Pe),N.call(this,"fill",!0),this.path=De}var lt=b([JSON.parse(JSON.stringify(se))],this.posX+this.margin[3],-St+Pe+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*B.scale),re=this.lineWidth,this.lineWidth=re*B.scale);var gt=this.autoPaging!=="text";if(gt||lt.y+lt.h<=Ie){if(gt||lt.y>=Pe&&lt.x<=Ue){var Ve=gt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Ue-lt.x)[0],Dt=b([JSON.parse(JSON.stringify(oe))],this.posX+this.margin[3],-St+Pe+this.ctx.prevPageLastElemOffset)[0],bt=gt&&(ke>ve||ke<ge)&&m.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vt,qe,null).clip().discardPath()),this.pdf.text(Ve,Dt.x,Dt.y,{angle:B.angle,align:K,renderingMode:B.renderingMode}),bt&&this.pdf.restoreGraphicsState()}}else lt.y<Ie&&(this.ctx.prevPageLastElemOffset+=Ie-lt.y);B.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=re)}else B.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*B.scale),re=this.lineWidth,this.lineWidth=re*B.scale),this.pdf.text(B.text,te.x+this.posX,te.y+this.posY,{angle:B.angle,align:K,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=re)},O=function(B,K,Z,ne){Z=Z||0,ne=ne||0,this.pdf.internal.out(e(B+Z)+" "+n(K+ne)+" l")},L=function(B,K,Z){return this.pdf.lines(B,K,Z,null,null)},C=function(B,K,Z,ne,G,te,I,D){this.pdf.internal.out([t(i(Z+B)),t(a(ne+K)),t(i(G+B)),t(a(te+K)),t(i(I+B)),t(a(D+K)),"c"].join(" "))},k=function(B,K,Z,ne){for(var G=2*Math.PI,te=Math.PI/2;K>Z;)K-=G;var I=Math.abs(Z-K);I<G&&ne&&(I=G-I);for(var D=[],X=ne?-1:1,Q=K;I>1e-5;){var re=Q+X*Math.min(I,te);D.push(j.call(this,B,Q,re)),I-=Math.abs(re-Q),Q=re}return D},j=function(B,K,Z){var ne=(Z-K)/2,G=B*Math.cos(ne),te=B*Math.sin(ne),I=G,D=-te,X=I*I+D*D,Q=X+I*G+D*te,re=4/3*(Math.sqrt(2*X*Q)-Q)/(I*te-D*G),oe=I-re*D,se=D+re*I,he=oe,le=-se,de=ne+K,ve=Math.cos(de),ge=Math.sin(de);return{x1:B*Math.cos(K),y1:B*Math.sin(K),x2:oe*ve-se*ge,y2:oe*ge+se*ve,x3:he*ve-le*ge,y3:he*ge+le*ve,x4:B*Math.cos(Z),y4:B*Math.sin(Z)}},E=function(B){return 180*B/Math.PI},T=function(B,K,Z,ne,G,te){var I=B+.5*(Z-B),D=K+.5*(ne-K),X=G+.5*(Z-G),Q=te+.5*(ne-te),re=Math.min(B,G,I,X),oe=Math.max(B,G,I,X),se=Math.min(K,te,D,Q),he=Math.max(K,te,D,Q);return new l(re,se,oe-re,he-se)},R=function(B,K,Z,ne,G,te,I,D){var X,Q,re,oe,se,he,le,de,ve,ge,ke,Pe,Re,Ie,qe=Z-B,Ue=ne-K,vt=G-Z,St=te-ne,De=I-G,lt=D-te;for(Q=0;Q<41;Q++)ve=(le=(re=B+(X=Q/40)*qe)+X*((se=Z+X*vt)-re))+X*(se+X*(G+X*De-se)-le),ge=(de=(oe=K+X*Ue)+X*((he=ne+X*St)-oe))+X*(he+X*(te+X*lt-he)-de),Q==0?(ke=ve,Pe=ge,Re=ve,Ie=ge):(ke=Math.min(ke,ve),Pe=Math.min(Pe,ge),Re=Math.max(Re,ve),Ie=Math.max(Ie,ge));return new l(Math.round(ke),Math.round(Pe),Math.round(Re-ke),Math.round(Ie-Pe))},V=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,K,Z=(B=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:K}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Pr.API),function(r){var t=function(a){var s,l,c,o,u,d,f,h,y,m;for(l=[],c=0,o=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;o>c;c+=4)(u=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(d=(u=((u=((u=((u=(u-(m=u%85))/85)-(y=u%85))/85)-(h=u%85))/85)-(f=u%85))/85)%85,l.push(d+33,f+33,h+33,y+33,m+33)):l.push(122);return function(g,v){for(var b=v;b>0;b--)g.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},e=function(a){var s,l,c,o,u,d=String,f="length",h=255,y="charCodeAt",m="slice",g="replace";for(a[m](-2),a=a[m](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],o=0,u=(a+=s="uuuuu"[m](a[f]%5||5))[f];u>o;o+=5)l=52200625*(a[y](o)-33)+614125*(a[y](o+1)-33)+7225*(a[y](o+2)-33)+85*(a[y](o+3)-33)+(a[y](o+4)-33),c.push(h&l>>24,h&l>>16,h&l>>8,h&l);return function(v,b){for(var w=b;w>0;w--)v.pop()}(c,s[f]),d.fromCharCode.apply(d,c)},n=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=z6(s)).reduce(function(c,o){return c+String.fromCharCode(o)},"")};r.processDataByFilters=function(a,s){var l=0,c=a||"",o=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=e(c),o.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),o.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),o.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",o.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),o.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:o.reverse().join(" ")}}}(Pr.API),function(r){r.loadFile=function(t,e,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(c,o,u){var d=new XMLHttpRequest,f=0,h=function(y){var m=y.length,g=[],v=String.fromCharCode;for(f=0;f<m;f+=1)g.push(v(255&y.charCodeAt(f)));return g.join("")};if(d.open("GET",c,!o),d.overrideMimeType("text/plain; charset=x-user-defined"),o===!1&&(d.onload=function(){d.status===200?u(h(this.responseText)):u(void 0)}),d.send(null),o&&d.status===200)return h(d.responseText)}(i,a,s)}catch{}return l}(t,e,n)},r.loadImageFile=r.loadFile}(Pr.API),function(r){function t(){return(Fr.html2canvas?Promise.resolve(Fr.html2canvas):Oo(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function e(){return(Fr.DOMPurify?Promise.resolve(Fr.DOMPurify):Oo(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var l=Ln(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var c=document.createElement(s);for(var o in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[o]=l.style[o];return c},a=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),o=s.convert(Promise.resolve(),c);return o=(o=o.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(e).then(function(c){return this.set({src:i("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(o,u){for(var d=o.nodeType===3?document.createTextNode(o.nodeValue):o.cloneNode(!1),f=o.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(c(f,u));return o.nodeType===1&&(o.nodeName==="CANVAS"?(d.width=o.width,d.height=o.height,d.getContext("2d").drawImage(o,0,0)):o.nodeName!=="TEXTAREA"&&o.nodeName!=="SELECT"||(d.value=o.value),d.addEventListener("load",function(){d.scrollTop=o.scrollTop,d.scrollLeft=o.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var c=this.opt.jsPDF,o=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=o,o)for(var f=0;f<o.length;++f){var h=o[f],y=h.src.find(function(m){return m.format==="truetype"});y&&c.addFont(y.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(n(s)!=="object")return this;var l=Object.keys(s||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(s,l){return this.then(function(){var c=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(c):c})},a.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(c,o){return Math.floor(c*o/72*96)}return this.then(function(){(s=s||Pr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,l,c,o){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),o!=null&&(this.progress.stack=o),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,c,o){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,o?this.progress.stack.concat(o):null)},a.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,function(o,u){return c.updateProgress(null,null,1,[o]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,o),d}).then(o,u).then(function(d){return c.updateProgress(1),d})})},a.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var o=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),u=c.call(o,s,l);return a.convert(u,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Pr.getPageSize=function(s,l,c){if(Ln(s)==="object"){var o=s;s=o.orientation,l=o.unit||l,c=o.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var u,d=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var h,y=0,m=0;if(f.hasOwnProperty(d))y=f[d][1]/u,m=f[d][0]/u;else try{y=c[1],m=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",m>y&&(h=m,m=y,y=h);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",y>m&&(h=m,m=y,y=h)}return{width:m,height:y,unit:l,k:u,orientation:s}},r.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(X6):null;var c=new a(l);return l.worker?c:c.from(s).doCallback()}}(Pr.API),Pr.API.addJS=function(r){return S7=r,this.internal.events.subscribe("postPutResources",function(){wy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+S7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wy!==void 0&&_7!==void 0&&this.internal.out("/Names <</JavaScript "+wy+" 0 R>>")}),this},function(r){var t;r.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=n.exec(s);if(l!=null){var c=l[1];e.internal.newObjectDeferredBegin(c,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var o=this.internal.pages.length,u=[];for(a=0;a<o;a++){var d=e.internal.newObject();u.push(d);var f=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<u.length;a++)e.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),r.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var o=0;o<n.children.length;o++)this.renderItems(n.children[o])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Pr.API),function(r){var t=[192,193,194,195,196,197,198,199];r.processJPEG=function(e,n,i,a,s,l){var c,o=this.decode.DCT_DECODE,u=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(c=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),y=d.length,m={width:0,height:0,numcomponents:1},g=4;g<y;g+=2){if(g+=h,t.indexOf(d.charCodeAt(g+1))!==-1){f=256*d.charCodeAt(g+5)+d.charCodeAt(g+6),m={width:256*d.charCodeAt(g+7)+d.charCodeAt(g+8),height:f,numcomponents:d.charCodeAt(g+9)};break}h=256*d.charCodeAt(g+2)+d.charCodeAt(g+3)}return m}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:e,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:o,index:n,alias:i}}return u}}(Pr.API);var d0,_y,k7,N7,E7,TG=function(){var r,t,e;function n(a){var s,l,c,o,u,d,f,h,y,m,g,v,b,w;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(s=this.readUInt32(),y=(function(){var _,N;for(N=[],_=0;_<4;++_)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),o=this.readUInt16()||100,d.delay=1e3*u/o,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,s-=4),a=(d!=null?d.data:void 0)||this.imgData,v=0;0<=s?v<s:v>s;0<=s?++v:--v)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((m=c-this.transparency.indexed.length)>0)for(b=0;0<=m?b<m:b>m;0<=m?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":f=(g=this.read(s)).indexOf(0),h=String.fromCharCode.apply(String,g.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,g.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),c=0,o=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function u(d,f,h,y){var m,g,v,b,w,_,N,P,M,A,F,H,z,U,O,L,C,k,j,E,T,R=Math.ceil((o.width-d)/h),V=Math.ceil((o.height-f)/y),B=o.width==R&&o.height==V;for(U=s*R,H=B?l:new Uint8Array(U*V),_=a.length,z=0,g=0;z<V&&c<_;){switch(a[c++]){case 0:for(b=C=0;C<U;b=C+=1)H[g++]=a[c++];break;case 1:for(b=k=0;k<U;b=k+=1)m=a[c++],w=b<s?0:H[g-s],H[g++]=(m+w)%256;break;case 2:for(b=j=0;j<U;b=j+=1)m=a[c++],v=(b-b%s)/s,O=z&&H[(z-1)*U+v*s+b%s],H[g++]=(O+m)%256;break;case 3:for(b=E=0;E<U;b=E+=1)m=a[c++],v=(b-b%s)/s,w=b<s?0:H[g-s],O=z&&H[(z-1)*U+v*s+b%s],H[g++]=(m+Math.floor((w+O)/2))%256;break;case 4:for(b=T=0;T<U;b=T+=1)m=a[c++],v=(b-b%s)/s,w=b<s?0:H[g-s],z===0?O=L=0:(O=H[(z-1)*U+v*s+b%s],L=v&&H[(z-1)*U+(v-1)*s+b%s]),N=w+O-L,P=Math.abs(N-w),A=Math.abs(N-O),F=Math.abs(N-L),M=P<=A&&P<=F?w:A<=F?O:L,H[g++]=(m+M)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!B){var K=((f+z*y)*o.width+d)*s,Z=z*U;for(b=0;b<R;b+=1){for(var ne=0;ne<s;ne+=1)l[K++]=H[Z++];K+=(h-1)*s}}z++}}return a=oG(a),o.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},n.prototype.decodePalette=function(){var a,s,l,c,o,u,d,f,h;for(l=this.palette,u=this.transparency.indexed||[],o=new Uint8Array((u.length||0)+l.length),c=0,a=0,s=d=0,f=l.length;d<f;s=d+=3)o[c++]=l[s],o[c++]=l[s+1],o[c++]=l[s+2],o[c++]=(h=u[a++])!=null?h:255;return o},n.prototype.copyToImageData=function(a,s){var l,c,o,u,d,f,h,y,m,g,v;if(c=this.colors,m=null,l=this.hasAlphaChannel,this.palette.length&&(m=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),c=4,l=!0),y=(o=a.data||a).length,d=m||s,u=f=0,c===1)for(;u<y;)h=m?4*s[u/4]:f,g=d[h++],o[u++]=g,o[u++]=g,o[u++]=g,o[u++]=l?d[h++]:255,f=h;else for(;u<y;)h=m?4*s[u/4]:f,o[u++]=d[h++],o[u++]=d[h++],o[u++]=d[h++],o[u++]=l?d[h++]:255,f=h},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Fr)==="[object Window]"){try{t=Fr.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),r=function(a){var s;if(i()===!0)return e.width=a.width,e.height=a.height,e.clearRect(0,0,a.width,a.height),e.putImageData(a,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var s,l,c,o,u,d,f,h;if(this.animation){for(h=[],l=u=0,d=(f=this.animation.frames).length;u<d;l=++u)s=f[l],c=a.createImageData(s.width,s.height),o=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,o),s.imageData=c,h.push(s.image=r(c));return h}},n.prototype.renderFrame=function(a,s){var l,c,o;return l=(c=this.animation.frames)[s],o=c[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(o!=null?o.disposeOp:void 0)===1?a.clearRect(o.xOffset,o.yOffset,o.width,o.height):(o!=null?o.disposeOp:void 0)===2&&a.putImageData(o.imageData,o.xOffset,o.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(a){var s,l,c,o,u,d,f=this;return l=0,d=this.animation,o=d.numFrames,c=d.frames,u=d.numPlays,(s=function(){var h,y;if(h=l++%o,y=c[h],f.renderFrame(a,h),o>1&&l/o<u)return f.animation._timeout=setTimeout(s,y.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function CG(r){var t=0;if(r[t++]!==71||r[t++]!==73||r[t++]!==70||r[t++]!==56||(r[t++]+1&253)!=56||r[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=r[t++]|r[t++]<<8,n=r[t++]|r[t++]<<8,i=r[t++],a=i>>7,s=1<<(7&i)+1;r[t++],r[t++];var l=null,c=null;a&&(l=t,c=s,t+=3*s);var o=!0,u=[],d=0,f=null,h=0,y=null;for(this.width=e,this.height=n;o&&t<r.length;)switch(r[t++]){case 33:switch(r[t++]){case 255:if(r[t]!==11||r[t+1]==78&&r[t+2]==69&&r[t+3]==84&&r[t+4]==83&&r[t+5]==67&&r[t+6]==65&&r[t+7]==80&&r[t+8]==69&&r[t+9]==50&&r[t+10]==46&&r[t+11]==48&&r[t+12]==3&&r[t+13]==1&&r[t+16]==0)t+=14,y=r[t++]|r[t++]<<8,t++;else for(t+=12;;){if(!((z=r[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;case 249:if(r[t++]!==4||r[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=r[t++];d=r[t++]|r[t++]<<8,f=r[t++],(1&m)==0&&(f=null),h=m>>2&7,t++;break;case 254:for(;;){if(!((z=r[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}break;default:throw new Error("Unknown graphic control label: 0x"+r[t-1].toString(16))}break;case 44:var g=r[t++]|r[t++]<<8,v=r[t++]|r[t++]<<8,b=r[t++]|r[t++]<<8,w=r[t++]|r[t++]<<8,_=r[t++],N=_>>6&1,P=1<<(7&_)+1,M=l,A=c,F=!1;_>>7&&(F=!0,M=t,A=P,t+=3*P);var H=t;for(t++;;){var z;if(!((z=r[t++])>=0))throw Error("Invalid block size");if(z===0)break;t+=z}u.push({x:g,y:v,width:b,height:w,has_local_palette:F,palette_offset:M,palette_size:A,data_offset:H,data_length:t-H,transparent_index:f,interlaced:!!N,delay:d,disposal:h});break;case 59:o=!1;break;default:throw new Error("Unknown gif block: 0x"+r[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(U){if(U<0||U>=u.length)throw new Error("Frame index out of range.");return u[U]},this.decodeAndBlitFrameBGRA=function(U,O){var L=this.frameInfo(U),C=L.width*L.height,k=new Uint8Array(C);j7(r,L.data_offset,k,C);var j=L.palette_offset,E=L.transparent_index;E===null&&(E=256);var T=L.width,R=e-T,V=T,B=4*(L.y*e+L.x),K=4*((L.y+L.height)*e+L.x),Z=B,ne=4*R;L.interlaced===!0&&(ne+=4*e*7);for(var G=8,te=0,I=k.length;te<I;++te){var D=k[te];if(V===0&&(V=T,(Z+=ne)>=K&&(ne=4*R+4*e*(G-1),Z=B+(T+R)*(G<<1),G>>=1)),D===E)Z+=4;else{var X=r[j+3*D],Q=r[j+3*D+1],re=r[j+3*D+2];O[Z++]=re,O[Z++]=Q,O[Z++]=X,O[Z++]=255}--V}},this.decodeAndBlitFrameRGBA=function(U,O){var L=this.frameInfo(U),C=L.width*L.height,k=new Uint8Array(C);j7(r,L.data_offset,k,C);var j=L.palette_offset,E=L.transparent_index;E===null&&(E=256);var T=L.width,R=e-T,V=T,B=4*(L.y*e+L.x),K=4*((L.y+L.height)*e+L.x),Z=B,ne=4*R;L.interlaced===!0&&(ne+=4*e*7);for(var G=8,te=0,I=k.length;te<I;++te){var D=k[te];if(V===0&&(V=T,(Z+=ne)>=K&&(ne=4*R+4*e*(G-1),Z=B+(T+R)*(G<<1),G>>=1)),D===E)Z+=4;else{var X=r[j+3*D],Q=r[j+3*D+1],re=r[j+3*D+2];O[Z++]=X,O[Z++]=Q,O[Z++]=re,O[Z++]=255}--V}}}function j7(r,t,e,n){for(var i=r[t++],a=1<<i,s=a+1,l=s+1,c=i+1,o=(1<<c)-1,u=0,d=0,f=0,h=r[t++],y=new Int32Array(4096),m=null;;){for(;u<16&&h!==0;)d|=r[t++]<<u,u+=8,h===1?h=r[t++]:--h;if(u<c)break;var g=d&o;if(d>>=c,u-=c,g!==a){if(g===s)break;for(var v=g<l?g:m,b=0,w=v;w>a;)w=y[w]>>8,++b;var _=w;if(f+b+(v!==g?1:0)>n)return void Wn.log("Warning, gif stream longer than expected.");e[f++]=_;var N=f+=b;for(v!==g&&(e[f++]=_),w=v;b--;)w=y[w],e[--N]=255&w,w>>=8;m!==null&&l<4096&&(y[l++]=m<<8|_,l>=o+1&&c<12&&(++c,o=o<<1|1)),m=g}else l=s+1,o=(1<<(c=i+1))-1,m=null}return f!==n&&Wn.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Nw(r){var t,e,n,i,a,s=Math.floor,l=new Array(64),c=new Array(64),o=new Array(64),u=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),y=new Array(64),m=[],g=0,v=7,b=new Array(64),w=new Array(64),_=new Array(64),N=new Array(256),P=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],C=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function k(B,K){for(var Z=0,ne=0,G=new Array,te=1;te<=16;te++){for(var I=1;I<=B[te];I++)G[K[ne]]=[],G[K[ne]][0]=Z,G[K[ne]][1]=te,ne++,Z++;Z*=2}return G}function j(B){for(var K=B[0],Z=B[1]-1;Z>=0;)K&1<<Z&&(g|=1<<v),Z--,--v<0&&(g==255?(E(255),E(0)):E(g),v=7,g=0)}function E(B){m.push(B)}function T(B){E(B>>8&255),E(255&B)}function R(B,K,Z,ne,G){for(var te,I=G[0],D=G[240],X=function(ge,ke){var Pe,Re,Ie,qe,Ue,vt,St,De,lt,gt,Ve=0;for(lt=0;lt<8;++lt){Pe=ge[Ve],Re=ge[Ve+1],Ie=ge[Ve+2],qe=ge[Ve+3],Ue=ge[Ve+4],vt=ge[Ve+5],St=ge[Ve+6];var Dt=Pe+(De=ge[Ve+7]),bt=Pe-De,At=Re+St,ft=Re-St,jt=Ie+vt,ht=Ie-vt,Lt=qe+Ue,ur=qe-Ue,zt=Dt+Lt,wr=Dt-Lt,br=At+jt,er=At-jt;ge[Ve]=zt+br,ge[Ve+4]=zt-br;var Zt=.707106781*(er+wr);ge[Ve+2]=wr+Zt,ge[Ve+6]=wr-Zt;var ar=.382683433*((zt=ur+ht)-(er=ft+bt)),fr=.5411961*zt+ar,Sr=1.306562965*er+ar,Ur=.707106781*(br=ht+ft),dr=bt+Ur,Vt=bt-Ur;ge[Ve+5]=Vt+fr,ge[Ve+3]=Vt-fr,ge[Ve+1]=dr+Sr,ge[Ve+7]=dr-Sr,Ve+=8}for(Ve=0,lt=0;lt<8;++lt){Pe=ge[Ve],Re=ge[Ve+8],Ie=ge[Ve+16],qe=ge[Ve+24],Ue=ge[Ve+32],vt=ge[Ve+40],St=ge[Ve+48];var Dr=Pe+(De=ge[Ve+56]),sr=Pe-De,ze=Re+St,Ze=Re-St,mt=Ie+vt,pe=Ie-vt,Ce=qe+Ue,be=qe-Ue,Ee=Dr+Ce,Ae=Dr-Ce,Te=ze+mt,He=ze-mt;ge[Ve]=Ee+Te,ge[Ve+32]=Ee-Te;var tt=.707106781*(He+Ae);ge[Ve+16]=Ae+tt,ge[Ve+48]=Ae-tt;var We=.382683433*((Ee=be+pe)-(He=Ze+sr)),it=.5411961*Ee+We,et=1.306562965*He+We,Ct=.707106781*(Te=pe+Ze),Mt=sr+Ct,Gt=sr-Ct;ge[Ve+40]=Gt+it,ge[Ve+24]=Gt-it,ge[Ve+8]=Mt+et,ge[Ve+56]=Mt-et,Ve++}for(lt=0;lt<64;++lt)gt=ge[lt]*ke[lt],h[lt]=gt>0?gt+.5|0:gt-.5|0;return h}(B,K),Q=0;Q<64;++Q)y[M[Q]]=X[Q];var re=y[0]-Z;Z=y[0],re==0?j(ne[0]):(j(ne[f[te=32767+re]]),j(d[te]));for(var oe=63;oe>0&&y[oe]==0;)oe--;if(oe==0)return j(I),Z;for(var se,he=1;he<=oe;){for(var le=he;y[he]==0&&he<=oe;)++he;var de=he-le;if(de>=16){se=de>>4;for(var ve=1;ve<=se;++ve)j(D);de&=15}te=32767+y[he],j(G[(de<<4)+f[te]]),j(d[te]),he++}return oe!=63&&j(I),Z}function V(B){B=Math.min(Math.max(B,1),100),a!=B&&(function(K){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var G=s((Z[ne]*K+50)/100);G=Math.min(Math.max(G,1),255),l[M[ne]]=G}for(var te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],I=0;I<64;I++){var D=s((te[I]*K+50)/100);D=Math.min(Math.max(D,1),255),c[M[I]]=D}for(var X=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Q=0,re=0;re<8;re++)for(var oe=0;oe<8;oe++)o[Q]=1/(l[M[Q]]*X[re]*X[oe]*8),u[Q]=1/(c[M[Q]]*X[re]*X[oe]*8),Q++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),a=B)}this.encode=function(B,K){K&&V(K),m=new Array,g=0,v=7,T(65496),T(65504),T(16),E(74),E(70),E(73),E(70),E(0),E(1),E(1),E(0),T(1),T(1),E(0),E(0),function(){T(65499),T(132),E(0);for(var Re=0;Re<64;Re++)E(l[Re]);E(1);for(var Ie=0;Ie<64;Ie++)E(c[Ie])}(),function(Re,Ie){T(65472),T(17),E(8),T(Ie),T(Re),E(3),E(1),E(17),E(0),E(2),E(17),E(1),E(3),E(17),E(1)}(B.width,B.height),function(){T(65476),T(418),E(0);for(var Re=0;Re<16;Re++)E(A[Re+1]);for(var Ie=0;Ie<=11;Ie++)E(F[Ie]);E(16);for(var qe=0;qe<16;qe++)E(H[qe+1]);for(var Ue=0;Ue<=161;Ue++)E(z[Ue]);E(1);for(var vt=0;vt<16;vt++)E(U[vt+1]);for(var St=0;St<=11;St++)E(O[St]);E(17);for(var De=0;De<16;De++)E(L[De+1]);for(var lt=0;lt<=161;lt++)E(C[lt])}(),T(65498),T(12),E(3),E(1),E(0),E(2),E(17),E(3),E(17),E(0),E(63),E(0);var Z=0,ne=0,G=0;g=0,v=7,this.encode.displayName="_encode_";for(var te,I,D,X,Q,re,oe,se,he,le=B.data,de=B.width,ve=B.height,ge=4*de,ke=0;ke<ve;){for(te=0;te<ge;){for(Q=ge*ke+te,oe=-1,se=0,he=0;he<64;he++)re=Q+(se=he>>3)*ge+(oe=4*(7&he)),ke+se>=ve&&(re-=ge*(ke+1+se-ve)),te+oe>=ge&&(re-=te+oe-ge+4),I=le[re++],D=le[re++],X=le[re++],b[he]=(P[I]+P[D+256>>0]+P[X+512>>0]>>16)-128,w[he]=(P[I+768>>0]+P[D+1024>>0]+P[X+1280>>0]>>16)-128,_[he]=(P[I+1280>>0]+P[D+1536>>0]+P[X+1792>>0]>>16)-128;Z=R(b,o,Z,t,n),ne=R(w,u,ne,e,i),G=R(_,u,G,e,i),te+=32}ke+=8}if(v>=0){var Pe=[];Pe[1]=v+1,Pe[0]=(1<<v+1)-1,j(Pe)}return T(65497),new Uint8Array(m)},r=r||50,function(){for(var B=String.fromCharCode,K=0;K<256;K++)N[K]=B(K)}(),t=k(A,F),e=k(U,O),n=k(H,z),i=k(L,C),function(){for(var B=1,K=2,Z=1;Z<=15;Z++){for(var ne=B;ne<K;ne++)f[32767+ne]=Z,d[32767+ne]=[],d[32767+ne][1]=Z,d[32767+ne][0]=ne;for(var G=-(K-1);G<=-B;G++)f[32767+G]=Z,d[32767+G]=[],d[32767+G][1]=Z,d[32767+G][0]=K-1+G;B<<=1,K<<=1}}(),function(){for(var B=0;B<256;B++)P[B]=19595*B,P[B+256>>0]=38470*B,P[B+512>>0]=7471*B+32768,P[B+768>>0]=-11059*B,P[B+1024>>0]=-21709*B,P[B+1280>>0]=32768*B+8421375,P[B+1536>>0]=-27439*B,P[B+1792>>0]=-5329*B}(),V(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Al(r,t){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function A7(r){function t(A){if(!A)throw Error("assert :P")}function e(A,F,H){for(var z=0;4>z;z++)if(A[F+z]!=H.charCodeAt(z))return!0;return!1}function n(A,F,H,z,U){for(var O=0;O<U;O++)A[F+O]=H[z+O]}function i(A,F,H,z){for(var U=0;U<z;U++)A[F+U]=H}function a(A){return new Int32Array(A)}function s(A,F){for(var H=[],z=0;z<A;z++)H.push(new F);return H}function l(A,F){var H=[];return function z(U,O,L){for(var C=L[O],k=0;k<C&&(U.push(L.length>O+1?[]:new F),!(L.length<O+1));k++)z(U[k],O+1,L)}(H,0,A),H}var c=function(){var A=this;function F(W,J){for(var ae=1<<J-1>>>0;W&ae;)ae>>>=1;return ae?(W&ae-1)+ae:W}function H(W,J,ae,ue,me){t(!(ue%ae));do W[J+(ue-=ae)]=me;while(0<ue)}function z(W,J,ae,ue,me){if(t(2328>=me),512>=me)var xe=a(512);else if((xe=a(me))==null)return 0;return function(_e,Ne,je,Me,Xe,st){var ot,nt,Pt=Ne,xt=1<<je,Ye=a(16),Je=a(16);for(t(Xe!=0),t(Me!=null),t(_e!=null),t(0<je),nt=0;nt<Xe;++nt){if(15<Me[nt])return 0;++Ye[Me[nt]]}if(Ye[0]==Xe)return 0;for(Je[1]=0,ot=1;15>ot;++ot){if(Ye[ot]>1<<ot)return 0;Je[ot+1]=Je[ot]+Ye[ot]}for(nt=0;nt<Xe;++nt)ot=Me[nt],0<Me[nt]&&(st[Je[ot]++]=nt);if(Je[15]==1)return(Me=new U).g=0,Me.value=st[0],H(_e,Pt,1,xt,Me),xt;var Et,Nt=-1,Tt=xt-1,nr=0,Qt=1,jr=1,tr=1<<je;for(nt=0,ot=1,Xe=2;ot<=je;++ot,Xe<<=1){if(Qt+=jr<<=1,0>(jr-=Ye[ot]))return 0;for(;0<Ye[ot];--Ye[ot])(Me=new U).g=ot,Me.value=st[nt++],H(_e,Pt+nr,Xe,tr,Me),nr=F(nr,ot)}for(ot=je+1,Xe=2;15>=ot;++ot,Xe<<=1){if(Qt+=jr<<=1,0>(jr-=Ye[ot]))return 0;for(;0<Ye[ot];--Ye[ot]){if(Me=new U,(nr&Tt)!=Nt){for(Pt+=tr,Et=1<<(Nt=ot)-je;15>Nt&&!(0>=(Et-=Ye[Nt]));)++Nt,Et<<=1;xt+=tr=1<<(Et=Nt-je),_e[Ne+(Nt=nr&Tt)].g=Et+je,_e[Ne+Nt].value=Pt-Ne-Nt}Me.g=ot-je,Me.value=st[nt++],H(_e,Pt+(nr>>je),Xe,tr,Me),nr=F(nr,ot)}}return Qt!=2*Je[15]-1?0:xt}(W,J,ae,ue,me,xe)}function U(){this.value=this.g=0}function O(){this.value=this.g=0}function L(){this.G=s(5,U),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(fi,O)}function C(W,J,ae,ue){t(W!=null),t(J!=null),t(2147483648>ue),W.Ca=254,W.I=0,W.b=-8,W.Ka=0,W.oa=J,W.pa=ae,W.Jd=J,W.Yc=ae+ue,W.Zc=4<=ue?ae+ue-4+1:ae,te(W)}function k(W,J){for(var ae=0;0<J--;)ae|=D(W,128)<<J;return ae}function j(W,J){var ae=k(W,J);return I(W)?-ae:ae}function E(W,J,ae,ue){var me,xe=0;for(t(W!=null),t(J!=null),t(4294967288>ue),W.Sb=ue,W.Ra=0,W.u=0,W.h=0,4<ue&&(ue=4),me=0;me<ue;++me)xe+=J[ae+me]<<8*me;W.Ra=xe,W.bb=ue,W.oa=J,W.pa=ae}function T(W){for(;8<=W.u&&W.bb<W.Sb;)W.Ra>>>=8,W.Ra+=W.oa[W.pa+W.bb]<<Qu-8>>>0,++W.bb,W.u-=8;Z(W)&&(W.h=1,W.u=0)}function R(W,J){if(t(0<=J),!W.h&&J<=Zu){var ae=K(W)&Ju[J];return W.u+=J,T(W),ae}return W.h=1,W.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(W){return W.Ra>>>(W.u&Qu-1)>>>0}function Z(W){return t(W.bb<=W.Sb),W.h||W.bb==W.Sb&&W.u>Qu}function ne(W,J){W.u=J,W.h=Z(W)}function G(W){W.u>=ef&&(t(W.u>=ef),T(W))}function te(W){t(W!=null&&W.oa!=null),W.pa<W.Zc?(W.I=(W.oa[W.pa++]|W.I<<8)>>>0,W.b+=8):(t(W!=null&&W.oa!=null),W.pa<W.Yc?(W.b+=8,W.I=W.oa[W.pa++]|W.I<<8):W.Ka?W.b=0:(W.I<<=8,W.b+=8,W.Ka=1))}function I(W){return k(W,1)}function D(W,J){var ae=W.Ca;0>W.b&&te(W);var ue=W.b,me=ae*J>>>8,xe=(W.I>>>ue>me)+0;for(xe?(ae-=me,W.I-=me+1<<ue>>>0):ae=me+1,ue=ae,me=0;256<=ue;)me+=8,ue>>=8;return ue=7^me+Ea[ue],W.b-=ue,W.Ca=(ae<<ue)-1,xe}function X(W,J,ae){W[J+0]=ae>>24&255,W[J+1]=ae>>16&255,W[J+2]=ae>>8&255,W[J+3]=ae>>0&255}function Q(W,J){return W[J+0]<<0|W[J+1]<<8}function re(W,J){return Q(W,J)|W[J+2]<<16}function oe(W,J){return Q(W,J)|Q(W,J+2)<<16}function se(W,J){var ae=1<<J;return t(W!=null),t(0<J),W.X=a(ae),W.X==null?0:(W.Mb=32-J,W.Xa=J,1)}function he(W,J){t(W!=null),t(J!=null),t(W.Xa==J.Xa),n(J.X,0,W.X,0,1<<J.Xa)}function le(){this.X=[],this.Xa=this.Mb=0}function de(W,J,ae,ue){t(ae!=null),t(ue!=null);var me=ae[0],xe=ue[0];return me==0&&(me=(W*xe+J/2)/J),xe==0&&(xe=(J*me+W/2)/W),0>=me||0>=xe?0:(ae[0]=me,ue[0]=xe,1)}function ve(W,J){return W+(1<<J)-1>>>J}function ge(W,J){return((4278255360&W)+(4278255360&J)>>>0&4278255360)+((16711935&W)+(16711935&J)>>>0&16711935)>>>0}function ke(W,J){A[J]=function(ae,ue,me,xe,_e,Ne,je){var Me;for(Me=0;Me<_e;++Me){var Xe=A[W](Ne[je+Me-1],me,xe+Me);Ne[je+Me]=ge(ae[ue+Me],Xe)}}}function Pe(){this.ud=this.hd=this.jd=0}function Re(W,J){return((4278124286&(W^J))>>>1)+(W&J)>>>0}function Ie(W){return 0<=W&&256>W?W:0>W?0:255<W?255:void 0}function qe(W,J){return Ie(W+(W-J+.5>>1))}function Ue(W,J,ae){return Math.abs(J-ae)-Math.abs(W-ae)}function vt(W,J,ae,ue,me,xe,_e){for(ue=xe[_e-1],ae=0;ae<me;++ae)xe[_e+ae]=ue=ge(W[J+ae],ue)}function St(W,J,ae,ue,me){var xe;for(xe=0;xe<ae;++xe){var _e=W[J+xe],Ne=_e>>8&255,je=16711935&(je=(je=16711935&_e)+((Ne<<16)+Ne));ue[me+xe]=(4278255360&_e)+je>>>0}}function De(W,J){J.jd=W>>0&255,J.hd=W>>8&255,J.ud=W>>16&255}function lt(W,J,ae,ue,me,xe){var _e;for(_e=0;_e<ue;++_e){var Ne=J[ae+_e],je=Ne>>>8,Me=Ne,Xe=255&(Xe=(Xe=Ne>>>16)+((W.jd<<24>>24)*(je<<24>>24)>>>5));Me=255&(Me=(Me=Me+((W.hd<<24>>24)*(je<<24>>24)>>>5))+((W.ud<<24>>24)*(Xe<<24>>24)>>>5)),me[xe+_e]=(4278255360&Ne)+(Xe<<16)+Me}}function gt(W,J,ae,ue,me){A[J]=function(xe,_e,Ne,je,Me,Xe,st,ot,nt){for(je=st;je<ot;++je)for(st=0;st<nt;++st)Me[Xe++]=me(Ne[ue(xe[_e++])])},A[W]=function(xe,_e,Ne,je,Me,Xe,st){var ot=8>>xe.b,nt=xe.Ea,Pt=xe.K[0],xt=xe.w;if(8>ot)for(xe=(1<<xe.b)-1,xt=(1<<ot)-1;_e<Ne;++_e){var Ye,Je=0;for(Ye=0;Ye<nt;++Ye)Ye&xe||(Je=ue(je[Me++])),Xe[st++]=me(Pt[Je&xt]),Je>>=ot}else A["VP8LMapColor"+ae](je,Me,Pt,xt,Xe,st,_e,Ne,nt)}}function Ve(W,J,ae,ue,me){for(ae=J+ae;J<ae;){var xe=W[J++];ue[me++]=xe>>16&255,ue[me++]=xe>>8&255,ue[me++]=xe>>0&255}}function Dt(W,J,ae,ue,me){for(ae=J+ae;J<ae;){var xe=W[J++];ue[me++]=xe>>16&255,ue[me++]=xe>>8&255,ue[me++]=xe>>0&255,ue[me++]=xe>>24&255}}function bt(W,J,ae,ue,me){for(ae=J+ae;J<ae;){var xe=(_e=W[J++])>>16&240|_e>>12&15,_e=_e>>0&240|_e>>28&15;ue[me++]=xe,ue[me++]=_e}}function At(W,J,ae,ue,me){for(ae=J+ae;J<ae;){var xe=(_e=W[J++])>>16&248|_e>>13&7,_e=_e>>5&224|_e>>3&31;ue[me++]=xe,ue[me++]=_e}}function ft(W,J,ae,ue,me){for(ae=J+ae;J<ae;){var xe=W[J++];ue[me++]=xe>>0&255,ue[me++]=xe>>8&255,ue[me++]=xe>>16&255}}function jt(W,J,ae,ue,me,xe){if(xe==0)for(ae=J+ae;J<ae;)X(ue,((xe=W[J++])[0]>>24|xe[1]>>8&65280|xe[2]<<8&16711680|xe[3]<<24)>>>0),me+=32;else n(ue,me,W,J,ae)}function ht(W,J){A[J][0]=A[W+"0"],A[J][1]=A[W+"1"],A[J][2]=A[W+"2"],A[J][3]=A[W+"3"],A[J][4]=A[W+"4"],A[J][5]=A[W+"5"],A[J][6]=A[W+"6"],A[J][7]=A[W+"7"],A[J][8]=A[W+"8"],A[J][9]=A[W+"9"],A[J][10]=A[W+"10"],A[J][11]=A[W+"11"],A[J][12]=A[W+"12"],A[J][13]=A[W+"13"],A[J][14]=A[W+"0"],A[J][15]=A[W+"0"]}function Lt(W){return W==of||W==qc||W==_d||W==Sd}function ur(){this.eb=[],this.size=this.A=this.fb=0}function zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ur,this.f.kb=new zt,this.sd=null}function br(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function er(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zt(W){return alert("todo:WebPSamplerProcessPlane"),W.T}function ar(W,J){var ae=W.T,ue=J.ba.f.RGBA,me=ue.eb,xe=ue.fb+W.ka*ue.A,_e=Ka[J.ba.S],Ne=W.y,je=W.O,Me=W.f,Xe=W.N,st=W.ea,ot=W.W,nt=J.cc,Pt=J.dc,xt=J.Mc,Ye=J.Nc,Je=W.ka,Et=W.ka+W.T,Nt=W.U,Tt=Nt+1>>1;for(Je==0?_e(Ne,je,null,null,Me,Xe,st,ot,Me,Xe,st,ot,me,xe,null,null,Nt):(_e(J.ec,J.fc,Ne,je,nt,Pt,xt,Ye,Me,Xe,st,ot,me,xe-ue.A,me,xe,Nt),++ae);Je+2<Et;Je+=2)nt=Me,Pt=Xe,xt=st,Ye=ot,Xe+=W.Rc,ot+=W.Rc,xe+=2*ue.A,_e(Ne,(je+=2*W.fa)-W.fa,Ne,je,nt,Pt,xt,Ye,Me,Xe,st,ot,me,xe-ue.A,me,xe,Nt);return je+=W.fa,W.j+Et<W.o?(n(J.ec,J.fc,Ne,je,Nt),n(J.cc,J.dc,Me,Xe,Tt),n(J.Mc,J.Nc,st,ot,Tt),ae--):1&Et||_e(Ne,je,null,null,Me,Xe,st,ot,Me,Xe,st,ot,me,xe+ue.A,null,null,Nt),ae}function fr(W,J,ae){var ue=W.F,me=[W.J];if(ue!=null){var xe=W.U,_e=J.ba.S,Ne=_e==wd||_e==_d;J=J.ba.f.RGBA;var je=[0],Me=W.ka;je[0]=W.T,W.Kb&&(Me==0?--je[0]:(--Me,me[0]-=W.width),W.j+W.ka+W.T==W.o&&(je[0]=W.o-W.j-Me));var Xe=J.eb;Me=J.fb+Me*J.A,W=vn(ue,me[0],W.width,xe,je,Xe,Me+(Ne?0:3),J.A),t(ae==je),W&&Lt(_e)&&Ga(Xe,Me,Ne,xe,je,J.A)}return 0}function Sr(W){var J=W.ma,ae=J.ba.S,ue=11>ae,me=ae==tc||ae==xd||ae==wd||ae==Mn||ae==12||Lt(ae);if(J.memory=null,J.Ib=null,J.Jb=null,J.Nd=null,!Ku(J.Oa,W,me?11:12))return 0;if(me&&Lt(ae)&&Bt(),W.da)alert("todo:use_scaling");else{if(ue){if(J.Ib=Zt,W.Kb){if(ae=W.U+1>>1,J.memory=a(W.U+2*ae),J.memory==null)return 0;J.ec=J.memory,J.fc=0,J.cc=J.ec,J.dc=J.fc+W.U,J.Mc=J.cc,J.Nc=J.dc+ae,J.Ib=ar,Bt()}}else alert("todo:EmitYUV");me&&(J.Jb=fr,ue&&at())}if(ue&&!Ji){for(W=0;256>W;++W)Ya[W]=89858*(W-128)+ho>>vl,Ja[W]=-22014*(W-128)+ho,ff[W]=-45773*(W-128),Gc[W]=113618*(W-128)+ho>>vl;for(W=bn;W<En;++W)J=76283*(W-16)+ho>>vl,Vh[W-bn]=ws(J,255),L1[W-bn]=ws(J+8>>4,15);Ji=1}return 1}function Ur(W){var J=W.ma,ae=W.U,ue=W.T;return t(!(1&W.ka)),0>=ae||0>=ue?0:(ae=J.Ib(W,J),J.Jb!=null&&J.Jb(W,J,ae),J.Dc+=ae,1)}function dr(W){W.ma.memory=null}function Vt(W,J,ae,ue){return R(W,8)!=47?0:(J[0]=R(W,14)+1,ae[0]=R(W,14)+1,ue[0]=R(W,1),R(W,3)!=0?0:!W.h)}function Dr(W,J){if(4>W)return W+1;var ae=W-2>>1;return(2+(1&W)<<ae)+R(J,ae)+1}function sr(W,J){return 120<J?J-120:1<=(ae=((ae=p2[J-1])>>4)*W+(8-(15&ae)))?ae:1;var ae}function ze(W,J,ae){var ue=K(ae),me=W[J+=255&ue].g-8;return 0<me&&(ne(ae,ae.u+8),ue=K(ae),J+=W[J].value,J+=ue&(1<<me)-1),ne(ae,ae.u+W[J].g),W[J].value}function Ze(W,J,ae){return ae.g+=W.g,ae.value+=W.value<<J>>>0,t(8>=ae.g),W.g}function mt(W,J,ae){var ue=W.xc;return t((J=ue==0?0:W.vc[W.md*(ae>>ue)+(J>>ue)])<W.Wb),W.Ya[J]}function pe(W,J,ae,ue){var me=W.ab,xe=W.c*J,_e=W.C;J=_e+J;var Ne=ae,je=ue;for(ue=W.Ta,ae=W.Ua;0<me--;){var Me=W.gc[me],Xe=_e,st=J,ot=Ne,nt=je,Pt=(je=ue,Ne=ae,Me.Ea);switch(t(Xe<st),t(st<=Me.nc),Me.hc){case 2:Uh(ot,nt,(st-Xe)*Pt,je,Ne);break;case 0:var xt=Xe,Ye=st,Je=je,Et=Ne,Nt=(tr=Me).Ea;xt==0&&(Lc(ot,nt,null,null,1,Je,Et),vt(ot,nt+1,0,0,Nt-1,Je,Et+1),nt+=Nt,Et+=Nt,++xt);for(var Tt=1<<tr.b,nr=Tt-1,Qt=ve(Nt,tr.b),jr=tr.K,tr=tr.w+(xt>>tr.b)*Qt;xt<Ye;){var on=jr,ln=tr,an=1;for(ul(ot,nt,Je,Et-Nt,1,Je,Et);an<Nt;){var Wr=(an&~nr)+Tt;Wr>Nt&&(Wr=Nt),(0,Ro[on[ln++]>>8&15])(ot,nt+ +an,Je,Et+an-Nt,Wr-an,Je,Et+an),an=Wr}nt+=Nt,Et+=Nt,++xt&nr||(tr+=Qt)}st!=Me.nc&&n(je,Ne-Pt,je,Ne+(st-Xe-1)*Pt,Pt);break;case 1:for(Pt=ot,Ye=nt,Nt=(ot=Me.Ea)-(Et=ot&~(Je=(nt=1<<Me.b)-1)),xt=ve(ot,Me.b),Tt=Me.K,Me=Me.w+(Xe>>Me.b)*xt;Xe<st;){for(nr=Tt,Qt=Me,jr=new Pe,tr=Ye+Et,on=Ye+ot;Ye<tr;)De(nr[Qt++],jr),Zl(jr,Pt,Ye,nt,je,Ne),Ye+=nt,Ne+=nt;Ye<on&&(De(nr[Qt++],jr),Zl(jr,Pt,Ye,Nt,je,Ne),Ye+=Nt,Ne+=Nt),++Xe&Je||(Me+=xt)}break;case 3:if(ot==je&&nt==Ne&&0<Me.b){for(Ye=je,ot=Pt=Ne+(st-Xe)*Pt-(Et=(st-Xe)*ve(Me.Ea,Me.b)),nt=je,Je=Ne,xt=[],Et=(Nt=Et)-1;0<=Et;--Et)xt[Et]=nt[Je+Et];for(Et=Nt-1;0<=Et;--Et)Ye[ot+Et]=xt[Et];ja(Me,Xe,st,je,Pt,je,Ne)}else ja(Me,Xe,st,ot,nt,je,Ne)}Ne=ue,je=ae}je!=ae&&n(ue,ae,Ne,je,xe)}function Ce(W,J){var ae=W.V,ue=W.Ba+W.c*W.C,me=J-W.C;if(t(J<=W.l.o),t(16>=me),0<me){var xe=W.l,_e=W.Ta,Ne=W.Ua,je=xe.width;if(pe(W,me,ae,ue),me=Ne=[Ne],t((ae=W.C)<(ue=J)),t(xe.v<xe.va),ue>xe.o&&(ue=xe.o),ae<xe.j){var Me=xe.j-ae;ae=xe.j,me[0]+=Me*je}if(ae>=ue?ae=0:(me[0]+=4*xe.v,xe.ka=ae-xe.j,xe.U=xe.va-xe.v,xe.T=ue-ae,ae=1),ae){if(Ne=Ne[0],11>(ae=W.ca).S){var Xe=ae.f.RGBA,st=(ue=ae.S,me=xe.U,xe=xe.T,Me=Xe.eb,Xe.A),ot=xe;for(Xe=Xe.fb+W.Ma*Xe.A;0<ot--;){var nt=_e,Pt=Ne,xt=me,Ye=Me,Je=Xe;switch(ue){case zh:Aa(nt,Pt,xt,Ye,Je);break;case tc:ca(nt,Pt,xt,Ye,Je);break;case of:ca(nt,Pt,xt,Ye,Je),Ga(Ye,Je,0,xt,1,0);break;case P1:dl(nt,Pt,xt,Ye,Je);break;case xd:jt(nt,Pt,xt,Ye,Je,1);break;case qc:jt(nt,Pt,xt,Ye,Je,1),Ga(Ye,Je,0,xt,1,0);break;case wd:jt(nt,Pt,xt,Ye,Je,0);break;case _d:jt(nt,Pt,xt,Ye,Je,0),Ga(Ye,Je,1,xt,1,0);break;case Mn:Ql(nt,Pt,xt,Ye,Je);break;case Sd:Ql(nt,Pt,xt,Ye,Je),Pn(Ye,Je,xt,1,0);break;case qh:fl(nt,Pt,xt,Ye,Je);break;default:t(0)}Ne+=je,Xe+=st}W.Ma+=xe}else alert("todo:EmitRescaledRowsYUVA");t(W.Ma<=ae.height)}}W.C=J,t(W.C<=W.i)}function be(W){var J;if(0<W.ua)return 0;for(J=0;J<W.Wb;++J){var ae=W.Ya[J].G,ue=W.Ya[J].H;if(0<ae[1][ue[1]+0].g||0<ae[2][ue[2]+0].g||0<ae[3][ue[3]+0].g)return 0}return 1}function Ee(W,J,ae,ue,me,xe){if(W.Z!=0){var _e=W.qd,Ne=W.rd;for(t(fa[W.Z]!=null);J<ae;++J)fa[W.Z](_e,Ne,ue,me,ue,me,xe),_e=ue,Ne=me,me+=xe;W.qd=_e,W.rd=Ne}}function Ae(W,J){var ae=W.l.ma,ue=ae.Z==0||ae.Z==1?W.l.j:W.C;if(ue=W.C<ue?ue:W.C,t(J<=W.l.o),J>ue){var me=W.l.width,xe=ae.ca,_e=ae.tb+me*ue,Ne=W.V,je=W.Ba+W.c*ue,Me=W.gc;t(W.ab==1),t(Me[0].hc==3),yd(Me[0],ue,J,Ne,je,xe,_e),Ee(ae,ue,J,xe,_e,me)}W.C=W.Ma=J}function Te(W,J,ae,ue,me,xe,_e){var Ne=W.$/ue,je=W.$%ue,Me=W.m,Xe=W.s,st=ae+W.$,ot=st;me=ae+ue*me;var nt=ae+ue*xe,Pt=280+Xe.ua,xt=W.Pb?Ne:16777216,Ye=0<Xe.ua?Xe.Wa:null,Je=Xe.wc,Et=st<nt?mt(Xe,je,Ne):null;t(W.C<xe),t(nt<=me);var Nt=!1;e:for(;;){for(;Nt||st<nt;){var Tt=0;if(Ne>=xt){var nr=st-ae;t((xt=W).Pb),xt.wd=xt.m,xt.xd=nr,0<xt.s.ua&&he(xt.s.Wa,xt.s.vb),xt=Ne+Wh}if(je&Je||(Et=mt(Xe,je,Ne)),t(Et!=null),Et.Qb&&(J[st]=Et.qb,Nt=!0),!Nt)if(G(Me),Et.jc){Tt=Me,nr=J;var Qt=st,jr=Et.pd[K(Tt)&fi-1];t(Et.jc),256>jr.g?(ne(Tt,Tt.u+jr.g),nr[Qt]=jr.value,Tt=0):(ne(Tt,Tt.u+jr.g-256),t(256<=jr.value),Tt=jr.value),Tt==0&&(Nt=!0)}else Tt=ze(Et.G[0],Et.H[0],Me);if(Me.h)break;if(Nt||256>Tt){if(!Nt)if(Et.nd)J[st]=(Et.qb|Tt<<8)>>>0;else{if(G(Me),Nt=ze(Et.G[1],Et.H[1],Me),G(Me),nr=ze(Et.G[2],Et.H[2],Me),Qt=ze(Et.G[3],Et.H[3],Me),Me.h)break;J[st]=(Qt<<24|Nt<<16|Tt<<8|nr)>>>0}if(Nt=!1,++st,++je>=ue&&(je=0,++Ne,_e!=null&&Ne<=xe&&!(Ne%16)&&_e(W,Ne),Ye!=null))for(;ot<st;)Tt=J[ot++],Ye.X[(506832829*Tt&4294967295)>>>Ye.Mb]=Tt}else if(280>Tt){if(Tt=Dr(Tt-256,Me),nr=ze(Et.G[4],Et.H[4],Me),G(Me),nr=sr(ue,nr=Dr(nr,Me)),Me.h)break;if(st-ae<nr||me-st<Tt)break e;for(Qt=0;Qt<Tt;++Qt)J[st+Qt]=J[st+Qt-nr];for(st+=Tt,je+=Tt;je>=ue;)je-=ue,++Ne,_e!=null&&Ne<=xe&&!(Ne%16)&&_e(W,Ne);if(t(st<=me),je&Je&&(Et=mt(Xe,je,Ne)),Ye!=null)for(;ot<st;)Tt=J[ot++],Ye.X[(506832829*Tt&4294967295)>>>Ye.Mb]=Tt}else{if(!(Tt<Pt))break e;for(Nt=Tt-280,t(Ye!=null);ot<st;)Tt=J[ot++],Ye.X[(506832829*Tt&4294967295)>>>Ye.Mb]=Tt;Tt=st,t(!(Nt>>>(nr=Ye).Xa)),J[Tt]=nr.X[Nt],Nt=!0}Nt||t(Me.h==Z(Me))}if(W.Pb&&Me.h&&st<me)t(W.m.h),W.a=5,W.m=W.wd,W.$=W.xd,0<W.s.ua&&he(W.s.vb,W.s.Wa);else{if(Me.h)break e;_e!=null&&_e(W,Ne>xe?xe:Ne),W.a=0,W.$=st-ae}return 1}return W.a=3,0}function He(W){t(W!=null),W.vc=null,W.yc=null,W.Ya=null;var J=W.Wa;J!=null&&(J.X=null),W.vb=null,t(W!=null)}function tt(){var W=new Wp;return W==null?null:(W.a=0,W.xb=cf,ht("Predictor","VP8LPredictors"),ht("Predictor","VP8LPredictors_C"),ht("PredictorAdd","VP8LPredictorsAdd"),ht("PredictorAdd","VP8LPredictorsAdd_C"),Uh=St,Zl=lt,Aa=Ve,ca=Dt,Ql=bt,fl=At,dl=ft,A.VP8LMapColor32b=tf,A.VP8LMapColor8b=rf,W)}function We(W,J,ae,ue,me){var xe=1,_e=[W],Ne=[J],je=ue.m,Me=ue.s,Xe=null,st=0;e:for(;;){if(ae)for(;xe&&R(je,1);){var ot=_e,nt=Ne,Pt=ue,xt=1,Ye=Pt.m,Je=Pt.gc[Pt.ab],Et=R(Ye,2);if(Pt.Oc&1<<Et)xe=0;else{switch(Pt.Oc|=1<<Et,Je.hc=Et,Je.Ea=ot[0],Je.nc=nt[0],Je.K=[null],++Pt.ab,t(4>=Pt.ab),Et){case 0:case 1:Je.b=R(Ye,3)+2,xt=We(ve(Je.Ea,Je.b),ve(Je.nc,Je.b),0,Pt,Je.K),Je.K=Je.K[0];break;case 3:var Nt,Tt=R(Ye,8)+1,nr=16<Tt?0:4<Tt?1:2<Tt?2:3;if(ot[0]=ve(Je.Ea,nr),Je.b=nr,Nt=xt=We(Tt,1,0,Pt,Je.K)){var Qt,jr=Tt,tr=Je,on=1<<(8>>tr.b),ln=a(on);if(ln==null)Nt=0;else{var an=tr.K[0],Wr=tr.w;for(ln[0]=tr.K[0][0],Qt=1;Qt<1*jr;++Qt)ln[Qt]=ge(an[Wr+Qt],ln[Qt-1]);for(;Qt<4*on;++Qt)ln[Qt]=0;tr.K[0]=null,tr.K[0]=ln,Nt=1}}xt=Nt;break;case 2:break;default:t(0)}xe=xt}}if(_e=_e[0],Ne=Ne[0],xe&&R(je,1)&&!(xe=1<=(st=R(je,4))&&11>=st)){ue.a=3;break e}var xn;if(xn=xe)t:{var jn,Cr,ri,Zi=ue,qn=_e,da=Ne,dn=st,Oa=ae,Pa=Zi.m,ni=Zi.s,An=[null],vi=1,Za=0,po=I1[dn];r:for(;;){if(Oa&&R(Pa,1)){var $n=R(Pa,3)+2,ha=ve(qn,$n),xl=ve(da,$n),Kc=ha*xl;if(!We(ha,xl,0,Zi,An))break r;for(An=An[0],ni.xc=$n,jn=0;jn<Kc;++jn){var pa=An[jn]>>8&65535;An[jn]=pa,pa>=vi&&(vi=pa+1)}}if(Pa.h)break r;for(Cr=0;5>Cr;++Cr){var wn=Hc[Cr];!Cr&&0<dn&&(wn+=1<<dn),Za<wn&&(Za=wn)}var df=s(vi*po,U),Jp=vi,Ad=s(Jp,L);if(Ad==null)var Td=null;else t(65536>=Jp),Td=Ad;var hf=a(Za);if(Td==null||hf==null||df==null){Zi.a=1;break r}var pf=df;for(jn=ri=0;jn<vi;++jn){var Qa=Td[jn],Yc=Qa.G,Jc=Qa.H,Zp=0,mf=1,gf=0;for(Cr=0;5>Cr;++Cr){wn=Hc[Cr],Yc[Cr]=pf,Jc[Cr]=ri,!Cr&&0<dn&&(wn+=1<<dn);i:{var Zc,Gh=wn,Cd=Zi,$o=hf,B1=pf,Od=ri,Us=0,zs=Cd.m,Pd=R(zs,1);if(i($o,0,0,Gh),Pd){var Qc=R(zs,1)+1,Qp=R(zs,1),eu=R(zs,Qp==0?1:8);$o[eu]=1,Qc==2&&($o[eu=R(zs,8)]=1);var Md=1}else{var Xh=a(19),Yn=R(zs,4)+4;if(19<Yn){Cd.a=3;var tu=0;break i}for(Zc=0;Zc<Yn;++Zc)Xh[h2[Zc]]=R(zs,3);var Id=void 0,ru=void 0,Rd=Cd,em=Xh,Uo=Gh,Jn=$o,bi=0,Hn=Rd.m,Fd=8,yf=s(128,U);n:for(;z(yf,0,7,em,19);){if(R(Hn,1)){var Ld=2+2*R(Hn,3);if((Id=2+R(Hn,Ld))>Uo)break n}else Id=Uo;for(ru=0;ru<Uo&&Id--;){G(Hn);var $1=yf[0+(127&K(Hn))];ne(Hn,Hn.u+$1.g);var xi=$1.value;if(16>xi)Jn[ru++]=xi,xi!=0&&(Fd=xi);else{var tm=xi==16,Kh=xi-16,rm=Hh[Kh],mo=R(Hn,kd[Kh])+rm;if(ru+mo>Uo)break n;for(var qs=tm?Fd:0;0<mo--;)Jn[ru++]=qs}}bi=1;break n}bi||(Rd.a=3),Md=bi}(Md=Md&&!zs.h)&&(Us=z(B1,Od,8,$o,Gh)),Md&&Us!=0?tu=Us:(Cd.a=3,tu=0)}if(tu==0)break r;if(mf&&M1[Cr]==1&&(mf=pf[ri].g==0),Zp+=pf[ri].g,ri+=tu,3>=Cr){var wl,Dd=hf[0];for(wl=1;wl<wn;++wl)hf[wl]>Dd&&(Dd=hf[wl]);gf+=Dd}}if(Qa.nd=mf,Qa.Qb=0,mf&&(Qa.qb=(Yc[3][Jc[3]+0].value<<24|Yc[1][Jc[1]+0].value<<16|Yc[2][Jc[2]+0].value)>>>0,Zp==0&&256>Yc[0][Jc[0]+0].value&&(Qa.Qb=1,Qa.qb+=Yc[0][Jc[0]+0].value<<8)),Qa.jc=!Qa.Qb&&6>gf,Qa.jc){var vf,zo=Qa;for(vf=0;vf<fi;++vf){var _l=vf,Sl=zo.pd[_l],Bd=zo.G[0][zo.H[0]+_l];256<=Bd.value?(Sl.g=Bd.g+256,Sl.value=Bd.value):(Sl.g=0,Sl.value=0,_l>>=Ze(Bd,8,Sl),_l>>=Ze(zo.G[1][zo.H[1]+_l],16,Sl),_l>>=Ze(zo.G[2][zo.H[2]+_l],0,Sl),Ze(zo.G[3][zo.H[3]+_l],24,Sl))}}}ni.vc=An,ni.Wb=vi,ni.Ya=Td,ni.yc=df,xn=1;break t}xn=0}if(!(xe=xn)){ue.a=3;break e}if(0<st){if(Me.ua=1<<st,!se(Me.Wa,st)){ue.a=1,xe=0;break e}}else Me.ua=0;var Yh=ue,nm=_e,U1=Ne,Jh=Yh.s,nu=Jh.xc;if(Yh.c=nm,Yh.i=U1,Jh.md=ve(nm,nu),Jh.wc=nu==0?-1:(1<<nu)-1,ae){ue.xb=Bo;break e}if((Xe=a(_e*Ne))==null){ue.a=1,xe=0;break e}xe=(xe=Te(ue,Xe,0,_e,Ne,Ne,null))&&!je.h;break e}return xe?(me!=null?me[0]=Xe:(t(Xe==null),t(ae)),ue.$=0,ae||He(Me)):He(Me),xe}function it(W,J){var ae=W.c*W.i,ue=ae+J+16*J;return t(W.c<=J),W.V=a(ue),W.V==null?(W.Ta=null,W.Ua=0,W.a=1,0):(W.Ta=W.V,W.Ua=W.Ba+ae+J,1)}function et(W,J){var ae=W.C,ue=J-ae,me=W.V,xe=W.Ba+W.c*ae;for(t(J<=W.l.o);0<ue;){var _e=16<ue?16:ue,Ne=W.l.ma,je=W.l.width,Me=je*_e,Xe=Ne.ca,st=Ne.tb+je*ae,ot=W.Ta,nt=W.Ua;pe(W,_e,me,xe),di(ot,nt,Xe,st,Me),Ee(Ne,ae,ae+_e,Xe,st,je),ue-=_e,me+=_e*W.c,ae+=_e}t(ae==J),W.C=W.Ma=J}function Ct(){this.ub=this.yd=this.td=this.Rb=0}function Mt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Se(){this.Yb=function(){var W=[];return function J(ae,ue,me){for(var xe=me[ue],_e=0;_e<xe&&(ae.push(me.length>ue+1?[]:0),!(me.length<ue+1));_e++)J(ae[_e],ue+1,me)}(W,0,[3,11]),W}()}function Fe(){this.jb=a(3),this.Wc=l([4,8],Se),this.Xc=l([4,17],Se)}function ct(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function wt(){this.ld=this.La=this.dd=this.tc=0}function Wt(){this.Na=this.la=0}function It(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qt(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Rr(){this.uc=this.M=this.Nb=0,this.wa=Array(new wt),this.Y=0,this.ya=Array(new qt),this.aa=0,this.l=new or}function kr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function mr(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new Ct,this.Kc=new Mt,this.ed=new ct,this.Qa=new Gt,this.Ic=this.$c=this.Aa=0,this.D=new Rr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,V),this.ia=0,this.pb=s(4,It),this.Pa=new Fe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new kr),this.Hd=0,this.rb=Array(new Wt),this.sb=0,this.wa=Array(new wt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qt),this.L=this.aa=0,this.gd=l([4,2],wt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function or(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Er(){var W=new mr;return W!=null&&(W.a=0,W.sc="OK",W.cb=0,W.Xb=0,Wc||(Wc=Bn)),W}function Ar(W,J,ae){return W.a==0&&(W.a=J,W.sc=ae,W.cb=0),0}function nn(W,J,ae){return 3<=ae&&W[J+0]==157&&W[J+1]==1&&W[J+2]==42}function Nn(W,J){if(W==null)return 0;if(W.a=0,W.sc="OK",J==null)return Ar(W,2,"null VP8Io passed to VP8GetHeaders()");var ae=J.data,ue=J.w,me=J.ha;if(4>me)return Ar(W,7,"Truncated header.");var xe=ae[ue+0]|ae[ue+1]<<8|ae[ue+2]<<16,_e=W.Od;if(_e.Rb=!(1&xe),_e.td=xe>>1&7,_e.yd=xe>>4&1,_e.ub=xe>>5,3<_e.td)return Ar(W,3,"Incorrect keyframe parameters.");if(!_e.yd)return Ar(W,4,"Frame not displayable.");ue+=3,me-=3;var Ne=W.Kc;if(_e.Rb){if(7>me)return Ar(W,7,"cannot parse picture header");if(!nn(ae,ue,me))return Ar(W,3,"Bad code word");Ne.c=16383&(ae[ue+4]<<8|ae[ue+3]),Ne.Td=ae[ue+4]>>6,Ne.i=16383&(ae[ue+6]<<8|ae[ue+5]),Ne.Ud=ae[ue+6]>>6,ue+=7,me-=7,W.za=Ne.c+15>>4,W.Ub=Ne.i+15>>4,J.width=Ne.c,J.height=Ne.i,J.Da=0,J.j=0,J.v=0,J.va=J.width,J.o=J.height,J.da=0,J.ib=J.width,J.hb=J.height,J.U=J.width,J.T=J.height,i((xe=W.Pa).jb,0,255,xe.jb.length),t((xe=W.Qa)!=null),xe.Cb=0,xe.Bb=0,xe.Fb=1,i(xe.Zb,0,0,xe.Zb.length),i(xe.Lb,0,0,xe.Lb)}if(_e.ub>me)return Ar(W,7,"bad partition length");C(xe=W.m,ae,ue,_e.ub),ue+=_e.ub,me-=_e.ub,_e.Rb&&(Ne.Ld=I(xe),Ne.Kd=I(xe)),Ne=W.Qa;var je,Me=W.Pa;if(t(xe!=null),t(Ne!=null),Ne.Cb=I(xe),Ne.Cb){if(Ne.Bb=I(xe),I(xe)){for(Ne.Fb=I(xe),je=0;4>je;++je)Ne.Zb[je]=I(xe)?j(xe,7):0;for(je=0;4>je;++je)Ne.Lb[je]=I(xe)?j(xe,6):0}if(Ne.Bb)for(je=0;3>je;++je)Me.jb[je]=I(xe)?k(xe,8):255}else Ne.Bb=0;if(xe.Ka)return Ar(W,3,"cannot parse segment header");if((Ne=W.ed).zd=I(xe),Ne.Tb=k(xe,6),Ne.wb=k(xe,3),Ne.Pc=I(xe),Ne.Pc&&I(xe)){for(Me=0;4>Me;++Me)I(xe)&&(Ne.vd[Me]=j(xe,6));for(Me=0;4>Me;++Me)I(xe)&&(Ne.od[Me]=j(xe,6))}if(W.L=Ne.Tb==0?0:Ne.zd?1:2,xe.Ka)return Ar(W,3,"cannot parse filter header");var Xe=me;if(me=je=ue,ue=je+Xe,Ne=Xe,W.Xb=(1<<k(W.m,2))-1,Xe<3*(Me=W.Xb))ae=7;else{for(je+=3*Me,Ne-=3*Me,Xe=0;Xe<Me;++Xe){var st=ae[me+0]|ae[me+1]<<8|ae[me+2]<<16;st>Ne&&(st=Ne),C(W.Jc[+Xe],ae,je,st),je+=st,Ne-=st,me+=3}C(W.Jc[+Me],ae,je,Ne),ae=je<ue?0:5}if(ae!=0)return Ar(W,ae,"cannot parse partitions");for(ae=k(je=W.m,7),me=I(je)?j(je,4):0,ue=I(je)?j(je,4):0,Ne=I(je)?j(je,4):0,Me=I(je)?j(je,4):0,je=I(je)?j(je,4):0,Xe=W.Qa,st=0;4>st;++st){if(Xe.Cb){var ot=Xe.Zb[st];Xe.Fb||(ot+=ae)}else{if(0<st){W.pb[st]=W.pb[0];continue}ot=ae}var nt=W.pb[st];nt.Sc[0]=lf[ws(ot+me,127)],nt.Sc[1]=Nd[ws(ot+0,127)],nt.Eb[0]=2*lf[ws(ot+ue,127)],nt.Eb[1]=101581*Nd[ws(ot+Ne,127)]>>16,8>nt.Eb[1]&&(nt.Eb[1]=8),nt.Qc[0]=lf[ws(ot+Me,117)],nt.Qc[1]=Nd[ws(ot+je,127)],nt.lc=ot+je}if(!_e.Rb)return Ar(W,4,"Not a key frame.");for(I(xe),_e=W.Pa,ae=0;4>ae;++ae){for(me=0;8>me;++me)for(ue=0;3>ue;++ue)for(Ne=0;11>Ne;++Ne)Me=D(xe,g2[ae][me][ue][Ne])?k(xe,8):F1[ae][me][ue][Ne],_e.Wc[ae][me].Yb[ue][Ne]=Me;for(me=0;17>me;++me)_e.Xc[ae][me]=_e.Wc[ae][Xp[me]]}return W.kc=I(xe),W.kc&&(W.Bd=k(xe,8)),W.cb=1}function Bn(W,J,ae,ue,me,xe,_e){var Ne=J[me].Yb[ae];for(ae=0;16>me;++me){if(!D(W,Ne[ae+0]))return me;for(;!D(W,Ne[ae+1]);)if(Ne=J[++me].Yb[0],ae=0,me==16)return 16;var je=J[me+1].Yb;if(D(W,Ne[ae+2])){var Me=W,Xe=0;if(D(Me,(ot=Ne)[(st=ae)+3]))if(D(Me,ot[st+6])){for(Ne=0,st=2*(Xe=D(Me,ot[st+8]))+(ot=D(Me,ot[st+9+Xe])),Xe=0,ot=Vp[st];ot[Ne];++Ne)Xe+=Xe+D(Me,ot[Ne]);Xe+=3+(8<<st)}else D(Me,ot[st+7])?(Xe=7+2*D(Me,165),Xe+=D(Me,145)):Xe=5+D(Me,159);else Xe=D(Me,ot[st+4])?3+D(Me,ot[st+5]):2;Ne=je[2]}else Xe=1,Ne=je[1];je=_e+Gp[me],0>(Me=W).b&&te(Me);var st,ot=Me.b,nt=(st=Me.Ca>>1)-(Me.I>>ot)>>31;--Me.b,Me.Ca+=nt,Me.Ca|=1,Me.I-=(st+1&nt)<<ot,xe[je]=((Xe^nt)-nt)*ue[(0<me)+0]}return 16}function Kn(W){var J=W.rb[W.sb-1];J.la=0,J.Na=0,i(W.zc,0,0,W.zc.length),W.ja=0}function Ti(W,J){if(W==null)return 0;if(J==null)return Ar(W,2,"NULL VP8Io parameter in VP8Decode().");if(!W.cb&&!Nn(W,J))return 0;if(t(W.cb),J.ac==null||J.ac(J)){J.ob&&(W.L=0);var ae=Xc[W.L];if(W.L==2?(W.yb=0,W.zb=0):(W.yb=J.v-ae>>4,W.zb=J.j-ae>>4,0>W.yb&&(W.yb=0),0>W.zb&&(W.zb=0)),W.Va=J.o+15+ae>>4,W.Hb=J.va+15+ae>>4,W.Hb>W.za&&(W.Hb=W.za),W.Va>W.Ub&&(W.Va=W.Ub),0<W.L){var ue=W.ed;for(ae=0;4>ae;++ae){var me;if(W.Qa.Cb){var xe=W.Qa.Lb[ae];W.Qa.Fb||(xe+=ue.Tb)}else xe=ue.Tb;for(me=0;1>=me;++me){var _e=W.gd[ae][me],Ne=xe;if(ue.Pc&&(Ne+=ue.vd[0],me&&(Ne+=ue.od[0])),0<(Ne=0>Ne?0:63<Ne?63:Ne)){var je=Ne;0<ue.wb&&(je=4<ue.wb?je>>2:je>>1)>9-ue.wb&&(je=9-ue.wb),1>je&&(je=1),_e.dd=je,_e.tc=2*Ne+je,_e.ld=40<=Ne?2:15<=Ne?1:0}else _e.tc=0;_e.La=me}}}ae=0}else Ar(W,6,"Frame setup failed"),ae=W.a;if(ae=ae==0){if(ae){W.$c=0,0<W.Aa||(W.Ic=bl);e:{ae=W.Ic,ue=4*(je=W.za);var Me=32*je,Xe=je+1,st=0<W.L?je*(0<W.Aa?2:1):0,ot=(W.Aa==2?2:1)*je;if((_e=ue+832+(me=3*(16*ae+Xc[W.L])/2*Me)+(xe=W.Fa!=null&&0<W.Fa.length?W.Kc.c*W.Kc.i:0))!=_e)ae=0;else{if(_e>W.Vb){if(W.Vb=0,W.Ec=a(_e),W.Fc=0,W.Ec==null){ae=Ar(W,1,"no memory during frame initialization.");break e}W.Vb=_e}_e=W.Ec,Ne=W.Fc,W.Ac=_e,W.Bc=Ne,Ne+=ue,W.Gd=s(Me,kr),W.Hd=0,W.rb=s(Xe+1,Wt),W.sb=1,W.wa=st?s(st,wt):null,W.Y=0,W.D.Nb=0,W.D.wa=W.wa,W.D.Y=W.Y,0<W.Aa&&(W.D.Y+=je),t(!0),W.oc=_e,W.pc=Ne,Ne+=832,W.ya=s(ot,qt),W.aa=0,W.D.ya=W.ya,W.D.aa=W.aa,W.Aa==2&&(W.D.aa+=je),W.R=16*je,W.B=8*je,je=(Me=Xc[W.L])*W.R,Me=Me/2*W.B,W.sa=_e,W.ta=Ne+je,W.qa=W.sa,W.ra=W.ta+16*ae*W.R+Me,W.Ha=W.qa,W.Ia=W.ra+8*ae*W.B+Me,W.$c=0,Ne+=me,W.mb=xe?_e:null,W.nb=xe?Ne:null,t(Ne+xe<=W.Fc+W.Vb),Kn(W),i(W.Ac,W.Bc,0,ue),ae=1}}if(ae){if(J.ka=0,J.y=W.sa,J.O=W.ta,J.f=W.qa,J.N=W.ra,J.ea=W.Ha,J.Vd=W.Ia,J.fa=W.R,J.Rc=W.B,J.F=null,J.J=0,!bd){for(ae=-255;255>=ae;++ae)ki[255+ae]=0>ae?-ae:ae;for(ae=-1020;1020>=ae;++ae)Lo[1020+ae]=-128>ae?-128:127<ae?127:ae;for(ae=-112;112>=ae;++ae)af[112+ae]=-16>ae?-16:15<ae?15:ae;for(ae=-255;510>=ae;++ae)zc[255+ae]=0>ae?0:255<ae?255:ae;bd=1}nf=Br,hl=Gr,pl=Xi,ua=io,_s=ao,fn=Qr,Dc=Hu,vd=Ci,Bc=Mc,$c=hd,Uc=Gl,Ss=Xl,ml=Ic,Fo=Wu,gl=co,yl=Fs,ec=Ls,Yi=Bh,$s[0]=Mo,$s[1]=bs,$s[2]=Rs,$s[3]=Na,$s[4]=ud,$s[5]=Bu,$s[6]=Wl,$s[7]=$u,$s[8]=Dh,$s[9]=Uu,Ca[0]=Is,Ca[1]=ol,Ca[2]=Ki,Ca[3]=sa,Ca[4]=On,Ca[5]=ka,Ca[6]=oa,Xa[0]=xs,Xa[1]=so,Xa[2]=Hp,Xa[3]=ll,Xa[4]=Oc,Xa[5]=zu,Xa[6]=fd,ae=1}else ae=0}ae&&(ae=function(nt,Pt){for(nt.M=0;nt.M<nt.Va;++nt.M){var xt,Ye=nt.Jc[nt.M&nt.Xb],Je=nt.m,Et=nt;for(xt=0;xt<Et.za;++xt){var Nt=Je,Tt=Et,nr=Tt.Ac,Qt=Tt.Bc+4*xt,jr=Tt.zc,tr=Tt.ya[Tt.aa+xt];if(Tt.Qa.Bb?tr.$b=D(Nt,Tt.Pa.jb[0])?2+D(Nt,Tt.Pa.jb[2]):D(Nt,Tt.Pa.jb[1]):tr.$b=0,Tt.kc&&(tr.Ad=D(Nt,Tt.Bd)),tr.Za=!D(Nt,145)+0,tr.Za){var on=tr.Ob,ln=0;for(Tt=0;4>Tt;++Tt){var an,Wr=jr[0+Tt];for(an=0;4>an;++an){Wr=m2[nr[Qt+an]][Wr];for(var xn=R1[D(Nt,Wr[0])];0<xn;)xn=R1[2*xn+D(Nt,Wr[xn])];Wr=-xn,nr[Qt+an]=Wr}n(on,ln,nr,Qt,4),ln+=4,jr[0+Tt]=Wr}}else Wr=D(Nt,156)?D(Nt,128)?1:3:D(Nt,163)?2:0,tr.Ob[0]=Wr,i(nr,Qt,Wr,4),i(jr,0,Wr,4);tr.Dd=D(Nt,142)?D(Nt,114)?D(Nt,183)?1:3:2:0}if(Et.m.Ka)return Ar(nt,7,"Premature end-of-partition0 encountered.");for(;nt.ja<nt.za;++nt.ja){if(Et=Ye,Nt=(Je=nt).rb[Je.sb-1],nr=Je.rb[Je.sb+Je.ja],xt=Je.ya[Je.aa+Je.ja],Qt=Je.kc?xt.Ad:0)Nt.la=nr.la=0,xt.Za||(Nt.Na=nr.Na=0),xt.Hc=0,xt.Gc=0,xt.ia=0;else{var jn,Cr;if(Nt=nr,nr=Et,Qt=Je.Pa.Xc,jr=Je.ya[Je.aa+Je.ja],tr=Je.pb[jr.$b],Tt=jr.ad,on=0,ln=Je.rb[Je.sb-1],Wr=an=0,i(Tt,on,0,384),jr.Za)var ri=0,Zi=Qt[3];else{xn=a(16);var qn=Nt.Na+ln.Na;if(qn=Wc(nr,Qt[1],qn,tr.Eb,0,xn,0),Nt.Na=ln.Na=(0<qn)+0,1<qn)nf(xn,0,Tt,on);else{var da=xn[0]+3>>3;for(xn=0;256>xn;xn+=16)Tt[on+xn]=da}ri=1,Zi=Qt[0]}var dn=15&Nt.la,Oa=15&ln.la;for(xn=0;4>xn;++xn){var Pa=1&Oa;for(da=Cr=0;4>da;++da)dn=dn>>1|(Pa=(qn=Wc(nr,Zi,qn=Pa+(1&dn),tr.Sc,ri,Tt,on))>ri)<<7,Cr=Cr<<2|(3<qn?3:1<qn?2:Tt[on+0]!=0),on+=16;dn>>=4,Oa=Oa>>1|Pa<<7,an=(an<<8|Cr)>>>0}for(Zi=dn,ri=Oa>>4,jn=0;4>jn;jn+=2){for(Cr=0,dn=Nt.la>>4+jn,Oa=ln.la>>4+jn,xn=0;2>xn;++xn){for(Pa=1&Oa,da=0;2>da;++da)qn=Pa+(1&dn),dn=dn>>1|(Pa=0<(qn=Wc(nr,Qt[2],qn,tr.Qc,0,Tt,on)))<<3,Cr=Cr<<2|(3<qn?3:1<qn?2:Tt[on+0]!=0),on+=16;dn>>=2,Oa=Oa>>1|Pa<<5}Wr|=Cr<<4*jn,Zi|=dn<<4<<jn,ri|=(240&Oa)<<jn}Nt.la=Zi,ln.la=ri,jr.Hc=an,jr.Gc=Wr,jr.ia=43690&Wr?0:tr.ia,Qt=!(an|Wr)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[xt.$b][xt.Za],Je.wa[Je.Y+Je.ja].La|=!Qt),Et.Ka)return Ar(nt,7,"Premature end-of-file encountered.")}if(Kn(nt),Je=Pt,Et=1,xt=(Ye=nt).D,Nt=0<Ye.L&&Ye.M>=Ye.zb&&Ye.M<=Ye.Va,Ye.Aa==0)e:{if(xt.M=Ye.M,xt.uc=Nt,Xu(Ye,xt),Et=1,xt=(Cr=Ye.D).Nb,Nt=(Wr=Xc[Ye.L])*Ye.R,nr=Wr/2*Ye.B,xn=16*xt*Ye.R,da=8*xt*Ye.B,Qt=Ye.sa,jr=Ye.ta-Nt+xn,tr=Ye.qa,Tt=Ye.ra-nr+da,on=Ye.Ha,ln=Ye.Ia-nr+da,Oa=(dn=Cr.M)==0,an=dn>=Ye.Va-1,Ye.Aa==2&&Xu(Ye,Cr),Cr.uc)for(Pa=(qn=Ye).D.M,t(qn.D.uc),Cr=qn.yb;Cr<qn.Hb;++Cr){ri=Cr,Zi=Pa;var ni=(An=(wn=qn).D).Nb;jn=wn.R;var An=An.wa[An.Y+ri],vi=wn.sa,Za=wn.ta+16*ni*jn+16*ri,po=An.dd,$n=An.tc;if($n!=0)if(t(3<=$n),wn.L==1)0<ri&&yl(vi,Za,jn,$n+4),An.La&&Yi(vi,Za,jn,$n),0<Zi&&gl(vi,Za,jn,$n+4),An.La&&ec(vi,Za,jn,$n);else{var ha=wn.B,xl=wn.qa,Kc=wn.ra+8*ni*ha+8*ri,pa=wn.Ha,wn=wn.Ia+8*ni*ha+8*ri;ni=An.ld,0<ri&&(vd(vi,Za,jn,$n+4,po,ni),$c(xl,Kc,pa,wn,ha,$n+4,po,ni)),An.La&&(Ss(vi,Za,jn,$n,po,ni),Fo(xl,Kc,pa,wn,ha,$n,po,ni)),0<Zi&&(Dc(vi,Za,jn,$n+4,po,ni),Bc(xl,Kc,pa,wn,ha,$n+4,po,ni)),An.La&&(Uc(vi,Za,jn,$n,po,ni),ml(xl,Kc,pa,wn,ha,$n,po,ni))}}if(Ye.ia&&alert("todo:DitherRow"),Je.put!=null){if(Cr=16*dn,dn=16*(dn+1),Oa?(Je.y=Ye.sa,Je.O=Ye.ta+xn,Je.f=Ye.qa,Je.N=Ye.ra+da,Je.ea=Ye.Ha,Je.W=Ye.Ia+da):(Cr-=Wr,Je.y=Qt,Je.O=jr,Je.f=tr,Je.N=Tt,Je.ea=on,Je.W=ln),an||(dn-=Wr),dn>Je.o&&(dn=Je.o),Je.F=null,Je.J=null,Ye.Fa!=null&&0<Ye.Fa.length&&Cr<dn&&(Je.J=md(Ye,Je,Cr,dn-Cr),Je.F=Ye.mb,Je.F==null&&Je.F.length==0)){Et=Ar(Ye,3,"Could not decode alpha data.");break e}Cr<Je.j&&(Wr=Je.j-Cr,Cr=Je.j,t(!(1&Wr)),Je.O+=Ye.R*Wr,Je.N+=Ye.B*(Wr>>1),Je.W+=Ye.B*(Wr>>1),Je.F!=null&&(Je.J+=Je.width*Wr)),Cr<dn&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,Je.F!=null&&(Je.J+=Je.v),Je.ka=Cr-Je.j,Je.U=Je.va-Je.v,Je.T=dn-Cr,Et=Je.put(Je))}xt+1!=Ye.Ic||an||(n(Ye.sa,Ye.ta-Nt,Qt,jr+16*Ye.R,Nt),n(Ye.qa,Ye.ra-nr,tr,Tt+8*Ye.B,nr),n(Ye.Ha,Ye.Ia-nr,on,ln+8*Ye.B,nr))}if(!Et)return Ar(nt,6,"Output aborted.")}return 1}(W,J)),J.bc!=null&&J.bc(J),ae&=1}return ae?(W.cb=0,ae):0}function ci(W,J,ae,ue,me){me=W[J+ae+32*ue]+(me>>3),W[J+ae+32*ue]=-256&me?0>me?0:255:me}function vs(W,J,ae,ue,me,xe){ci(W,J,0,ae,ue+me),ci(W,J,1,ae,ue+xe),ci(W,J,2,ae,ue-xe),ci(W,J,3,ae,ue-me)}function yi(W){return(20091*W>>16)+W}function Wa(W,J,ae,ue){var me,xe=0,_e=a(16);for(me=0;4>me;++me){var Ne=W[J+0]+W[J+8],je=W[J+0]-W[J+8],Me=(35468*W[J+4]>>16)-yi(W[J+12]),Xe=yi(W[J+4])+(35468*W[J+12]>>16);_e[xe+0]=Ne+Xe,_e[xe+1]=je+Me,_e[xe+2]=je-Me,_e[xe+3]=Ne-Xe,xe+=4,J++}for(me=xe=0;4>me;++me)Ne=(W=_e[xe+0]+4)+_e[xe+8],je=W-_e[xe+8],Me=(35468*_e[xe+4]>>16)-yi(_e[xe+12]),ci(ae,ue,0,0,Ne+(Xe=yi(_e[xe+4])+(35468*_e[xe+12]>>16))),ci(ae,ue,1,0,je+Me),ci(ae,ue,2,0,je-Me),ci(ae,ue,3,0,Ne-Xe),xe++,ue+=32}function Qr(W,J,ae,ue){var me=W[J+0]+4,xe=35468*W[J+4]>>16,_e=yi(W[J+4]),Ne=35468*W[J+1]>>16;vs(ae,ue,0,me+_e,W=yi(W[J+1]),Ne),vs(ae,ue,1,me+xe,W,Ne),vs(ae,ue,2,me-xe,W,Ne),vs(ae,ue,3,me-_e,W,Ne)}function Gr(W,J,ae,ue,me){Wa(W,J,ae,ue),me&&Wa(W,J+16,ae,ue+4)}function Xi(W,J,ae,ue){hl(W,J+0,ae,ue,1),hl(W,J+32,ae,ue+128,1)}function io(W,J,ae,ue){var me;for(W=W[J+0]+4,me=0;4>me;++me)for(J=0;4>J;++J)ci(ae,ue,J,me,W)}function ao(W,J,ae,ue){W[J+0]&&ua(W,J+0,ae,ue),W[J+16]&&ua(W,J+16,ae,ue+4),W[J+32]&&ua(W,J+32,ae,ue+128),W[J+48]&&ua(W,J+48,ae,ue+128+4)}function Br(W,J,ae,ue){var me,xe=a(16);for(me=0;4>me;++me){var _e=W[J+0+me]+W[J+12+me],Ne=W[J+4+me]+W[J+8+me],je=W[J+4+me]-W[J+8+me],Me=W[J+0+me]-W[J+12+me];xe[0+me]=_e+Ne,xe[8+me]=_e-Ne,xe[4+me]=Me+je,xe[12+me]=Me-je}for(me=0;4>me;++me)_e=(W=xe[0+4*me]+3)+xe[3+4*me],Ne=xe[1+4*me]+xe[2+4*me],je=xe[1+4*me]-xe[2+4*me],Me=W-xe[3+4*me],ae[ue+0]=_e+Ne>>3,ae[ue+16]=Me+je>>3,ae[ue+32]=_e-Ne>>3,ae[ue+48]=Me-je>>3,ue+=64}function aa(W,J,ae){var ue,me=J-32,xe=Ta,_e=255-W[me-1];for(ue=0;ue<ae;++ue){var Ne,je=xe,Me=_e+W[J-1];for(Ne=0;Ne<ae;++Ne)W[J+Ne]=je[Me+W[me+Ne]];J+=32}}function bs(W,J){aa(W,J,4)}function so(W,J){aa(W,J,8)}function ol(W,J){aa(W,J,16)}function Ki(W,J){var ae;for(ae=0;16>ae;++ae)n(W,J+32*ae,W,J-32,16)}function sa(W,J){var ae;for(ae=16;0<ae;--ae)i(W,J,W[J-1],16),J+=32}function oo(W,J,ae){var ue;for(ue=0;16>ue;++ue)i(J,ae+32*ue,W,16)}function Is(W,J){var ae,ue=16;for(ae=0;16>ae;++ae)ue+=W[J-1+32*ae]+W[J+ae-32];oo(ue>>5,W,J)}function On(W,J){var ae,ue=8;for(ae=0;16>ae;++ae)ue+=W[J-1+32*ae];oo(ue>>4,W,J)}function ka(W,J){var ae,ue=8;for(ae=0;16>ae;++ae)ue+=W[J+ae-32];oo(ue>>4,W,J)}function oa(W,J){oo(128,W,J)}function Tr(W,J,ae){return W+2*J+ae+2>>2}function Rs(W,J){var ae,ue=J-32;for(ue=new Uint8Array([Tr(W[ue-1],W[ue+0],W[ue+1]),Tr(W[ue+0],W[ue+1],W[ue+2]),Tr(W[ue+1],W[ue+2],W[ue+3]),Tr(W[ue+2],W[ue+3],W[ue+4])]),ae=0;4>ae;++ae)n(W,J+32*ae,ue,0,ue.length)}function Na(W,J){var ae=W[J-1],ue=W[J-1+32],me=W[J-1+64],xe=W[J-1+96];X(W,J+0,16843009*Tr(W[J-1-32],ae,ue)),X(W,J+32,16843009*Tr(ae,ue,me)),X(W,J+64,16843009*Tr(ue,me,xe)),X(W,J+96,16843009*Tr(me,xe,xe))}function Mo(W,J){var ae,ue=4;for(ae=0;4>ae;++ae)ue+=W[J+ae-32]+W[J-1+32*ae];for(ue>>=3,ae=0;4>ae;++ae)i(W,J+32*ae,ue,4)}function ud(W,J){var ae=W[J-1+0],ue=W[J-1+32],me=W[J-1+64],xe=W[J-1-32],_e=W[J+0-32],Ne=W[J+1-32],je=W[J+2-32],Me=W[J+3-32];W[J+0+96]=Tr(ue,me,W[J-1+96]),W[J+1+96]=W[J+0+64]=Tr(ae,ue,me),W[J+2+96]=W[J+1+64]=W[J+0+32]=Tr(xe,ae,ue),W[J+3+96]=W[J+2+64]=W[J+1+32]=W[J+0+0]=Tr(_e,xe,ae),W[J+3+64]=W[J+2+32]=W[J+1+0]=Tr(Ne,_e,xe),W[J+3+32]=W[J+2+0]=Tr(je,Ne,_e),W[J+3+0]=Tr(Me,je,Ne)}function Wl(W,J){var ae=W[J+1-32],ue=W[J+2-32],me=W[J+3-32],xe=W[J+4-32],_e=W[J+5-32],Ne=W[J+6-32],je=W[J+7-32];W[J+0+0]=Tr(W[J+0-32],ae,ue),W[J+1+0]=W[J+0+32]=Tr(ae,ue,me),W[J+2+0]=W[J+1+32]=W[J+0+64]=Tr(ue,me,xe),W[J+3+0]=W[J+2+32]=W[J+1+64]=W[J+0+96]=Tr(me,xe,_e),W[J+3+32]=W[J+2+64]=W[J+1+96]=Tr(xe,_e,Ne),W[J+3+64]=W[J+2+96]=Tr(_e,Ne,je),W[J+3+96]=Tr(Ne,je,je)}function Bu(W,J){var ae=W[J-1+0],ue=W[J-1+32],me=W[J-1+64],xe=W[J-1-32],_e=W[J+0-32],Ne=W[J+1-32],je=W[J+2-32],Me=W[J+3-32];W[J+0+0]=W[J+1+64]=xe+_e+1>>1,W[J+1+0]=W[J+2+64]=_e+Ne+1>>1,W[J+2+0]=W[J+3+64]=Ne+je+1>>1,W[J+3+0]=je+Me+1>>1,W[J+0+96]=Tr(me,ue,ae),W[J+0+64]=Tr(ue,ae,xe),W[J+0+32]=W[J+1+96]=Tr(ae,xe,_e),W[J+1+32]=W[J+2+96]=Tr(xe,_e,Ne),W[J+2+32]=W[J+3+96]=Tr(_e,Ne,je),W[J+3+32]=Tr(Ne,je,Me)}function $u(W,J){var ae=W[J+0-32],ue=W[J+1-32],me=W[J+2-32],xe=W[J+3-32],_e=W[J+4-32],Ne=W[J+5-32],je=W[J+6-32],Me=W[J+7-32];W[J+0+0]=ae+ue+1>>1,W[J+1+0]=W[J+0+64]=ue+me+1>>1,W[J+2+0]=W[J+1+64]=me+xe+1>>1,W[J+3+0]=W[J+2+64]=xe+_e+1>>1,W[J+0+32]=Tr(ae,ue,me),W[J+1+32]=W[J+0+96]=Tr(ue,me,xe),W[J+2+32]=W[J+1+96]=Tr(me,xe,_e),W[J+3+32]=W[J+2+96]=Tr(xe,_e,Ne),W[J+3+64]=Tr(_e,Ne,je),W[J+3+96]=Tr(Ne,je,Me)}function Uu(W,J){var ae=W[J-1+0],ue=W[J-1+32],me=W[J-1+64],xe=W[J-1+96];W[J+0+0]=ae+ue+1>>1,W[J+2+0]=W[J+0+32]=ue+me+1>>1,W[J+2+32]=W[J+0+64]=me+xe+1>>1,W[J+1+0]=Tr(ae,ue,me),W[J+3+0]=W[J+1+32]=Tr(ue,me,xe),W[J+3+32]=W[J+1+64]=Tr(me,xe,xe),W[J+3+64]=W[J+2+64]=W[J+0+96]=W[J+1+96]=W[J+2+96]=W[J+3+96]=xe}function Dh(W,J){var ae=W[J-1+0],ue=W[J-1+32],me=W[J-1+64],xe=W[J-1+96],_e=W[J-1-32],Ne=W[J+0-32],je=W[J+1-32],Me=W[J+2-32];W[J+0+0]=W[J+2+32]=ae+_e+1>>1,W[J+0+32]=W[J+2+64]=ue+ae+1>>1,W[J+0+64]=W[J+2+96]=me+ue+1>>1,W[J+0+96]=xe+me+1>>1,W[J+3+0]=Tr(Ne,je,Me),W[J+2+0]=Tr(_e,Ne,je),W[J+1+0]=W[J+3+32]=Tr(ae,_e,Ne),W[J+1+32]=W[J+3+64]=Tr(ue,ae,_e),W[J+1+64]=W[J+3+96]=Tr(me,ue,ae),W[J+1+96]=Tr(xe,me,ue)}function Hp(W,J){var ae;for(ae=0;8>ae;++ae)n(W,J+32*ae,W,J-32,8)}function ll(W,J){var ae;for(ae=0;8>ae;++ae)i(W,J,W[J-1],8),J+=32}function lo(W,J,ae){var ue;for(ue=0;8>ue;++ue)i(J,ae+32*ue,W,8)}function xs(W,J){var ae,ue=8;for(ae=0;8>ae;++ae)ue+=W[J+ae-32]+W[J-1+32*ae];lo(ue>>4,W,J)}function zu(W,J){var ae,ue=4;for(ae=0;8>ae;++ae)ue+=W[J+ae-32];lo(ue>>3,W,J)}function Oc(W,J){var ae,ue=4;for(ae=0;8>ae;++ae)ue+=W[J-1+32*ae];lo(ue>>3,W,J)}function fd(W,J){lo(128,W,J)}function Vl(W,J,ae){var ue=W[J-ae],me=W[J+0],xe=3*(me-ue)+Do[1020+W[J-2*ae]-W[J+ae]],_e=sf[112+(xe+4>>3)];W[J-ae]=Ta[255+ue+sf[112+(xe+3>>3)]],W[J+0]=Ta[255+me-_e]}function Pc(W,J,ae,ue){var me=W[J+0],xe=W[J+ae];return Bs[255+W[J-2*ae]-W[J-ae]]>ue||Bs[255+xe-me]>ue}function qu(W,J,ae,ue){return 4*Bs[255+W[J-ae]-W[J+0]]+Bs[255+W[J-2*ae]-W[J+ae]]<=ue}function dd(W,J,ae,ue,me){var xe=W[J-3*ae],_e=W[J-2*ae],Ne=W[J-ae],je=W[J+0],Me=W[J+ae],Xe=W[J+2*ae],st=W[J+3*ae];return 4*Bs[255+Ne-je]+Bs[255+_e-Me]>ue?0:Bs[255+W[J-4*ae]-xe]<=me&&Bs[255+xe-_e]<=me&&Bs[255+_e-Ne]<=me&&Bs[255+st-Xe]<=me&&Bs[255+Xe-Me]<=me&&Bs[255+Me-je]<=me}function co(W,J,ae,ue){var me=2*ue+1;for(ue=0;16>ue;++ue)qu(W,J+ue,ae,me)&&Vl(W,J+ue,ae)}function Fs(W,J,ae,ue){var me=2*ue+1;for(ue=0;16>ue;++ue)qu(W,J+ue*ae,1,me)&&Vl(W,J+ue*ae,1)}function Ls(W,J,ae,ue){var me;for(me=3;0<me;--me)co(W,J+=4*ae,ae,ue)}function Bh(W,J,ae,ue){var me;for(me=3;0<me;--me)Fs(W,J+=4,ae,ue)}function uo(W,J,ae,ue,me,xe,_e,Ne){for(xe=2*xe+1;0<me--;){if(dd(W,J,ae,xe,_e))if(Pc(W,J,ae,Ne))Vl(W,J,ae);else{var je=W,Me=J,Xe=ae,st=je[Me-2*Xe],ot=je[Me-Xe],nt=je[Me+0],Pt=je[Me+Xe],xt=je[Me+2*Xe],Ye=27*(Et=Do[1020+3*(nt-ot)+Do[1020+st-Pt]])+63>>7,Je=18*Et+63>>7,Et=9*Et+63>>7;je[Me-3*Xe]=Ta[255+je[Me-3*Xe]+Et],je[Me-2*Xe]=Ta[255+st+Je],je[Me-Xe]=Ta[255+ot+Ye],je[Me+0]=Ta[255+nt-Ye],je[Me+Xe]=Ta[255+Pt-Je],je[Me+2*Xe]=Ta[255+xt-Et]}J+=ue}}function Va(W,J,ae,ue,me,xe,_e,Ne){for(xe=2*xe+1;0<me--;){if(dd(W,J,ae,xe,_e))if(Pc(W,J,ae,Ne))Vl(W,J,ae);else{var je=W,Me=J,Xe=ae,st=je[Me-Xe],ot=je[Me+0],nt=je[Me+Xe],Pt=sf[112+((xt=3*(ot-st))+4>>3)],xt=sf[112+(xt+3>>3)],Ye=Pt+1>>1;je[Me-2*Xe]=Ta[255+je[Me-2*Xe]+Ye],je[Me-Xe]=Ta[255+st+xt],je[Me+0]=Ta[255+ot-Pt],je[Me+Xe]=Ta[255+nt-Ye]}J+=ue}}function Hu(W,J,ae,ue,me,xe){uo(W,J,ae,1,16,ue,me,xe)}function Ci(W,J,ae,ue,me,xe){uo(W,J,1,ae,16,ue,me,xe)}function Gl(W,J,ae,ue,me,xe){var _e;for(_e=3;0<_e;--_e)Va(W,J+=4*ae,ae,1,16,ue,me,xe)}function Xl(W,J,ae,ue,me,xe){var _e;for(_e=3;0<_e;--_e)Va(W,J+=4,1,ae,16,ue,me,xe)}function Mc(W,J,ae,ue,me,xe,_e,Ne){uo(W,J,me,1,8,xe,_e,Ne),uo(ae,ue,me,1,8,xe,_e,Ne)}function hd(W,J,ae,ue,me,xe,_e,Ne){uo(W,J,1,me,8,xe,_e,Ne),uo(ae,ue,1,me,8,xe,_e,Ne)}function Ic(W,J,ae,ue,me,xe,_e,Ne){Va(W,J+4*me,me,1,8,xe,_e,Ne),Va(ae,ue+4*me,me,1,8,xe,_e,Ne)}function Wu(W,J,ae,ue,me,xe,_e,Ne){Va(W,J+4,1,me,8,xe,_e,Ne),Va(ae,ue+4,1,me,8,xe,_e,Ne)}function Io(){this.ba=new wr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new er,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Vu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $h(){this.ua=0,this.Wa=new le,this.vb=new le,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new L,this.yc=new U}function Wp(){this.xb=this.a=0,this.l=new or,this.ca=new wr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $h,this.ab=0,this.gc=s(4,Vu),this.Oc=0}function Gu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new or,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cl(W,J,ae,ue,me,xe,_e){for(W=W==null?0:W[J+0],J=0;J<_e;++J)me[xe+J]=W+ae[ue+J]&255,W=me[xe+J]}function pd(W,J,ae,ue,me,xe,_e){var Ne;if(W==null)cl(null,null,ae,ue,me,xe,_e);else for(Ne=0;Ne<_e;++Ne)me[xe+Ne]=W[J+Ne]+ae[ue+Ne]&255}function Yl(W,J,ae,ue,me,xe,_e){if(W==null)cl(null,null,ae,ue,me,xe,_e);else{var Ne,je=W[J+0],Me=je,Xe=je;for(Ne=0;Ne<_e;++Ne)Me=Xe+(je=W[J+Ne])-Me,Xe=ae[ue+Ne]+(-256&Me?0>Me?0:255:Me)&255,Me=je,me[xe+Ne]=Xe}}function md(W,J,ae,ue){var me=J.width,xe=J.o;if(t(W!=null&&J!=null),0>ae||0>=ue||ae+ue>xe)return null;if(!W.Cc){if(W.ga==null){var _e;if(W.ga=new Gu,(_e=W.ga==null)||(_e=J.width*J.o,t(W.Gb.length==0),W.Gb=a(_e),W.Uc=0,W.Gb==null?_e=0:(W.mb=W.Gb,W.nb=W.Uc,W.rc=null,_e=1),_e=!_e),!_e){_e=W.ga;var Ne=W.Fa,je=W.P,Me=W.qc,Xe=W.mb,st=W.nb,ot=je+1,nt=Me-1,Pt=_e.l;if(t(Ne!=null&&Xe!=null&&J!=null),fa[0]=null,fa[1]=cl,fa[2]=pd,fa[3]=Yl,_e.ca=Xe,_e.tb=st,_e.c=J.width,_e.i=J.height,t(0<_e.c&&0<_e.i),1>=Me)J=0;else if(_e.$a=Ne[je+0]>>0&3,_e.Z=Ne[je+0]>>2&3,_e.Lc=Ne[je+0]>>4&3,je=Ne[je+0]>>6&3,0>_e.$a||1<_e.$a||4<=_e.Z||1<_e.Lc||je)J=0;else if(Pt.put=Ur,Pt.ac=Sr,Pt.bc=dr,Pt.ma=_e,Pt.width=J.width,Pt.height=J.height,Pt.Da=J.Da,Pt.v=J.v,Pt.va=J.va,Pt.j=J.j,Pt.o=J.o,_e.$a)e:{t(_e.$a==1),J=tt();t:for(;;){if(J==null){J=0;break e}if(t(_e!=null),_e.mc=J,J.c=_e.c,J.i=_e.i,J.l=_e.l,J.l.ma=_e,J.l.width=_e.c,J.l.height=_e.i,J.a=0,E(J.m,Ne,ot,nt),!We(_e.c,_e.i,1,J,null)||(J.ab==1&&J.gc[0].hc==3&&be(J.s)?(_e.ic=1,Ne=J.c*J.i,J.Ta=null,J.Ua=0,J.V=a(Ne),J.Ba=0,J.V==null?(J.a=1,J=0):J=1):(_e.ic=0,J=it(J,_e.c)),!J))break t;J=1;break e}_e.mc=null,J=0}else J=nt>=_e.c*_e.i;_e=!J}if(_e)return null;W.ga.Lc!=1?W.Ga=0:ue=xe-ae}t(W.ga!=null),t(ae+ue<=xe);e:{if(J=(Ne=W.ga).c,xe=Ne.l.o,Ne.$a==0){if(ot=W.rc,nt=W.Vc,Pt=W.Fa,je=W.P+1+ae*J,Me=W.mb,Xe=W.nb+ae*J,t(je<=W.P+W.qc),Ne.Z!=0)for(t(fa[Ne.Z]!=null),_e=0;_e<ue;++_e)fa[Ne.Z](ot,nt,Pt,je,Me,Xe,J),ot=Me,nt=Xe,Xe+=J,je+=J;else for(_e=0;_e<ue;++_e)n(Me,Xe,Pt,je,J),ot=Me,nt=Xe,Xe+=J,je+=J;W.rc=ot,W.Vc=nt}else{if(t(Ne.mc!=null),J=ae+ue,t((_e=Ne.mc)!=null),t(J<=_e.i),_e.C>=J)J=1;else if(Ne.ic||at(),Ne.ic){Ne=_e.V,ot=_e.Ba,nt=_e.c;var xt=_e.i,Ye=(Pt=1,je=_e.$/nt,Me=_e.$%nt,Xe=_e.m,st=_e.s,_e.$),Je=nt*xt,Et=nt*J,Nt=st.wc,Tt=Ye<Et?mt(st,Me,je):null;t(Ye<=Je),t(J<=xt),t(be(st));t:for(;;){for(;!Xe.h&&Ye<Et;){if(Me&Nt||(Tt=mt(st,Me,je)),t(Tt!=null),G(Xe),256>(xt=ze(Tt.G[0],Tt.H[0],Xe)))Ne[ot+Ye]=xt,++Ye,++Me>=nt&&(Me=0,++je<=J&&!(je%16)&&Ae(_e,je));else{if(!(280>xt)){Pt=0;break t}xt=Dr(xt-256,Xe);var nr,Qt=ze(Tt.G[4],Tt.H[4],Xe);if(G(Xe),!(Ye>=(Qt=sr(nt,Qt=Dr(Qt,Xe)))&&Je-Ye>=xt)){Pt=0;break t}for(nr=0;nr<xt;++nr)Ne[ot+Ye+nr]=Ne[ot+Ye+nr-Qt];for(Ye+=xt,Me+=xt;Me>=nt;)Me-=nt,++je<=J&&!(je%16)&&Ae(_e,je);Ye<Et&&Me&Nt&&(Tt=mt(st,Me,je))}t(Xe.h==Z(Xe))}Ae(_e,je>J?J:je);break t}!Pt||Xe.h&&Ye<Je?(Pt=0,_e.a=Xe.h?5:3):_e.$=Ye,J=Pt}else J=Te(_e,_e.V,_e.Ba,_e.c,_e.i,J,et);if(!J){ue=0;break e}}ae+ue>=xe&&(W.Cc=1),ue=1}if(!ue)return null;if(W.Cc&&((ue=W.ga)!=null&&(ue.mc=null),W.ga=null,0<W.Ga))return alert("todo:WebPDequantizeLevels"),null}return W.nb+ae*me}function ee(W,J,ae,ue,me,xe){for(;0<me--;){var _e,Ne=W,je=J+(ae?1:0),Me=W,Xe=J+(ae?0:3);for(_e=0;_e<ue;++_e){var st=Me[Xe+4*_e];st!=255&&(st*=32897,Ne[je+4*_e+0]=Ne[je+4*_e+0]*st>>23,Ne[je+4*_e+1]=Ne[je+4*_e+1]*st>>23,Ne[je+4*_e+2]=Ne[je+4*_e+2]*st>>23)}J+=xe}}function ye(W,J,ae,ue,me){for(;0<ue--;){var xe;for(xe=0;xe<ae;++xe){var _e=W[J+2*xe+0],Ne=15&(Me=W[J+2*xe+1]),je=4369*Ne,Me=(240&Me|Me>>4)*je>>16;W[J+2*xe+0]=(240&_e|_e>>4)*je>>16&240|(15&_e|_e<<4)*je>>16>>4&15,W[J+2*xe+1]=240&Me|Ne}J+=me}}function Le(W,J,ae,ue,me,xe,_e,Ne){var je,Me,Xe=255;for(Me=0;Me<me;++Me){for(je=0;je<ue;++je){var st=W[J+je];xe[_e+4*je]=st,Xe&=st}J+=ae,_e+=Ne}return Xe!=255}function Ge(W,J,ae,ue,me){var xe;for(xe=0;xe<me;++xe)ae[ue+xe]=W[J+xe]>>8}function at(){Ga=ee,Pn=ye,vn=Le,di=Ge}function kt(W,J,ae){A[W]=function(ue,me,xe,_e,Ne,je,Me,Xe,st,ot,nt,Pt,xt,Ye,Je,Et,Nt){var Tt,nr=Nt-1>>1,Qt=Ne[je+0]|Me[Xe+0]<<16,jr=st[ot+0]|nt[Pt+0]<<16;t(ue!=null);var tr=3*Qt+jr+131074>>2;for(J(ue[me+0],255&tr,tr>>16,xt,Ye),xe!=null&&(tr=3*jr+Qt+131074>>2,J(xe[_e+0],255&tr,tr>>16,Je,Et)),Tt=1;Tt<=nr;++Tt){var on=Ne[je+Tt]|Me[Xe+Tt]<<16,ln=st[ot+Tt]|nt[Pt+Tt]<<16,an=Qt+on+jr+ln+524296,Wr=an+2*(on+jr)>>3;tr=Wr+Qt>>1,Qt=(an=an+2*(Qt+ln)>>3)+on>>1,J(ue[me+2*Tt-1],255&tr,tr>>16,xt,Ye+(2*Tt-1)*ae),J(ue[me+2*Tt-0],255&Qt,Qt>>16,xt,Ye+(2*Tt-0)*ae),xe!=null&&(tr=an+jr>>1,Qt=Wr+ln>>1,J(xe[_e+2*Tt-1],255&tr,tr>>16,Je,Et+(2*Tt-1)*ae),J(xe[_e+2*Tt+0],255&Qt,Qt>>16,Je,Et+(2*Tt+0)*ae)),Qt=on,jr=ln}1&Nt||(tr=3*Qt+jr+131074>>2,J(ue[me+Nt-1],255&tr,tr>>16,xt,Ye+(Nt-1)*ae),xe!=null&&(tr=3*jr+Qt+131074>>2,J(xe[_e+Nt-1],255&tr,tr>>16,Je,Et+(Nt-1)*ae)))}}function Bt(){Ka[zh]=y2,Ka[tc]=rc,Ka[P1]=v2,Ka[xd]=uf,Ka[wd]=Vc,Ka[Mn]=Ed,Ka[qh]=Kp,Ka[of]=rc,Ka[qc]=uf,Ka[_d]=Vc,Ka[Sd]=Ed}function rr(W){return W&-16384?0>W?0:255:W>>nc}function Nr(W,J){return rr((19077*W>>8)+(26149*J>>8)-14234)}function qr(W,J,ae){return rr((19077*W>>8)-(6419*J>>8)-(13320*ae>>8)+8708)}function zr(W,J){return rr((19077*W>>8)+(33050*J>>8)-17685)}function en(W,J,ae,ue,me){ue[me+0]=Nr(W,ae),ue[me+1]=qr(W,J,ae),ue[me+2]=zr(W,J)}function ti(W,J,ae,ue,me){ue[me+0]=zr(W,J),ue[me+1]=qr(W,J,ae),ue[me+2]=Nr(W,ae)}function ui(W,J,ae,ue,me){var xe=qr(W,J,ae);J=xe<<3&224|zr(W,J)>>3,ue[me+0]=248&Nr(W,ae)|xe>>5,ue[me+1]=J}function Si(W,J,ae,ue,me){var xe=240&zr(W,J)|15;ue[me+0]=240&Nr(W,ae)|qr(W,J,ae)>>4,ue[me+1]=xe}function la(W,J,ae,ue,me){ue[me+0]=255,en(W,J,ae,ue,me+1)}function Di(W,J,ae,ue,me){ti(W,J,ae,ue,me),ue[me+3]=255}function fo(W,J,ae,ue,me){en(W,J,ae,ue,me),ue[me+3]=255}function ws(W,J){return 0>W?0:W>J?J:W}function Ds(W,J,ae){A[W]=function(ue,me,xe,_e,Ne,je,Me,Xe,st){for(var ot=Xe+(-2&st)*ae;Xe!=ot;)J(ue[me+0],xe[_e+0],Ne[je+0],Me,Xe),J(ue[me+1],xe[_e+0],Ne[je+0],Me,Xe+ae),me+=2,++_e,++je,Xe+=2*ae;1&st&&J(ue[me+0],xe[_e+0],Ne[je+0],Me,Xe)}}function Jl(W,J,ae){return ae==0?W==0?J==0?6:5:J==0?4:0:ae}function gd(W,J,ae,ue,me){switch(W>>>30){case 3:hl(J,ae,ue,me,0);break;case 2:fn(J,ae,ue,me);break;case 1:ua(J,ae,ue,me)}}function Xu(W,J){var ae,ue,me=J.M,xe=J.Nb,_e=W.oc,Ne=W.pc+40,je=W.oc,Me=W.pc+584,Xe=W.oc,st=W.pc+600;for(ae=0;16>ae;++ae)_e[Ne+32*ae-1]=129;for(ae=0;8>ae;++ae)je[Me+32*ae-1]=129,Xe[st+32*ae-1]=129;for(0<me?_e[Ne-1-32]=je[Me-1-32]=Xe[st-1-32]=129:(i(_e,Ne-32-1,127,21),i(je,Me-32-1,127,9),i(Xe,st-32-1,127,9)),ue=0;ue<W.za;++ue){var ot=J.ya[J.aa+ue];if(0<ue){for(ae=-1;16>ae;++ae)n(_e,Ne+32*ae-4,_e,Ne+32*ae+12,4);for(ae=-1;8>ae;++ae)n(je,Me+32*ae-4,je,Me+32*ae+4,4),n(Xe,st+32*ae-4,Xe,st+32*ae+4,4)}var nt=W.Gd,Pt=W.Hd+ue,xt=ot.ad,Ye=ot.Hc;if(0<me&&(n(_e,Ne-32,nt[Pt].y,0,16),n(je,Me-32,nt[Pt].f,0,8),n(Xe,st-32,nt[Pt].ea,0,8)),ot.Za){var Je=_e,Et=Ne-32+16;for(0<me&&(ue>=W.za-1?i(Je,Et,nt[Pt].y[15],4):n(Je,Et,nt[Pt+1].y,0,4)),ae=0;4>ae;ae++)Je[Et+128+ae]=Je[Et+256+ae]=Je[Et+384+ae]=Je[Et+0+ae];for(ae=0;16>ae;++ae,Ye<<=2)Je=_e,Et=Ne+Yp[ae],$s[ot.Ob[ae]](Je,Et),gd(Ye,xt,16*+ae,Je,Et)}else if(Je=Jl(ue,me,ot.Ob[0]),Ca[Je](_e,Ne),Ye!=0)for(ae=0;16>ae;++ae,Ye<<=2)gd(Ye,xt,16*+ae,_e,Ne+Yp[ae]);for(ae=ot.Gc,Je=Jl(ue,me,ot.Dd),Xa[Je](je,Me),Xa[Je](Xe,st),Ye=xt,Je=je,Et=Me,255&(ot=ae>>0)&&(170&ot?pl(Ye,256,Je,Et):_s(Ye,256,Je,Et)),ot=Xe,Ye=st,255&(ae>>=8)&&(170&ae?pl(xt,320,ot,Ye):_s(xt,320,ot,Ye)),me<W.Ub-1&&(n(nt[Pt].y,0,_e,Ne+480,16),n(nt[Pt].f,0,je,Me+224,8),n(nt[Pt].ea,0,Xe,st+224,8)),ae=8*xe*W.B,nt=W.sa,Pt=W.ta+16*ue+16*xe*W.R,xt=W.qa,ot=W.ra+8*ue+ae,Ye=W.Ha,Je=W.Ia+8*ue+ae,ae=0;16>ae;++ae)n(nt,Pt+ae*W.R,_e,Ne+32*ae,16);for(ae=0;8>ae;++ae)n(xt,ot+ae*W.B,je,Me+32*ae,8),n(Ye,Je+ae*W.B,Xe,st+32*ae,8)}}function Rc(W,J,ae,ue,me,xe,_e,Ne,je){var Me=[0],Xe=[0],st=0,ot=je!=null?je.kd:0,nt=je??new Kl;if(W==null||12>ae)return 7;nt.data=W,nt.w=J,nt.ha=ae,J=[J],ae=[ae],nt.gb=[nt.gb];e:{var Pt=J,xt=ae,Ye=nt.gb;if(t(W!=null),t(xt!=null),t(Ye!=null),Ye[0]=0,12<=xt[0]&&!e(W,Pt[0],"RIFF")){if(e(W,Pt[0]+8,"WEBP")){Ye=3;break e}var Je=oe(W,Pt[0]+4);if(12>Je||4294967286<Je){Ye=3;break e}if(ot&&Je>xt[0]-8){Ye=7;break e}Ye[0]=Je,Pt[0]+=12,xt[0]-=12}Ye=0}if(Ye!=0)return Ye;for(Je=0<nt.gb[0],ae=ae[0];;){e:{var Et=W;xt=J,Ye=ae;var Nt=Me,Tt=Xe,nr=Pt=[0];if((tr=st=[st])[0]=0,8>Ye[0])Ye=7;else{if(!e(Et,xt[0],"VP8X")){if(oe(Et,xt[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var Qt=oe(Et,xt[0]+8),jr=1+re(Et,xt[0]+12);if(2147483648<=jr*(Et=1+re(Et,xt[0]+15))){Ye=3;break e}nr!=null&&(nr[0]=Qt),Nt!=null&&(Nt[0]=jr),Tt!=null&&(Tt[0]=Et),xt[0]+=18,Ye[0]-=18,tr[0]=1}Ye=0}}if(st=st[0],Pt=Pt[0],Ye!=0)return Ye;if(xt=!!(2&Pt),!Je&&st)return 3;if(xe!=null&&(xe[0]=!!(16&Pt)),_e!=null&&(_e[0]=xt),Ne!=null&&(Ne[0]=0),_e=Me[0],Pt=Xe[0],st&&xt&&je==null){Ye=0;break}if(4>ae){Ye=7;break}if(Je&&st||!Je&&!st&&!e(W,J[0],"ALPH")){ae=[ae],nt.na=[nt.na],nt.P=[nt.P],nt.Sa=[nt.Sa];e:{Qt=W,Ye=J,Je=ae;var tr=nt.gb;Nt=nt.na,Tt=nt.P,nr=nt.Sa,jr=22,t(Qt!=null),t(Je!=null),Et=Ye[0];var on=Je[0];for(t(Nt!=null),t(nr!=null),Nt[0]=null,Tt[0]=null,nr[0]=0;;){if(Ye[0]=Et,Je[0]=on,8>on){Ye=7;break e}var ln=oe(Qt,Et+4);if(4294967286<ln){Ye=3;break e}var an=8+ln+1&-2;if(jr+=an,0<tr&&jr>tr){Ye=3;break e}if(!e(Qt,Et,"VP8 ")||!e(Qt,Et,"VP8L")){Ye=0;break e}if(on[0]<an){Ye=7;break e}e(Qt,Et,"ALPH")||(Nt[0]=Qt,Tt[0]=Et+8,nr[0]=ln),Et+=an,on-=an}}if(ae=ae[0],nt.na=nt.na[0],nt.P=nt.P[0],nt.Sa=nt.Sa[0],Ye!=0)break}ae=[ae],nt.Ja=[nt.Ja],nt.xa=[nt.xa];e:if(tr=W,Ye=J,Je=ae,Nt=nt.gb[0],Tt=nt.Ja,nr=nt.xa,Qt=Ye[0],Et=!e(tr,Qt,"VP8 "),jr=!e(tr,Qt,"VP8L"),t(tr!=null),t(Je!=null),t(Tt!=null),t(nr!=null),8>Je[0])Ye=7;else{if(Et||jr){if(tr=oe(tr,Qt+4),12<=Nt&&tr>Nt-12){Ye=3;break e}if(ot&&tr>Je[0]-8){Ye=7;break e}Tt[0]=tr,Ye[0]+=8,Je[0]-=8,nr[0]=jr}else nr[0]=5<=Je[0]&&tr[Qt+0]==47&&!(tr[Qt+4]>>5),Tt[0]=Je[0];Ye=0}if(ae=ae[0],nt.Ja=nt.Ja[0],nt.xa=nt.xa[0],J=J[0],Ye!=0)break;if(4294967286<nt.Ja)return 3;if(Ne==null||xt||(Ne[0]=nt.xa?2:1),_e=[_e],Pt=[Pt],nt.xa){if(5>ae){Ye=7;break}Ne=_e,ot=Pt,xt=xe,W==null||5>ae?W=0:5<=ae&&W[J+0]==47&&!(W[J+4]>>5)?(Je=[0],tr=[0],Nt=[0],E(Tt=new B,W,J,ae),Vt(Tt,Je,tr,Nt)?(Ne!=null&&(Ne[0]=Je[0]),ot!=null&&(ot[0]=tr[0]),xt!=null&&(xt[0]=Nt[0]),W=1):W=0):W=0}else{if(10>ae){Ye=7;break}Ne=Pt,W==null||10>ae||!nn(W,J+3,ae-3)?W=0:(ot=W[J+0]|W[J+1]<<8|W[J+2]<<16,xt=16383&(W[J+7]<<8|W[J+6]),W=16383&(W[J+9]<<8|W[J+8]),1&ot||3<(ot>>1&7)||!(ot>>4&1)||ot>>5>=nt.Ja||!xt||!W?W=0:(_e&&(_e[0]=xt),Ne&&(Ne[0]=W),W=1))}if(!W||(_e=_e[0],Pt=Pt[0],st&&(Me[0]!=_e||Xe[0]!=Pt)))return 3;je!=null&&(je[0]=nt,je.offset=J-je.w,t(4294967286>J-je.w),t(je.offset==je.ha-ae));break}return Ye==0||Ye==7&&st&&je==null?(xe!=null&&(xe[0]|=nt.na!=null&&0<nt.na.length),ue!=null&&(ue[0]=_e),me!=null&&(me[0]=Pt),0):Ye}function Ku(W,J,ae){var ue=J.width,me=J.height,xe=0,_e=0,Ne=ue,je=me;if(J.Da=W!=null&&0<W.Da,J.Da&&(Ne=W.cd,je=W.bd,xe=W.v,_e=W.j,11>ae||(xe&=-2,_e&=-2),0>xe||0>_e||0>=Ne||0>=je||xe+Ne>ue||_e+je>me))return 0;if(J.v=xe,J.j=_e,J.va=xe+Ne,J.o=_e+je,J.U=Ne,J.T=je,J.da=W!=null&&0<W.da,J.da){if(!de(Ne,je,ae=[W.ib],xe=[W.hb]))return 0;J.ib=ae[0],J.hb=xe[0]}return J.ob=W!=null&&W.ob,J.Kb=W==null||!W.Sd,J.da&&(J.ob=J.ib<3*ue/4&&J.hb<3*me/4,J.Kb=0),1}function Yu(W){if(W==null)return 2;if(11>W.S){var J=W.f.RGBA;J.fb+=(W.height-1)*J.A,J.A=-J.A}else J=W.f.kb,W=W.height,J.O+=(W-1)*J.fa,J.fa=-J.fa,J.N+=(W-1>>1)*J.Ab,J.Ab=-J.Ab,J.W+=(W-1>>1)*J.Db,J.Db=-J.Db,J.F!=null&&(J.J+=(W-1)*J.lb,J.lb=-J.lb);return 0}function Fc(W,J,ae,ue){if(ue==null||0>=W||0>=J)return 2;if(ae!=null){if(ae.Da){var me=ae.cd,xe=ae.bd,_e=-2&ae.v,Ne=-2&ae.j;if(0>_e||0>Ne||0>=me||0>=xe||_e+me>W||Ne+xe>J)return 2;W=me,J=xe}if(ae.da){if(!de(W,J,me=[ae.ib],xe=[ae.hb]))return 2;W=me[0],J=xe[0]}}ue.width=W,ue.height=J;e:{var je=ue.width,Me=ue.height;if(W=ue.S,0>=je||0>=Me||!(W>=zh&&13>W))W=2;else{if(0>=ue.Rd&&ue.sd==null){_e=xe=me=J=0;var Xe=(Ne=je*jd[W])*Me;if(11>W||(xe=(Me+1)/2*(J=(je+1)/2),W==12&&(_e=(me=je)*Me)),(Me=a(Xe+2*xe+_e))==null){W=1;break e}ue.sd=Me,11>W?((je=ue.f.RGBA).eb=Me,je.fb=0,je.A=Ne,je.size=Xe):((je=ue.f.kb).y=Me,je.O=0,je.fa=Ne,je.Fd=Xe,je.f=Me,je.N=0+Xe,je.Ab=J,je.Cd=xe,je.ea=Me,je.W=0+Xe+xe,je.Db=J,je.Ed=xe,W==12&&(je.F=Me,je.J=0+Xe+2*xe),je.Tc=_e,je.lb=me)}if(J=1,me=ue.S,xe=ue.width,_e=ue.height,me>=zh&&13>me)if(11>me)W=ue.f.RGBA,J&=(Ne=Math.abs(W.A))*(_e-1)+xe<=W.size,J&=Ne>=xe*jd[me],J&=W.eb!=null;else{W=ue.f.kb,Ne=(xe+1)/2,Xe=(_e+1)/2,je=Math.abs(W.fa),Me=Math.abs(W.Ab);var st=Math.abs(W.Db),ot=Math.abs(W.lb),nt=ot*(_e-1)+xe;J&=je*(_e-1)+xe<=W.Fd,J&=Me*(Xe-1)+Ne<=W.Cd,J=(J&=st*(Xe-1)+Ne<=W.Ed)&je>=xe&Me>=Ne&st>=Ne,J&=W.y!=null,J&=W.f!=null,J&=W.ea!=null,me==12&&(J&=ot>=xe,J&=nt<=W.Tc,J&=W.F!=null)}else J=0;W=J?0:2}}return W!=0||ae!=null&&ae.fd&&(W=Yu(ue)),W}var fi=64,Ju=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zu=24,Qu=32,ef=8,Ea=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ke("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(W){return W},A.Predictor2=function(W,J,ae){return J[ae+0]},A.Predictor3=function(W,J,ae){return J[ae+1]},A.Predictor4=function(W,J,ae){return J[ae-1]},A.Predictor5=function(W,J,ae){return Re(Re(W,J[ae+1]),J[ae+0])},A.Predictor6=function(W,J,ae){return Re(W,J[ae-1])},A.Predictor7=function(W,J,ae){return Re(W,J[ae+0])},A.Predictor8=function(W,J,ae){return Re(J[ae-1],J[ae+0])},A.Predictor9=function(W,J,ae){return Re(J[ae+0],J[ae+1])},A.Predictor10=function(W,J,ae){return Re(Re(W,J[ae-1]),Re(J[ae+0],J[ae+1]))},A.Predictor11=function(W,J,ae){var ue=J[ae+0];return 0>=Ue(ue>>24&255,W>>24&255,(J=J[ae-1])>>24&255)+Ue(ue>>16&255,W>>16&255,J>>16&255)+Ue(ue>>8&255,W>>8&255,J>>8&255)+Ue(255&ue,255&W,255&J)?ue:W},A.Predictor12=function(W,J,ae){var ue=J[ae+0];return(Ie((W>>24&255)+(ue>>24&255)-((J=J[ae-1])>>24&255))<<24|Ie((W>>16&255)+(ue>>16&255)-(J>>16&255))<<16|Ie((W>>8&255)+(ue>>8&255)-(J>>8&255))<<8|Ie((255&W)+(255&ue)-(255&J)))>>>0},A.Predictor13=function(W,J,ae){var ue=J[ae-1];return(qe((W=Re(W,J[ae+0]))>>24&255,ue>>24&255)<<24|qe(W>>16&255,ue>>16&255)<<16|qe(W>>8&255,ue>>8&255)<<8|qe(W>>0&255,ue>>0&255))>>>0};var Lc=A.PredictorAdd0;A.PredictorAdd1=vt,ke("Predictor2","PredictorAdd2"),ke("Predictor3","PredictorAdd3"),ke("Predictor4","PredictorAdd4"),ke("Predictor5","PredictorAdd5"),ke("Predictor6","PredictorAdd6"),ke("Predictor7","PredictorAdd7"),ke("Predictor8","PredictorAdd8"),ke("Predictor9","PredictorAdd9"),ke("Predictor10","PredictorAdd10"),ke("Predictor11","PredictorAdd11"),ke("Predictor12","PredictorAdd12"),ke("Predictor13","PredictorAdd13");var ul=A.PredictorAdd2;gt("ColorIndexInverseTransform","MapARGB","32b",function(W){return W>>8&255},function(W){return W}),gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(W){return W},function(W){return W>>8&255});var Uh,ja=A.ColorIndexInverseTransform,tf=A.MapARGB,yd=A.VP8LColorIndexInverseTransformAlpha,rf=A.MapAlpha,Ro=A.VP8LPredictorsAdd=[];Ro.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var Zl,Aa,ca,Ql,fl,dl,nf,hl,fn,pl,ua,_s,Dc,vd,Bc,$c,Uc,Ss,ml,Fo,gl,yl,ec,Yi,Ga,Pn,vn,di,ki=a(511),Lo=a(2041),af=a(225),zc=a(767),bd=0,Do=Lo,sf=af,Ta=zc,Bs=ki,zh=0,tc=1,P1=2,xd=3,wd=4,Mn=5,qh=6,of=7,qc=8,_d=9,Sd=10,kd=[2,3,7],Hh=[3,3,11],Hc=[280,256,256,256,40],M1=[0,1,1,1,0],h2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],p2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],I1=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Wh=8,lf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wc=null,Vp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Gp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],R1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],F1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],m2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],g2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ca=[],$s=[],Xa=[],Bo=1,cf=2,fa=[],Ka=[];kt("UpsampleRgbLinePair",en,3),kt("UpsampleBgrLinePair",ti,3),kt("UpsampleRgbaLinePair",fo,4),kt("UpsampleBgraLinePair",Di,4),kt("UpsampleArgbLinePair",la,4),kt("UpsampleRgba4444LinePair",Si,2),kt("UpsampleRgb565LinePair",ui,2);var y2=A.UpsampleRgbLinePair,v2=A.UpsampleBgrLinePair,rc=A.UpsampleRgbaLinePair,uf=A.UpsampleBgraLinePair,Vc=A.UpsampleArgbLinePair,Ed=A.UpsampleRgba4444LinePair,Kp=A.UpsampleRgb565LinePair,vl=16,ho=1<<vl-1,bn=-227,En=482,nc=6,Ji=0,Ya=a(256),Gc=a(256),ff=a(256),Ja=a(256),Vh=a(En-bn),L1=a(En-bn);Ds("YuvToRgbRow",en,3),Ds("YuvToBgrRow",ti,3),Ds("YuvToRgbaRow",fo,4),Ds("YuvToBgraRow",Di,4),Ds("YuvToArgbRow",la,4),Ds("YuvToRgba4444Row",Si,2),Ds("YuvToRgb565Row",ui,2);var Yp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xc=[0,2,8],D1=[8,7,6,4,4,2,2,2,1,1,1,1],bl=1;this.WebPDecodeRGBA=function(W,J,ae,ue,me){var xe=tc,_e=new Io,Ne=new wr;_e.ba=Ne,Ne.S=xe,Ne.width=[Ne.width],Ne.height=[Ne.height];var je=Ne.width,Me=Ne.height,Xe=new br;if(Xe==null||W==null)var st=2;else t(Xe!=null),st=Rc(W,J,ae,Xe.width,Xe.height,Xe.Pd,Xe.Qd,Xe.format,null);if(st!=0?je=0:(je!=null&&(je[0]=Xe.width[0]),Me!=null&&(Me[0]=Xe.height[0]),je=1),je){Ne.width=Ne.width[0],Ne.height=Ne.height[0],ue!=null&&(ue[0]=Ne.width),me!=null&&(me[0]=Ne.height);e:{if(ue=new or,(me=new Kl).data=W,me.w=J,me.ha=ae,me.kd=1,J=[0],t(me!=null),((W=Rc(me.data,me.w,me.ha,null,null,null,J,null,me))==0||W==7)&&J[0]&&(W=4),(J=W)==0){if(t(_e!=null),ue.data=me.data,ue.w=me.w+me.offset,ue.ha=me.ha-me.offset,ue.put=Ur,ue.ac=Sr,ue.bc=dr,ue.ma=_e,me.xa){if((W=tt())==null){_e=1;break e}if(function(ot,nt){var Pt=[0],xt=[0],Ye=[0];t:for(;;){if(ot==null)return 0;if(nt==null)return ot.a=2,0;if(ot.l=nt,ot.a=0,E(ot.m,nt.data,nt.w,nt.ha),!Vt(ot.m,Pt,xt,Ye)){ot.a=3;break t}if(ot.xb=cf,nt.width=Pt[0],nt.height=xt[0],!We(Pt[0],xt[0],1,ot,null))break t;return 1}return t(ot.a!=0),0}(W,ue)){if(ue=(J=Fc(ue.width,ue.height,_e.Oa,_e.ba))==0){t:{ue=W;r:for(;;){if(ue==null){ue=0;break t}if(t(ue.s.yc!=null),t(ue.s.Ya!=null),t(0<ue.s.Wb),t((ae=ue.l)!=null),t((me=ae.ma)!=null),ue.xb!=0){if(ue.ca=me.ba,ue.tb=me.tb,t(ue.ca!=null),!Ku(me.Oa,ae,xd)){ue.a=2;break r}if(!it(ue,ae.width)||ae.da)break r;if((ae.da||Lt(ue.ca.S))&&at(),11>ue.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ue.ca.f.kb.F!=null&&at()),ue.Pb&&0<ue.s.ua&&ue.s.vb.X==null&&!se(ue.s.vb,ue.s.Wa.Xa)){ue.a=1;break r}ue.xb=0}if(!Te(ue,ue.V,ue.Ba,ue.c,ue.i,ae.o,Ce))break r;me.Dc=ue.Ma,ue=1;break t}t(ue.a!=0),ue=0}ue=!ue}ue&&(J=W.a)}else J=W.a}else{if((W=new Er)==null){_e=1;break e}if(W.Fa=me.na,W.P=me.P,W.qc=me.Sa,Nn(W,ue)){if((J=Fc(ue.width,ue.height,_e.Oa,_e.ba))==0){if(W.Aa=0,ae=_e.Oa,t((me=W)!=null),ae!=null){if(0<(je=0>(je=ae.Md)?0:100<je?255:255*je/100)){for(Me=Xe=0;4>Me;++Me)12>(st=me.pb[Me]).lc&&(st.ia=je*D1[0>st.lc?0:st.lc]>>3),Xe|=st.ia;Xe&&(alert("todo:VP8InitRandom"),me.ia=1)}me.Ga=ae.Id,100<me.Ga?me.Ga=100:0>me.Ga&&(me.Ga=0)}Ti(W,ue)||(J=W.a)}}else J=W.a}J==0&&_e.Oa!=null&&_e.Oa.fd&&(J=Yu(_e.ba))}_e=J}xe=_e!=0?null:11>xe?Ne.f.RGBA.eb:Ne.f.kb.y}else xe=null;return xe};var jd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function o(A,F){for(var H="",z=0;z<4;z++)H+=String.fromCharCode(A[F++]);return H}function u(A,F){return(A[F+0]<<0|A[F+1]<<8|A[F+2]<<16)>>>0}function d(A,F){return(A[F+0]<<0|A[F+1]<<8|A[F+2]<<16|A[F+3]<<24)>>>0}new c;var f=[0],h=[0],y=[],m=new c,g=r,v=function(A,F){var H={},z=0,U=!1,O=0,L=0;if(H.frames=[],!function(K,Z,ne,G){for(var te=0;te<G;te++)if(K[Z+te]!=ne.charCodeAt(te))return!0;return!1}(A,F,"RIFF",4)){for(d(A,F+=4),F+=8;F<A.length;){var C=o(A,F),k=d(A,F+=4);F+=4;var j=k+(1&k);switch(C){case"VP8 ":case"VP8L":H.frames[z]===void 0&&(H.frames[z]={}),(R=H.frames[z]).src_off=U?L:F-8,R.src_size=O+k+8,z++,U&&(U=!1,O=0,L=0);break;case"VP8X":(R=H.header={}).feature_flags=A[F];var E=F+4;R.canvas_width=1+u(A,E),E+=3,R.canvas_height=1+u(A,E),E+=3;break;case"ALPH":U=!0,O=j+8,L=F-8;break;case"ANIM":(R=H.header).bgcolor=d(A,F),E=F+4,R.loop_count=(V=A)[(B=E)+0]<<0|V[B+1]<<8,E+=2;break;case"ANMF":var T,R;(R=H.frames[z]={}).offset_x=2*u(A,F),F+=3,R.offset_y=2*u(A,F),F+=3,R.width=1+u(A,F),F+=3,R.height=1+u(A,F),F+=3,R.duration=u(A,F),F+=3,T=A[F++],R.dispose=1&T,R.blend=T>>1&1}C!="ANMF"&&(F+=j)}var V,B;return H}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,w=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],h=[b.canvas_width];for(var _=0;_<w.length&&w[_].blend!=0;_++);}var N=w[0],P=m.WebPDecodeRGBA(g,N.src_off,N.src_size,h,f);N.rgba=P,N.imgwidth=h[0],N.imgheight=f[0];for(var M=0;M<h[0]*f[0]*4;M++)y[M]=P[M];return this.width=h,this.height=f,this.data=y,this}(function(r){var t=function(){return typeof z6=="function"},e=function(f,h,y,m){var g=4,v=s;switch(m){case r.image_compression.FAST:g=1,v=a;break;case r.image_compression.MEDIUM:g=6,v=l;break;case r.image_compression.SLOW:g=9,v=c}f=n(f,h,y,v);var b=z6(f,{level:g});return r.__addimage__.arrayBufferToBinaryString(b)},n=function(f,h,y,m){for(var g,v,b,w=f.length/h,_=new Uint8Array(f.length+w),N=u(),P=0;P<w;P+=1){if(b=P*h,g=f.subarray(b,b+h),m)_.set(m(g,y,v),b+P);else{for(var M,A=N.length,F=[];M<A;M+=1)F[M]=N[M](g,y,v);var H=d(F.concat());_.set(F[H],b+P)}v=g}return _},i=function(f){var h=Array.apply([],f);return h.unshift(0),h},a=function(f,h){var y,m=[],g=f.length;m[0]=1;for(var v=0;v<g;v+=1)y=f[v-h]||0,m[v+1]=f[v]-y+256&255;return m},s=function(f,h,y){var m,g=[],v=f.length;g[0]=2;for(var b=0;b<v;b+=1)m=y&&y[b]||0,g[b+1]=f[b]-m+256&255;return g},l=function(f,h,y){var m,g,v=[],b=f.length;v[0]=3;for(var w=0;w<b;w+=1)m=f[w-h]||0,g=y&&y[w]||0,v[w+1]=f[w]+256-(m+g>>>1)&255;return v},c=function(f,h,y){var m,g,v,b,w=[],_=f.length;w[0]=4;for(var N=0;N<_;N+=1)m=f[N-h]||0,g=y&&y[N]||0,v=y&&y[N-h]||0,b=o(m,g,v),w[N+1]=f[N]-b+256&255;return w},o=function(f,h,y){if(f===h&&h===y)return f;var m=Math.abs(h-y),g=Math.abs(f-y),v=Math.abs(f+h-y-y);return m<=g&&m<=v?f:g<=v?h:y},u=function(){return[i,a,s,l,c]},d=function(f){var h=f.map(function(y){return y.reduce(function(m,g){return m+Math.abs(g)},0)});return h.indexOf(Math.min.apply(null,h))};r.processPNG=function(f,h,y,m){var g,v,b,w,_,N,P,M,A,F,H,z,U,O,L,C=this.decode.FLATE_DECODE,k="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(b=new TG(f)).imgData,v=b.bits,g=b.colorSpace,_=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){A=(M=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,H=new Uint8Array(A*b.colors),F=new Uint8Array(A);var j,E=b.pixelBitlength-b.bits;for(O=0,L=0;O<A;O++){for(U=M[O],j=0;j<E;)H[L++]=U>>>j&255,j+=b.bits;F[O]=U>>>j&255}}if(b.bits===16){A=(M=new Uint32Array(b.decodePixels().buffer)).length,H=new Uint8Array(A*(32/b.pixelBitlength)*b.colors),F=new Uint8Array(A*(32/b.pixelBitlength)),z=b.colors>1,O=0,L=0;for(var T=0;O<A;)U=M[O++],H[L++]=U>>>0&255,z&&(H[L++]=U>>>16&255,U=M[O++],H[L++]=U>>>0&255),F[T++]=U>>>16&255;v=8}m!==r.image_compression.NONE&&t()?(f=e(H,b.width*b.colors,b.colors,m),P=e(F,b.width,1,m)):(f=H,P=F,C=void 0)}if(b.colorType===3&&(g=this.color_spaces.INDEXED,N=b.palette,b.transparency.indexed)){var R=b.transparency.indexed,V=0;for(O=0,A=R.length;O<A;++O)V+=R[O];if((V/=255)===A-1&&R.indexOf(0)!==-1)w=[R.indexOf(0)];else if(V!==A){for(M=b.decodePixels(),F=new Uint8Array(M.length),O=0,A=M.length;O<A;O++)F[O]=R[M[O]];P=e(F,b.width,1)}}var B=function(K){var Z;switch(K){case r.image_compression.FAST:Z=11;break;case r.image_compression.MEDIUM:Z=13;break;case r.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(m);return C===this.decode.FLATE_DECODE&&(k="/Predictor "+B+" "),k+="/Colors "+_+" /BitsPerComponent "+v+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(P&&this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),{alias:y,data:f,index:h,filter:C,decodeParameters:k,transparency:w,palette:N,sMask:P,predictor:B,width:b.width,height:b.height,bitsPerComponent:v,colorSpace:g}}}})(Pr.API),function(r){r.processGIF89A=function(t,e,n,i){var a=new CG(t),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var o={data:c,width:s,height:l},u=new Nw(100).encode(o,100);return r.processJPEG.call(this,u,e,n,i)},r.processGIF87A=r.processGIF89A}(Pr.API),Al.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var t=0;t<r;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:e,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Al.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[r]()}catch(e){Wn.log("bit decode error:"+e)}},Al.prototype.bit1=function(){var r,t=Math.ceil(this.width/8),e=t%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}e!==0&&(this.pos+=4-e)}},Al.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),t=r%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<r;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,l=a>>4,c=15&a,o=this.palette[l];if(this.data[s]=o.blue,this.data[s+1]=o.green,this.data[s+2]=o.red,this.data[s+3]=255,2*i+1>=this.width)break;o=this.palette[c],this.data[s+4]=o.blue,this.data[s+4+1]=o.green,this.data[s+4+2]=o.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Al.prototype.bit8=function(){for(var r=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}r!==0&&(this.pos+=4-r)}},Al.prototype.bit15=function(){for(var r=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,o=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=s,this.data[u+3]=o}this.pos+=r}},Al.prototype.bit16=function(){for(var r=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,c=(s>>5&e)/e*255|0,o=(s>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=o,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=r}},Al.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*e;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Al.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*e;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=s}},Al.prototype.getData=function(){return this.data},function(r){r.processBMP=function(t,e,n,i){var a=new Al(t,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},o=new Nw(100).encode(c,100);return r.processJPEG.call(this,o,e,n,i)}}(Pr.API),A7.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(t,e,n,i){var a=new A7(t),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},o=new Nw(100).encode(c,100);return r.processJPEG.call(this,o,e,n,i)}}(Pr.API),Pr.API.processRGBA=function(r,t,e){for(var n=r.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,o=0;o<i;o+=4){var u=n[o],d=n[o+1],f=n[o+2],h=n[o+3];a[l++]=u,a[l++]=d,a[l++]=f,s[c++]=h}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Pr.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},d0=Pr.API,_y=d0.getCharWidthsArray=function(r,t){var e,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,o=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=o.fof?o.fof:1,d=t.doKerning!==!1,f=0,h=r.length,y=0,m=l[0]||c,g=[];for(e=0;e<h;e++)n=r.charCodeAt(e),typeof i.metadata.widthOfString=="function"?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(f=d&&Ln(o[n])==="object"&&!isNaN(parseInt(o[n][y],10))?o[n][y]/u:0,g.push((l[n]||m)/c+f)),y=n;return g},k7=d0.getStringUnitWidth=function(r,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return d0.processArabic&&(r=d0.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,e,i)/e:_y.apply(this,arguments).reduce(function(a,s){return a+s},0)},N7=function(r,t,e,n){for(var i=[],a=0,s=r.length,l=0;a!==s&&l+t[a]<e;)l+=t[a],a++;i.push(r.slice(0,a));var c=a;for(l=0;a!==s;)l+t[a]>n&&(i.push(r.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(r.slice(c,a)),i},E7=function(r,t,e){e||(e={});var n,i,a,s,l,c,o,u=[],d=[u],f=e.textIndent||0,h=0,y=0,m=r.split(" "),g=_y.apply(this,[" ",e])[0];if(c=e.lineIndent===-1?m[0].length+2:e.lineIndent||0){var v=Array(c).join(" "),b=[];m.map(function(_){(_=_.split(/\s*\n/)).length>1?b=b.concat(_.map(function(N,P){return(P&&N.length?`
`:"")+N})):b.push(_[0])}),m=b,c=k7.apply(this,[v,e])}for(a=0,s=m.length;a<s;a++){var w=0;if(n=m[a],c&&n[0]==`
`&&(n=n.substr(1),w=1),f+h+(y=(i=_y.apply(this,[n,e])).reduce(function(_,N){return _+N},0))>t||w){if(y>t){for(l=N7.apply(this,[n,i,t-(f+h),t]),u.push(l.shift()),u=[l.pop()];l.length;)d.push([l.shift()]);y=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(_,N){return _+N},0)}else u=[n];d.push(u),f=y+c,h=g}else u.push(n),f+=h+y,h=g}return o=c?function(_,N){return(N?v:"")+_.join(" ")}:function(_){return _.join(" ")},d.map(o)},d0.splitTextToSize=function(r,t,e){var n,i=(e=e||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=e.lineIndent;var l,c,o=[];for(l=0,c=n.length;l<c;l++)o=o.concat(E7.apply(this,[n[l],s,a]));return o},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},n={},i=0;i<t.length;i++)e[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var a=function(d){return"0x"+parseInt(d,10).toString(16)},s=r.__fontmetrics__.compress=function(d){var f,h,y,m,g=["{"];for(var v in d){if(f=d[v],isNaN(parseInt(v,10))?h="'"+v+"'":(v=parseInt(v,10),h=(h=a(v).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof f=="number")f<0?(y=a(f).slice(3),m="-"):(y=a(f).slice(2),m=""),y=m+y.slice(0,-1)+n[y.slice(-1)];else{if(Ln(f)!=="object")throw new Error("Don't know what to do with value type "+Ln(f)+".");y=s(f)}g.push(h+y)}return g.push("}"),g.join("")},l=r.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,y,m,g={},v=1,b=g,w=[],_="",N="",P=d.length-1,M=1;M<P;M+=1)(m=d[M])=="'"?f?(y=f.join(""),f=void 0):f=[]:f?f.push(m):m=="{"?(w.push([b,y]),b={},y=void 0):m=="}"?((h=w.pop())[0][h[1]]=b,y=void 0,b=h[0]):m=="-"?v=-1:y===void 0?e.hasOwnProperty(m)?(_+=e[m],y=parseInt(_,16)*v,v=1,_=""):_+=m:e.hasOwnProperty(m)?(N+=e[m],b[y]=parseInt(N,16)*v,v=1,y=void 0,N=""):N+=m;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},o={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(d){var f=d.font,h=u.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var y=o.Unicode[f.postScriptName];y&&(f.metadata.Unicode.encoding=y,f.encoding=y.codePages[0])}])}(Pr.API),function(r){var t=function(e){for(var n=e.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=e.charCodeAt(a);return i};r.API.events.push(["addFont",function(e){var n=void 0,i=e.font,a=e.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Ym(l)),s.metadata=r.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(Pr),function(r){function t(){return(Fr.canvg?Promise.resolve(Fr.canvg):Oo(()=>import("./index.es-LxjGYvHw.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Pr.API.addSvgAsImage=function(e,n,i,a,s,l,c,o){if(isNaN(n)||isNaN(i))throw Wn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Wn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=a,u.height=s;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(y){return y.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(f)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),n,i,a,s,c,o)})}}(),Pr.API.putTotalPages=function(r){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(r,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,e);return this},Pr.API.viewerPreferences=function(r,t){var e;r=r||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],o=0,u=0,d=0;function f(y,m){var g,v=!1;for(g=0;g<y.length;g+=1)y[g]===m&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,r==="reset"||t===!0){var h=l.length;for(d=0;d<h;d+=1)e[l[d]].value=e[l[d]].defaultValue,e[l[d]].explicitSet=!1}if(Ln(r)==="object"){for(i in r)if(a=r[i],f(l,i)&&a!==void 0){if(e[i].type==="boolean"&&typeof a=="boolean")e[i].value=a;else if(e[i].type==="name"&&f(e[i].valueSet,a))e[i].value=a;else if(e[i].type==="integer"&&Number.isInteger(a))e[i].value=a;else if(e[i].type==="array"){for(o=0;o<a.length;o+=1)if(n=!0,a[o].length===1&&typeof a[o][0]=="number")c.push(String(a[o]-1));else if(a[o].length>1){for(u=0;u<a[o].length;u+=1)typeof a[o][u]!="number"&&(n=!1);n===!0&&c.push([a[o][0]-1,a[o][1]-1].join(" "))}e[i].value="["+c.join(" ")+"]"}else e[i].value=e[i].defaultValue;e[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,m=[];for(y in e)e[y].explicitSet===!0&&(e[y].type==="name"?m.push("/"+y+" /"+e[y].value):m.push("/"+y+" "+e[y].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(r){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),o=a.length+s.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Pr.API),function(r){var t=r.API,e=t.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,o=["","0","00","000","0000"],u=[""],d=0,f=a.length;d<f;++d){if(l=s.metadata.characterToGlyph(a.charCodeAt(d)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(d),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(o[4-l.length],l)}return u.join("")},n=function(a){var s,l,c,o,u,d,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],d=0,f=(l=Object.keys(a).sort(function(h,y){return h-y})).length;d<f;d++)s=l[d],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(o=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+o+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,o=s.newObject,u=s.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="Identity-H"){for(var d=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",y=0;y<f.length;y++)h+=String.fromCharCode(f[y]);var m=o();u({data:h,addLength1:!0,objectId:m}),c("endobj");var g=o();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=o();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+j0(l.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=o();c("<<"),c("/Type /Font"),c("/BaseFont /"+j0(l.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+r.API.PDFObject.convert(d)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=o(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+j0(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,o=s.newObject,u=s.putStream;if(l.metadata instanceof r.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var d=l.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var y=o();u({data:f,addLength1:!0,objectId:y}),c("endobj");var m=o();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var g=o();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+j0(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=o();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+j0(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,o=a.y,u=a.options||{},d=a.mutex||{},f=d.pdfEscape,h=d.activeFontKey,y=d.fonts,m=h,g="",v=0,b="",w=y[m].encoding;if(y[m].encoding!=="Identity-H")return{text:l,x:c,y:o,options:u,mutex:d};for(b=l,m=h,Array.isArray(l)&&(b=l[0]),v=0;v<b.length;v+=1)y[m].metadata.hasOwnProperty("cmap")&&(s=y[m].metadata.cmap.unicode.codeMap[b[v].charCodeAt(0)]),s||b[v].charCodeAt(0)<256&&y[m].metadata.hasOwnProperty("Unicode")?g+=b[v]:g+="";var _="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?_=f(g,m).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(_=e(g,y[m])),d.isHex=!0,{text:_,x:c,y:o,options:u,mutex:d}};t.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var o=0;for(o=0;o<s.length;o+=1)Array.isArray(s[o])&&s[o].length===3?l.push([i(Object.assign({},c,{text:s[o][0]})).text,s[o][1],s[o][2]]):l.push(i(Object.assign({},c,{text:s[o]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])}(Pr),function(r){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},r.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},r.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Pr.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,a,s,l,c,o,u,d=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var _=function(z){var U=z.charCodeAt(),O=U>>8,L=m[O];return L!==void 0?d[256*L+(255&U)]:O===252||O===253?"AL":v.test(O)?"L":O===8?"R":"N"},N=function(z){for(var U,O=0;O<z.length;O++){if((U=_(z.charAt(O)))==="L")return!1;if(U==="R")return!0}return!1},P=function(z,U,O,L){var C,k,j,E,T=U[L];switch(T){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(T="AN");break;case"AL":b=!0,T="R";break;case"WS":T="N";break;case"CS":L<1||L+1>=U.length||(C=O[L-1])!=="EN"&&C!=="AN"||(k=U[L+1])!=="EN"&&k!=="AN"?T="N":b&&(k="AN"),T=k===C?k:"N";break;case"ES":T=(C=L>0?O[L-1]:"B")==="EN"&&L+1<U.length&&U[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&O[L-1]==="EN"){T="EN";break}if(b){T="N";break}for(j=L+1,E=U.length;j<E&&U[j]==="ET";)j++;T=j<E&&U[j]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(E=U.length,j=L+1;j<E&&U[j]==="NSM";)j++;if(j<E){var R=z[L],V=R>=1425&&R<=2303||R===64286;if(C=U[j],V&&(C==="R"||C==="AL")){T="R";break}}}T=L<1||(C=U[L-1])==="B"?"N":O[L-1];break;case"B":b=!1,i=!0,T=w;break;case"S":a=!0,T="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":T="N"}return T},M=function(z,U,O){var L=z.split("");return O&&A(L,O,{hiLevel:w}),L.reverse(),U&&U.reverse(),L.join("")},A=function(z,U,O){var L,C,k,j,E,T=-1,R=z.length,V=0,B=[],K=w?h:f,Z=[];for(b=!1,i=!1,a=!1,C=0;C<R;C++)Z[C]=_(z[C]);for(k=0;k<R;k++){if(E=V,B[k]=P(z,Z,B,k),L=240&(V=K[E][y[B[k]]]),V&=15,U[k]=j=K[V][5],L>0)if(L===16){for(C=T;C<k;C++)U[C]=1;T=-1}else T=-1;if(K[V][6])T===-1&&(T=k);else if(T>-1){for(C=T;C<k;C++)U[C]=j;T=-1}Z[k]==="B"&&(U[k]=0),O.hiLevel|=j}a&&function(ne,G,te){for(var I=0;I<te;I++)if(ne[I]==="S"){G[I]=w;for(var D=I-1;D>=0&&ne[D]==="WS";D--)G[D]=w}}(Z,U,R)},F=function(z,U,O,L,C){if(!(C.hiLevel<z)){if(z===1&&w===1&&!i)return U.reverse(),void(O&&O.reverse());for(var k,j,E,T,R=U.length,V=0;V<R;){if(L[V]>=z){for(E=V+1;E<R&&L[E]>=z;)E++;for(T=V,j=E-1;T<j;T++,j--)k=U[T],U[T]=U[j],U[j]=k,O&&(k=O[T],O[T]=O[j],O[j]=k);V=E}V++}}},H=function(z,U,O){var L=z.split(""),C={hiLevel:w};return O||(O=[]),A(L,O,C),function(k,j,E){if(E.hiLevel!==0&&u)for(var T,R=0;R<k.length;R++)j[R]===1&&(T=g.indexOf(k[R]))>=0&&(k[R]=g[T+1])}(L,O,C),F(2,L,U,O,C),F(1,L,U,O,C),L.join("")};return this.__bidiEngine__.doBidiReorder=function(z,U,O){if(function(C,k){if(k)for(var j=0;j<C.length;j++)k[j]=j;l===void 0&&(l=N(C)),o===void 0&&(o=N(C))}(z,U),s||!c||o)if(s&&c&&l^o)w=l?1:0,z=M(z,U,O);else if(!s&&c&&o)w=l?1:0,z=H(z,U,O),z=M(z,U);else if(!s||l||c||o){if(s&&!c&&l^o)z=M(z,U),l?(w=0,z=H(z,U,O)):(w=1,z=H(z,U,O),z=M(z,U));else if(s&&l&&!c&&o)w=1,z=H(z,U,O),z=M(z,U);else if(!s&&!c&&l^o){var L=u;l?(w=1,z=H(z,U,O),w=0,u=!1,z=H(z,U,O),u=L):(w=0,z=H(z,U,O),z=M(z,U),w=1,u=!1,z=H(z,U,O),u=L,z=M(z,U))}}else w=0,z=H(z,U,O);else w=l?1:0,z=H(z,U,O);return z},this.__bidiEngine__.setOptions=function(z){z&&(s=z.isInputVisual,c=z.isOutputVisual,l=z.isInputRtl,o=z.isOutputRtl,u=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,e.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([e.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([e.doBidiReorder(i[l])]);n.text=s}else n.text=e.doBidiReorder(i);e.setOptions({isInputVisual:!0})}])}(Pr),Pr.API.TTFFont=function(){function r(t){var e;if(this.rawData=t,e=this.contents=new Xf(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new WG(this),this.registerTTF()}return r.open=function(t){return new r(t)},r.prototype.parse=function(){return this.directory=new OG(this.contents),this.head=new MG(this),this.name=new DG(this),this.cmap=new jF(this),this.toUnicode={},this.hhea=new IG(this),this.maxp=new BG(this),this.hmtx=new $G(this),this.post=new FG(this),this.os2=new RG(this),this.loca=new HG(this),this.glyf=new UG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var t,e,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,o;for(o=[],s=0,l=(c=this.bbox).length;s<l;s++)t=c[s],o.push(Math.round(t*this.scaleFactor));return o}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),(32768&(e=i>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},r.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},r.prototype.widthOfString=function(t,e,n){var i,a,s,l;for(s=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/e)||0;return s*(e/1e3)},r.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},r}();var ql,Xf=function(){function r(t){this.data=t??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(t){return this.data[this.pos++]=t},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},r.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},r.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},r.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(t){var e,n,i;for(i=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(t){return this.writeInt16(t)},r.prototype.readLongLong=function(){var t,e,n,i,a,s,l,c;return t=this.readByte(),e=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*i+16777216*a+65536*s+256*l+c},r.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(t){return this.writeInt32(t)},r.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},r.prototype.write=function(t){var e,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)e=t[n],a.push(this.writeByte(e));return a},r}(),OG=function(){var r;function t(e){var n,i,a;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,i,a,s,l,c,o,u,d,f,h,y,m;for(m in h=Object.keys(e).length,c=Math.log(2),d=16*Math.floor(Math.log(h)/c),s=Math.floor(d/c),u=16*h-d,(i=new Xf).writeInt(this.scalarType),i.writeShort(h),i.writeShort(d),i.writeShort(s),i.writeShort(u),a=16*h,o=i.pos+a,l=null,y=[],e)for(f=e[m],i.writeString(m),i.writeInt(r(f)),i.writeInt(o),i.writeInt(f.length),y=y.concat(f),m==="head"&&(l=o),o+=f.length;o%4;)y.push(0),o++;return i.write(y),n=2981146554-r(i.data),i.pos=l+8,i.writeUInt32(n),i.data},r=function(e){var n,i,a,s;for(e=AF.call(e);e.length%4;)e.push(0);for(a=new Xf(e),i=0,n=0,s=e.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),PG={}.hasOwnProperty,Ac=function(r,t){for(var e in t)PG.call(t,e)&&(r[e]=t[e]);function n(){this.constructor=r}return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r};ql=function(){function r(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var MG=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Ac(t,ql),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Xf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),T7=function(){function r(t,e){var n,i,a,s,l,c,o,u,d,f,h,y,m,g,v,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),f=h/2,t.pos+=6,a=function(){var _,N;for(N=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)N.push(t.readUInt16());return N}(),t.pos+=2,m=function(){var _,N;for(N=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)N.push(t.readUInt16());return N}(),o=function(){var _,N;for(N=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)N.push(t.readUInt16());return N}(),u=function(){var _,N;for(N=[],c=_=0;0<=f?_<f:_>f;c=0<=f?++_:--_)N.push(t.readUInt16());return N}(),i=(this.length-t.pos+this.offset)/2,l=function(){var _,N;for(N=[],c=_=0;0<=i?_<i:_>i;c=0<=i?++_:--_)N.push(t.readUInt16());return N}(),c=v=0,w=a.length;v<w;c=++v)for(g=a[c],n=b=y=m[c];y<=g?b<=g:b>=g;n=y<=g?++b:--b)u[c]===0?s=n+o[c]:(s=l[u[c]/2+(n-y)-(f-c)]||0)!==0&&(s+=o[c]),this.codeMap[n]=65535&s}t.pos=d}return r.encode=function(t,e){var n,i,a,s,l,c,o,u,d,f,h,y,m,g,v,b,w,_,N,P,M,A,F,H,z,U,O,L,C,k,j,E,T,R,V,B,K,Z,ne,G,te,I,D,X,Q,re;switch(L=new Xf,s=Object.keys(t).sort(function(oe,se){return oe-se}),e){case"macroman":for(m=0,g=function(){var oe=[];for(y=0;y<256;++y)oe.push(0);return oe}(),b={0:0},a={},C=0,T=s.length;C<T;C++)b[D=t[i=s[C]]]==null&&(b[D]=++m),a[i]={old:t[i],new:b[t[i]]},g[i]=b[t[i]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(g),{charMap:a,subtable:L.data,maxGlyphID:m+1};case"unicode":for(U=[],d=[],w=0,b={},n={},v=o=null,k=0,R=s.length;k<R;k++)b[N=t[i=s[k]]]==null&&(b[N]=++w),n[i]={old:N,new:b[N]},l=b[N]-i,v!=null&&l===o||(v&&d.push(v),U.push(i),o=l),v=i;for(v&&d.push(v),d.push(65535),U.push(65535),H=2*(F=U.length),A=2*Math.pow(Math.log(F)/Math.LN2,2),f=Math.log(A/2)/Math.LN2,M=2*F-A,c=[],P=[],h=[],y=j=0,V=U.length;j<V;y=++j){if(z=U[y],u=d[y],z===65535){c.push(0),P.push(0);break}if(z-(O=n[z].new)>=32768)for(c.push(0),P.push(2*(h.length+F-y)),i=E=z;z<=u?E<=u:E>=u;i=z<=u?++E:--E)h.push(n[i].new);else c.push(O-z),P.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*F+2*h.length),L.writeUInt16(0),L.writeUInt16(H),L.writeUInt16(A),L.writeUInt16(f),L.writeUInt16(M),te=0,B=d.length;te<B;te++)i=d[te],L.writeUInt16(i);for(L.writeUInt16(0),I=0,K=U.length;I<K;I++)i=U[I],L.writeUInt16(i);for(X=0,Z=c.length;X<Z;X++)l=c[X],L.writeUInt16(l);for(Q=0,ne=P.length;Q<ne;Q++)_=P[Q],L.writeUInt16(_);for(re=0,G=h.length;re<G;re++)m=h[re],L.writeUInt16(m);return{charMap:n,subtable:L.data,maxGlyphID:w+1}}},r}(),jF=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Ac(t,ql),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,i,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new T7(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var i,a;return n==null&&(n="macroman"),i=T7.encode(e,n),(a=new Xf).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),IG=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Ac(t,ql),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),RG=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Ac(t,ql),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(e.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),FG=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Ac(t,ql),t.prototype.tag="post",t.prototype.parse=function(e){var n,i,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var s;for(i=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)n=e.readByte(),a.push(this.names.push(e.readString(n)));return a;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,o;for(o=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)o.push(e.readUInt32());return o}).call(this)}},t}(),LG=function(r,t){this.raw=r,this.length=r.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},DG=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Ac(t,ql),t.prototype.tag="name",t.prototype.parse=function(e){var n,i,a,s,l,c,o,u,d,f,h;for(e.pos=this.offset,e.readShort(),n=e.readShort(),c=e.readShort(),i=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(o={},s=d=0,f=i.length;d<f;s=++d)a=i[s],e.pos=a.offset,u=e.readString(a.length),l=new LG(u,a),o[h=a.nameID]==null&&(o[h]=[]),o[a.nameID].push(l);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},t}(),BG=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Ac(t,ql),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),$G=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Ac(t,ql),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,i,a,s,l,c,o;for(e.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=a?u<a:u>a;n=0<=a?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,f,h;for(h=[],u=0,d=(f=this.metrics).length;u<d;u++)s=f[u],h.push(s.advance);return h}).call(this),i=this.widths[this.widths.length-1],o=[],n=l=0;0<=a?l<a:l>a;n=0<=a?++l:--l)o.push(this.widths.push(i));return o},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),AF=[].slice,UG=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Ac(t,ql),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,i,a,s,l,c,o,u,d,f;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,i=s.indexOf(e),(a=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+i,l=(c=new Xf(n.read(a))).readShort(),u=c.readShort(),f=c.readShort(),o=c.readShort(),d=c.readShort(),this.cache[e]=l===-1?new qG(c,u,f,o,d):new zG(c,l,u,f,o,d),this.cache[e]))},t.prototype.encode=function(e,n,i){var a,s,l,c,o;for(l=[],s=[],c=0,o=n.length;c<o;c++)a=e[n[c]],s.push(l.length),a&&(l=l.concat(a.encode(i)));return s.push(l.length),{table:l,offsets:s}},t}(),zG=function(){function r(t,e,n,i,a,s){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),qG=function(){function r(t,e,n,i,a){var s,l;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return r.prototype.encode=function(){var t,e,n;for(e=new Xf(AF.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},r}(),HG=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return Ac(t,ql),t.prototype.tag="loca",t.prototype.parse=function(e){var n,i;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<i.length;++l)if(i[l]=a,s<n.length&&n[s]==l){++s,i[l]=a;var c=this.offsets[l],o=this.offsets[l+1]-c;o>0&&(a+=o)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},t}(),WG=function(){function r(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var t,e,n,i,a;for(e in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[e],t[e]=i[n];return t},r.prototype.glyphsFor=function(t){var e,n,i,a,s,l,c;for(i={},s=0,l=t.length;s<l;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in e=[],i)(n=i[a])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(a in c=this.glyphsFor(e))n=c[a],i[a]=n;return i},r.prototype.encode=function(t,e){var n,i,a,s,l,c,o,u,d,f,h,y,m,g,v;for(i in n=jF.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),h={0:0},v=n.charMap)h[(c=v[i]).old]=c.new;for(y in f=n.maxGlyphID,s)y in h||(h[y]=f++);return u=function(b){var w,_;for(w in _={},b)_[b[w]]=w;return _}(h),d=Object.keys(u).sort(function(b,w){return b-w}),m=function(){var b,w,_;for(_=[],b=0,w=d.length;b<w;b++)l=d[b],_.push(u[l]);return _}(),a=this.font.glyf.encode(s,m,h),o=this.font.loca.encode(a.offsets,m),g={cmap:this.font.cmap.raw(),glyf:a.table,loca:o,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},r}();Pr.API.PDFObject=function(){var r;function t(){}return r=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,i,a,s;if(Array.isArray(e))return"["+function(){var l,c,o;for(o=[],l=0,c=e.length;l<c;l++)n=e[l],o.push(t.convert(n));return o}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+r(e.getUTCFullYear(),4)+r(e.getUTCMonth(),2)+r(e.getUTCDate(),2)+r(e.getUTCHours(),2)+r(e.getUTCMinutes(),2)+r(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(i in a=["<<"],e)s=e[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+e},t}();function TF(r,t,e,n,i){n=n||{};var a=1.15,s=i.internal.scaleFactor,l=i.internal.getFontSize()/s,c=i.getLineHeightFactor?i.getLineHeightFactor():a,o=l*c,u=/\r\n|\r|\n/g,d="",f=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(d=typeof r=="string"?r.split(u):r,f=d.length||1),e+=l*(2-a),n.valign==="middle"?e-=f/2*o:n.valign==="bottom"&&(e-=f*o),n.halign==="center"||n.halign==="right"){var h=l;if(n.halign==="center"&&(h*=.5),d&&f>=1){for(var y=0;y<d.length;y++)i.text(d[y],t-i.getStringUnitWidth(d[y])*h,e),e+=o;return i}t-=i.getStringUnitWidth(r)*h}return n.halign==="justify"?i.text(r,t,e,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(r,t,e),i}var C7={},$0=function(){function r(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:C7=t},r.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},r.prototype.applyStyles=function(t,e){var n,i,a;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),l=s.fontStyle,c=s.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var o=this.getFontList()[c];o&&o.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(o[0]),l=o[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var u=r.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=r.unifyColor(t.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=r.unifyColor(t.lineColor),u&&(a=this.jsPDFDocument).setDrawColor.apply(a,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},r.prototype.splitTextToSize=function(t,e,n){return this.jsPDFDocument.splitTextToSize(t,e,n)},r.prototype.rect=function(t,e,n,i,a){return this.jsPDFDocument.rect(t,e,n,i,a)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return C7||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r}(),K6=function(r,t){return K6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},K6(r,t)};function CF(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");K6(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var OF=function(r){CF(t,r);function t(e){var n=r.call(this)||this;return n._element=e,n}return t}(Array);function VG(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function GG(r){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[r]}function Zv(r,t,e){e.applyStyles(t,!0);var n=Array.isArray(r)?r:[r],i=n.map(function(a){return e.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function PF(r,t,e,n){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;r.applyStyles({lineWidth:i,lineColor:a});var s=MF(i,!1);s&&r.rect(e.x,e.y,t.getWidth(r.pageSize().width),n.y-e.y,s)}function MF(r,t){var e=r>0,n=t||t===0;return e&&n?"DF":e?"S":n?"F":null}function Sx(r,t){var e,n,i,a;if(r=r||t,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=t}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(e=r.left)!==null&&e!==void 0?e:t,top:(n=r.top)!==null&&n!==void 0?n:t,right:(i=r.right)!==null&&i!==void 0?i:t,bottom:(a=r.bottom)!==null&&a!==void 0?a:t}):(typeof r!="number"&&(r=t),{top:r,right:r,bottom:r,left:r})}function IF(r,t){var e=Sx(t.settings.margin,0);return r.pageSize().width-(e.left+e.right)}function XG(r,t,e,n,i){var a={},s=1.3333333333333333,l=Ew(t,function(w){return i.getComputedStyle(w).backgroundColor});l!=null&&(a.fillColor=l);var c=Ew(t,function(w){return i.getComputedStyle(w).color});c!=null&&(a.textColor=c);var o=YG(n,e);o&&(a.cellPadding=o);var u="borderTopColor",d=s*e,f=n.borderTopWidth;if(n.borderBottomWidth===f&&n.borderRightWidth===f&&n.borderLeftWidth===f){var h=(parseFloat(f)||0)/d;h&&(a.lineWidth=h)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/d,right:(parseFloat(n.borderRightWidth)||0)/d,bottom:(parseFloat(n.borderBottomWidth)||0)/d,left:(parseFloat(n.borderLeftWidth)||0)/d},a.lineWidth.top||(a.lineWidth.right?u="borderRightColor":a.lineWidth.bottom?u="borderBottomColor":a.lineWidth.left&&(u="borderLeftColor"));var y=Ew(t,function(w){return i.getComputedStyle(w)[u]});y!=null&&(a.lineColor=y);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var g=parseInt(n.fontSize||"");isNaN(g)||(a.fontSize=g/s);var v=KG(n);v&&(a.fontStyle=v);var b=(n.fontFamily||"").toLowerCase();return r.indexOf(b)!==-1&&(a.font=b),a}function KG(r){var t="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(t="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(t+="italic"),t}function Ew(r,t){var e=RF(r,t);if(!e)return null;var n=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function RF(r,t){var e=t(r);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?r.parentElement==null?null:RF(r.parentElement,t):e}function YG(r,t){var e=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/t),i=(parseInt(r.lineHeight)-parseInt(r.fontSize))/t/2,a=e.map(function(l){return parseInt(l||"0")/n}),s=Sx(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function FF(r,t,e,n,i){var a,s;n===void 0&&(n=!1),i===void 0&&(i=!1);var l;typeof t=="string"?l=e.document.querySelector(t):l=t;var c=Object.keys(r.getFontList()),o=r.scaleFactor(),u=[],d=[],f=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:u,body:d,foot:f};for(var h=0;h<l.rows.length;h++){var y=l.rows[h],m=(s=(a=y==null?void 0:y.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),g=JG(c,o,e,y,n,i);g&&(m==="thead"?u.push(g):m==="tfoot"?f.push(g):d.push(g))}return{head:u,body:d,foot:f}}function JG(r,t,e,n,i,a){for(var s=new OF(n),l=0;l<n.cells.length;l++){var c=n.cells[l],o=e.getComputedStyle(c);if(i||o.display!=="none"){var u=void 0;a&&(u=XG(r,c,t,o,e)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:ZG(c)})}}var d=e.getComputedStyle(n);if(s.length>0&&(i||d.display!=="none"))return s}function ZG(r){var t=r.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function QG(r,t,e){for(var n=0,i=[r,t,e];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function hu(r,t,e,n,i){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(r),s=1;s<arguments.length;s++){var l=arguments[s];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])}return a}function LF(r,t){var e=new $0(r),n=e.getDocumentOptions(),i=e.getGlobalOptions();QG(i,n,t);var a=hu({},i,n,t),s;typeof window<"u"&&(s=window);var l=eX(i,n,t),c=tX(i,n,t),o=rX(e,a),u=iX(e,a,s);return{id:t.tableId,content:u,hooks:c,styles:l,settings:o}}function eX(r,t,e){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var o=r[c],u=t[c],d=e[c];n.columnStyles=hu({},o,u,d)}else{var f=[r,t,e],h=f.map(function(y){return y[c]||{}});n[c]=hu({},h[0],h[1],h[2])}},a=0,s=Object.keys(n);a<s.length;a++){var l=s[a];i(l)}return n}function tX(r,t,e){for(var n=[r,t,e],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=n;a<s.length;a++){var l=s[a];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function rX(r,t){var e,n,i,a,s,l,c,o,u,d,f,h,y=Sx(t.margin,40/r.scaleFactor()),m=(e=nX(r,t.startY))!==null&&e!==void 0?e:y.top,g;t.showFoot===!0?g="everyPage":t.showFoot===!1?g="never":g=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var v;t.showHead===!0?v="everyPage":t.showHead===!1?v="never":v=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var b=(a=t.useCss)!==null&&a!==void 0?a:!1,w=t.theme||(b?"plain":"striped"),_=!!t.horizontalPageBreak,N=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:b,theme:w,startY:m,margin:y,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(o=t.rowPageBreak)!==null&&o!==void 0?o:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:v,showFoot:g,tableLineWidth:(d=t.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(f=t.tableLineColor)!==null&&f!==void 0?f:200,horizontalPageBreak:_,horizontalPageBreakRepeat:N,horizontalPageBreakBehaviour:(h=t.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function nX(r,t){var e=r.getLastAutoTable(),n=r.scaleFactor(),i=r.pageNumber(),a=!1;if(e&&e.startPageNumber){var s=e.startPageNumber+e.pageNumber-1;a=s===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&(e==null?void 0:e.finalY)!=null?e.finalY+20/n:null}function iX(r,t,e){var n=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(e){var l=FF(r,t.html,e,s,t.useCss)||{};n=l.head||n,i=l.body||n,a=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=t.columns||aX(n,i,a);return{columns:c,head:n,body:i,foot:a}}function aX(r,t,e){var n=r[0]||t[0]||e[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,l;Array.isArray(n)?l=n[parseInt(a)]:l=n[a],typeof l=="object"&&!Array.isArray(l)&&(s=(l==null?void 0:l.colSpan)||1);for(var c=0;c<s;c++){var o=void 0;Array.isArray(n)?o=i.length:o=a+(c>0?"_".concat(c):"");var u={dataKey:o};i.push(u)}}),i}var Y6=function(){function r(t,e,n){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=n,this.doc=t.getDocument()}return r}(),sX=function(r){CF(t,r);function t(e,n,i,a,s,l){var c=r.call(this,e,n,l)||this;return c.cell=i,c.row=a,c.column=s,c.section=a.section,c}return t}(Y6),oX=function(){function r(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return r.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},r.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(t,e,n,i,a,s){for(var l=0,c=e;l<c.length;l++){var o=c[l],u=new sX(t,this,n,i,a,s),d=o(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],d)return!1}return!0},r.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new Y6(t,this,e))}},r.prototype.callWillDrawPageHooks=function(t,e){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new Y6(t,this,e))}},r.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return e}else{var n=this.settings.margin;return t-n.left-n.right}},r}(),DF=function(){function r(t,e,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof OF&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=n,this.cells=i,this.spansMultiplePages=a}return r.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(n,i){var a;return Math.max(n,((a=e.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},r.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(n){var i=e.cells[n.index];return i?i.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},r.prototype.getMinimumRowHeight=function(t,e){var n=this;return t.reduce(function(i,a){var s=n.cells[a.index];if(!s)return 0;var l=e.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),o=c+l;return o>i?o:i},0)},r}(),BF=function(){function r(t,e,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=n,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",l=/\r\n|\r|\n/g;this.text=s.split(l)}return r.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},r.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*e,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},r.prototype.padding=function(t){var e=Sx(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},r}(),lX=function(){function r(t,e,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=n}return r.prototype.getMaxCustomCellWidth=function(t){for(var e=0,n=0,i=t.allRows();n<i.length;n++){var a=i[n],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(e=Math.max(e,s.styles.cellWidth))}return e},r}();function cX(r,t){uX(r,t);var e=[],n=0;t.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(t);s?a.width=s:(a.width=a.wrappedWidth,e.push(a)),n+=a.width});var i=t.getWidth(r.pageSize().width)-n;i&&(i=J6(e,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=J6(e,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/r.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),dX(t),hX(t,r),fX(t)}function uX(r,t){var e=r.scaleFactor(),n=t.settings.horizontalPageBreak,i=IF(r,t);t.allRows().forEach(function(a){for(var s=0,l=t.columns;s<l.length;s++){var c=l[s],o=a.cells[c.index];if(o){var u=t.hooks.didParseCell;t.callCellHooks(r,u,o,a,c,null);var d=o.padding("horizontal");o.contentWidth=Zv(o.text,o.styles,r)+d;var f=Zv(o.text.join(" ").split(/[^\S\u00A0]+/),o.styles,r);if(o.minReadableWidth=f+o.padding("horizontal"),typeof o.styles.cellWidth=="number")o.minWidth=o.styles.cellWidth,o.wrappedWidth=o.styles.cellWidth;else if(o.styles.cellWidth==="wrap"||n===!0)o.contentWidth>i?(o.minWidth=i,o.wrappedWidth=i):(o.minWidth=o.contentWidth,o.wrappedWidth=o.contentWidth);else{var h=10/e;o.minWidth=o.styles.minCellWidth||h,o.wrappedWidth=o.contentWidth,o.minWidth>o.wrappedWidth&&(o.wrappedWidth=o.minWidth)}}}}),t.allRows().forEach(function(a){for(var s=0,l=t.columns;s<l.length;s++){var c=l[s],o=a.cells[c.index];if(o&&o.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,o.wrappedWidth),c.minWidth=Math.max(c.minWidth,o.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,o.minReadableWidth);else{var u=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(c.minWidth=d,c.wrappedWidth=d)}o&&(o.colSpan>1&&!c.minWidth&&(c.minWidth=o.minWidth),o.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=o.minWidth))}})}function J6(r,t,e){for(var n=t,i=r.reduce(function(h,y){return h+y.wrappedWidth},0),a=0;a<r.length;a++){var s=r[a],l=s.wrappedWidth/i,c=n*l,o=s.width+c,u=e(s),d=o<u?u:o;t-=d-s.width,s.width=d}if(t=Math.round(t*1e10)/1e10,t){var f=r.filter(function(h){return t<0?h.width>e(h):!0});f.length&&(t=J6(f,t,e))}return t}function fX(r){for(var t={},e=1,n=r.allRows(),i=0;i<n.length;i++)for(var a=n[i],s=0,l=r.columns;s<l.length;s++){var c=l[s],o=t[c.index];if(e>1)e--,delete a.cells[c.index];else if(o)o.cell.height+=a.height,e=o.cell.colSpan,delete a.cells[c.index],o.left--,o.left<=1&&delete t[c.index];else{var u=a.cells[c.index];if(!u)continue;if(u.height=a.height,u.rowSpan>1){var d=n.length-i,f=u.rowSpan>d?d:u.rowSpan;t[c.index]={cell:u,left:f,row:a}}}}}function dX(r){for(var t=r.allRows(),e=0;e<t.length;e++)for(var n=t[e],i=null,a=0,s=0,l=0;l<r.columns.length;l++){var c=r.columns[l];if(s-=1,s>1&&r.columns[l+1])a+=c.width,delete n.cells[c.index];else if(i){var o=i;delete n.cells[c.index],i=null,o.width=c.width+a}else{var o=n.cells[c.index];if(!o)continue;if(s=o.colSpan,a=0,o.colSpan>1){i=o,a+=c.width;continue}o.width=c.width+a}}}function hX(r,t){for(var e={count:0,height:0},n=0,i=r.allRows();n<i.length;n++){for(var a=i[n],s=0,l=r.columns;s<l.length;s++){var c=l[s],o=a.cells[c.index];if(o){t.applyStyles(o.styles,!0);var u=o.width-o.padding("horizontal");if(o.styles.overflow==="linebreak")o.text=t.splitTextToSize(o.text,u+1/t.scaleFactor(),{fontSize:o.styles.fontSize});else if(o.styles.overflow==="ellipsize")o.text=O7(o.text,u,o.styles,t,"...");else if(o.styles.overflow==="hidden")o.text=O7(o.text,u,o.styles,t,"");else if(typeof o.styles.overflow=="function"){var d=o.styles.overflow(o.text,u);typeof d=="string"?o.text=[d]:o.text=d}o.contentHeight=o.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var f=o.contentHeight/o.rowSpan;o.rowSpan>1&&e.count*e.height<f*o.rowSpan?e={height:f,count:o.rowSpan}:e&&e.count>0&&e.height>f&&(f=e.height),f>a.height&&(a.height=f)}}e.count--}}function O7(r,t,e,n,i){return r.map(function(a){return pX(a,t,e,n,i)})}function pX(r,t,e,n,i){var a=1e4*n.scaleFactor();if(t=Math.ceil(t*a)/a,t>=Zv(r,e,n))return r;for(;t<Zv(r+i,e,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+i}function $F(r,t){var e=new $0(r),n=mX(t,e.scaleFactor()),i=new oX(t,n);return cX(e,i),e.applyStyles(e.userStyles),i}function mX(r,t){var e=r.content,n=yX(e.columns);if(e.head.length===0){var i=P7(n,"head");i&&e.head.push(i)}if(e.foot.length===0){var i=P7(n,"foot");i&&e.foot.push(i)}var a=r.settings.theme,s=r.styles;return{columns:n,head:jw("head",e.head,n,s,a,t),body:jw("body",e.body,n,s,a,t),foot:jw("foot",e.foot,n,s,a,t)}}function jw(r,t,e,n,i,a){var s={},l=t.map(function(c,o){for(var u=0,d={},f=0,h=0,y=0,m=e;y<m.length;y++){var g=m[y];if(s[g.index]==null||s[g.index].left===0)if(h===0){var v=void 0;Array.isArray(c)?v=c[g.index-f-u]:v=c[g.dataKey];var b={};typeof v=="object"&&!Array.isArray(v)&&(b=(v==null?void 0:v.styles)||{});var w=vX(r,g,o,i,n,a,b),_=new BF(v,w,r);d[g.dataKey]=_,d[g.index]=_,h=_.colSpan-1,s[g.index]={left:_.rowSpan-1,times:h}}else h--,f++;else s[g.index].left--,h=s[g.index].times,u++}return new DF(c,o,r,d)});return l}function P7(r,t){var e={};return r.forEach(function(n){if(n.raw!=null){var i=gX(t,n.raw);i!=null&&(e[n.dataKey]=i)}}),Object.keys(e).length>0?e:null}function gX(r,t){if(r==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(r==="foot"&&typeof t=="object")return t.footer;return null}function yX(r){return r.map(function(t,e){var n,i;return typeof t=="object"?i=(n=t.dataKey)!==null&&n!==void 0?n:e:i=e,new lX(i,t,e)})}function vX(r,t,e,n,i,a,s){var l=GG(n),c;r==="head"?c=i.headStyles:r==="body"?c=i.bodyStyles:r==="foot"&&(c=i.footStyles);var o=hu({},l.table,l[r],i.styles,c),u=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},d=r==="body"?u:{},f=r==="body"&&e%2===0?hu({},l.alternateRow,i.alternateRowStyles):{},h=VG(a),y=hu({},h,o,f,d);return hu(y,s)}function bX(r,t,e){var n;e===void 0&&(e={});var i=IF(r,t),a=new Map,s=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(f){var h=t.columns.find(function(y){return y.dataKey===f||y.index===f});h&&!a.has(h.index)&&(a.set(h.index,!0),s.push(h.index),l.push(t.columns[h.index]),i-=h.wrappedWidth)});for(var o=!0,u=(n=e==null?void 0:e.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(a.has(u)){u++;continue}var d=t.columns[u].wrappedWidth;if(o||i>=d)o=!1,s.push(u),l.push(t.columns[u]),i-=d;else break;u++}return{colIndexes:s,columns:l,lastIndex:u-1}}function xX(r,t){for(var e=[],n=0;n<t.columns.length;n++){var i=bX(r,t,{start:n});i.columns.length&&(e.push(i),n=i.lastIndex)}return e}function UF(r,t){var e=t.settings,n=e.startY,i=e.margin,a={x:i.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=n+i.bottom+s;if(e.pageBreak==="avoid"){var c=t.body,o=c.reduce(function(f,h){return f+h.height},0);l+=o}var u=new $0(r);(e.pageBreak==="always"||e.startY!=null&&l>u.pageSize().height)&&(qF(u),a.y=i.top),t.callWillDrawPageHooks(u,a);var d=hu({},a);t.startPageNumber=u.pageNumber(),e.horizontalPageBreak?wX(u,t,d,a):(u.applyStyles(u.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(f){return ju(u,t,f,a,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(f,h){var y=h===t.body.length-1;Qv(u,t,f,y,d,a,t.columns)}),u.applyStyles(u.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(f){return ju(u,t,f,a,t.columns)})),PF(u,t,d,a),t.callEndPageHooks(u,a),t.finalY=a.y,r.lastAutoTable=t,u.applyStyles(u.userStyles)}function wX(r,t,e,n){var i=xX(r,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(o,u){r.applyStyles(r.userStyles),u>0?Jm(r,t,e,n,o.columns,!0):M7(r,t,n,o.columns),_X(r,t,e,n,o.columns),Aw(r,t,n,o.columns)});else for(var s=-1,l=i[0],c=function(){var o=s;if(l){r.applyStyles(r.userStyles);var u=l.columns;s>=0?Jm(r,t,e,n,u,!0):M7(r,t,n,u),o=I7(r,t,s+1,n,u),Aw(r,t,n,u)}var d=o-s;i.slice(1).forEach(function(f){r.applyStyles(r.userStyles),Jm(r,t,e,n,f.columns,!0),I7(r,t,s+1,n,f.columns,d),Aw(r,t,n,f.columns)}),s=o};s<t.body.length-1;)c()}function M7(r,t,e,n){var i=t.settings;r.applyStyles(r.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return ju(r,t,a,e,n)})}function _X(r,t,e,n,i){r.applyStyles(r.userStyles),t.body.forEach(function(a,s){var l=s===t.body.length-1;Qv(r,t,a,l,e,n,i)})}function I7(r,t,e,n,i,a){r.applyStyles(r.userStyles),a=a??t.body.length;var s=Math.min(e+a,t.body.length),l=-1;return t.body.slice(e,s).forEach(function(c,o){var u=e+o===t.body.length-1,d=zF(r,t,u,n);c.canEntireRowFit(d,i)&&(ju(r,t,c,n,i),l=e+o)}),l}function Aw(r,t,e,n){var i=t.settings;r.applyStyles(r.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return ju(r,t,a,e,n)})}function SX(r,t,e){var n=e.getLineHeight(r.styles.fontSize),i=r.padding("vertical"),a=Math.floor((t-i)/n);return Math.max(0,a)}function kX(r,t,e,n){var i={};r.spansMultiplePages=!0,r.height=0;for(var a=0,s=0,l=e.columns;s<l.length;s++){var c=l[s],o=r.cells[c.index];if(o){Array.isArray(o.text)||(o.text=[o.text]);var u=new BF(o.raw,o.styles,o.section);u=hu(u,o),u.text=[];var d=SX(o,t,n);o.text.length>d&&(u.text=o.text.splice(d,o.text.length));var f=n.scaleFactor(),h=n.getLineHeightFactor();o.contentHeight=o.getContentHeight(f,h),o.contentHeight>=t&&(o.contentHeight=t,u.styles.minCellHeight-=t),o.contentHeight>r.height&&(r.height=o.contentHeight),u.contentHeight=u.getContentHeight(f,h),u.contentHeight>a&&(a=u.contentHeight),i[c.index]=u}}var y=new DF(r.raw,-1,r.section,i,!0);y.height=a;for(var m=0,g=e.columns;m<g.length;m++){var c=g[m],u=y.cells[c.index];u&&(u.height=y.height);var o=r.cells[c.index];o&&(o.height=r.height)}return y}function NX(r,t,e,n){var i=r.pageSize().height,a=n.settings.margin,s=a.top+a.bottom,l=i-s;t.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=t.getMinimumRowHeight(n.columns,r),o=c<e;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!o)return!1;var u=t.hasRowSpan(n.columns),d=t.getMaxCellHeight(n.columns)>l;return d?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Qv(r,t,e,n,i,a,s){var l=zF(r,t,n,a);if(e.canEntireRowFit(l,s))ju(r,t,e,a,s);else if(NX(r,e,l,t)){var c=kX(e,l,t,r);ju(r,t,e,a,s),Jm(r,t,i,a,s),Qv(r,t,c,n,i,a,s)}else Jm(r,t,i,a,s),Qv(r,t,e,n,i,a,s)}function ju(r,t,e,n,i){n.x=t.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var l=s[a],c=e.cells[l.index];if(!c){n.x+=l.width;continue}r.applyStyles(c.styles),c.x=n.x,c.y=n.y;var o=t.callCellHooks(r,t.hooks.willDrawCell,c,e,l,n);if(o===!1){n.x+=l.width;continue}EX(r,c,n);var u=c.getTextPos();TF(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},r.getDocument()),t.callCellHooks(r,t.hooks.didDrawCell,c,e,l,n),n.x+=l.width}n.y+=e.height}function EX(r,t,e){var n=t.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=MF(n.lineWidth,n.fillColor);i&&r.rect(t.x,e.y,t.width,t.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(t.x,e.y,t.width,t.height,"F"),jX(r,t,e,n.lineWidth))}function jX(r,t,e,n){var i,a,s,l;n.top&&(i=e.x,a=e.y,s=e.x+t.width,l=e.y,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),c(n.top,i,a,s,l)),n.bottom&&(i=e.x,a=e.y+t.height,s=e.x+t.width,l=e.y+t.height,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),c(n.bottom,i,a,s,l)),n.left&&(i=e.x,a=e.y,s=e.x,l=e.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,i,a,s,l)),n.right&&(i=e.x+t.width,a=e.y,s=e.x+t.width,l=e.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,i,a,s,l));function c(o,u,d,f,h){r.getDocument().setLineWidth(o),r.getDocument().line(u,d,f,h,"S")}}function zF(r,t,e,n){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&e)&&(i+=t.getFootHeight(t.columns)),r.pageSize().height-n.y-i}function Jm(r,t,e,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),r.applyStyles(r.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(l){return ju(r,t,l,n,i)}),t.callEndPageHooks(r,n);var s=t.settings.margin;PF(r,t,e,n),qF(r),t.pageNumber++,n.x=s.left,n.y=s.top,e.y=s.top,t.callWillDrawPageHooks(r,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return ju(r,t,l,n,i)}),r.applyStyles(r.userStyles))}function qF(r){var t=r.pageNumber();r.setPage(t+1);var e=r.pageNumber();return e===t?(r.addPage(),!0):!1}function AX(r){r.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],i=LF(this,n),a=$F(this,i);return UF(this,a),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(t,e,n,i){TF(t,e,n,i,this)},r.API.autoTableSetDefaults=function(t){return $0.setDefaults(t,this),this},r.autoTableSetDefaults=function(t,e){$0.setDefaults(t,e)},r.API.autoTableHtmlToJson=function(t,e){var n;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new $0(this),a=FF(i,t,window,e,!1),s=a.head,l=a.body,c=((n=s[0])===null||n===void 0?void 0:n.map(function(o){return o.content}))||[];return{columns:c,rows:l,data:l}}}var Tw;function U0(r,t){var e=LF(r,t),n=$F(r,e);UF(r,n)}try{if(typeof window<"u"&&window){var R7=window,F7=R7.jsPDF||((Tw=R7.jspdf)===null||Tw===void 0?void 0:Tw.jsPDF);F7&&AX(F7)}}catch(r){console.error("Could not apply autoTable plugin",r)}function ro(r){const t=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&t==="[object Date]"?new r.constructor(+r):typeof r=="number"||t==="[object Number]"||typeof r=="string"||t==="[object String]"?new Date(r):new Date(NaN)}function Sc(r,t){return r instanceof Date?new r.constructor(t):new Date(t)}function TX(r,t){const e=ro(r);return isNaN(t)?Sc(r,NaN):(t&&e.setDate(e.getDate()+t),e)}function CX(r,t){const e=ro(r);if(isNaN(t))return Sc(r,NaN);const n=e.getDate(),i=Sc(r,e.getTime());i.setMonth(e.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(e.setFullYear(i.getFullYear(),i.getMonth(),n),e)}const HF=6048e5,OX=864e5,WF=6e4,VF=36e5;let PX={};function kx(){return PX}function yg(r,t){var l,c,o,u;const e=kx(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??e.weekStartsOn??((u=(o=e.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??0,i=ro(r),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function eb(r){return yg(r,{weekStartsOn:1})}function GF(r){const t=ro(r),e=t.getFullYear(),n=Sc(r,0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);const i=eb(n),a=Sc(r,0);a.setFullYear(e,0,4),a.setHours(0,0,0,0);const s=eb(a);return t.getTime()>=i.getTime()?e+1:t.getTime()>=s.getTime()?e:e-1}function pu(r){const t=ro(r);return t.setHours(0,0,0,0),t}function L7(r){const t=ro(r),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+r-+e}function MX(r,t){const e=pu(r),n=pu(t),i=+e-L7(e),a=+n-L7(n);return Math.round((i-a)/OX)}function IX(r){const t=GF(r),e=Sc(r,0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),eb(e)}function RX(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function FX(r){if(!RX(r)&&typeof r!="number")return!1;const t=ro(r);return!isNaN(Number(t))}function ah(r){const t=ro(r);return t.setHours(23,59,59,999),t}function LX(r){const t=ro(r),e=Sc(r,0);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e}const DX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BX=(r,t,e)=>{let n;const i=DX[r];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+n:n+" ago":n};function Cw(r){return(t={})=>{const e=t.width?String(t.width):r.defaultWidth;return r.formats[e]||r.formats[r.defaultWidth]}}const $X={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qX={date:Cw({formats:$X,defaultWidth:"full"}),time:Cw({formats:UX,defaultWidth:"full"}),dateTime:Cw({formats:zX,defaultWidth:"full"})},HX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WX=(r,t,e,n)=>HX[r];function gm(r){return(t,e)=>{const n=e!=null&&e.context?String(e.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const s=r.defaultFormattingWidth||r.defaultWidth,l=e!=null&&e.width?String(e.width):s;i=r.formattingValues[l]||r.formattingValues[s]}else{const s=r.defaultWidth,l=e!=null&&e.width?String(e.width):r.defaultWidth;i=r.values[l]||r.values[s]}const a=r.argumentCallback?r.argumentCallback(t):t;return i[a]}}const VX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},YX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZX=(r,t)=>{const e=Number(r),n=e%100;if(n>20||n<10)switch(n%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},QX={ordinalNumber:ZX,era:gm({values:VX,defaultWidth:"wide"}),quarter:gm({values:GX,defaultWidth:"wide",argumentCallback:r=>r-1}),month:gm({values:XX,defaultWidth:"wide"}),day:gm({values:KX,defaultWidth:"wide"}),dayPeriod:gm({values:YX,defaultWidth:"wide",formattingValues:JX,defaultFormattingWidth:"wide"})};function ym(r){return(t,e={})=>{const n=e.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],l=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],c=Array.isArray(l)?tK(l,d=>d.test(s)):eK(l,d=>d.test(s));let o;o=r.valueCallback?r.valueCallback(c):c,o=e.valueCallback?e.valueCallback(o):o;const u=t.slice(s.length);return{value:o,rest:u}}}function eK(r,t){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)&&t(r[e]))return e}function tK(r,t){for(let e=0;e<r.length;e++)if(t(r[e]))return e}function rK(r){return(t,e={})=>{const n=t.match(r.matchPattern);if(!n)return null;const i=n[0],a=t.match(r.parsePattern);if(!a)return null;let s=r.valueCallback?r.valueCallback(a[0]):a[0];s=e.valueCallback?e.valueCallback(s):s;const l=t.slice(i.length);return{value:s,rest:l}}}const nK=/^(\d+)(th|st|nd|rd)?/i,iK=/\d+/i,aK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sK={any:[/^b/i,/^(a|c)/i]},oK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lK={any:[/1/i,/2/i,/3/i,/4/i]},cK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mK={ordinalNumber:rK({matchPattern:nK,parsePattern:iK,valueCallback:r=>parseInt(r,10)}),era:ym({matchPatterns:aK,defaultMatchWidth:"wide",parsePatterns:sK,defaultParseWidth:"any"}),quarter:ym({matchPatterns:oK,defaultMatchWidth:"wide",parsePatterns:lK,defaultParseWidth:"any",valueCallback:r=>r+1}),month:ym({matchPatterns:cK,defaultMatchWidth:"wide",parsePatterns:uK,defaultParseWidth:"any"}),day:ym({matchPatterns:fK,defaultMatchWidth:"wide",parsePatterns:dK,defaultParseWidth:"any"}),dayPeriod:ym({matchPatterns:hK,defaultMatchWidth:"any",parsePatterns:pK,defaultParseWidth:"any"})},gK={code:"en-US",formatDistance:BX,formatLong:qX,formatRelative:WX,localize:QX,match:mK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yK(r){const t=ro(r);return MX(t,LX(t))+1}function vK(r){const t=ro(r),e=+eb(t)-+IX(t);return Math.round(e/HF)+1}function XF(r,t){var u,d,f,h;const e=ro(r),n=e.getFullYear(),i=kx(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=Sc(r,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const l=yg(s,t),c=Sc(r,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const o=yg(c,t);return e.getTime()>=l.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function bK(r,t){var l,c,o,u;const e=kx(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??e.firstWeekContainsDate??((u=(o=e.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??1,i=XF(r,t),a=Sc(r,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),yg(a,t)}function xK(r,t){const e=ro(r),n=+yg(e,t)-+bK(e,t);return Math.round(n/HF)+1}function In(r,t){const e=r<0?"-":"",n=Math.abs(r).toString().padStart(t,"0");return e+n}const Af={y(r,t){const e=r.getFullYear(),n=e>0?e:1-e;return In(t==="yy"?n%100:n,t.length)},M(r,t){const e=r.getMonth();return t==="M"?String(e+1):In(e+1,2)},d(r,t){return In(r.getDate(),t.length)},a(r,t){const e=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(r,t){return In(r.getHours()%12||12,t.length)},H(r,t){return In(r.getHours(),t.length)},m(r,t){return In(r.getMinutes(),t.length)},s(r,t){return In(r.getSeconds(),t.length)},S(r,t){const e=t.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,e-3));return In(i,t.length)}},h0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},D7={G:function(r,t,e){const n=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(n,{width:"abbreviated"});case"GGGGG":return e.era(n,{width:"narrow"});case"GGGG":default:return e.era(n,{width:"wide"})}},y:function(r,t,e){if(t==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return e.ordinalNumber(i,{unit:"year"})}return Af.y(r,t)},Y:function(r,t,e,n){const i=XF(r,n),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return In(s,2)}return t==="Yo"?e.ordinalNumber(a,{unit:"year"}):In(a,t.length)},R:function(r,t){const e=GF(r);return In(e,t.length)},u:function(r,t){const e=r.getFullYear();return In(e,t.length)},Q:function(r,t,e){const n=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return In(n,2);case"Qo":return e.ordinalNumber(n,{unit:"quarter"});case"QQQ":return e.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,t,e){const n=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return In(n,2);case"qo":return e.ordinalNumber(n,{unit:"quarter"});case"qqq":return e.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,t,e){const n=r.getMonth();switch(t){case"M":case"MM":return Af.M(r,t);case"Mo":return e.ordinalNumber(n+1,{unit:"month"});case"MMM":return e.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(n,{width:"wide",context:"formatting"})}},L:function(r,t,e){const n=r.getMonth();switch(t){case"L":return String(n+1);case"LL":return In(n+1,2);case"Lo":return e.ordinalNumber(n+1,{unit:"month"});case"LLL":return e.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(n,{width:"wide",context:"standalone"})}},w:function(r,t,e,n){const i=xK(r,n);return t==="wo"?e.ordinalNumber(i,{unit:"week"}):In(i,t.length)},I:function(r,t,e){const n=vK(r);return t==="Io"?e.ordinalNumber(n,{unit:"week"}):In(n,t.length)},d:function(r,t,e){return t==="do"?e.ordinalNumber(r.getDate(),{unit:"date"}):Af.d(r,t)},D:function(r,t,e){const n=yK(r);return t==="Do"?e.ordinalNumber(n,{unit:"dayOfYear"}):In(n,t.length)},E:function(r,t,e){const n=r.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(n,{width:"short",context:"formatting"});case"EEEE":default:return e.day(n,{width:"wide",context:"formatting"})}},e:function(r,t,e,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return In(a,2);case"eo":return e.ordinalNumber(a,{unit:"day"});case"eee":return e.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(i,{width:"short",context:"formatting"});case"eeee":default:return e.day(i,{width:"wide",context:"formatting"})}},c:function(r,t,e,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return In(a,t.length);case"co":return e.ordinalNumber(a,{unit:"day"});case"ccc":return e.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(i,{width:"narrow",context:"standalone"});case"cccccc":return e.day(i,{width:"short",context:"standalone"});case"cccc":default:return e.day(i,{width:"wide",context:"standalone"})}},i:function(r,t,e){const n=r.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return In(i,t.length);case"io":return e.ordinalNumber(i,{unit:"day"});case"iii":return e.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(n,{width:"short",context:"formatting"});case"iiii":default:return e.day(n,{width:"wide",context:"formatting"})}},a:function(r,t,e){const i=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,t,e){const n=r.getHours();let i;switch(n===12?i=h0.noon:n===0?i=h0.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,t,e){const n=r.getHours();let i;switch(n>=17?i=h0.evening:n>=12?i=h0.afternoon:n>=4?i=h0.morning:i=h0.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,t,e){if(t==="ho"){let n=r.getHours()%12;return n===0&&(n=12),e.ordinalNumber(n,{unit:"hour"})}return Af.h(r,t)},H:function(r,t,e){return t==="Ho"?e.ordinalNumber(r.getHours(),{unit:"hour"}):Af.H(r,t)},K:function(r,t,e){const n=r.getHours()%12;return t==="Ko"?e.ordinalNumber(n,{unit:"hour"}):In(n,t.length)},k:function(r,t,e){let n=r.getHours();return n===0&&(n=24),t==="ko"?e.ordinalNumber(n,{unit:"hour"}):In(n,t.length)},m:function(r,t,e){return t==="mo"?e.ordinalNumber(r.getMinutes(),{unit:"minute"}):Af.m(r,t)},s:function(r,t,e){return t==="so"?e.ordinalNumber(r.getSeconds(),{unit:"second"}):Af.s(r,t)},S:function(r,t){return Af.S(r,t)},X:function(r,t,e){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return $7(n);case"XXXX":case"XX":return Zd(n);case"XXXXX":case"XXX":default:return Zd(n,":")}},x:function(r,t,e){const n=r.getTimezoneOffset();switch(t){case"x":return $7(n);case"xxxx":case"xx":return Zd(n);case"xxxxx":case"xxx":default:return Zd(n,":")}},O:function(r,t,e){const n=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+B7(n,":");case"OOOO":default:return"GMT"+Zd(n,":")}},z:function(r,t,e){const n=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+B7(n,":");case"zzzz":default:return"GMT"+Zd(n,":")}},t:function(r,t,e){const n=Math.trunc(r.getTime()/1e3);return In(n,t.length)},T:function(r,t,e){const n=r.getTime();return In(n,t.length)}};function B7(r,t=""){const e=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),a=n%60;return a===0?e+String(i):e+String(i)+t+In(a,2)}function $7(r,t){return r%60===0?(r>0?"-":"+")+In(Math.abs(r)/60,2):Zd(r,t)}function Zd(r,t=""){const e=r>0?"-":"+",n=Math.abs(r),i=In(Math.trunc(n/60),2),a=In(n%60,2);return e+i+t+a}const U7=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},KF=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wK=(r,t)=>{const e=r.match(/(P+)(p+)?/)||[],n=e[1],i=e[2];if(!i)return U7(r,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",U7(n,t)).replace("{{time}}",KF(i,t))},_K={p:KF,P:wK},SK=/^D+$/,kK=/^Y+$/,NK=["D","DD","YY","YYYY"];function EK(r){return SK.test(r)}function jK(r){return kK.test(r)}function AK(r,t,e){const n=TK(r,t,e);if(console.warn(n),NK.includes(r))throw new RangeError(n)}function TK(r,t,e){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${n} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PK=/^'([^]*?)'?$/,MK=/''/g,IK=/[a-zA-Z]/;function vr(r,t,e){var u,d,f,h;const n=kx(),i=n.locale??gK,a=n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=n.weekStartsOn??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,l=ro(r);if(!FX(l))throw new RangeError("Invalid time value");let c=t.match(OK).map(y=>{const m=y[0];if(m==="p"||m==="P"){const g=_K[m];return g(y,i.formatLong)}return y}).join("").match(CK).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const m=y[0];if(m==="'")return{isToken:!1,value:RK(y)};if(D7[m])return{isToken:!0,value:y};if(m.match(IK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const o={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const m=y.value;(jK(m)||EK(m))&&AK(m,t,String(r));const g=D7[m[0]];return g(l,m,i.localize,o)}).join("")}function RK(r){const t=r.match(PK);return t?t[1].replace(MK,"'"):r}function p0(r,t){return TX(r,-t)}function ip(r,t){const n=BK(r);let i;if(n.date){const c=$K(n.date,2);i=UK(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,l;if(n.time&&(s=zK(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(l=qK(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+s),o=new Date(0);return o.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),o.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),o}return new Date(a+s+l)}const Sy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},FK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,DK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function BK(r){const t={},e=r.split(Sy.dateTimeDelimiter);let n;if(e.length>2)return t;if(/:/.test(e[0])?n=e[0]:(t.date=e[0],n=e[1],Sy.timeZoneDelimiter.test(t.date)&&(t.date=r.split(Sy.timeZoneDelimiter)[0],n=r.substr(t.date.length,r.length))),n){const i=Sy.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function $K(r,t){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=r.match(e);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:r.slice((n[1]||n[2]).length)}}function UK(r,t){if(t===null)return new Date(NaN);const e=r.match(FK);if(!e)return new Date(NaN);const n=!!e[4],i=vm(e[1]),a=vm(e[2])-1,s=vm(e[3]),l=vm(e[4]),c=vm(e[5])-1;if(n)return XK(t,l,c)?HK(t,l,c):new Date(NaN);{const o=new Date(0);return!VK(t,a,s)||!GK(t,i)?new Date(NaN):(o.setUTCFullYear(t,a,Math.max(i,s)),o)}}function vm(r){return r?parseInt(r):1}function zK(r){const t=r.match(LK);if(!t)return NaN;const e=Ow(t[1]),n=Ow(t[2]),i=Ow(t[3]);return KK(e,n,i)?e*VF+n*WF+i*1e3:NaN}function Ow(r){return r&&parseFloat(r.replace(",","."))||0}function qK(r){if(r==="Z")return 0;const t=r.match(DK);if(!t)return 0;const e=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return YK(n,i)?e*(n*VF+i*WF):NaN}function HK(r,t,e){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+e+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const WK=[31,null,31,30,31,30,31,31,30,31,30,31];function YF(r){return r%400===0||r%4===0&&r%100!==0}function VK(r,t,e){return t>=0&&t<=11&&e>=1&&e<=(WK[t]||(YF(r)?29:28))}function GK(r,t){return t>=1&&t<=(YF(r)?366:365)}function XK(r,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function KK(r,t,e){return r===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&r>=0&&r<25}function YK(r,t){return t>=0&&t<=59}function z7(r,t){return CX(r,-1)}var ky={},bm={},Ny={},q7;function il(){if(q7)return Ny;q7=1,Object.defineProperty(Ny,"__esModule",{value:!0});function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var t=function e(n,i){r(this,e),this.data=n,this.text=i.text||n,this.options=i};return Ny.default=t,Ny}var H7;function JK(){if(H7)return bm;H7=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.CODE39=void 0;var r=function(){function m(g,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,v,b){return v&&m(g.prototype,v),b&&m(g,b),g}}(),t=il(),e=n(t);function n(m){return m&&m.__esModule?m:{default:m}}function i(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function a(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function s(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var l=function(m){s(g,m);function g(v,b){return i(this,g),v=v.toUpperCase(),b.mod43&&(v+=f(y(v))),a(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,v,b))}return r(g,[{key:"encode",value:function(){for(var b=u("*"),w=0;w<this.data.length;w++)b+=u(this.data[w])+"0";return b+=u("*"),{data:b,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),g}(e.default),c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],o=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function u(m){return d(h(m))}function d(m){return o[m].toString(2)}function f(m){return c[m]}function h(m){return c.indexOf(m)}function y(m){for(var g=0,v=0;v<m.length;v++)g+=h(m[v]);return g=g%43,g}return bm.CODE39=l,bm}var Tl={},Ey={},jy={},Ei={},W7;function p1(){if(W7)return Ei;W7=1,Object.defineProperty(Ei,"__esModule",{value:!0});var r;function t(c,o,u){return o in c?Object.defineProperty(c,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[o]=u,c}var e=Ei.SET_A=0,n=Ei.SET_B=1,i=Ei.SET_C=2;Ei.SHIFT=98;var a=Ei.START_A=103,s=Ei.START_B=104,l=Ei.START_C=105;return Ei.MODULO=103,Ei.STOP=106,Ei.FNC1=207,Ei.SET_BY_CODE=(r={},t(r,a,e),t(r,s,n),t(r,l,i),r),Ei.SWAP={101:e,100:n,99:i},Ei.A_START_CHAR="",Ei.B_START_CHAR="",Ei.C_START_CHAR="",Ei.A_CHARS="[\0-_-]",Ei.B_CHARS="[ --]",Ei.C_CHARS="(*[0-9]{2}*)",Ei.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Ei}var V7;function Nx(){if(V7)return jy;V7=1,Object.defineProperty(jy,"__esModule",{value:!0});var r=function(){function o(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&o(u.prototype,d),f&&o(u,f),u}}(),t=il(),e=i(t),n=p1();function i(o){return o&&o.__esModule?o:{default:o}}function a(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function s(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function l(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var c=function(o){l(u,o);function u(d,f){a(this,u);var h=s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d.substring(1),f));return h.bytes=d.split("").map(function(y){return y.charCodeAt(0)}),h}return r(u,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var f=this.bytes,h=f.shift()-105,y=n.SET_BY_CODE[h];if(y===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&f.unshift(n.FNC1);var m=u.next(f,1,y);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:u.getBar(h)+m.result+u.getBar((m.checksum+h)%n.MODULO)+u.getBar(n.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var f=this.options.ean128||!1;return typeof f=="string"&&(f=f.toLowerCase()==="true"),f}}],[{key:"getBar",value:function(f){return n.BARS[f]?n.BARS[f].toString():""}},{key:"correctIndex",value:function(f,h){if(h===n.SET_A){var y=f.shift();return y<32?y+64:y-32}else return h===n.SET_B?f.shift()-32:(f.shift()-48)*10+f.shift()-48}},{key:"next",value:function(f,h,y){if(!f.length)return{result:"",checksum:0};var m=void 0,g=void 0;if(f[0]>=200){g=f.shift()-105;var v=n.SWAP[g];v!==void 0?m=u.next(f,h+1,v):((y===n.SET_A||y===n.SET_B)&&g===n.SHIFT&&(f[0]=y===n.SET_A?f[0]>95?f[0]-96:f[0]:f[0]<32?f[0]+96:f[0]),m=u.next(f,h+1,y))}else g=u.correctIndex(f,y),m=u.next(f,h+1,y);var b=u.getBar(g),w=g*h;return{result:b+m.result,checksum:w+m.checksum}}}]),u}(e.default);return jy.default=c,jy}var Ay={},G7;function ZK(){if(G7)return Ay;G7=1,Object.defineProperty(Ay,"__esModule",{value:!0});var r=p1(),t=function(l){return l.match(new RegExp("^"+r.A_CHARS+"*"))[0].length},e=function(l){return l.match(new RegExp("^"+r.B_CHARS+"*"))[0].length},n=function(l){return l.match(new RegExp("^"+r.C_CHARS+"*"))[0]};function i(s,l){var c=l?r.A_CHARS:r.B_CHARS,o=s.match(new RegExp("^("+c+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(o)return o[1]+""+a(s.substring(o[1].length));var u=s.match(new RegExp("^"+c+"+"))[0];return u.length===s.length?s:u+String.fromCharCode(l?205:206)+i(s.substring(u.length),!l)}function a(s){var l=n(s),c=l.length;if(c===s.length)return s;s=s.substring(c);var o=t(s)>=e(s);return l+String.fromCharCode(o?206:205)+i(s,o)}return Ay.default=function(s){var l=void 0,c=n(s).length;if(c>=2)l=r.C_START_CHAR+a(s);else{var o=t(s)>e(s);l=(o?r.A_START_CHAR:r.B_START_CHAR)+i(s,o)}return l.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(u,d){return""+d})},Ay}var X7;function QK(){if(X7)return Ey;X7=1,Object.defineProperty(Ey,"__esModule",{value:!0});var r=Nx(),t=i(r),e=ZK(),n=i(e);function i(o){return o&&o.__esModule?o:{default:o}}function a(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function s(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function l(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var c=function(o){l(u,o);function u(d,f){if(a(this,u),/^[\x00-\x7F\xC8-\xD3]+$/.test(d))var h=s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,(0,n.default)(d),f));else var h=s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d,f));return s(h)}return u}(t.default);return Ey.default=c,Ey}var Ty={},K7;function eY(){if(K7)return Ty;K7=1,Object.defineProperty(Ty,"__esModule",{value:!0});var r=function(){function o(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&o(u.prototype,d),f&&o(u,f),u}}(),t=Nx(),e=i(t),n=p1();function i(o){return o&&o.__esModule?o:{default:o}}function a(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function s(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function l(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var c=function(o){l(u,o);function u(d,f){return a(this,u),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,n.A_START_CHAR+d,f))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+n.A_CHARS+"+$").test(this.data)}}]),u}(e.default);return Ty.default=c,Ty}var Cy={},Y7;function tY(){if(Y7)return Cy;Y7=1,Object.defineProperty(Cy,"__esModule",{value:!0});var r=function(){function o(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&o(u.prototype,d),f&&o(u,f),u}}(),t=Nx(),e=i(t),n=p1();function i(o){return o&&o.__esModule?o:{default:o}}function a(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function s(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function l(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var c=function(o){l(u,o);function u(d,f){return a(this,u),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,n.B_START_CHAR+d,f))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+n.B_CHARS+"+$").test(this.data)}}]),u}(e.default);return Cy.default=c,Cy}var Oy={},J7;function rY(){if(J7)return Oy;J7=1,Object.defineProperty(Oy,"__esModule",{value:!0});var r=function(){function o(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&o(u.prototype,d),f&&o(u,f),u}}(),t=Nx(),e=i(t),n=p1();function i(o){return o&&o.__esModule?o:{default:o}}function a(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function s(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function l(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var c=function(o){l(u,o);function u(d,f){return a(this,u),s(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,n.C_START_CHAR+d,f))}return r(u,[{key:"valid",value:function(){return new RegExp("^"+n.C_CHARS+"+$").test(this.data)}}]),u}(e.default);return Oy.default=c,Oy}var Z7;function nY(){if(Z7)return Tl;Z7=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.CODE128C=Tl.CODE128B=Tl.CODE128A=Tl.CODE128=void 0;var r=QK(),t=c(r),e=eY(),n=c(e),i=tY(),a=c(i),s=rY(),l=c(s);function c(o){return o&&o.__esModule?o:{default:o}}return Tl.CODE128=t.default,Tl.CODE128A=n.default,Tl.CODE128B=a.default,Tl.CODE128C=l.default,Tl}var Es={},Py={},lu={},Q7;function m1(){return Q7||(Q7=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.SIDE_BIN="101",lu.MIDDLE_BIN="01010",lu.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},lu.EAN2_STRUCTURE=["LL","LG","GL","GG"],lu.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],lu.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),lu}var My={},Iy={},ej;function g1(){if(ej)return Iy;ej=1,Object.defineProperty(Iy,"__esModule",{value:!0});var r=m1(),t=function(n,i,a){var s=n.split("").map(function(c,o){return r.BINARIES[i[o]]}).map(function(c,o){return c?c[n[o]]:""});if(a){var l=n.length-1;s=s.map(function(c,o){return o<l?c+a:c})}return s.join("")};return Iy.default=t,Iy}var tj;function JF(){if(tj)return My;tj=1,Object.defineProperty(My,"__esModule",{value:!0});var r=function(){function d(f,h){for(var y=0;y<h.length;y++){var m=h[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,y){return h&&d(f.prototype,h),y&&d(f,y),f}}(),t=m1(),e=g1(),n=s(e),i=il(),a=s(i);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function c(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function o(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var u=function(d){o(f,d);function f(h,y){l(this,f);var m=c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,h,y));return m.fontSize=!y.flat&&y.fontSize>y.width*10?y.width*10:y.fontSize,m.guardHeight=y.height+m.fontSize/2+y.textMargin,m}return r(f,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(y,m){return this.text.substr(y,m)}},{key:"leftEncode",value:function(y,m){return(0,n.default)(y,m)}},{key:"rightText",value:function(y,m){return this.text.substr(y,m)}},{key:"rightEncode",value:function(y,m){return(0,n.default)(y,m)}},{key:"encodeGuarded",value:function(){var y={fontSize:this.fontSize},m={height:this.guardHeight};return[{data:t.SIDE_BIN,options:m},{data:this.leftEncode(),text:this.leftText(),options:y},{data:t.MIDDLE_BIN,options:m},{data:this.rightEncode(),text:this.rightText(),options:y},{data:t.SIDE_BIN,options:m}]}},{key:"encodeFlat",value:function(){var y=[t.SIDE_BIN,this.leftEncode(),t.MIDDLE_BIN,this.rightEncode(),t.SIDE_BIN];return{data:y.join(""),text:this.text}}}]),f}(a.default);return My.default=u,My}var rj;function iY(){if(rj)return Py;rj=1,Object.defineProperty(Py,"__esModule",{value:!0});var r=function(){function d(f,h){for(var y=0;y<h.length;y++){var m=h[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,y){return h&&d(f.prototype,h),y&&d(f,y),f}}(),t=function d(f,h,y){f===null&&(f=Function.prototype);var m=Object.getOwnPropertyDescriptor(f,h);if(m===void 0){var g=Object.getPrototypeOf(f);return g===null?void 0:d(g,h,y)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(y)}},e=m1(),n=JF(),i=a(n);function a(d){return d&&d.__esModule?d:{default:d}}function s(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function l(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var o=function(f){var h=f.substr(0,12).split("").map(function(y){return+y}).reduce(function(y,m,g){return g%2?y+m*3:y+m},0);return(10-h%10)%10},u=function(d){c(f,d);function f(h,y){s(this,f),h.search(/^[0-9]{12}$/)!==-1&&(h+=o(h));var m=l(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,h,y));return m.lastChar=y.lastChar,m}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===o(this.data)}},{key:"leftText",value:function(){return t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var y=this.data.substr(1,6),m=e.EAN13_STRUCTURE[this.data[0]];return t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"leftEncode",this).call(this,y,m)}},{key:"rightText",value:function(){return t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var y=this.data.substr(7,6);return t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"rightEncode",this).call(this,y,"RRRRRR")}},{key:"encodeGuarded",value:function(){var y=t(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(y.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(y.push({data:"00"}),y.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),y}}]),f}(i.default);return Py.default=u,Py}var Ry={},nj;function aY(){if(nj)return Ry;nj=1,Object.defineProperty(Ry,"__esModule",{value:!0});var r=function(){function u(d,f){for(var h=0;h<f.length;h++){var y=f[h];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,f,h){return f&&u(d.prototype,f),h&&u(d,h),d}}(),t=function u(d,f,h){d===null&&(d=Function.prototype);var y=Object.getOwnPropertyDescriptor(d,f);if(y===void 0){var m=Object.getPrototypeOf(d);return m===null?void 0:u(m,f,h)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(h)}},e=JF(),n=i(e);function i(u){return u&&u.__esModule?u:{default:u}}function a(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function s(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:u}function l(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}var c=function(d){var f=d.substr(0,7).split("").map(function(h){return+h}).reduce(function(h,y,m){return m%2?h+y:h+y*3},0);return(10-f%10)%10},o=function(u){l(d,u);function d(f,h){return a(this,d),f.search(/^[0-9]{7}$/)!==-1&&(f+=c(f)),s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,f,h))}return r(d,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===c(this.data)}},{key:"leftText",value:function(){return t(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var h=this.data.substr(0,4);return t(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"leftEncode",this).call(this,h,"LLLL")}},{key:"rightText",value:function(){return t(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var h=this.data.substr(4,4);return t(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"rightEncode",this).call(this,h,"RRRR")}}]),d}(n.default);return Ry.default=o,Ry}var Fy={},ij;function sY(){if(ij)return Fy;ij=1,Object.defineProperty(Fy,"__esModule",{value:!0});var r=function(){function f(h,y){for(var m=0;m<y.length;m++){var g=y[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return function(h,y,m){return y&&f(h.prototype,y),m&&f(h,m),h}}(),t=m1(),e=g1(),n=s(e),i=il(),a=s(i);function s(f){return f&&f.__esModule?f:{default:f}}function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function c(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function o(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var u=function(h){var y=h.split("").map(function(m){return+m}).reduce(function(m,g,v){return v%2?m+g*9:m+g*3},0);return y%10},d=function(f){o(h,f);function h(y,m){return l(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,y,m))}return r(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var m=t.EAN5_STRUCTURE[u(this.data)];return{data:"1011"+(0,n.default)(this.data,m,"01"),text:this.text}}}]),h}(a.default);return Fy.default=d,Fy}var Ly={},aj;function oY(){if(aj)return Ly;aj=1,Object.defineProperty(Ly,"__esModule",{value:!0});var r=function(){function d(f,h){for(var y=0;y<h.length;y++){var m=h[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,y){return h&&d(f.prototype,h),y&&d(f,y),f}}(),t=m1(),e=g1(),n=s(e),i=il(),a=s(i);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function c(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function o(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var u=function(d){o(f,d);function f(h,y){return l(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,h,y))}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var y=t.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,n.default)(this.data,y,"01"),text:this.text}}}]),f}(a.default);return Ly.default=u,Ly}var xm={},sj;function ZF(){if(sj)return xm;sj=1,Object.defineProperty(xm,"__esModule",{value:!0});var r=function(){function d(f,h){for(var y=0;y<h.length;y++){var m=h[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,y){return h&&d(f.prototype,h),y&&d(f,y),f}}();xm.checksum=u;var t=g1(),e=a(t),n=il(),i=a(n);function a(d){return d&&d.__esModule?d:{default:d}}function s(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function l(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var o=function(d){c(f,d);function f(h,y){s(this,f),h.search(/^[0-9]{11}$/)!==-1&&(h+=u(h));var m=l(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,h,y));return m.displayValue=y.displayValue,y.fontSize>y.width*10?m.fontSize=y.width*10:m.fontSize=y.fontSize,m.guardHeight=y.height+m.fontSize/2+y.textMargin,m}return r(f,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==u(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var y="";return y+="101",y+=(0,e.default)(this.data.substr(0,6),"LLLLLL"),y+="01010",y+=(0,e.default)(this.data.substr(6,6),"RRRRRR"),y+="101",{data:y,text:this.text}}},{key:"guardedEncoding",value:function(){var y=[];return this.displayValue&&y.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),y.push({data:"101"+(0,e.default)(this.data[0],"L"),options:{height:this.guardHeight}}),y.push({data:(0,e.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),y.push({data:"01010",options:{height:this.guardHeight}}),y.push({data:(0,e.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),y.push({data:(0,e.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&y.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),y}}]),f}(i.default);function u(d){var f=0,h;for(h=1;h<11;h+=2)f+=parseInt(d[h]);for(h=0;h<11;h+=2)f+=parseInt(d[h])*3;return(10-f%10)%10}return xm.default=o,xm}var Dy={},oj;function lY(){if(oj)return Dy;oj=1,Object.defineProperty(Dy,"__esModule",{value:!0});var r=function(){function y(m,g){for(var v=0;v<g.length;v++){var b=g[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,g,v){return g&&y(m.prototype,g),v&&y(m,v),m}}(),t=g1(),e=s(t),n=il(),i=s(n),a=ZF();function s(y){return y&&y.__esModule?y:{default:y}}function l(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function c(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function o(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var u=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],d=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],f=function(y){o(m,y);function m(g,v){l(this,m);var b=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,g,v));if(b.isValid=!1,g.search(/^[0-9]{6}$/)!==-1)b.middleDigits=g,b.upcA=h(g,"0"),b.text=v.text||""+b.upcA[0]+g+b.upcA[b.upcA.length-1],b.isValid=!0;else if(g.search(/^[01][0-9]{7}$/)!==-1)if(b.middleDigits=g.substring(1,g.length-1),b.upcA=h(b.middleDigits,g[0]),b.upcA[b.upcA.length-1]===g[g.length-1])b.isValid=!0;else return c(b);else return c(b);return b.displayValue=v.displayValue,v.fontSize>v.width*10?b.fontSize=v.width*10:b.fontSize=v.fontSize,b.guardHeight=v.height+b.fontSize/2+v.textMargin,b}return r(m,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var v="";return v+="101",v+=this.encodeMiddleDigits(),v+="010101",{data:v,text:this.text}}},{key:"guardedEncoding",value:function(){var v=[];return this.displayValue&&v.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),v.push({data:"101",options:{height:this.guardHeight}}),v.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),v.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&v.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),v}},{key:"encodeMiddleDigits",value:function(){var v=this.upcA[0],b=this.upcA[this.upcA.length-1],w=d[parseInt(b)][parseInt(v)];return(0,e.default)(this.middleDigits,w)}}]),m}(i.default);function h(y,m){for(var g=parseInt(y[y.length-1]),v=u[g],b="",w=0,_=0;_<v.length;_++){var N=v[_];N==="X"?b+=y[w++]:b+=N}return b=""+m+b,""+b+(0,a.checksum)(b)}return Dy.default=f,Dy}var lj;function cY(){if(lj)return Es;lj=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.UPCE=Es.UPC=Es.EAN2=Es.EAN5=Es.EAN8=Es.EAN13=void 0;var r=iY(),t=f(r),e=aY(),n=f(e),i=sY(),a=f(i),s=oY(),l=f(s),c=ZF(),o=f(c),u=lY(),d=f(u);function f(h){return h&&h.__esModule?h:{default:h}}return Es.EAN13=t.default,Es.EAN8=n.default,Es.EAN5=a.default,Es.EAN2=l.default,Es.UPC=o.default,Es.UPCE=d.default,Es}var Vd={},By={},m0={},cj;function uY(){return cj||(cj=1,Object.defineProperty(m0,"__esModule",{value:!0}),m0.START_BIN="1010",m0.END_BIN="11101",m0.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),m0}var uj;function QF(){if(uj)return By;uj=1,Object.defineProperty(By,"__esModule",{value:!0});var r=function(){function o(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&o(u.prototype,d),f&&o(u,f),u}}(),t=uY(),e=il(),n=i(e);function i(o){return o&&o.__esModule?o:{default:o}}function a(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function s(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function l(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var c=function(o){l(u,o);function u(){return a(this,u),s(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return r(u,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var f=this,h=this.data.match(/.{2}/g).map(function(y){return f.encodePair(y)}).join("");return{data:t.START_BIN+h+t.END_BIN,text:this.text}}},{key:"encodePair",value:function(f){var h=t.BINARIES[f[1]];return t.BINARIES[f[0]].split("").map(function(y,m){return(y==="1"?"111":"1")+(h[m]==="1"?"000":"0")}).join("")}}]),u}(n.default);return By.default=c,By}var $y={},fj;function fY(){if(fj)return $y;fj=1,Object.defineProperty($y,"__esModule",{value:!0});var r=function(){function o(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&o(u.prototype,d),f&&o(u,f),u}}(),t=QF(),e=n(t);function n(o){return o&&o.__esModule?o:{default:o}}function i(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function a(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function s(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var l=function(u){var d=u.substr(0,13).split("").map(function(f){return parseInt(f,10)}).reduce(function(f,h,y){return f+h*(3-y%2*2)},0);return Math.ceil(d/10)*10-d},c=function(o){s(u,o);function u(d,f){return i(this,u),d.search(/^[0-9]{13}$/)!==-1&&(d+=l(d)),a(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d,f))}return r(u,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===l(this.data)}}]),u}(e.default);return $y.default=c,$y}var dj;function dY(){if(dj)return Vd;dj=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.ITF14=Vd.ITF=void 0;var r=QF(),t=i(r),e=fY(),n=i(e);function i(a){return a&&a.__esModule?a:{default:a}}return Vd.ITF=t.default,Vd.ITF14=n.default,Vd}var yo={},Uy={},hj;function y1(){if(hj)return Uy;hj=1,Object.defineProperty(Uy,"__esModule",{value:!0});var r=function(){function o(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&o(u.prototype,d),f&&o(u,f),u}}(),t=il(),e=n(t);function n(o){return o&&o.__esModule?o:{default:o}}function i(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function a(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function s(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var l=function(o){s(u,o);function u(d,f){return i(this,u),a(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,d,f))}return r(u,[{key:"encode",value:function(){for(var f="110",h=0;h<this.data.length;h++){var y=parseInt(this.data[h]),m=y.toString(2);m=c(m,4-m.length);for(var g=0;g<m.length;g++)f+=m[g]=="0"?"100":"110"}return f+="1001",{data:f,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),u}(e.default);function c(o,u){for(var d=0;d<u;d++)o="0"+o;return o}return Uy.default=l,Uy}var zy={},wm={},pj;function Ex(){if(pj)return wm;pj=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.mod10=r,wm.mod11=t;function r(e){for(var n=0,i=0;i<e.length;i++){var a=parseInt(e[i]);(i+e.length)%2===0?n+=a:n+=a*2%10+Math.floor(a*2/10)}return(10-n%10)%10}function t(e){for(var n=0,i=[2,3,4,5,6,7],a=0;a<e.length;a++){var s=parseInt(e[e.length-1-a]);n+=i[a%i.length]*s}return(11-n%11)%11}return wm}var mj;function hY(){if(mj)return zy;mj=1,Object.defineProperty(zy,"__esModule",{value:!0});var r=y1(),t=n(r),e=Ex();function n(c){return c&&c.__esModule?c:{default:c}}function i(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function a(c,o){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:c}function s(c,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);c.prototype=Object.create(o&&o.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(c,o):c.__proto__=o)}var l=function(c){s(o,c);function o(u,d){return i(this,o),a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u+(0,e.mod10)(u),d))}return o}(t.default);return zy.default=l,zy}var qy={},gj;function pY(){if(gj)return qy;gj=1,Object.defineProperty(qy,"__esModule",{value:!0});var r=y1(),t=n(r),e=Ex();function n(c){return c&&c.__esModule?c:{default:c}}function i(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function a(c,o){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:c}function s(c,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);c.prototype=Object.create(o&&o.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(c,o):c.__proto__=o)}var l=function(c){s(o,c);function o(u,d){return i(this,o),a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u+(0,e.mod11)(u),d))}return o}(t.default);return qy.default=l,qy}var Hy={},yj;function mY(){if(yj)return Hy;yj=1,Object.defineProperty(Hy,"__esModule",{value:!0});var r=y1(),t=n(r),e=Ex();function n(c){return c&&c.__esModule?c:{default:c}}function i(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function a(c,o){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:c}function s(c,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);c.prototype=Object.create(o&&o.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(c,o):c.__proto__=o)}var l=function(c){s(o,c);function o(u,d){return i(this,o),u+=(0,e.mod10)(u),u+=(0,e.mod10)(u),a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u,d))}return o}(t.default);return Hy.default=l,Hy}var Wy={},vj;function gY(){if(vj)return Wy;vj=1,Object.defineProperty(Wy,"__esModule",{value:!0});var r=y1(),t=n(r),e=Ex();function n(c){return c&&c.__esModule?c:{default:c}}function i(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function a(c,o){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:c}function s(c,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);c.prototype=Object.create(o&&o.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(c,o):c.__proto__=o)}var l=function(c){s(o,c);function o(u,d){return i(this,o),u+=(0,e.mod11)(u),u+=(0,e.mod10)(u),a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u,d))}return o}(t.default);return Wy.default=l,Wy}var bj;function yY(){if(bj)return yo;bj=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.MSI1110=yo.MSI1010=yo.MSI11=yo.MSI10=yo.MSI=void 0;var r=y1(),t=u(r),e=hY(),n=u(e),i=pY(),a=u(i),s=mY(),l=u(s),c=gY(),o=u(c);function u(d){return d&&d.__esModule?d:{default:d}}return yo.MSI=t.default,yo.MSI10=n.default,yo.MSI11=a.default,yo.MSI1010=l.default,yo.MSI1110=o.default,yo}var _m={},xj;function vY(){if(xj)return _m;xj=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.pharmacode=void 0;var r=function(){function c(o,u){for(var d=0;d<u.length;d++){var f=u[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,u,d){return u&&c(o.prototype,u),d&&c(o,d),o}}(),t=il(),e=n(t);function n(c){return c&&c.__esModule?c:{default:c}}function i(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function a(c,o){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:c}function s(c,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);c.prototype=Object.create(o&&o.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(c,o):c.__proto__=o)}var l=function(c){s(o,c);function o(u,d){i(this,o);var f=a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u,d));return f.number=parseInt(u,10),f}return r(o,[{key:"encode",value:function(){for(var d=this.number,f="";!isNaN(d)&&d!=0;)d%2===0?(f="11100"+f,d=(d-2)/2):(f="100"+f,d=(d-1)/2);return f=f.slice(0,-2),{data:f,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),o}(e.default);return _m.pharmacode=l,_m}var Sm={},wj;function bY(){if(wj)return Sm;wj=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.codabar=void 0;var r=function(){function c(o,u){for(var d=0;d<u.length;d++){var f=u[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,u,d){return u&&c(o.prototype,u),d&&c(o,d),o}}(),t=il(),e=n(t);function n(c){return c&&c.__esModule?c:{default:c}}function i(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function a(c,o){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:c}function s(c,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);c.prototype=Object.create(o&&o.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(c,o):c.__proto__=o)}var l=function(c){s(o,c);function o(u,d){i(this,o),u.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(u="A"+u+"A");var f=a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u.toUpperCase(),d));return f.text=f.options.text||f.text.replace(/[A-D]/g,""),f}return r(o,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var d=[],f=this.getEncodings(),h=0;h<this.data.length;h++)d.push(f[this.data.charAt(h)]),h!==this.data.length-1&&d.push("0");return{text:this.text,data:d.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),o}(e.default);return Sm.codabar=l,Sm}var km={},_j;function xY(){if(_j)return km;_j=1,Object.defineProperty(km,"__esModule",{value:!0}),km.GenericBarcode=void 0;var r=function(){function c(o,u){for(var d=0;d<u.length;d++){var f=u[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,u,d){return u&&c(o.prototype,u),d&&c(o,d),o}}(),t=il(),e=n(t);function n(c){return c&&c.__esModule?c:{default:c}}function i(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}function a(c,o){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:c}function s(c,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);c.prototype=Object.create(o&&o.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(c,o):c.__proto__=o)}var l=function(c){s(o,c);function o(u,d){return i(this,o),a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u,d))}return r(o,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),o}(e.default);return km.GenericBarcode=l,km}var Sj;function wY(){if(Sj)return ky;Sj=1,Object.defineProperty(ky,"__esModule",{value:!0});var r=JK(),t=nY(),e=cY(),n=dY(),i=yY(),a=vY(),s=bY(),l=xY();return ky.default={CODE39:r.CODE39,CODE128:t.CODE128,CODE128A:t.CODE128A,CODE128B:t.CODE128B,CODE128C:t.CODE128C,EAN13:e.EAN13,EAN8:e.EAN8,EAN5:e.EAN5,EAN2:e.EAN2,UPC:e.UPC,UPCE:e.UPCE,ITF14:n.ITF14,ITF:n.ITF,MSI:i.MSI,MSI10:i.MSI10,MSI11:i.MSI11,MSI1010:i.MSI1010,MSI1110:i.MSI1110,pharmacode:a.pharmacode,codabar:s.codabar,GenericBarcode:l.GenericBarcode},ky}var Vy={},kj;function jx(){if(kj)return Vy;kj=1,Object.defineProperty(Vy,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};return Vy.default=function(t,e){return r({},t,e)},Vy}var Gy={},Nj;function _Y(){if(Nj)return Gy;Nj=1,Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.default=r;function r(t){var e=[];function n(i){if(Array.isArray(i))for(var a=0;a<i.length;a++)n(i[a]);else i.text=i.text||"",i.data=i.data||"",e.push(i)}return n(t),e}return Gy}var Xy={},Ej;function SY(){if(Ej)return Xy;Ej=1,Object.defineProperty(Xy,"__esModule",{value:!0}),Xy.default=r;function r(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}return Xy}var Ky={},Yy={},Jy={},jj;function eL(){if(jj)return Jy;jj=1,Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.default=r;function r(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}return Jy}var Zy={},Aj;function tL(){if(Aj)return Zy;Aj=1,Object.defineProperty(Zy,"__esModule",{value:!0});var r={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return Zy.default=r,Zy}var Tj;function kY(){if(Tj)return Yy;Tj=1,Object.defineProperty(Yy,"__esModule",{value:!0});var r=eL(),t=i(r),e=tL(),n=i(e);function i(s){return s&&s.__esModule?s:{default:s}}function a(s){var l={};for(var c in n.default)n.default.hasOwnProperty(c)&&(s.hasAttribute("jsbarcode-"+c.toLowerCase())&&(l[c]=s.getAttribute("jsbarcode-"+c.toLowerCase())),s.hasAttribute("data-"+c.toLowerCase())&&(l[c]=s.getAttribute("data-"+c.toLowerCase())));return l.value=s.getAttribute("jsbarcode-value")||s.getAttribute("data-value"),l=(0,t.default)(l),l}return Yy.default=a,Yy}var Qy={},ev={},vo={},Cj;function rL(){if(Cj)return vo;Cj=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.getTotalWidthOfEncodings=vo.calculateEncodingAttributes=vo.getBarcodePadding=vo.getEncodingHeight=vo.getMaximumHeightOfEncodings=void 0;var r=jx(),t=e(r);function e(o){return o&&o.__esModule?o:{default:o}}function n(o,u){return u.height+(u.displayValue&&o.text.length>0?u.fontSize+u.textMargin:0)+u.marginTop+u.marginBottom}function i(o,u,d){if(d.displayValue&&u<o){if(d.textAlign=="center")return Math.floor((o-u)/2);if(d.textAlign=="left")return 0;if(d.textAlign=="right")return Math.floor(o-u)}return 0}function a(o,u,d){for(var f=0;f<o.length;f++){var h=o[f],y=(0,t.default)(u,h.options),m;y.displayValue?m=c(h.text,y,d):m=0;var g=h.data.length*y.width;h.width=Math.ceil(Math.max(m,g)),h.height=n(h,y),h.barcodePadding=i(m,g,y)}}function s(o){for(var u=0,d=0;d<o.length;d++)u+=o[d].width;return u}function l(o){for(var u=0,d=0;d<o.length;d++)o[d].height>u&&(u=o[d].height);return u}function c(o,u,d){var f;if(d)f=d;else if(typeof document<"u")f=document.createElement("canvas").getContext("2d");else return 0;f.font=u.fontOptions+" "+u.fontSize+"px "+u.font;var h=f.measureText(o);if(!h)return 0;var y=h.width;return y}return vo.getMaximumHeightOfEncodings=l,vo.getEncodingHeight=n,vo.getBarcodePadding=i,vo.calculateEncodingAttributes=a,vo.getTotalWidthOfEncodings=s,vo}var Oj;function NY(){if(Oj)return ev;Oj=1,Object.defineProperty(ev,"__esModule",{value:!0});var r=function(){function l(c,o){for(var u=0;u<o.length;u++){var d=o[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,o,u){return o&&l(c.prototype,o),u&&l(c,u),c}}(),t=jx(),e=i(t),n=rL();function i(l){return l&&l.__esModule?l:{default:l}}function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(c,o,u){a(this,l),this.canvas=c,this.encodings=o,this.options=u}return r(l,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var o=0;o<this.encodings.length;o++){var u=(0,e.default)(this.options,this.encodings[o].options);this.drawCanvasBarcode(u,this.encodings[o]),this.drawCanvasText(u,this.encodings[o]),this.moveCanvasDrawing(this.encodings[o])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var o=this.canvas.getContext("2d");o.save(),(0,n.calculateEncodingAttributes)(this.encodings,this.options,o);var u=(0,n.getTotalWidthOfEncodings)(this.encodings),d=(0,n.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=u+this.options.marginLeft+this.options.marginRight,this.canvas.height=d,o.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(o.fillStyle=this.options.background,o.fillRect(0,0,this.canvas.width,this.canvas.height)),o.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(o,u){var d=this.canvas.getContext("2d"),f=u.data,h;o.textPosition=="top"?h=o.marginTop+o.fontSize+o.textMargin:h=o.marginTop,d.fillStyle=o.lineColor;for(var y=0;y<f.length;y++){var m=y*o.width+u.barcodePadding;f[y]==="1"?d.fillRect(m,h,o.width,o.height):f[y]&&d.fillRect(m,h,o.width,o.height*f[y])}}},{key:"drawCanvasText",value:function(o,u){var d=this.canvas.getContext("2d"),f=o.fontOptions+" "+o.fontSize+"px "+o.font;if(o.displayValue){var h,y;o.textPosition=="top"?y=o.marginTop+o.fontSize-o.textMargin:y=o.height+o.textMargin+o.marginTop+o.fontSize,d.font=f,o.textAlign=="left"||u.barcodePadding>0?(h=0,d.textAlign="left"):o.textAlign=="right"?(h=u.width-1,d.textAlign="right"):(h=u.width/2,d.textAlign="center"),d.fillText(u.text,h,y)}}},{key:"moveCanvasDrawing",value:function(o){var u=this.canvas.getContext("2d");u.translate(o.width,0)}},{key:"restoreCanvas",value:function(){var o=this.canvas.getContext("2d");o.restore()}}]),l}();return ev.default=s,ev}var tv={},Pj;function EY(){if(Pj)return tv;Pj=1,Object.defineProperty(tv,"__esModule",{value:!0});var r=function(){function c(o,u){for(var d=0;d<u.length;d++){var f=u[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(o,f.key,f)}}return function(o,u,d){return u&&c(o.prototype,u),d&&c(o,d),o}}(),t=jx(),e=i(t),n=rL();function i(c){return c&&c.__esModule?c:{default:c}}function a(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")}var s="http://www.w3.org/2000/svg",l=function(){function c(o,u,d){a(this,c),this.svg=o,this.encodings=u,this.options=d,this.document=d.xmlDocument||document}return r(c,[{key:"render",value:function(){var u=this.options.marginLeft;this.prepareSVG();for(var d=0;d<this.encodings.length;d++){var f=this.encodings[d],h=(0,e.default)(this.options,f.options),y=this.createGroup(u,h.marginTop,this.svg);this.setGroupOptions(y,h),this.drawSvgBarcode(y,h,f),this.drawSVGText(y,h,f),u+=f.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,n.calculateEncodingAttributes)(this.encodings,this.options);var u=(0,n.getTotalWidthOfEncodings)(this.encodings),d=(0,n.getMaximumHeightOfEncodings)(this.encodings),f=u+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(f,d),this.options.background&&this.drawRect(0,0,f,d,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(u,d,f){var h=f.data,y;d.textPosition=="top"?y=d.fontSize+d.textMargin:y=0;for(var m=0,g=0,v=0;v<h.length;v++)g=v*d.width+f.barcodePadding,h[v]==="1"?m++:m>0&&(this.drawRect(g-d.width*m,y,d.width*m,d.height,u),m=0);m>0&&this.drawRect(g-d.width*(m-1),y,d.width*m,d.height,u)}},{key:"drawSVGText",value:function(u,d,f){var h=this.document.createElementNS(s,"text");if(d.displayValue){var y,m;h.setAttribute("style","font:"+d.fontOptions+" "+d.fontSize+"px "+d.font),d.textPosition=="top"?m=d.fontSize-d.textMargin:m=d.height+d.textMargin+d.fontSize,d.textAlign=="left"||f.barcodePadding>0?(y=0,h.setAttribute("text-anchor","start")):d.textAlign=="right"?(y=f.width-1,h.setAttribute("text-anchor","end")):(y=f.width/2,h.setAttribute("text-anchor","middle")),h.setAttribute("x",y),h.setAttribute("y",m),h.appendChild(this.document.createTextNode(f.text)),u.appendChild(h)}}},{key:"setSvgAttributes",value:function(u,d){var f=this.svg;f.setAttribute("width",u+"px"),f.setAttribute("height",d+"px"),f.setAttribute("x","0px"),f.setAttribute("y","0px"),f.setAttribute("viewBox","0 0 "+u+" "+d),f.setAttribute("xmlns",s),f.setAttribute("version","1.1"),f.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(u,d,f){var h=this.document.createElementNS(s,"g");return h.setAttribute("transform","translate("+u+", "+d+")"),f.appendChild(h),h}},{key:"setGroupOptions",value:function(u,d){u.setAttribute("style","fill:"+d.lineColor+";")}},{key:"drawRect",value:function(u,d,f,h,y){var m=this.document.createElementNS(s,"rect");return m.setAttribute("x",u),m.setAttribute("y",d),m.setAttribute("width",f),m.setAttribute("height",h),y.appendChild(m),m}}]),c}();return tv.default=l,tv}var rv={},Mj;function jY(){if(Mj)return rv;Mj=1,Object.defineProperty(rv,"__esModule",{value:!0});var r=function(){function n(i,a){for(var s=0;s<a.length;s++){var l=a[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,a,s){return a&&n(i.prototype,a),s&&n(i,s),i}}();function t(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}var e=function(){function n(i,a,s){t(this,n),this.object=i,this.encodings=a,this.options=s}return r(n,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),n}();return rv.default=e,rv}var Ij;function AY(){if(Ij)return Qy;Ij=1,Object.defineProperty(Qy,"__esModule",{value:!0});var r=NY(),t=s(r),e=EY(),n=s(e),i=jY(),a=s(i);function s(l){return l&&l.__esModule?l:{default:l}}return Qy.default={CanvasRenderer:t.default,SVGRenderer:n.default,ObjectRenderer:a.default},Qy}var g0={},Rj;function nL(){if(Rj)return g0;Rj=1,Object.defineProperty(g0,"__esModule",{value:!0});function r(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function t(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function e(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var n=function(s){e(l,s);function l(c,o){r(this,l);var u=t(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return u.name="InvalidInputException",u.symbology=c,u.input=o,u.message='"'+u.input+'" is not a valid input for '+u.symbology,u}return l}(Error),i=function(s){e(l,s);function l(){r(this,l);var c=t(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return c.name="InvalidElementException",c.message="Not supported type to render on",c}return l}(Error),a=function(s){e(l,s);function l(){r(this,l);var c=t(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return c.name="NoElementException",c.message="No element to render on.",c}return l}(Error);return g0.InvalidInputException=n,g0.InvalidElementException=i,g0.NoElementException=a,g0}var Fj;function TY(){if(Fj)return Ky;Fj=1,Object.defineProperty(Ky,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t=kY(),e=s(t),n=AY(),i=s(n),a=nL();function s(u){return u&&u.__esModule?u:{default:u}}function l(u){if(typeof u=="string")return c(u);if(Array.isArray(u)){for(var d=[],f=0;f<u.length;f++)d.push(l(u[f]));return d}else{if(typeof HTMLCanvasElement<"u"&&u instanceof HTMLImageElement)return o(u);if(u&&u.nodeName&&u.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&u instanceof SVGElement)return{element:u,options:(0,e.default)(u),renderer:i.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&u instanceof HTMLCanvasElement)return{element:u,options:(0,e.default)(u),renderer:i.default.CanvasRenderer};if(u&&u.getContext)return{element:u,renderer:i.default.CanvasRenderer};if(u&&(typeof u>"u"?"undefined":r(u))==="object"&&!u.nodeName)return{element:u,renderer:i.default.ObjectRenderer};throw new a.InvalidElementException}}function c(u){var d=document.querySelectorAll(u);if(d.length!==0){for(var f=[],h=0;h<d.length;h++)f.push(l(d[h]));return f}}function o(u){var d=document.createElement("canvas");return{element:d,options:(0,e.default)(u),renderer:i.default.CanvasRenderer,afterRender:function(){u.setAttribute("src",d.toDataURL())}}}return Ky.default=l,Ky}var nv={},Lj;function CY(){if(Lj)return nv;Lj=1,Object.defineProperty(nv,"__esModule",{value:!0});var r=function(){function n(i,a){for(var s=0;s<a.length;s++){var l=a[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(i,l.key,l)}}return function(i,a,s){return a&&n(i.prototype,a),s&&n(i,s),i}}();function t(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}var e=function(){function n(i){t(this,n),this.api=i}return r(n,[{key:"handleCatch",value:function(a){if(a.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw a.message;else throw a;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(a){try{var s=a.apply(void 0,arguments);return this.api._options.valid(!0),s}catch(l){return this.handleCatch(l),this.api}}}]),n}();return nv.default=e,nv}var Pw,Dj;function OY(){if(Dj)return Pw;Dj=1;var r=wY(),t=v(r),e=jx(),n=v(e),i=_Y(),a=v(i),s=SY(),l=v(s),c=TY(),o=v(c),u=eL(),d=v(u),f=CY(),h=v(f),y=nL(),m=tL(),g=v(m);function v(F){return F&&F.__esModule?F:{default:F}}var b=function(){},w=function(H,z,U){var O=new b;if(typeof H>"u")throw Error("No element to render on was provided.");return O._renderProperties=(0,o.default)(H),O._encodings=[],O._options=g.default,O._errorHandler=new h.default(O),typeof z<"u"&&(U=U||{},U.format||(U.format=M()),O.options(U)[U.format](z,U).render()),O};w.getModule=function(F){return t.default[F]};for(var _ in t.default)t.default.hasOwnProperty(_)&&N(t.default,_);function N(F,H){b.prototype[H]=b.prototype[H.toUpperCase()]=b.prototype[H.toLowerCase()]=function(z,U){var O=this;return O._errorHandler.wrapBarcodeCall(function(){U.text=typeof U.text>"u"?void 0:""+U.text;var L=(0,n.default)(O._options,U);L=(0,d.default)(L);var C=F[H],k=P(z,C,L);return O._encodings.push(k),O})}}function P(F,H,z){F=""+F;var U=new H(F,z);if(!U.valid())throw new y.InvalidInputException(U.constructor.name,F);var O=U.encode();O=(0,a.default)(O);for(var L=0;L<O.length;L++)O[L].options=(0,n.default)(z,O[L].options);return O}function M(){return t.default.CODE128?"CODE128":Object.keys(t.default)[0]}b.prototype.options=function(F){return this._options=(0,n.default)(this._options,F),this},b.prototype.blank=function(F){var H=new Array(F+1).join("0");return this._encodings.push({data:H}),this},b.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var F;for(var H in this._renderProperties){F=this._renderProperties[H];var z=(0,n.default)(this._options,F.options);z.format=="auto"&&(z.format=M()),this._errorHandler.wrapBarcodeCall(function(){var U=z.value,O=t.default[z.format.toUpperCase()],L=P(U,O,z);A(F,L,z)})}}},b.prototype.render=function(){if(!this._renderProperties)throw new y.NoElementException;if(Array.isArray(this._renderProperties))for(var F=0;F<this._renderProperties.length;F++)A(this._renderProperties[F],this._encodings,this._options);else A(this._renderProperties,this._encodings,this._options);return this},b.prototype._defaults=g.default;function A(F,H,z){H=(0,a.default)(H);for(var U=0;U<H.length;U++)H[U].options=(0,n.default)(z,H[U].options),(0,l.default)(H[U].options);(0,l.default)(z);var O=F.renderer,L=new O(F.element,H,z);L.render(),F.afterRender&&F.afterRender()}return typeof window<"u"&&(window.JsBarcode=w),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(F,H){var z=[];return jQuery(this).each(function(){z.push(this)}),w(z,F,H)}),Pw=w,Pw}var PY=OY();const MY=kn(PY);var y0={},Mw,Bj;function IY(){return Bj||(Bj=1,Mw=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Mw}var Iw={},Tf={},$j;function Ah(){if($j)return Tf;$j=1;let r;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Tf.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},Tf.getSymbolTotalCodewords=function(n){return t[n]},Tf.getBCHDigit=function(e){let n=0;for(;e!==0;)n++,e>>>=1;return n},Tf.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');r=n},Tf.isKanjiModeEnabled=function(){return typeof r<"u"},Tf.toSJIS=function(n){return r(n)},Tf}var Rw={},Uj;function R8(){return Uj||(Uj=1,function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+e)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,i){if(r.isValid(n))return n;try{return t(n)}catch{return i}}}(Rw)),Rw}var Fw,zj;function RY(){if(zj)return Fw;zj=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},Fw=r,Fw}var Lw,qj;function FY(){if(qj)return Lw;qj=1;function r(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return r.prototype.set=function(t,e,n,i){const a=t*this.size+e;this.data[a]=n,i&&(this.reservedBit[a]=!0)},r.prototype.get=function(t,e){return this.data[t*this.size+e]},r.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},r.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},Lw=r,Lw}var Dw={},Hj;function LY(){return Hj||(Hj=1,function(r){const t=Ah().getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=t(n),s=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-s;return l.push(6),l.reverse()},r.getPositions=function(n){const i=[],a=r.getRowColCoords(n),s=a.length;for(let l=0;l<s;l++)for(let c=0;c<s;c++)l===0&&c===0||l===0&&c===s-1||l===s-1&&c===0||i.push([a[l],a[c]]);return i}}(Dw)),Dw}var Bw={},Wj;function DY(){if(Wj)return Bw;Wj=1;const r=Ah().getSymbolSize,t=7;return Bw.getPositions=function(n){const i=r(n);return[[0,0],[i-t,0],[0,i-t]]},Bw}var $w={},Vj;function BY(){return Vj||(Vj=1,function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};r.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},r.from=function(i){return r.isValid(i)?parseInt(i,10):void 0},r.getPenaltyN1=function(i){const a=i.size;let s=0,l=0,c=0,o=null,u=null;for(let d=0;d<a;d++){l=c=0,o=u=null;for(let f=0;f<a;f++){let h=i.get(d,f);h===o?l++:(l>=5&&(s+=t.N1+(l-5)),o=h,l=1),h=i.get(f,d),h===u?c++:(c>=5&&(s+=t.N1+(c-5)),u=h,c=1)}l>=5&&(s+=t.N1+(l-5)),c>=5&&(s+=t.N1+(c-5))}return s},r.getPenaltyN2=function(i){const a=i.size;let s=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const o=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(o===4||o===0)&&s++}return s*t.N2},r.getPenaltyN3=function(i){const a=i.size;let s=0,l=0,c=0;for(let o=0;o<a;o++){l=c=0;for(let u=0;u<a;u++)l=l<<1&2047|i.get(o,u),u>=10&&(l===1488||l===93)&&s++,c=c<<1&2047|i.get(u,o),u>=10&&(c===1488||c===93)&&s++}return s*t.N3},r.getPenaltyN4=function(i){let a=0;const s=i.data.length;for(let c=0;c<s;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/s/5)-10)*t.N4};function e(n,i,a){switch(n){case r.Patterns.PATTERN000:return(i+a)%2===0;case r.Patterns.PATTERN001:return i%2===0;case r.Patterns.PATTERN010:return a%3===0;case r.Patterns.PATTERN011:return(i+a)%3===0;case r.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case r.Patterns.PATTERN101:return i*a%2+i*a%3===0;case r.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case r.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(i,a){const s=a.size;for(let l=0;l<s;l++)for(let c=0;c<s;c++)a.isReserved(c,l)||a.xor(c,l,e(i,c,l))},r.getBestMask=function(i,a){const s=Object.keys(r.Patterns).length;let l=0,c=1/0;for(let o=0;o<s;o++){a(o),r.applyMask(o,i);const u=r.getPenaltyN1(i)+r.getPenaltyN2(i)+r.getPenaltyN3(i)+r.getPenaltyN4(i);r.applyMask(o,i),u<c&&(c=u,l=o)}return l}}($w)),$w}var iv={},Gj;function iL(){if(Gj)return iv;Gj=1;const r=R8(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return iv.getBlocksCount=function(i,a){switch(a){case r.L:return t[(i-1)*4+0];case r.M:return t[(i-1)*4+1];case r.Q:return t[(i-1)*4+2];case r.H:return t[(i-1)*4+3];default:return}},iv.getTotalCodewordsCount=function(i,a){switch(a){case r.L:return e[(i-1)*4+0];case r.M:return e[(i-1)*4+1];case r.Q:return e[(i-1)*4+2];case r.H:return e[(i-1)*4+3];default:return}},iv}var Uw={},Nm={},Xj;function $Y(){if(Xj)return Nm;Xj=1;const r=new Uint8Array(512),t=new Uint8Array(256);return function(){let n=1;for(let i=0;i<255;i++)r[i]=n,t[n]=i,n<<=1,n&256&&(n^=285);for(let i=255;i<512;i++)r[i]=r[i-255]}(),Nm.log=function(n){if(n<1)throw new Error("log("+n+")");return t[n]},Nm.exp=function(n){return r[n]},Nm.mul=function(n,i){return n===0||i===0?0:r[t[n]+t[i]]},Nm}var Kj;function UY(){return Kj||(Kj=1,function(r){const t=$Y();r.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let s=0;s<n.length;s++)for(let l=0;l<i.length;l++)a[s+l]^=t.mul(n[s],i[l]);return a},r.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const s=a[0];for(let c=0;c<i.length;c++)a[c]^=t.mul(i[c],s);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},r.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=r.mul(i,new Uint8Array([1,t.exp(a)]));return i}}(Uw)),Uw}var zw,Yj;function zY(){if(Yj)return zw;Yj=1;const r=UY();function t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(n){this.degree=n,this.genPoly=r.generateECPolynomial(this.degree)},t.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(n.length+this.degree);i.set(n);const a=r.mod(i,this.genPoly),s=this.degree-a.length;if(s>0){const l=new Uint8Array(this.degree);return l.set(a,s),l}return a},zw=t,zw}var qw={},Hw={},Ww={},Jj;function aL(){return Jj||(Jj=1,Ww.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),Ww}var ac={},Zj;function sL(){if(Zj)return ac;Zj=1;const r="[0-9]+",t="[A-Z $%*+\\-./:]+";let e="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";e=e.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+e+`)(?:.|[\r
]))+`;ac.KANJI=new RegExp(e,"g"),ac.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ac.BYTE=new RegExp(n,"g"),ac.NUMERIC=new RegExp(r,"g"),ac.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+e+"$"),a=new RegExp("^"+r+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ac.testKanji=function(c){return i.test(c)},ac.testNumeric=function(c){return a.test(c)},ac.testAlphanumeric=function(c){return s.test(c)},ac}var Qj;function Th(){return Qj||(Qj=1,function(r){const t=aL(),e=sL();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(a,s){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?a.ccBits[0]:s<27?a.ccBits[1]:a.ccBits[2]},r.getBestModeForData=function(a){return e.testNumeric(a)?r.NUMERIC:e.testAlphanumeric(a)?r.ALPHANUMERIC:e.testKanji(a)?r.KANJI:r.BYTE},r.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},r.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+i)}}r.from=function(a,s){if(r.isValid(a))return a;try{return n(a)}catch{return s}}}(Hw)),Hw}var eA;function qY(){return eA||(eA=1,function(r){const t=Ah(),e=iL(),n=R8(),i=Th(),a=aL(),s=7973,l=t.getBCHDigit(s);function c(f,h,y){for(let m=1;m<=40;m++)if(h<=r.getCapacity(m,y,f))return m}function o(f,h){return i.getCharCountIndicator(f,h)+4}function u(f,h){let y=0;return f.forEach(function(m){const g=o(m.mode,h);y+=g+m.getBitsLength()}),y}function d(f,h){for(let y=1;y<=40;y++)if(u(f,y)<=r.getCapacity(y,h,i.MIXED))return y}r.from=function(h,y){return a.isValid(h)?parseInt(h,10):y},r.getCapacity=function(h,y,m){if(!a.isValid(h))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const g=t.getSymbolTotalCodewords(h),v=e.getTotalCodewordsCount(h,y),b=(g-v)*8;if(m===i.MIXED)return b;const w=b-o(m,h);switch(m){case i.NUMERIC:return Math.floor(w/10*3);case i.ALPHANUMERIC:return Math.floor(w/11*2);case i.KANJI:return Math.floor(w/13);case i.BYTE:default:return Math.floor(w/8)}},r.getBestVersionForData=function(h,y){let m;const g=n.from(y,n.M);if(Array.isArray(h)){if(h.length>1)return d(h,g);if(h.length===0)return 1;m=h[0]}else m=h;return c(m.mode,m.getLength(),g)},r.getEncodedBits=function(h){if(!a.isValid(h)||h<7)throw new Error("Invalid QR Code version");let y=h<<12;for(;t.getBCHDigit(y)-l>=0;)y^=s<<t.getBCHDigit(y)-l;return h<<12|y}}(qw)),qw}var Vw={},tA;function HY(){if(tA)return Vw;tA=1;const r=Ah(),t=1335,e=21522,n=r.getBCHDigit(t);return Vw.getEncodedBits=function(a,s){const l=a.bit<<3|s;let c=l<<10;for(;r.getBCHDigit(c)-n>=0;)c^=t<<r.getBCHDigit(c)-n;return(l<<10|c)^e},Vw}var Gw={},Xw,rA;function WY(){if(rA)return Xw;rA=1;const r=Th();function t(e){this.mode=r.NUMERIC,this.data=e.toString()}return t.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let i,a,s;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),s=parseInt(a,10),n.put(s,10);const l=this.data.length-i;l>0&&(a=this.data.substr(i),s=parseInt(a,10),n.put(s,l*3+1))},Xw=t,Xw}var Kw,nA;function VY(){if(nA)return Kw;nA=1;const r=Th(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(n){this.mode=r.ALPHANUMERIC,this.data=n}return e.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let s=t.indexOf(this.data[a])*45;s+=t.indexOf(this.data[a+1]),i.put(s,11)}this.data.length%2&&i.put(t.indexOf(this.data[a]),6)},Kw=e,Kw}var Yw,iA;function GY(){if(iA)return Yw;iA=1;const r=Th();function t(e){this.mode=r.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}return t.getBitsLength=function(n){return n*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){for(let n=0,i=this.data.length;n<i;n++)e.put(this.data[n],8)},Yw=t,Yw}var Jw,aA;function XY(){if(aA)return Jw;aA=1;const r=Th(),t=Ah();function e(n){this.mode=r.KANJI,this.data=n}return e.getBitsLength=function(i){return i*13},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let i;for(i=0;i<this.data.length;i++){let a=t.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),n.put(a,13)}},Jw=e,Jw}var Zw={exports:{}},sA;function KY(){return sA||(sA=1,function(r){var t={single_source_shortest_paths:function(e,n,i){var a={},s={};s[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,o,u,d,f,h,y,m,g;!l.empty();){c=l.pop(),o=c.value,d=c.cost,f=e[o]||{};for(u in f)f.hasOwnProperty(u)&&(h=f[u],y=d+h,m=s[u],g=typeof s[u]>"u",(g||m>y)&&(s[u]=y,l.push(u,y),a[u]=o))}if(typeof i<"u"&&typeof s[i]>"u"){var v=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(v)}return a},extract_shortest_path_from_predecessor_list:function(e,n){for(var i=[],a=n;a;)i.push(a),e[a],a=e[a];return i.reverse(),i},find_path:function(e,n,i){var a=t.single_source_shortest_paths(e,n,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(e){var n=t.PriorityQueue,i={},a;e=e||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=e.sorter||n.default_sorter,i},default_sorter:function(e,n){return e.cost-n.cost},push:function(e,n){var i={value:e,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=t}(Zw)),Zw.exports}var oA;function YY(){return oA||(oA=1,function(r){const t=Th(),e=WY(),n=VY(),i=GY(),a=XY(),s=sL(),l=Ah(),c=KY();function o(v){return unescape(encodeURIComponent(v)).length}function u(v,b,w){const _=[];let N;for(;(N=v.exec(w))!==null;)_.push({data:N[0],index:N.index,mode:b,length:N[0].length});return _}function d(v){const b=u(s.NUMERIC,t.NUMERIC,v),w=u(s.ALPHANUMERIC,t.ALPHANUMERIC,v);let _,N;return l.isKanjiModeEnabled()?(_=u(s.BYTE,t.BYTE,v),N=u(s.KANJI,t.KANJI,v)):(_=u(s.BYTE_KANJI,t.BYTE,v),N=[]),b.concat(w,_,N).sort(function(M,A){return M.index-A.index}).map(function(M){return{data:M.data,mode:M.mode,length:M.length}})}function f(v,b){switch(b){case t.NUMERIC:return e.getBitsLength(v);case t.ALPHANUMERIC:return n.getBitsLength(v);case t.KANJI:return a.getBitsLength(v);case t.BYTE:return i.getBitsLength(v)}}function h(v){return v.reduce(function(b,w){const _=b.length-1>=0?b[b.length-1]:null;return _&&_.mode===w.mode?(b[b.length-1].data+=w.data,b):(b.push(w),b)},[])}function y(v){const b=[];for(let w=0;w<v.length;w++){const _=v[w];switch(_.mode){case t.NUMERIC:b.push([_,{data:_.data,mode:t.ALPHANUMERIC,length:_.length},{data:_.data,mode:t.BYTE,length:_.length}]);break;case t.ALPHANUMERIC:b.push([_,{data:_.data,mode:t.BYTE,length:_.length}]);break;case t.KANJI:b.push([_,{data:_.data,mode:t.BYTE,length:o(_.data)}]);break;case t.BYTE:b.push([{data:_.data,mode:t.BYTE,length:o(_.data)}])}}return b}function m(v,b){const w={},_={start:{}};let N=["start"];for(let P=0;P<v.length;P++){const M=v[P],A=[];for(let F=0;F<M.length;F++){const H=M[F],z=""+P+F;A.push(z),w[z]={node:H,lastCount:0},_[z]={};for(let U=0;U<N.length;U++){const O=N[U];w[O]&&w[O].node.mode===H.mode?(_[O][z]=f(w[O].lastCount+H.length,H.mode)-f(w[O].lastCount,H.mode),w[O].lastCount+=H.length):(w[O]&&(w[O].lastCount=H.length),_[O][z]=f(H.length,H.mode)+4+t.getCharCountIndicator(H.mode,b))}}N=A}for(let P=0;P<N.length;P++)_[N[P]].end=0;return{map:_,table:w}}function g(v,b){let w;const _=t.getBestModeForData(v);if(w=t.from(b,_),w!==t.BYTE&&w.bit<_.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(w)+`.
 Suggested mode is: `+t.toString(_));switch(w===t.KANJI&&!l.isKanjiModeEnabled()&&(w=t.BYTE),w){case t.NUMERIC:return new e(v);case t.ALPHANUMERIC:return new n(v);case t.KANJI:return new a(v);case t.BYTE:return new i(v)}}r.fromArray=function(b){return b.reduce(function(w,_){return typeof _=="string"?w.push(g(_,null)):_.data&&w.push(g(_.data,_.mode)),w},[])},r.fromString=function(b,w){const _=d(b,l.isKanjiModeEnabled()),N=y(_),P=m(N,w),M=c.find_path(P.map,"start","end"),A=[];for(let F=1;F<M.length-1;F++)A.push(P.table[M[F]].node);return r.fromArray(h(A))},r.rawSplit=function(b){return r.fromArray(d(b,l.isKanjiModeEnabled()))}}(Gw)),Gw}var lA;function JY(){if(lA)return Iw;lA=1;const r=Ah(),t=R8(),e=RY(),n=FY(),i=LY(),a=DY(),s=BY(),l=iL(),c=zY(),o=qY(),u=HY(),d=Th(),f=YY();function h(P,M){const A=P.size,F=a.getPositions(M);for(let H=0;H<F.length;H++){const z=F[H][0],U=F[H][1];for(let O=-1;O<=7;O++)if(!(z+O<=-1||A<=z+O))for(let L=-1;L<=7;L++)U+L<=-1||A<=U+L||(O>=0&&O<=6&&(L===0||L===6)||L>=0&&L<=6&&(O===0||O===6)||O>=2&&O<=4&&L>=2&&L<=4?P.set(z+O,U+L,!0,!0):P.set(z+O,U+L,!1,!0))}}function y(P){const M=P.size;for(let A=8;A<M-8;A++){const F=A%2===0;P.set(A,6,F,!0),P.set(6,A,F,!0)}}function m(P,M){const A=i.getPositions(M);for(let F=0;F<A.length;F++){const H=A[F][0],z=A[F][1];for(let U=-2;U<=2;U++)for(let O=-2;O<=2;O++)U===-2||U===2||O===-2||O===2||U===0&&O===0?P.set(H+U,z+O,!0,!0):P.set(H+U,z+O,!1,!0)}}function g(P,M){const A=P.size,F=o.getEncodedBits(M);let H,z,U;for(let O=0;O<18;O++)H=Math.floor(O/3),z=O%3+A-8-3,U=(F>>O&1)===1,P.set(H,z,U,!0),P.set(z,H,U,!0)}function v(P,M,A){const F=P.size,H=u.getEncodedBits(M,A);let z,U;for(z=0;z<15;z++)U=(H>>z&1)===1,z<6?P.set(z,8,U,!0):z<8?P.set(z+1,8,U,!0):P.set(F-15+z,8,U,!0),z<8?P.set(8,F-z-1,U,!0):z<9?P.set(8,15-z-1+1,U,!0):P.set(8,15-z-1,U,!0);P.set(F-8,8,1,!0)}function b(P,M){const A=P.size;let F=-1,H=A-1,z=7,U=0;for(let O=A-1;O>0;O-=2)for(O===6&&O--;;){for(let L=0;L<2;L++)if(!P.isReserved(H,O-L)){let C=!1;U<M.length&&(C=(M[U]>>>z&1)===1),P.set(H,O-L,C),z--,z===-1&&(U++,z=7)}if(H+=F,H<0||A<=H){H-=F,F=-F;break}}}function w(P,M,A){const F=new e;A.forEach(function(L){F.put(L.mode.bit,4),F.put(L.getLength(),d.getCharCountIndicator(L.mode,P)),L.write(F)});const H=r.getSymbolTotalCodewords(P),z=l.getTotalCodewordsCount(P,M),U=(H-z)*8;for(F.getLengthInBits()+4<=U&&F.put(0,4);F.getLengthInBits()%8!==0;)F.putBit(0);const O=(U-F.getLengthInBits())/8;for(let L=0;L<O;L++)F.put(L%2?17:236,8);return _(F,P,M)}function _(P,M,A){const F=r.getSymbolTotalCodewords(M),H=l.getTotalCodewordsCount(M,A),z=F-H,U=l.getBlocksCount(M,A),O=F%U,L=U-O,C=Math.floor(F/U),k=Math.floor(z/U),j=k+1,E=C-k,T=new c(E);let R=0;const V=new Array(U),B=new Array(U);let K=0;const Z=new Uint8Array(P.buffer);for(let D=0;D<U;D++){const X=D<L?k:j;V[D]=Z.slice(R,R+X),B[D]=T.encode(V[D]),R+=X,K=Math.max(K,X)}const ne=new Uint8Array(F);let G=0,te,I;for(te=0;te<K;te++)for(I=0;I<U;I++)te<V[I].length&&(ne[G++]=V[I][te]);for(te=0;te<E;te++)for(I=0;I<U;I++)ne[G++]=B[I][te];return ne}function N(P,M,A,F){let H;if(Array.isArray(P))H=f.fromArray(P);else if(typeof P=="string"){let C=M;if(!C){const k=f.rawSplit(P);C=o.getBestVersionForData(k,A)}H=f.fromString(P,C||40)}else throw new Error("Invalid data");const z=o.getBestVersionForData(H,A);if(!z)throw new Error("The amount of data is too big to be stored in a QR Code");if(!M)M=z;else if(M<z)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+z+`.
`);const U=w(M,A,H),O=r.getSymbolSize(M),L=new n(O);return h(L,M),y(L),m(L,M),v(L,A,0),M>=7&&g(L,M),b(L,U),isNaN(F)&&(F=s.getBestMask(L,v.bind(null,L,A))),s.applyMask(F,L),v(L,A,F),{modules:L,version:M,errorCorrectionLevel:A,maskPattern:F,segments:H}}return Iw.create=function(M,A){if(typeof M>"u"||M==="")throw new Error("No input text");let F=t.M,H,z;return typeof A<"u"&&(F=t.from(A.errorCorrectionLevel,t.M),H=o.from(A.version),z=s.from(A.maskPattern),A.toSJISFunc&&r.setToSJISFunction(A.toSJISFunc)),N(M,H,F,z)},Iw}var Qw={},e5={},cA;function oL(){return cA||(cA=1,function(r){function t(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let n=e.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+e);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:a,scale:a?4:s,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},r.getImageWidth=function(n,i){const a=r.getScale(n,i);return Math.floor((n+i.margin*2)*a)},r.qrToImageData=function(n,i,a){const s=i.modules.size,l=i.modules.data,c=r.getScale(s,a),o=Math.floor((s+a.margin*2)*c),u=a.margin*c,d=[a.color.light,a.color.dark];for(let f=0;f<o;f++)for(let h=0;h<o;h++){let y=(f*o+h)*4,m=a.color.light;if(f>=u&&h>=u&&f<o-u&&h<o-u){const g=Math.floor((f-u)/c),v=Math.floor((h-u)/c);m=d[l[g*s+v]?1:0]}n[y++]=m.r,n[y++]=m.g,n[y++]=m.b,n[y]=m.a}}}(e5)),e5}var uA;function ZY(){return uA||(uA=1,function(r){const t=oL();function e(i,a,s){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=s,a.width=s,a.style.height=s+"px",a.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(a,s,l){let c=l,o=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(o=n()),c=t.getOptions(c);const u=t.getImageWidth(a.modules.size,c),d=o.getContext("2d"),f=d.createImageData(u,u);return t.qrToImageData(f.data,a,c),e(d,o,u),d.putImageData(f,0,0),o},r.renderToDataURL=function(a,s,l){let c=l;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const o=r.render(a,s,c),u=c.type||"image/png",d=c.rendererOpts||{};return o.toDataURL(u,d.quality)}}(Qw)),Qw}var t5={},fA;function QY(){if(fA)return t5;fA=1;const r=oL();function t(i,a){const s=i.a/255,l=a+'="'+i.hex+'"';return s<1?l+" "+a+'-opacity="'+s.toFixed(2).slice(1)+'"':l}function e(i,a,s){let l=i+a;return typeof s<"u"&&(l+=" "+s),l}function n(i,a,s){let l="",c=0,o=!1,u=0;for(let d=0;d<i.length;d++){const f=Math.floor(d%a),h=Math.floor(d/a);!f&&!o&&(o=!0),i[d]?(u++,d>0&&f>0&&i[d-1]||(l+=o?e("M",f+s,.5+h+s):e("m",c,0),c=0,o=!1),f+1<a&&i[d+1]||(l+=e("h",u),u=0)):c++}return l}return t5.render=function(a,s,l){const c=r.getOptions(s),o=a.modules.size,u=a.modules.data,d=o+c.margin*2,f=c.color.light.a?"<path "+t(c.color.light,"fill")+' d="M0 0h'+d+"v"+d+'H0z"/>':"",h="<path "+t(c.color.dark,"stroke")+' d="'+n(u,o,c.margin)+'"/>',y='viewBox="0 0 '+d+" "+d+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+y+' shape-rendering="crispEdges">'+f+h+`</svg>
`;return typeof l=="function"&&l(null,g),g},t5}var dA;function eJ(){if(dA)return y0;dA=1;const r=IY(),t=JY(),e=ZY(),n=QY();function i(a,s,l,c,o){const u=[].slice.call(arguments,1),d=u.length,f=typeof u[d-1]=="function";if(!f&&!r())throw new Error("Callback required as last argument");if(f){if(d<2)throw new Error("Too few arguments provided");d===2?(o=l,l=s,s=c=void 0):d===3&&(s.getContext&&typeof o>"u"?(o=c,c=void 0):(o=c,c=l,l=s,s=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(l=s,s=c=void 0):d===2&&!s.getContext&&(c=l,l=s,s=void 0),new Promise(function(h,y){try{const m=t.create(l,c);h(a(m,s,c))}catch(m){y(m)}})}try{const h=t.create(l,c);o(null,a(h,s,c))}catch(h){o(h)}}return y0.create=t.create,y0.toCanvas=i.bind(null,e.render),y0.toDataURL=i.bind(null,e.renderToDataURL),y0.toString=i.bind(null,function(a,s,l){return n.render(a,l)}),y0}var tJ=eJ();const rJ=kn(tJ),hA=100,nJ={name:"Tallybooks",legal_name:"Tallybooks Private Limited",address_street:"123 Business Street, Suite 100",address_city:"Mumbai",address_state:"Maharashtra",address_postal_code:"400001",address_country:"India",phone:"(555) 123-4567",tax_number:"22AAAAA0000A1Z5",pan:"ABCDE1234F",state_code:"27",email:"info@tallybooks.com",website:"www.tallybooks.com"},iJ=r=>{const t=document.createElement("canvas");return MY(t,r,{format:"CODE128",displayValue:!1,width:1.5,height:40,margin:0}),t.toDataURL("image/png")},aJ=({company:r,receipt:t})=>{var i,a,s;const e=`INV:${t.id}|DATE:${t.date}|AMT:${t.total}|GST:${r.tax_number||"NA"}`,n=iJ(e);return p.jsxs("div",{style:{width:300,fontFamily:"'Courier New', Courier, monospace",fontSize:14,margin:"0 auto",background:"#fff",padding:12,border:"1px solid #ccc",boxSizing:"border-box"},children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:8},children:[r.logo_url&&p.jsx("div",{style:{textAlign:"center",marginBottom:8},children:p.jsx("img",{src:r.logo_url,alt:r.name,style:{maxWidth:80,maxHeight:40,margin:"0 auto"}})}),p.jsx("div",{style:{textAlign:"center",fontWeight:"bold",fontSize:18,marginBottom:4},children:r.name}),r.tax_number&&p.jsxs("div",{style:{textAlign:"center",padding:"4px 8px",backgroundColor:"#f0f0f0",borderRadius:"4px",marginBottom:4,width:"100%"},children:[p.jsxs("div",{style:{fontWeight:"bold"},children:["GSTIN: ",r.tax_number]}),r.state_code&&p.jsxs("div",{children:["State Code: ",r.state_code]}),r.pan&&p.jsxs("div",{children:["PAN: ",r.pan]})]}),p.jsxs("div",{style:{textAlign:"center",marginBottom:2},children:[r.address_street&&p.jsx("div",{children:r.address_street}),(r.address_city||r.address_state||r.address_postal_code)&&p.jsx("div",{children:[r.address_city,r.address_state,r.address_postal_code].filter(Boolean).join(", ")}),r.address_country&&p.jsx("div",{children:r.address_country})]}),p.jsxs("div",{style:{textAlign:"center",fontSize:12,marginBottom:2},children:[r.phone&&p.jsxs("div",{children:["Phone: ",r.phone]}),r.email&&p.jsxs("div",{children:["Email: ",r.email]}),r.website&&p.jsxs("div",{children:["Web: ",r.website]})]})]}),p.jsx("div",{style:{borderTop:"1px solid #000",margin:"8px 0"}}),p.jsx("div",{style:{textAlign:"center",fontWeight:"bold",fontSize:16,marginBottom:8,padding:"4px",backgroundColor:"#f0f0f0",borderRadius:"4px"},children:"TAX INVOICE"}),p.jsxs("div",{style:{display:"flex",marginBottom:8},children:[p.jsxs("div",{style:{flex:1},children:[p.jsxs("div",{style:{marginBottom:2},children:[p.jsx("span",{style:{fontWeight:"bold"},children:"Invoice #:"})," ",t.id]}),p.jsxs("div",{style:{marginBottom:2},children:[p.jsx("span",{style:{fontWeight:"bold"},children:"Date:"})," ",t.date]}),p.jsxs("div",{style:{marginBottom:2},children:[p.jsx("span",{style:{fontWeight:"bold"},children:"Time:"})," ",t.time]}),p.jsxs("div",{style:{marginBottom:2},children:[p.jsx("span",{style:{fontWeight:"bold"},children:"Cashier:"})," ",t.cashier]})]}),t.customer&&p.jsxs("div",{style:{flex:1,borderLeft:"1px dashed #ccc",paddingLeft:8},children:[p.jsx("div",{style:{fontWeight:"bold",marginBottom:2},children:"Customer Details:"}),p.jsx("div",{style:{marginBottom:2},children:t.customer.name}),t.customer.phone&&p.jsxs("div",{style:{marginBottom:2},children:["Ph: ",t.customer.phone]}),p.jsx("div",{style:{fontSize:11,wordBreak:"break-all"},children:t.customer.email})]})]}),p.jsx("div",{style:{borderTop:"1px solid #000",margin:"8px 0"}}),p.jsxs("div",{style:{display:"flex",fontWeight:"bold",borderBottom:"1px solid #000",paddingBottom:4,marginBottom:8},children:[p.jsx("span",{style:{flex:2},children:"Item"}),p.jsx("span",{style:{flex:.5,textAlign:"center"},children:"Qty"}),p.jsx("span",{style:{flex:1,textAlign:"right"},children:"Price"}),p.jsx("span",{style:{flex:1,textAlign:"right"},children:"Total"})]}),p.jsx("div",{style:{marginBottom:8},children:t.items.map((l,c)=>p.jsxs("div",{style:{marginBottom:8},children:[p.jsxs("div",{style:{display:"flex",marginBottom:2},children:[p.jsx("span",{style:{flex:2},children:l.name}),p.jsx("span",{style:{flex:.5,textAlign:"center"},children:l.quantity}),p.jsx("span",{style:{flex:1,textAlign:"right"},children:l.price.toFixed(2)}),p.jsx("span",{style:{flex:1,textAlign:"right"},children:l.total.toFixed(2)})]}),(l.discountPercentage||l.discountAmount)&&p.jsx("div",{style:{fontSize:12,color:"#555",backgroundColor:"#f9f9f9",padding:"2px 4px",marginLeft:10,borderRadius:"2px"},children:p.jsxs("span",{children:["Discount: ",l.discountPercentage?`${l.discountPercentage}%`:"",l.discountPercentage&&l.discountAmount?" / ":"",l.discountAmount?`-${l.discountAmount.toFixed(2)}`:""]})}),l.taxRate&&p.jsxs("div",{style:{fontSize:11,color:"#777",marginLeft:10},children:["GST: ",l.taxRate,"%"]})]},c))}),p.jsx("div",{style:{borderTop:"1px dashed #000",margin:"3px 0"}}),p.jsxs("div",{style:{marginBottom:8},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:2,marginTop:6,paddingTop:0},children:[p.jsx("span",{children:"Subtotal:"}),p.jsx("span",{children:t.subtotal.toFixed(2)})]}),(t.discountPercentage||t.discountAmount)&&p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:2,backgroundColor:"#f0fff0",padding:"2px 4px",borderRadius:"2px"},children:[p.jsx("span",{children:"Discount:"}),p.jsxs("span",{children:[t.discountPercentage?`${t.discountPercentage}% / `:"",t.discountAmount?`-${t.discountAmount.toFixed(2)}`:""]})]}),t.taxType&&p.jsxs("div",{style:{marginBottom:8,backgroundColor:"#f8f9fa",padding:"8px",borderRadius:"4px",border:"1px solid #e9ecef",fontSize:13},children:[p.jsxs("div",{style:{fontWeight:"bold",marginBottom:6,color:t.taxInclusive?"#0d6efd":"#198754",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("span",{children:"GST Summary"}),p.jsx("span",{style:{backgroundColor:t.taxInclusive?"#e7f1ff":"#e6f7ed",color:t.taxInclusive?"#0d6efd":"#198754",padding:"2px 6px",borderRadius:"4px",fontSize:11,fontWeight:"normal"},children:t.taxInclusive?"Inclusive of GST":"Exclusive of GST"})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4,fontSize:12},children:[p.jsx("span",{children:"Taxable Amount:"}),p.jsx("span",{children:t.subtotal.toFixed(2)})]}),t.taxType==="split"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12},children:[p.jsxs("span",{children:["CGST (",(t.cgstRate||9).toFixed(1),"%):"]}),p.jsxs("span",{children:["+",((i=t.cgst)==null?void 0:i.toFixed(2))||"0.00"]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12},children:[p.jsxs("span",{children:["SGST (",(t.sgstRate||9).toFixed(1),"%):"]}),p.jsxs("span",{children:["+",((a=t.sgst)==null?void 0:a.toFixed(2))||"0.00"]})]})]}):p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12},children:[p.jsxs("span",{children:["IGST (",(t.igstRate||18).toFixed(1),"%):"]}),p.jsxs("span",{children:["+",((s=t.igst)==null?void 0:s.toFixed(2))||"0.00"]})]}),t.cess&&t.cess>0&&p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12},children:[p.jsx("span",{children:"CESS (1.0%):"}),p.jsxs("span",{children:["+",t.cess.toFixed(2)]})]}),p.jsx("div",{style:{borderTop:"1px dashed #dee2e6",margin:"6px 0 4px",paddingTop:"4px"},children:p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",fontSize:13},children:[p.jsx("span",{children:"Total Tax:"}),p.jsxs("span",{children:["= ",t.tax.toFixed(2)]})]})})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:2},children:[p.jsx("span",{children:"Total Tax:"}),p.jsx("span",{children:t.tax.toFixed(2)})]}),p.jsx("div",{style:{borderTop:"1px dashed #000",margin:"4px 0"}}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",fontSize:16,margin:"8px 0 4px 0",backgroundColor:"#f0f0f0",padding:"4px 8px",borderRadius:"4px",visibility:"visible",position:"relative",zIndex:10,width:"100%",boxSizing:"border-box"},children:[p.jsx("span",{style:{width:"50%",textAlign:"left"},children:"Grand Total:"}),p.jsx("span",{style:{width:"50%",textAlign:"right",overflow:"visible"},children:t.total.toFixed(2)})]})]}),p.jsxs("div",{style:{textAlign:"center",marginBottom:8},children:[p.jsx("div",{style:{marginBottom:4,fontSize:12},children:"Scan for invoice details"}),p.jsx("img",{src:n,alt:"Invoice QR Code",style:{maxWidth:100,margin:"0 auto"}})]}),p.jsx("div",{style:{borderTop:"1px solid #000",margin:"8px 0"}}),p.jsxs("div",{style:{fontSize:10,marginBottom:8},children:[p.jsx("div",{style:{fontWeight:"bold",marginBottom:2},children:"Terms & Conditions:"}),p.jsxs("ol",{style:{paddingLeft:15,margin:0},children:[p.jsx("li",{children:"All prices include applicable taxes unless stated otherwise."}),p.jsx("li",{children:"Returns accepted within 7 days with original receipt."}),p.jsx("li",{children:"No refunds on damaged or used goods."})]})]}),p.jsxs("div",{style:{textAlign:"center",marginTop:8,borderTop:"1px dashed #000",paddingTop:8},children:[p.jsx("div",{style:{fontWeight:"bold",marginBottom:4},children:"Thank you for your business!"}),p.jsx("div",{children:"Visit us again soon!"})]})]})},lL=async(r,t)=>{const e=t||nJ;console.log("Generating invoice with company details:",{provided:!!t,companyName:e.name,legalName:e.legal_name,hasAddress:!!e.address_street});const n=new Pr({unit:"mm",format:[105,200],orientation:"portrait"});for(let i=0;i<r.length;i++){const a=r[i];let s=10;if(e.logo_url)try{s+=10}catch(f){console.error("Error adding logo to PDF:",f)}if(n.setFontSize(12),n.setFont("helvetica","bold"),n.text(e.name,52.5,s,{align:"center"}),s+=2,e.tax_number){n.setFillColor(240,240,240);const f=e.state_code&&e.pan?14:8;n.rect(20,s,65,f,"F"),n.setFontSize(9),n.setFont("helvetica","bold"),n.text(`GSTIN: ${e.tax_number}`,52.5,s+4,{align:"center"}),e.state_code&&(n.setFont("helvetica","normal"),n.text(`State Code: ${e.state_code}`,52.5,s+8,{align:"center"})),e.pan&&(n.setFont("helvetica","normal"),n.text(`PAN: ${e.pan}`,52.5,s+12,{align:"center"})),s+=f+2}if(n.setFontSize(8),n.setFont("helvetica","normal"),e.address_street&&(n.text(e.address_street,52.5,s,{align:"center"}),s+=3),e.address_city||e.address_state||e.address_postal_code){const f=[e.address_city,e.address_state,e.address_postal_code].filter(Boolean).join(", ");n.text(f,52.5,s,{align:"center"}),s+=3}e.address_country&&(n.text(e.address_country,52.5,s,{align:"center"}),s+=3),e.phone&&(n.text(`Phone: ${e.phone}`,52.5,s,{align:"center"}),s+=3),e.email&&(n.text(`Email: ${e.email}`,52.5,s,{align:"center"}),s+=3),e.website&&(n.text(`Web: ${e.website}`,52.5,s,{align:"center"}),s+=3),n.setDrawColor(0),n.setLineWidth(.5),n.line(10,s,95,s),s+=5;const l=10,c=55;if(n.setFontSize(9),n.setFont("helvetica","bold"),n.text("Invoice Details:",l,s),s+=4,n.setFont("helvetica","normal"),n.text(`Invoice #: ${a.id}`,l,s),s+=4,n.text(`Date: ${vr(new Date(a.createdAt),"dd/MM/yyyy")}`,l,s),s+=4,n.text(`Time: ${vr(new Date(a.createdAt),"HH:mm:ss")}`,l,s),a.customer){const f=s-12;n.setFont("helvetica","bold"),n.text("Customer Details:",c,f),n.setFont("helvetica","normal"),n.text(a.customer.name,c,f+4),a.customer.phone&&n.text(`Ph: ${a.customer.phone}`,c,f+8),n.text(a.customer.email,c,f+12)}s+=8,n.setDrawColor(0),n.line(10,s,95,s),s+=5;const o=a.items.map(f=>{let h=f.name,y="";(f.discountPercentage||f.discountAmount)&&(y="Disc: ",f.discountPercentage&&(y+=`${f.discountPercentage}%`),f.discountPercentage&&f.discountAmount&&(y+=" / "),f.discountAmount&&(y+=`-${f.discountAmount.toFixed(2)}`));let m="";return f.taxRate&&(m=`GST: ${f.taxRate}%`),[h,f.quantity.toString(),`${f.price.toFixed(2)}`,`${f.total.toFixed(2)}`,y,m]});if(U0(n,{startY:s,head:[["Item","Qty","Price","Total","Discount","Tax"]],body:o,theme:"grid",styles:{fontSize:8,cellPadding:1},columnStyles:{0:{cellWidth:30},1:{cellWidth:8,halign:"center"},2:{cellWidth:15,halign:"right"},3:{cellWidth:15,halign:"right"},4:{cellWidth:15},5:{cellWidth:12}},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"}}),s=n.lastAutoTable.finalY+5,n.setDrawColor(0),n.setLineDashPattern([1,1],0),n.line(10,s-4,95,s-4),n.setFontSize(9),n.setFont("helvetica","normal"),n.text("Subtotal:",70,s,{align:"left"}),n.text(`${a.subtotal.toFixed(2)}`,95,s,{align:"right"}),s+=4,a.discountPercentage||a.discountAmount){let f="Discount: ";a.discountPercentage&&(f+=`${a.discountPercentage}%`),a.discountPercentage&&a.discountAmount&&(f+=" / "),n.setFillColor(240,255,240),n.rect(65,s-3,30,4,"F"),n.text("Discount:",70,s,{align:"left"}),n.text(`-${(a.discountAmount||0).toFixed(2)}`,95,s,{align:"right"}),s+=4}if(a.taxType){n.setFillColor(240,240,240);const f=a.taxType==="split"?12:8;n.rect(50,s-3,45,f,"F"),n.setFont("helvetica","bold"),s+=4,n.setFont("helvetica","normal"),a.taxType==="split"?(n.text(`CGST (${(a.cgst/a.subtotal*100).toFixed(1)}%): `,63,s,{align:"left"}),n.text(`${a.cgst.toFixed(2)}`,95,s,{align:"right"}),s+=4,n.text(`SGST (${(a.sgst/a.subtotal*100).toFixed(1)}%): `,63,s,{align:"left"}),n.text(`${a.sgst.toFixed(2)}`,95,s,{align:"right"}),s+=4):(n.text(`IGST (${(a.igst/a.subtotal*100).toFixed(1)}%): `,63,s,{align:"left"}),n.text(`${a.igst.toFixed(2)}`,95,s,{align:"right"}),s+=4),a.cess>0&&(n.text("CESS (1%): ",66,s,{align:"left"}),n.text(`${a.cess.toFixed(2)}`,95,s,{align:"right"}),s+=4)}n.text("Total Tax:",69,s,{align:"left"}),n.text(`${a.tax.toFixed(2)}`,95,s,{align:"right"}),s+=4,n.setDrawColor(0),n.setLineDashPattern([1,1],0),n.line(50,s,95,s),s+=5,n.setFillColor(240,240,240),n.rect(50,s-3,45,6,"F"),n.setFont("helvetica","bold"),n.text("Grand.Total:",65,s,{align:"left"}),n.text(`${a.total.toFixed(2)}`,95,s,{align:"right"}),s+=4,a.cashReceived!==void 0&&a.change!==void 0&&(s+=4,n.text(`Cash Received: ${a.cashReceived}`,hA-25,s,{align:"right"}),s+=4,n.text(`Change: ${a.change}`,hA-25,s,{align:"right"}),s+=8);const d=`INV:${a.id}|DATE:${vr(new Date(a.createdAt),"dd/MM/yyyy")}|AMT:${a.total}|GST:${e.tax_number||"NA"}`;try{const f=await rJ.toDataURL(d,{width:80,margin:1});n.text("Scan QR code for invoice details",52.5,s,{align:"center"}),n.addImage(f,"PNG",42.5,s+2,20,20),s+=25}catch{n.text("QR code unavailable",52.5,s,{align:"center"}),s+=10}n.setFontSize(8),n.setFont("helvetica","bold"),n.text("Terms & Conditions:",10,s),s+=4,n.setFont("helvetica","normal"),n.text("1. All prices include applicable taxes unless stated otherwise.",10,s),s+=3,n.text("2. Returns accepted within 7 days with original receipt.",10,s),s+=3,n.text("3. No refunds on damaged or used goods.",10,s),s+=6,n.setDrawColor(0),n.setLineWidth(.2),n.line(10,s,95,s),s+=5,n.setFontSize(10),n.setFont("helvetica","bold"),n.text("Thank you for your business!",52.5,s,{align:"center"}),s+=4,n.setFont("helvetica","normal"),n.text("Visit us again soon!",52.5,s,{align:"center"}),i<r.length-1&&n.addPage()}return n},sJ={SalesInvoice:aJ,generatePDF:(r,t)=>lL(r,t)};async function r5(){try{console.log("Starting emergency tax settings fix...");const{data:r,error:t}=await $e.from("active_company").select("company_id").single();if(t)return console.error("Error getting active company:",t),{success:!1,message:`Error getting active company: ${t.message}`};if(!r||!r.company_id)return console.error("No active company found"),{success:!1,message:"No active company found"};const e=r.company_id;console.log(`Active company ID: ${e}`);const{data:n,error:i}=await $e.from("tax_settings").select("id").eq("company_id",e);if(i)return console.error("Error checking tax settings:",i),{success:!1,message:`Error checking tax settings: ${i.message}`};if(!n||n.length===0){console.log(`No tax settings found for company ${e}, creating one...`);const{data:a,error:s}=await $e.from("tax_settings").insert({company_id:e,tax_type:"split",tax_inclusive:!1,cess_enabled:!1}).select().single();return s?(console.error("Error creating tax setting:",s),{success:!1,message:`Error creating tax setting: ${s.message}`}):(console.log("Created new tax setting:",a),{success:!0,message:"Created new tax setting",taxSetting:a})}else if(n.length>1){console.log(`Found ${n.length} tax settings for company ${e}, fixing...`);const{data:a,error:s}=await $e.from("tax_settings").select("*").eq("company_id",e).order("created_at",{ascending:!1});if(s||!a||a.length===0)return console.error("Error getting full tax settings:",s),{success:!1,message:`Error getting full tax settings: ${s==null?void 0:s.message}`};const l=a[0],c=a.slice(1);for(const o of c){const{error:u}=await $e.from("tax_settings").delete().eq("id",o.id);u?console.error(`Error deleting tax setting ${o.id}:`,u):console.log(`Deleted duplicate tax setting ${o.id}`)}return console.log("Kept most recent tax setting:",l),{success:!0,message:`Deleted ${c.length} duplicate tax settings`,taxSetting:l}}else{console.log("Found exactly one tax setting, no fix needed");const{data:a,error:s}=await $e.from("tax_settings").select("*").eq("company_id",e).single();return s||!a?(console.error("Error getting full tax setting:",s),{success:!1,message:`Error getting full tax setting: ${s==null?void 0:s.message}`}):{success:!0,message:"Tax setting already correct",taxSetting:a}}}catch(r){return console.error("Error in emergencyFixTaxSettings:",r),{success:!1,message:`Unexpected error: ${r.message}`}}}let mu=!0,tb=Date.now(),Fv=0;const pA=5;function oJ(){return console.log("Initializing Supabase connection manager"),document.addEventListener("visibilitychange",mA),window.addEventListener("focus",gA),window.addEventListener("blur",yA),window.addEventListener("online",vA),window.addEventListener("offline",bA),lJ(),()=>{document.removeEventListener("visibilitychange",mA),window.removeEventListener("focus",gA),window.removeEventListener("blur",yA),window.removeEventListener("online",vA),window.removeEventListener("offline",bA)}}async function mA(){document.visibilityState==="visible"?(console.log("Tab became visible, refreshing Supabase connection"),await ap(!0)):(console.log("Tab became hidden"),tb=Date.now())}async function gA(){console.log("Window focused, checking Supabase connection");const r=Date.now()-tb;r>5e3&&(console.log(`Window was inactive for ${Math.round(r/1e3)} seconds`),await ap(!0)),tb=Date.now()}function yA(){console.log("Window blurred"),tb=Date.now()}async function vA(){console.log("Browser is online, refreshing Supabase connection"),await ap(!0),Oe.success("Connection restored")}function bA(){console.log("Browser is offline"),mu=!1,Oe.error("Connection lost. Reconnecting when online...")}async function lJ(){try{const{data:r,error:t}=await $e.auth.getSession();return t?(console.error("Connection check failed:",t),mu=!1,!1):(mu=!0,Fv=0,!0)}catch(r){return console.error("Error checking connection:",r),mu=!1,!1}}async function ap(r=!1){if(mu&&!r)return!0;try{console.log("Refreshing Supabase connection...");const{data:t}=await $e.auth.getSession();if(t.session){console.log("Refreshing existing session");const{data:e,error:n}=await $e.auth.refreshSession();return n?(console.error("Error refreshing session:",n),++Fv>pA&&Oe.error("Connection issues detected. Please refresh the page."),!1):(console.log("Session refreshed successfully"),mu=!0,Fv=0,!0)}else return console.log("No active session to refresh"),mu=!0,!0}catch(t){return console.error("Error during connection refresh:",t),mu=!1,++Fv>pA&&Oe.error("Connection issues detected. Please refresh the page."),!1}}async function xA(r,t=3){var n,i,a,s,l;let e=0;for(;e<=t;)try{if(!mu&&!await ap()&&e===t)throw new Error("Failed to reconnect to Supabase");return await r()}catch(c){if(console.error(`Operation failed (attempt ${e+1}/${t+1}):`,c),!(((n=c.message)==null?void 0:n.includes("network"))||((i=c.message)==null?void 0:i.includes("connection"))||((a=c.message)==null?void 0:a.includes("timeout"))||((s=c.message)==null?void 0:s.includes("JWT expired"))||((l=c.message)==null?void 0:l.includes("session"))||c.code==="PGRST301"||c.code==="401"||c.code==="403")||e>=t)throw c;await ap(!0),e++,await new Promise(u=>setTimeout(u,1e3*Math.pow(2,e-1)))}throw new Error("Failed after maximum retries")}function cJ(){fe.useEffect(()=>oJ(),[]);const r=fe.useCallback(async n=>xA(n),[]),t=fe.useCallback(async()=>ap(!0),[]),e=fe.useCallback(n=>{const i=$e.from(n);return{...i,select:(...s)=>{const l=i.select(...s);return["then","catch","finally"].forEach(o=>{const u=l[o];l[o]=(...d)=>xA(()=>u.apply(l,d))}),l}}},[]);return{supabase:$e,executeQuery:r,forceRefresh:t,from:e}}const uJ=({isOpen:r,onClose:t,onSettingsChange:e})=>{const{theme:n}=Vr(),i=n==="dark",[a,s]=fe.useState(null),[l,c]=fe.useState(!0),[o,u]=fe.useState(!1),[d,f]=fe.useState(!1),h={tax_type:"split",tax_inclusive:!1,cess_enabled:!1};fe.useEffect(()=>{r&&y()},[r]);const y=async()=>{c(!0);try{console.log("Loading GST settings...");const{data:g,error:v}=await $e.from("tax_settings").select("*").limit(1);console.log("Settings query result:",{data:g,error:v}),v?(console.error("Error fetching settings:",v),s(h)):g&&g.length>0?(console.log("Found existing settings:",g[0]),s(g[0])):(console.log("No settings found, using defaults"),s(h)),f(!1)}catch(g){console.error("Error in loadSettings:",g),s(h)}finally{c(!1)}},m=async()=>{if(!(!a||!d)&&window.confirm(`Are you sure you want to save these GST settings?

These changes will affect GST calculations for current and future sales and purchases.

Click OK to save changes.`)){u(!0);try{console.log("Saving GST settings..."),console.log("Checking for existing companies...");const{data:g,error:v}=await $e.from("companies").select("id").limit(1);console.log("Companies query result:",{companies:g,companiesError:v});let b;if(v)throw console.error("Error fetching companies:",v),new Error(`Failed to fetch companies: ${v.message}`);if(g&&g.length>0)b=g[0].id,console.log("Using existing company ID:",b);else{console.log("No companies found, creating a default company...");const{data:P,error:M}=await $e.from("companies").insert({name:"Default Company",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select();if(console.log("Company creation result:",{newCompany:P,companyError:M}),M)throw new Error(`Failed to create company: ${M.message}`);if(P&&P.length>0)b=P[0].id,console.log("Created new company with ID:",b);else throw new Error("Failed to create company: No data returned")}console.log("Checking for existing tax settings...");const{data:w,error:_}=await $e.from("tax_settings").select("id").limit(1);if(console.log("Existing settings check:",{existingSettings:w,settingsError:_}),_)throw console.error("Error checking existing settings:",_),new Error(`Failed to check existing settings: ${_.message}`);let N;if(w&&w.length>0){const P=w[0].id;console.log("Updating existing settings with ID:",P),N=await $e.from("tax_settings").update({company_id:b,tax_type:a.tax_type,tax_inclusive:a.tax_inclusive,cess_enabled:a.cess_enabled,updated_at:new Date().toISOString()}).eq("id",P)}else console.log("Creating new settings with company ID:",b),N=await $e.from("tax_settings").insert({company_id:b,tax_type:a.tax_type,tax_inclusive:a.tax_inclusive,cess_enabled:a.cess_enabled,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(console.log("Save operation result:",N),N.error)throw N.error;Oe.success(p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"GST settings updated successfully"}),p.jsx("p",{className:"text-sm mt-1",children:"Changes will apply to current and future sales and purchases."})]}),{duration:6e3}),f(!1),e&&e(),t()}catch(g){console.error("Error saving GST settings:",g);let v="Failed to save GST settings. Please try again.";g instanceof Error?(console.error("Error details:",{message:g.message,name:g.name,stack:g.stack}),v=`Failed to save GST settings: ${g.message}`):typeof g=="object"&&g!==null&&console.error("Error object details:",JSON.stringify(g,null,2)),Oe.error(v);try{console.log("Trying direct approach to save settings...");const{data:b}=await $e.from("companies").select("id").limit(1);if(!b||b.length===0)throw new Error("No company found and unable to create one");const w=b[0].id;console.log("Using company ID for direct approach:",w),await $e.from("tax_settings").delete().neq("id","00000000-0000-0000-0000-000000000000"),console.log("Deleted existing settings");const{error:_}=await $e.from("tax_settings").insert({company_id:w,tax_type:a.tax_type,tax_inclusive:a.tax_inclusive,cess_enabled:a.cess_enabled,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(_)throw _;console.log("Successfully saved settings with direct approach"),Oe.success("GST settings saved successfully"),e&&e(),t()}catch(b){console.error("Direct approach also failed:",b),Oe.error("All attempts to save settings failed. Please try again later.")}}finally{u(!1)}}};return r?p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),p.jsxs("div",{className:`relative w-full max-w-2xl p-6 rounded-lg shadow-xl ${i?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[p.jsx(pg,{className:"w-5 h-5 mr-2"}),"GST Settings"]}),p.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700",children:p.jsx(Li,{className:"w-5 h-5"})})]}),l?p.jsxs("div",{className:"py-8 text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),p.jsx("p",{className:"mt-4",children:"Loading GST settings..."})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"space-y-6",children:a?p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tax Calculation Type"}),p.jsxs("select",{value:a.tax_type,onChange:g=>{const v=g.target.value;s(b=>b?{...b,tax_type:v}:null),f(!0)},className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"split",children:"CGST + SGST (Same State)"}),p.jsx("option",{value:"integrated",children:"IGST (Interstate)"})]}),p.jsx("p",{className:`mt-1 text-sm ${i?"text-gray-400":"text-gray-500"}`,children:"Choose CGST + SGST for intra-state transactions, IGST for inter-state transactions"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",checked:a.tax_inclusive,onChange:g=>{const v=g.target.checked;s(b=>b?{...b,tax_inclusive:v}:null),f(!0)},className:"rounded border-gray-300"}),p.jsx("span",{children:"GST Inclusive Pricing"})]}),p.jsx("p",{className:`mt-1 text-sm ${i?"text-gray-400":"text-gray-500"}`,children:"When enabled, product prices will include GST"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",checked:a.cess_enabled,onChange:g=>{const v=g.target.checked;s(b=>b?{...b,cess_enabled:v}:null),f(!0)},className:"rounded border-gray-300"}),p.jsx("span",{children:"Enable CESS"})]}),p.jsx("p",{className:`mt-1 text-sm ${i?"text-gray-400":"text-gray-500"}`,children:"Apply CESS for applicable products (28% GST category)"})]})]}):(()=>{if(!a){const g={tax_type:"split",tax_inclusive:!1,cess_enabled:!1};setTimeout(()=>{s(g),f(!0)},0)}return p.jsx("div",{className:"py-4 text-center",children:p.jsx("p",{children:"Creating default GST settings..."})})})()}),d&&p.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-800 px-4 py-3 rounded-md flex items-center",children:[p.jsx(dg,{className:"w-5 h-5 mr-2 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Unsaved changes"}),p.jsx("p",{className:"text-sm",children:"Changes will affect GST calculations in current and future sales and purchases"})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[p.jsx(_t,{variant:"ghost",onClick:t,disabled:o,children:"Cancel"}),p.jsx(_t,{variant:"primary",onClick:m,disabled:!d||o,leftIcon:d?p.jsx(dg,{className:"w-4 h-4"}):p.jsx(pg,{className:"w-4 h-4"}),className:`transition-all duration-200 ${d?"bg-green-600 hover:bg-green-700 font-bold":"opacity-50"}`,isLoading:o,children:d?"SAVE GST SETTINGS":"Save GST Settings"})]})]})]})]})}):null},fJ=({onSettingsChange:r,className:t=""})=>{const[e,n]=fe.useState(!1),i=()=>{r&&r(),n(!1)};return p.jsxs(p.Fragment,{children:[p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>n(!0),leftIcon:p.jsx(pg,{className:"w-4 h-4"}),className:t,children:"GST Settings"}),p.jsx(uJ,{isOpen:e,onClose:()=>n(!1),onSettingsChange:i})]})},dJ=({isOpen:r,onClose:t,onApply:e,itemId:n,itemPrice:i=0,isGlobal:a=!1})=>{const[s,l]=fe.useState("percentage"),[c,o]=fe.useState(0),{theme:u}=Vr(),d=u==="dark";if(!r||!n)return null;const h=s==="percentage"?i*c/100:c,y=i-h;return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:`w-96 p-6 rounded-lg shadow-lg ${d?"bg-gray-800":"bg-white"}`,children:[p.jsx("h3",{className:"text-lg font-medium mb-4",children:a?"Apply Global Discount":"Apply Item Discount"}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discount Type"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:()=>l("percentage"),className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors ${s==="percentage"?"bg-blue-500 text-white":d?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800"}`,children:"Percentage (%)"}),p.jsx("button",{onClick:()=>l("fixed"),className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors ${s==="fixed"?"bg-blue-500 text-white":d?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800"}`,children:"Fixed Amount ()"})]})]}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:s==="percentage"?"Discount Percentage":"Discount Amount"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"number",min:"0",max:s==="percentage"?100:i,step:s==="percentage"?1:.01,value:c,onChange:m=>{const g=Number(m.target.value);o(Math.min(s==="percentage"?100:i,Math.max(0,g)))},className:`w-full pl-3 pr-10 py-2 rounded-md border ${d?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:s==="percentage"?p.jsx(Js,{className:"w-5 h-5 text-gray-400"}):p.jsx("span",{className:"text-gray-400",children:""})})]})]}),s==="percentage"&&p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quick Options"}),p.jsx("div",{className:"grid grid-cols-3 gap-2",children:[5,10,15,20,25,50].map(m=>p.jsxs("button",{onClick:()=>o(m),className:`px-3 py-2 text-sm rounded-md transition-colors ${c===m?"bg-blue-500 text-white":d?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800"}`,children:[m,"%"]},m))})]}),!a&&p.jsx("div",{className:"mb-4 p-3 bg-gray-100 dark:bg-gray-700 rounded-md",children:p.jsxs("div",{className:"text-sm space-y-1",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Original Price:"}),p.jsxs("span",{children:["",i.toFixed(2)]})]}),p.jsxs("div",{className:"flex justify-between text-green-600",children:[p.jsx("span",{children:"Discount:"}),p.jsxs("span",{children:["-",h.toFixed(2)]})]}),p.jsxs("div",{className:"flex justify-between font-medium",children:[p.jsx("span",{children:"Final Price:"}),p.jsxs("span",{children:["",y.toFixed(2)]})]})]})}),p.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[p.jsx(_t,{variant:"secondary",onClick:t,children:"Cancel"}),p.jsx(_t,{variant:"primary",onClick:()=>{e(n,s,c),o(0)},disabled:c===0,children:"Apply Discount"})]})]})})},hJ=()=>{var St;const{theme:r}=Vr(),t=r==="dark",{selectedCompany:e}=li(),{hasPermission:n,userRole:i}=Ha(),{executeQuery:a}=cJ(),[s,l]=fe.useState([]),[c,o]=fe.useState({}),[u,d]=fe.useState(""),f=fe.useRef(null),[h,y]=fe.useState(null),[m,g]=fe.useState(""),[v,b]=fe.useState(!1),[w,_]=fe.useState(null),[N,P]=fe.useState(""),[M,A]=fe.useState("cash"),[F,H]=fe.useState(!1),[z,U]=fe.useState({}),[O,L]=fe.useState(!1),[C,k]=fe.useState(null),[j,E]=fe.useState(!1),[T,R]=fe.useState("split");fe.useEffect(()=>{(h==null?void 0:h.tax_type)==="integrated"?R("integrated"):R(e&&w?e.address_state===w.address_state?"split":"integrated":"split")},[e,w,h]);const V=fe.useCallback(De=>{const lt=z[De.id],gt=De.price||0,Ve=De.taxRateId?c[De.taxRateId]:void 0,bt=((Ve==null?void 0:Ve.rate)||0)/100,At=(h==null?void 0:h.tax_inclusive)||!1;let ft,jt,ht;At?(ft=gt/(1+bt),jt=gt-ft,ht=gt):(ft=gt,jt=ft*bt,ht=ft+jt);let Lt=0;lt&&(lt.type==="percentage"?Lt=ft*(lt.value/100):Lt=lt.value);const ur=Lt;if(At){const zt=ht-ur,wr=zt/(1+bt);jt=zt-wr,ht=zt,ft=wr}else{const zt=ft-ur;jt=zt*bt,ht=zt+jt,ft=zt}return{finalPrice:ht,priceAfterDiscount:ft,discountAmount:ur,gst:jt}},[z,c,h==null?void 0:h.tax_inclusive]),B=fe.useMemo(()=>s.reduce((De,lt)=>{const gt=lt.price||0,Ve=lt.taxRateId?c[lt.taxRateId]:void 0,bt=((Ve==null?void 0:Ve.rate)||0)/100;if((h==null?void 0:h.tax_inclusive)||!1){const ft=gt/(1+bt);return De+ft*lt.quantity}else return De+gt*lt.quantity},0),[s,c,h==null?void 0:h.tax_inclusive]),K=fe.useMemo(()=>s.reduce((De,lt)=>{const{discountAmount:gt}=V(lt);return De+gt*lt.quantity},0),[s,V]),Z=fe.useMemo(()=>s.reduce((De,lt)=>{const{gst:gt}=V(lt);return De+gt*lt.quantity},0),[s,V]),ne=fe.useMemo(()=>h!=null&&h.cess_enabled?Z*.01:0,[Z,h==null?void 0:h.cess_enabled]),G=fe.useMemo(()=>B-K+Z+ne,[B,K,Z,ne]),te=Number(N)-G,I=G===0?!0:Number(N)>=G,D=fe.useMemo(()=>{if(!s.length||!c||Object.keys(c).length===0)return 0;const De=s.find(gt=>gt.taxRateId);if(De&&De.taxRateId){const gt=c[De.taxRateId];if(gt)return gt.rate||0}const lt=Object.values(c)[0];return(lt==null?void 0:lt.rate)||0},[s,c]),X=De=>{l(lt=>lt.find(Ve=>Ve.id===De.id)?lt.map(Ve=>Ve.id===De.id?{...Ve,quantity:Ve.quantity+1}:Ve):[...lt,{...De,quantity:1}])},Q=De=>{l(lt=>lt.filter(gt=>gt.id!==De))},re=(De,lt)=>{lt<=0?Q(De):l(gt=>gt.map(Ve=>Ve.id===De?{...Ve,quantity:lt}:Ve))},oe=fe.useMemo(()=>e?[{column:"company_id",operator:"eq",value:e.id}]:[],[e==null?void 0:e.id]),se=fe.useMemo(()=>e?[{column:"company_id",operator:"eq",value:e.id}]:[],[e==null?void 0:e.id]),{data:he=[],loading:le}=mg("products",{filters:oe}),{data:de=[]}=mg("customers",{filters:se}),ve=fe.useMemo(()=>m?he.filter(De=>De.name.toLowerCase().includes(m.toLowerCase())):he,[he,m]);fe.useEffect(()=>{console.log("Sales component mounted, loading tax configuration"),ge();const De=setInterval(()=>{console.log("Refreshing tax configuration"),ge()},6e4);return()=>{clearInterval(De)}},[]);const ge=fe.useCallback(async()=>{var De,lt,gt;try{if(console.log("Starting tax configuration load..."),!(await a(async()=>{const{data:ht,error:Lt}=await $e.auth.getSession();if(console.log("Session check:",{session:ht,sessionError:Lt}),Lt)throw console.error("Error getting session:",Lt),new Error("Failed to connect to database: "+Lt.message);return ht})).session)throw console.error("No active session found"),new Error("Please log in to continue");const{data:Dt,error:bt}=await $e.from("tax_rates").select("count",{count:"exact",head:!0});if(console.log("Database connection test:",{testData:Dt,testError:bt}),bt)throw console.error("Database connection test failed:",bt),new Error("Database connection failed: "+bt.message);let{data:At,error:ft}=await $e.from("tax_rates").select("*");if(console.log("Tax rates response:",{rates:At,ratesError:ft}),ft)throw console.error("Error fetching tax rates:",ft),new Error("Failed to fetch tax rates: "+ft.message);if(!At||At.length===0){console.log("No tax rates found, initializing default rates...");const ht=[{rate:0,description:"GST Exempt"},{rate:5,description:"GST 5%"},{rate:18,description:"GST 18%"},{rate:28,description:"GST 28%"}],{error:Lt}=await $e.from("tax_rates").insert(ht);if(Lt)throw console.error("Error inserting default tax rates:",Lt),new Error("Failed to create default tax rates: "+Lt.message);const{data:ur,error:zt}=await $e.from("tax_rates").select("*");if(zt)throw console.error("Error fetching new tax rates:",zt),new Error("Failed to fetch new tax rates: "+zt.message);console.log("New tax rates created:",ur),At=ur}const jt=At.reduce((ht,Lt)=>(ht[Lt.id]=Lt,ht),{});console.log("Created tax rates map:",jt);try{let{data:ht,error:Lt}=await $e.from("tax_settings").select("*").limit(1);if(console.log("Tax settings response:",{settings:ht,settingsError:Lt}),Lt){console.error("Error fetching tax settings:",Lt),console.log("Attempting emergency fix for tax settings...");const ur=await r5();console.log("Emergency fix attempt result:",ur)}else ht&&ht.length>0?ht=ht[0]:ht=null;if(Lt){console.error("Error fetching tax settings:",Lt),console.log("Attempting emergency fix for tax settings...");const ur=await r5();console.log("Emergency fix attempt result:",ur)}if(!ht){console.log("No tax settings found, creating default settings...");const ur={tax_type:"split",tax_inclusive:!1,cess_enabled:!1},{success:zt,message:wr,taxSetting:br}=await r5();if(zt&&br)console.log("Emergency fix successful:",wr),ht=br;else{console.log("Emergency fix did not return settings, creating new ones...");const{data:er,error:Zt}=await $e.from("tax_settings").insert(ur).select().single();if(Zt)throw console.error("Error inserting default tax settings:",Zt),new Error("Failed to create default tax settings: "+Zt.message);console.log("New tax settings created:",er),ht=er}}if(ht)console.log("Setting tax settings from loaded data:",ht),y({tax_type:Array.isArray(ht)?(De=ht[0])==null?void 0:De.tax_type:ht==null?void 0:ht.tax_type,tax_inclusive:!!(Array.isArray(ht)?(lt=ht[0])!=null&&lt.tax_inclusive:ht!=null&&ht.tax_inclusive),cess_enabled:!!(Array.isArray(ht)?(gt=ht[0])!=null&&gt.cess_enabled:ht!=null&&ht.cess_enabled)});else{const ur={tax_type:"split",tax_inclusive:!1,cess_enabled:!1};console.log("Using default tax settings:",ur),y(ur)}}catch(ht){console.error("Error handling tax settings:",ht),Oe.error("Error loading tax settings. Please try refreshing the page.");const Lt={tax_type:"split",tax_inclusive:!1,cess_enabled:!1};console.log("Using default tax settings due to error:",Lt),y(Lt)}o(jt),console.log("Tax configuration loaded successfully")}catch(Ve){console.error("Error loading tax configuration:",Ve);const Dt=Ve instanceof Error?Ve.message:"Failed to load tax configuration. Please try again.";console.error("Detailed error:",Ve),Oe.error(Dt)}},[]);fe.useEffect(()=>{console.log("Setting up tax settings subscription");const De=$e.channel("tax_settings_changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"tax_settings"},lt=>{console.log("Tax settings changed:",lt);const gt=lt.new;y({tax_type:gt.tax_type,tax_inclusive:!!gt.tax_inclusive,cess_enabled:!!gt.cess_enabled}),console.log("Forcing tax recalculation after settings change")}).subscribe();return()=>{console.log("Removing tax settings subscription"),$e.removeChannel(De)}},[]);const ke=De=>`${De.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Pe=De=>{if(De.key==="Enter"){De.preventDefault();const lt=De.currentTarget.value.trim();if(lt){const gt=he.find(Ve=>Ve.barcode===lt||Ve.sku===lt);gt?(X(gt),Oe.success(`Added ${gt.name} to cart`)):Oe.error(`No product found with barcode/SKU: ${lt}`),d("")}}},Re=()=>{E(!j),j||setTimeout(()=>{var De;(De=f.current)==null||De.focus()},100)},Ie=(De,lt,gt)=>{U(Ve=>({...Ve,[De]:{type:lt,value:gt}})),L(!1),k(null),Oe.success(`Discount applied: ${gt}${lt==="percentage"?"%":""}`)},qe=De=>{U(lt=>{const gt={...lt};return delete gt[De],gt}),Oe.success("Discount removed")},Ue=()=>{l([]),U({}),P(""),_(null),Oe.success("Cart cleared")},vt=async()=>{if(!n("sales","edit")){Oe.error(`As ${i}, you cannot complete transactions.`);return}if(s.length===0){Oe.error("Cart is empty");return}if(!I){Oe.error("Insufficient cash amount");return}if(!c||!h){Oe.error("Tax configuration not loaded. Please try again.");return}b(!0);try{const De=s.map(ft=>{var ht;const jt=V(ft);return{id:ft.id,quantity:ft.quantity,name:ft.name,price:jt.finalPrice,originalPrice:ft.price,discountPercent:((ht=z[ft.id])==null?void 0:ht.value)||0,discountAmount:jt.discountAmount*ft.quantity,priceAfterDiscount:jt.priceAfterDiscount,taxAmount:jt.gst,taxRateId:ft.taxRateId}}),gt=(()=>{switch(M){case"cash":return{paymentMethod:"cash",cashReceived:Number(N),change:te};case"creditCard":return{paymentMethod:"creditCard"};case"mobilePayment":return{paymentMethod:"mobilePayment"};default:return null}})();if(!gt){Oe.error("Invalid payment method"),b(!1);return}const Ve={items:De,subtotal:B,tax:Z,total:G,totalDiscount:K,customerId:w==null?void 0:w.id,taxType:T==="split"||T==="integrated"?T:"split",cgst:T==="split"?Z/2:0,sgst:T==="split"?Z/2:0,igst:T==="integrated"?Z:0,cess:ne,companyId:e==null?void 0:e.id,...gt},{success:Dt,error:bt,saleId:At}=await a(()=>NV(Ve));if(!Dt)throw new Error(bt||"Failed to process sale");if(!At)Oe.error("Sale ID was not generated. Cannot create invoice.");else{const ft=s.map(ht=>{var ur;const Lt=V(ht);return{name:ht.name,quantity:ht.quantity,price:ht.price,priceAfterDiscount:Lt.priceAfterDiscount,total:Lt.finalPrice*ht.quantity,tax:Lt.gst*ht.quantity,taxRate:ht.taxRateId&&c[ht.taxRateId]?c[ht.taxRateId].rate:0,discountPercentage:((ur=z[ht.id])==null?void 0:ur.value)||0,discountAmount:Lt.discountAmount*ht.quantity}}),jt={id:At,items:ft,subtotal:B,tax:Z,total:G,discountAmount:K,createdAt:new Date().toISOString(),customer:w?{name:w.name,email:w.email,phone:w.phone||void 0}:void 0,cashReceived:Number(N),change:te,taxType:T==="split"||T==="integrated"?T:"split",cgst:T==="split"?Z/2:0,sgst:T==="split"?Z/2:0,igst:T==="integrated"?Z:0,cess:ne};try{const ht=e?{name:e.name,legal_name:e.legal_name||e.name,tax_number:e.tax_number||void 0,email:e.email||void 0,phone:e.phone||void 0,website:e.website||void 0,address_street:e.address_street||void 0,address_city:e.address_city||void 0,address_state:e.address_state||void 0,address_postal_code:e.address_postal_code||void 0,address_country:e.address_country||void 0,state_code:e.state_code||void 0,pan:e.pan||void 0,logo_url:e.logo_url||void 0}:void 0;(await lL([jt],ht)).save(`sale-${At}.pdf`)}catch(ht){console.error("Error generating invoice:",ht),Oe.error("Sale completed but failed to generate invoice")}}Oe.success(`Sale completed. Change: ${ke(te)}`),Ue()}catch(De){console.error("Sale error:",De),Oe.error(De instanceof Error?De.message:"An unexpected error occurred")}finally{b(!1)}};return p.jsxs("div",{className:`flex h-full gap-6 p-4 ${t?"bg-gray-900":"bg-blue-50"}`,children:[p.jsx(dJ,{isOpen:O,onClose:()=>{L(!1),k(null)},onApply:Ie,itemId:C,itemPrice:C&&((St=s.find(De=>De.id===C))==null?void 0:St.price)||0,isGlobal:!1}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"relative flex-1 mr-4",children:[p.jsx("input",{type:"text",placeholder:"Search products...",value:m,onChange:De=>g(De.target.value),className:`w-full pl-10 pr-4 py-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx(Iu,{className:`absolute left-3 top-2.5 w-5 h-5 ${t?"text-gray-400":"text-gray-500"}`})]}),p.jsx(_t,{variant:"secondary",onClick:()=>H(!0),leftIcon:p.jsx(un,{className:"w-4 h-4"}),children:w?w.name:"Add Customer (Optional)"})]}),p.jsxs("div",{className:`flex items-center gap-2 ${j?"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md":""}`,children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx("input",{ref:f,type:"text",placeholder:"Scan barcode or enter SKU...",value:u,onChange:De=>d(De.target.value),onKeyDown:Pe,className:`w-full pl-10 pr-4 py-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} ${j?"border-blue-500 ring-2 ring-blue-300 dark:ring-blue-700":""}`,disabled:!j}),p.jsx(T0,{className:`absolute left-3 top-2.5 w-5 h-5 ${t?"text-gray-400":"text-gray-500"} ${j?"text-blue-500":""}`})]}),p.jsx(_t,{variant:j?"primary":"secondary",onClick:Re,leftIcon:p.jsx(T0,{className:"w-4 h-4"}),children:j?"Scanner Active":"Activate Scanner"})]})]}),F?p.jsxs("div",{className:`p-6 rounded-lg ${t?"bg-gray-800":"bg-white"} mb-6`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("span",{className:"font-medium",children:"Select Customer"}),p.jsx("button",{onClick:()=>H(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),p.jsx("div",{className:"space-y-2 max-h-[calc(100vh-300px)] overflow-y-auto",children:de.map(De=>p.jsxs("button",{onClick:()=>{_(De),H(!1)},className:`w-full text-left p-4 rounded-md ${t?"hover:bg-white-700":"hover:bg-white-100"}`,children:[p.jsx("div",{className:"font-medium",children:De.name}),p.jsx("div",{className:`text-sm ${t?"text-white-400":"text-white-500"}`,children:De.email})]},De.id))})]}):p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:le?[...Array(8)].map((De,lt)=>p.jsxs("div",{className:`animate-pulse ${t?"bg-gray-800":"bg-white"} p-4 rounded-lg shadow-sm`,children:[p.jsx("div",{className:"aspect-square bg-gray-300 rounded-md mb-3"}),p.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),p.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]},lt)):ve.length===0?p.jsxs("div",{className:"col-span-full text-center py-8",children:[p.jsx(Vn,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),p.jsx("p",{className:"text-white mb-2",children:he.length===0?`No products available for ${(e==null?void 0:e.name)||"your company"}`:"No products match your search criteria"}),he.length===0&&p.jsx("p",{className:"text-sm text-white",children:"Add products in the Products section to get started"})]}):ve.map(De=>p.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow`,children:[De.imageUrl?p.jsx("img",{src:De.imageUrl,alt:De.name,className:"aspect-square object-cover rounded-md mb-3"}):p.jsx("div",{className:`aspect-square ${t?"bg-gray-700":"bg-gray-100"} rounded-md mb-3 flex items-center justify-center`,children:p.jsx(Vn,{className:"w-12 h-12 text-white"})}),p.jsx("h3",{className:"font-medium text-white",children:De.name}),p.jsxs("p",{className:"text-sm text-white dark:text-white",children:["SKU: ",De.sku]}),p.jsxs("p",{className:"text-sm text-white dark:text-white",children:["Category: ",De.category]}),p.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[p.jsx("p",{className:"font-semibold text-white",children:ke(De.price)}),p.jsxs("p",{className:`text-sm ${De.stock<5?"text-red-500":"text-white dark:text-white"}`,children:["Stock: ",De.stock]})]}),p.jsx(_t,{variant:"primary",size:"sm",className:"w-full mt-3",leftIcon:p.jsx(Qs,{className:"w-4 h-4"}),onClick:()=>X(De),disabled:De.stock===0,children:De.stock===0?"Out of Stock":"Add to Cart"})]},De.id))})]}),p.jsxs("div",{className:`w-96 ${t?"bg-white-800":"bg-white"} p-6 rounded-lg shadow-sm`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold text-white",children:"Current Sale"}),p.jsxs("div",{className:"flex space-x-2 items-center",children:[p.jsx(fJ,{onSettingsChange:ge,className:"mr-2"}),p.jsx(qi,{className:"w-6 h-6"}),s.length>0&&p.jsx(_t,{variant:"ghost",size:"sm",onClick:Ue,className:"text-red-500 hover:text-red-600",children:"Clear"})]})]}),s.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx(qi,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),p.jsx("p",{className:"text-white",children:"Your cart is empty"})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"space-y-4 mb-6",children:s.map(De=>{const{finalPrice:lt}=V(De),gt=lt*De.quantity;return p.jsxs("div",{className:`p-4 rounded-md ${t?"bg-gray-700":"bg-gray-50"}`,children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-white",children:De.name}),p.jsxs("p",{className:"text-sm text-white dark:text-white",children:["Category: ",De.category]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("p",{className:"text-sm text-white dark:text-white",children:[ke(De.price)," each"]}),z[De.id]&&p.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[p.jsx(Js,{className:"w-3 h-3 mr-1"}),z[De.id].value,z[De.id].type==="percentage"?"%":""," off"]})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("p",{className:"font-semibold",children:ke(gt)}),p.jsxs("div",{className:"flex space-x-1",children:[p.jsx(_t,{variant:"ghost",size:"sm",className:"text-blue-500 hover:text-blue-600",onClick:()=>{k(De.id),L(!0)},"aria-label":"Apply discount",children:p.jsx(Js,{className:"w-4 h-4"})}),z[De.id]&&p.jsx(_t,{variant:"ghost",size:"sm",className:"text-orange-500 hover:text-orange-600",onClick:()=>qe(De.id),"aria-label":"Remove discount",children:p.jsx(Li,{className:"w-4 h-4"})}),p.jsx(_t,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-600",onClick:()=>Q(De.id),"aria-label":"Remove item",children:p.jsx(Eu,{className:"w-4 h-4"})})]})]})]}),p.jsxs("div",{className:"mt-2 flex items-center",children:[p.jsxs("div",{className:"flex items-center space-x-2 mr-2",children:[p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>re(De.id,-1),"aria-label":"Decrease quantity",children:p.jsx(aF,{className:"w-4 h-4"})}),p.jsx("span",{className:"w-8 text-center",children:De.quantity}),p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>re(De.id,1),"aria-label":"Increase quantity",disabled:De.quantity>=De.stock,children:p.jsx(Qs,{className:"w-4 h-4"})})]}),p.jsx("div",{className:"flex space-x-1 ml-auto",children:[5,10,20].map(Ve=>p.jsx("button",{onClick:()=>{Ve<=De.stock?l(Dt=>Dt.map(bt=>bt.id===De.id?{...bt,quantity:Ve}:bt)):Oe.error(`Cannot set quantity to ${Ve}. Maximum stock is ${De.stock}.`)},className:`px-2 py-1 text-xs rounded-md ${t?"bg-gray-600 hover:bg-gray-500 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-800"} ${De.quantity===Ve?"ring-2 ring-blue-500":""}`,disabled:Ve>De.stock,children:Ve},Ve))})]})]},De.id)})}),p.jsxs("div",{className:"border-t pt-4 space-y-4",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Subtotal (Before Discount)"}),p.jsx("span",{children:ke(B)})]}),K>0&&p.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[p.jsxs("span",{className:"flex items-center",children:[p.jsx(Js,{className:"w-4 h-4 mr-1"}),"Total Discount Amount"]}),p.jsxs("span",{children:["-",ke(K)]})]}),K>0&&p.jsxs("div",{className:"flex justify-between font-medium",children:[p.jsx("span",{children:"Subtotal (After Discount)"}),p.jsx("span",{children:ke(B-K)})]}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("label",{className:"text-sm font-medium",children:"Tax Type:"}),p.jsxs("select",{value:T,onChange:De=>R(De.target.value),className:`p-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"split",children:"CGST + SGST (Same State)"}),p.jsx("option",{value:"integrated",children:"IGST (Interstate)"})]})]}),p.jsxs("div",{className:"flex justify-between text-sm font-medium bg-green-100 dark:bg-green-900/30 p-3 rounded mb-2 border-l-4 border-green-500",children:[p.jsx("span",{className:"font-bold",children:"GST Summary Amount"}),p.jsx("span",{className:"font-bold",children:ke(Z)})]}),p.jsxs("div",{className:"mb-3 p-2 rounded bg-blue-50 dark:bg-blue-800/40",children:[p.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Debug: Tax Rate: ",D,"%, Total GST: ",ke(Z),", Mode: ",h!=null&&h.tax_inclusive?"Inclusive":"Exclusive"]}),T==="split"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsxs("span",{className:"flex items-center",children:[p.jsxs("span",{children:["CGST (",D/2,"%)"]}),p.jsx("span",{className:"ml-1 text-xs text-white",children:s.length>0&&s[0].hsnCode?`HSN: ${s[0].hsnCode}`:""})]}),p.jsx("span",{children:ke(Z/2)})]}),p.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[p.jsxs("span",{children:["SGST (",D/2,"%)"]}),p.jsx("span",{children:ke(Z/2)})]})]}):p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsxs("span",{className:"flex items-center",children:[p.jsxs("span",{children:["IGST (",D,"%)"]}),p.jsx("span",{className:"ml-1 text-xs text-white",children:s.length>0&&s[0].hsnCode?`HSN: ${s[0].hsnCode}`:""})]}),p.jsx("span",{children:ke(Z)})]})]}),(h==null?void 0:h.cess_enabled)&&p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{children:"CESS (1%)"}),p.jsx("span",{children:ke(ne)})]}),p.jsxs("div",{className:"flex justify-between text-lg font-semibold mt-3 p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg border-l-4 border-blue-500",children:[p.jsx("span",{children:"Grand Total"}),p.jsx("span",{children:ke(G)})]}),p.jsxs("div",{className:"space-y-2 mt-6 border-t pt-4 dark:border-gray-700",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Cash Received"}),p.jsxs("span",{className:"text-xs text-white",children:["Total Due: ",ke(G)]})]}),p.jsxs("div",{className:"relative",children:[p.jsx(Ai,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"number",min:"0",step:"0.01",value:N,onChange:De=>P(De.target.value),placeholder:"Enter amount",className:`w-full pl-10 pr-4 py-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} ${!I&&N?"border-red-500 ring-2 ring-red-500":"focus:ring-2 focus:ring-blue-500"}`})]}),N&&p.jsxs("div",{className:`p-3 rounded-md ${t?"bg-gray-700":"bg-gray-100"}`,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"Change"}),p.jsx("span",{className:te>=0?"text-green-500":"text-red-500",children:ke(Math.max(0,te))})]}),!I&&p.jsxs("div",{className:"flex items-center mt-2 text-red-500 text-sm",children:[p.jsx(ei,{className:"w-4 h-4 mr-1"}),p.jsxs("span",{children:["Insufficient amount (",ke(G-Number(N))," more needed)"]})]})]})]}),p.jsxs("div",{className:"mt-4 border-t pt-4 dark:border-gray-700",children:[p.jsx("h4",{className:"text-sm font-medium mb-3",children:"Payment Method"}),p.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[p.jsxs("button",{className:`flex flex-col items-center justify-center p-3 rounded-lg border transition-all ${M==="cash"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"border-gray-300 hover:bg-gray-50 dark:border-gray-600 dark:hover:bg-gray-700"}`,onClick:()=>A("cash"),children:[p.jsx(FV,{className:`w-6 h-6 mb-1 ${M==="cash"?"text-blue-500 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`}),p.jsx("span",{className:"text-sm font-medium",children:"Cash"})]}),p.jsxs("button",{className:`flex flex-col items-center justify-center p-3 rounded-lg border transition-all ${M==="creditCard"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"border-gray-300 hover:bg-gray-50 dark:border-gray-600 dark:hover:bg-gray-700"}`,onClick:()=>A("creditCard"),children:[p.jsx(BV,{className:`w-6 h-6 mb-1 ${M==="creditCard"?"text-blue-500 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`}),p.jsx("span",{className:"text-sm font-medium",children:"Credit Card"})]}),p.jsxs("button",{className:`flex flex-col items-center justify-center p-3 rounded-lg border transition-all ${M==="mobilePayment"?"bg-blue-50 border-blue-500 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"border-gray-300 hover:bg-gray-50 dark:border-gray-600 dark:hover:bg-gray-700"}`,onClick:()=>A("mobilePayment"),children:[p.jsx(WV,{className:`w-6 h-6 mb-1 ${M==="mobilePayment"?"text-blue-500 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`}),p.jsx("span",{className:"text-sm font-medium",children:"Mobile Payment"})]})]})]})]}),n("sales","edit")?p.jsx(_t,{variant:"primary",size:"lg",className:"w-full mt-6",leftIcon:p.jsx(hc,{className:"w-5 h-5"}),isLoading:v,onClick:vt,disabled:!I||s.length===0,children:"Complete Sale"}):p.jsxs("div",{className:"mt-6",children:[p.jsx(_t,{variant:"secondary",size:"lg",className:"w-full",leftIcon:p.jsx(ei,{className:"w-5 h-5"}),disabled:!0,children:"Transaction Completion Restricted"}),p.jsxs("p",{className:"text-sm text-center mt-2 text-gray-500 dark:text-gray-400",children:["As a ",i,", you can create orders but cannot complete transactions. Please contact a manager or cashier to finalize this sale."]})]})]})]})]})};function cL(r){var t,e,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(t=0;t<i;t++)r[t]&&(e=cL(r[t]))&&(n&&(n+=" "),n+=e)}else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function Dn(){for(var r,t,e=0,n="",i=arguments.length;e<i;e++)(r=arguments[e])&&(t=cL(r))&&(n&&(n+=" "),n+=t);return n}var n5,wA;function no(){if(wA)return n5;wA=1;var r=Array.isArray;return n5=r,n5}var i5,_A;function uL(){if(_A)return i5;_A=1;var r=typeof Jr=="object"&&Jr&&Jr.Object===Object&&Jr;return i5=r,i5}var a5,SA;function Tc(){if(SA)return a5;SA=1;var r=uL(),t=typeof self=="object"&&self&&self.Object===Object&&self,e=r||t||Function("return this")();return a5=e,a5}var s5,kA;function v1(){if(kA)return s5;kA=1;var r=Tc(),t=r.Symbol;return s5=t,s5}var o5,NA;function pJ(){if(NA)return o5;NA=1;var r=v1(),t=Object.prototype,e=t.hasOwnProperty,n=t.toString,i=r?r.toStringTag:void 0;function a(s){var l=e.call(s,i),c=s[i];try{s[i]=void 0;var o=!0}catch{}var u=n.call(s);return o&&(l?s[i]=c:delete s[i]),u}return o5=a,o5}var l5,EA;function mJ(){if(EA)return l5;EA=1;var r=Object.prototype,t=r.toString;function e(n){return t.call(n)}return l5=e,l5}var c5,jA;function Ru(){if(jA)return c5;jA=1;var r=v1(),t=pJ(),e=mJ(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function s(l){return l==null?l===void 0?i:n:a&&a in Object(l)?t(l):e(l)}return c5=s,c5}var u5,AA;function Fu(){if(AA)return u5;AA=1;function r(t){return t!=null&&typeof t=="object"}return u5=r,u5}var f5,TA;function Cp(){if(TA)return f5;TA=1;var r=Ru(),t=Fu(),e="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&r(i)==e}return f5=n,f5}var d5,CA;function F8(){if(CA)return d5;CA=1;var r=no(),t=Cp(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(r(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||t(a)?!0:n.test(a)||!e.test(a)||s!=null&&a in Object(s)}return d5=i,d5}var h5,OA;function id(){if(OA)return h5;OA=1;function r(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}return h5=r,h5}var p5,PA;function L8(){if(PA)return p5;PA=1;var r=Ru(),t=id(),e="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(l){if(!t(l))return!1;var c=r(l);return c==n||c==i||c==e||c==a}return p5=s,p5}var m5,MA;function gJ(){if(MA)return m5;MA=1;var r=Tc(),t=r["__core-js_shared__"];return m5=t,m5}var g5,IA;function yJ(){if(IA)return g5;IA=1;var r=gJ(),t=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function e(n){return!!t&&t in n}return g5=e,g5}var y5,RA;function fL(){if(RA)return y5;RA=1;var r=Function.prototype,t=r.toString;function e(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return y5=e,y5}var v5,FA;function vJ(){if(FA)return v5;FA=1;var r=L8(),t=yJ(),e=id(),n=fL(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,o=l.hasOwnProperty,u=RegExp("^"+c.call(o).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!e(f)||t(f))return!1;var h=r(f)?u:a;return h.test(n(f))}return v5=d,v5}var b5,LA;function bJ(){if(LA)return b5;LA=1;function r(t,e){return t==null?void 0:t[e]}return b5=r,b5}var x5,DA;function Ch(){if(DA)return x5;DA=1;var r=vJ(),t=bJ();function e(n,i){var a=t(n,i);return r(a)?a:void 0}return x5=e,x5}var w5,BA;function Ax(){if(BA)return w5;BA=1;var r=Ch(),t=r(Object,"create");return w5=t,w5}var _5,$A;function xJ(){if($A)return _5;$A=1;var r=Ax();function t(){this.__data__=r?r(null):{},this.size=0}return _5=t,_5}var S5,UA;function wJ(){if(UA)return S5;UA=1;function r(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}return S5=r,S5}var k5,zA;function _J(){if(zA)return k5;zA=1;var r=Ax(),t="__lodash_hash_undefined__",e=Object.prototype,n=e.hasOwnProperty;function i(a){var s=this.__data__;if(r){var l=s[a];return l===t?void 0:l}return n.call(s,a)?s[a]:void 0}return k5=i,k5}var N5,qA;function SJ(){if(qA)return N5;qA=1;var r=Ax(),t=Object.prototype,e=t.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:e.call(a,i)}return N5=n,N5}var E5,HA;function kJ(){if(HA)return E5;HA=1;var r=Ax(),t="__lodash_hash_undefined__";function e(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?t:i,this}return E5=e,E5}var j5,WA;function NJ(){if(WA)return j5;WA=1;var r=xJ(),t=wJ(),e=_J(),n=SJ(),i=kJ();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var o=s[l];this.set(o[0],o[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,j5=a,j5}var A5,VA;function EJ(){if(VA)return A5;VA=1;function r(){this.__data__=[],this.size=0}return A5=r,A5}var T5,GA;function D8(){if(GA)return T5;GA=1;function r(t,e){return t===e||t!==t&&e!==e}return T5=r,T5}var C5,XA;function Tx(){if(XA)return C5;XA=1;var r=D8();function t(e,n){for(var i=e.length;i--;)if(r(e[i][0],n))return i;return-1}return C5=t,C5}var O5,KA;function jJ(){if(KA)return O5;KA=1;var r=Tx(),t=Array.prototype,e=t.splice;function n(i){var a=this.__data__,s=r(a,i);if(s<0)return!1;var l=a.length-1;return s==l?a.pop():e.call(a,s,1),--this.size,!0}return O5=n,O5}var P5,YA;function AJ(){if(YA)return P5;YA=1;var r=Tx();function t(e){var n=this.__data__,i=r(n,e);return i<0?void 0:n[i][1]}return P5=t,P5}var M5,JA;function TJ(){if(JA)return M5;JA=1;var r=Tx();function t(e){return r(this.__data__,e)>-1}return M5=t,M5}var I5,ZA;function CJ(){if(ZA)return I5;ZA=1;var r=Tx();function t(e,n){var i=this.__data__,a=r(i,e);return a<0?(++this.size,i.push([e,n])):i[a][1]=n,this}return I5=t,I5}var R5,QA;function Cx(){if(QA)return R5;QA=1;var r=EJ(),t=jJ(),e=AJ(),n=TJ(),i=CJ();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var o=s[l];this.set(o[0],o[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,R5=a,R5}var F5,eT;function B8(){if(eT)return F5;eT=1;var r=Ch(),t=Tc(),e=r(t,"Map");return F5=e,F5}var L5,tT;function OJ(){if(tT)return L5;tT=1;var r=NJ(),t=Cx(),e=B8();function n(){this.size=0,this.__data__={hash:new r,map:new(e||t),string:new r}}return L5=n,L5}var D5,rT;function PJ(){if(rT)return D5;rT=1;function r(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}return D5=r,D5}var B5,nT;function Ox(){if(nT)return B5;nT=1;var r=PJ();function t(e,n){var i=e.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return B5=t,B5}var $5,iT;function MJ(){if(iT)return $5;iT=1;var r=Ox();function t(e){var n=r(this,e).delete(e);return this.size-=n?1:0,n}return $5=t,$5}var U5,aT;function IJ(){if(aT)return U5;aT=1;var r=Ox();function t(e){return r(this,e).get(e)}return U5=t,U5}var z5,sT;function RJ(){if(sT)return z5;sT=1;var r=Ox();function t(e){return r(this,e).has(e)}return z5=t,z5}var q5,oT;function FJ(){if(oT)return q5;oT=1;var r=Ox();function t(e,n){var i=r(this,e),a=i.size;return i.set(e,n),this.size+=i.size==a?0:1,this}return q5=t,q5}var H5,lT;function $8(){if(lT)return H5;lT=1;var r=OJ(),t=MJ(),e=IJ(),n=RJ(),i=FJ();function a(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var o=s[l];this.set(o[0],o[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=n,a.prototype.set=i,H5=a,H5}var W5,cT;function dL(){if(cT)return W5;cT=1;var r=$8(),t="Expected a function";function e(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=a.cache;if(c.has(l))return c.get(l);var o=n.apply(this,s);return a.cache=c.set(l,o)||c,o};return a.cache=new(e.Cache||r),a}return e.Cache=r,W5=e,W5}var V5,uT;function LJ(){if(uT)return V5;uT=1;var r=dL(),t=500;function e(n){var i=r(n,function(s){return a.size===t&&a.clear(),s}),a=i.cache;return i}return V5=e,V5}var G5,fT;function DJ(){if(fT)return G5;fT=1;var r=LJ(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e=/\\(\\)?/g,n=r(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(s,l,c,o){a.push(c?o.replace(e,"$1"):l||s)}),a});return G5=n,G5}var X5,dT;function U8(){if(dT)return X5;dT=1;function r(t,e){for(var n=-1,i=t==null?0:t.length,a=Array(i);++n<i;)a[n]=e(t[n],n,t);return a}return X5=r,X5}var K5,hT;function BJ(){if(hT)return K5;hT=1;var r=v1(),t=U8(),e=no(),n=Cp(),i=r?r.prototype:void 0,a=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(e(l))return t(l,s)+"";if(n(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return K5=s,K5}var Y5,pT;function hL(){if(pT)return Y5;pT=1;var r=BJ();function t(e){return e==null?"":r(e)}return Y5=t,Y5}var J5,mT;function pL(){if(mT)return J5;mT=1;var r=no(),t=F8(),e=DJ(),n=hL();function i(a,s){return r(a)?a:t(a,s)?[a]:e(n(a))}return J5=i,J5}var Z5,gT;function Px(){if(gT)return Z5;gT=1;var r=Cp();function t(e){if(typeof e=="string"||r(e))return e;var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}return Z5=t,Z5}var Q5,yT;function z8(){if(yT)return Q5;yT=1;var r=pL(),t=Px();function e(n,i){i=r(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[t(i[a++])];return a&&a==s?n:void 0}return Q5=e,Q5}var e_,vT;function mL(){if(vT)return e_;vT=1;var r=z8();function t(e,n,i){var a=e==null?void 0:r(e,n);return a===void 0?i:a}return e_=t,e_}var $J=mL();const el=kn($J);var t_,bT;function UJ(){if(bT)return t_;bT=1;function r(t){return t==null}return t_=r,t_}var zJ=UJ();const mn=kn(zJ);var r_,xT;function qJ(){if(xT)return r_;xT=1;var r=Ru(),t=no(),e=Fu(),n="[object String]";function i(a){return typeof a=="string"||!t(a)&&e(a)&&r(a)==n}return r_=i,r_}var HJ=qJ();const b1=kn(HJ);var WJ=L8();const Zr=kn(WJ);var VJ=id();const Op=kn(VJ);var n_={exports:{}},Tn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function GJ(){if(wT)return Tn;wT=1;var r=typeof Symbol=="function"&&Symbol.for,t=r?Symbol.for("react.element"):60103,e=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,o=r?Symbol.for("react.concurrent_mode"):60111,u=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function w(N){if(typeof N=="object"&&N!==null){var P=N.$$typeof;switch(P){case t:switch(N=N.type,N){case c:case o:case n:case a:case i:case d:return N;default:switch(N=N&&N.$$typeof,N){case l:case u:case y:case h:case s:return N;default:return P}}case e:return P}}}function _(N){return w(N)===o}return Tn.AsyncMode=c,Tn.ConcurrentMode=o,Tn.ContextConsumer=l,Tn.ContextProvider=s,Tn.Element=t,Tn.ForwardRef=u,Tn.Fragment=n,Tn.Lazy=y,Tn.Memo=h,Tn.Portal=e,Tn.Profiler=a,Tn.StrictMode=i,Tn.Suspense=d,Tn.isAsyncMode=function(N){return _(N)||w(N)===c},Tn.isConcurrentMode=_,Tn.isContextConsumer=function(N){return w(N)===l},Tn.isContextProvider=function(N){return w(N)===s},Tn.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===t},Tn.isForwardRef=function(N){return w(N)===u},Tn.isFragment=function(N){return w(N)===n},Tn.isLazy=function(N){return w(N)===y},Tn.isMemo=function(N){return w(N)===h},Tn.isPortal=function(N){return w(N)===e},Tn.isProfiler=function(N){return w(N)===a},Tn.isStrictMode=function(N){return w(N)===i},Tn.isSuspense=function(N){return w(N)===d},Tn.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===n||N===o||N===a||N===i||N===d||N===f||typeof N=="object"&&N!==null&&(N.$$typeof===y||N.$$typeof===h||N.$$typeof===s||N.$$typeof===l||N.$$typeof===u||N.$$typeof===g||N.$$typeof===v||N.$$typeof===b||N.$$typeof===m)},Tn.typeOf=w,Tn}var _T;function XJ(){return _T||(_T=1,n_.exports=GJ()),n_.exports}var Z6=XJ(),i_,ST;function gL(){if(ST)return i_;ST=1;var r=Ru(),t=Fu(),e="[object Number]";function n(i){return typeof i=="number"||t(i)&&r(i)==e}return i_=n,i_}var a_,kT;function KJ(){if(kT)return a_;kT=1;var r=gL();function t(e){return r(e)&&e!=+e}return a_=t,a_}var YJ=KJ();const Pp=kn(YJ);var JJ=gL();const ZJ=kn(JJ);var Dl=function(t){return t===0?0:t>0?1:-1},sh=function(t){return b1(t)&&t.indexOf("%")===t.length-1},Jt=function(t){return ZJ(t)&&!Pp(t)},ra=function(t){return Jt(t)||b1(t)},QJ=0,x1=function(t){var e=++QJ;return"".concat(t||"").concat(e)},sp=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Jt(t)&&!b1(t))return n;var a;if(sh(t)){var s=t.indexOf("%");a=e*parseFloat(t.slice(0,s))/100}else a=+t;return Pp(a)&&(a=n),i&&a>e&&(a=e),a},Lf=function(t){if(!t)return null;var e=Object.keys(t);return e&&e.length?t[e[0]]:null},eZ=function(t){if(!Array.isArray(t))return!1;for(var e=t.length,n={},i=0;i<e;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Jo=function(t,e){return Jt(t)&&Jt(e)?function(n){return t+n*(e-t)}:function(){return e}};function rb(r,t,e){return!r||!r.length?null:r.find(function(n){return n&&(typeof t=="function"?t(n):el(n,t))===e})}function z0(r,t){for(var e in r)if({}.hasOwnProperty.call(r,e)&&(!{}.hasOwnProperty.call(t,e)||r[e]!==t[e]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(r,n))return!1;return!0}function Q6(r){"@babel/helpers - typeof";return Q6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q6(r)}var tZ=["viewBox","children"],rZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NT=["points","pathLength"],s_={svg:tZ,polygon:NT,polyline:NT},q8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nb=function(t,e){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(fe.isValidElement(t)&&(n=t.props),!Op(n))return null;var i={};return Object.keys(n).forEach(function(a){q8.includes(a)&&(i[a]=e||function(s){return n[a](n,s)})}),i},nZ=function(t,e,n){return function(i){return t(e,n,i),null}},ib=function(t,e,n){if(!Op(t)||Q6(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];q8.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=nZ(s,e,n))}),i},iZ=["children"],aZ=["children"];function ET(r,t){if(r==null)return{};var e=sZ(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function sZ(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function eS(r){"@babel/helpers - typeof";return eS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eS(r)}var jT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},bu=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},AT=null,o_=null,H8=function r(t){if(t===AT&&Array.isArray(o_))return o_;var e=[];return fe.Children.forEach(t,function(n){mn(n)||(Z6.isFragment(n)?e=e.concat(r(n.props.children)):e.push(n))}),o_=e,AT=t,e};function $l(r,t){var e=[],n=[];return Array.isArray(t)?n=t.map(function(i){return bu(i)}):n=[bu(t)],H8(r).forEach(function(i){var a=el(i,"type.displayName")||el(i,"type.name");n.indexOf(a)!==-1&&e.push(i)}),e}function _o(r,t){var e=$l(r,t);return e&&e[0]}var TT=function(t){if(!t||!t.props)return!1;var e=t.props,n=e.width,i=e.height;return!(!Jt(n)||n<=0||!Jt(i)||i<=0)},oZ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lZ=function(t){return t&&t.type&&b1(t.type)&&oZ.indexOf(t.type)>=0},cZ=function(t){return t&&eS(t)==="object"&&"cx"in t&&"cy"in t&&"r"in t},uZ=function(t,e,n,i){var a,s=(a=s_==null?void 0:s_[i])!==null&&a!==void 0?a:[];return!Zr(t)&&(i&&s.includes(e)||rZ.includes(e))||n&&q8.includes(e)},rn=function(t,e,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(fe.isValidElement(t)&&(i=t.props),!Op(i))return null;var a={};return Object.keys(i).forEach(function(s){var l;uZ((l=i)===null||l===void 0?void 0:l[s],s,e,n)&&(a[s]=i[s])}),a},tS=function r(t,e){if(t===e)return!0;var n=fe.Children.count(t);if(n!==fe.Children.count(e))return!1;if(n===0)return!0;if(n===1)return CT(Array.isArray(t)?t[0]:t,Array.isArray(e)?e[0]:e);for(var i=0;i<n;i++){var a=t[i],s=e[i];if(Array.isArray(a)||Array.isArray(s)){if(!r(a,s))return!1}else if(!CT(a,s))return!1}return!0},CT=function(t,e){if(mn(t)&&mn(e))return!0;if(!mn(t)&&!mn(e)){var n=t.props||{},i=n.children,a=ET(n,iZ),s=e.props||{},l=s.children,c=ET(s,aZ);return i&&l?z0(a,c)&&tS(i,l):!i&&!l?z0(a,c):!1}return!1},OT=function(t,e){var n=[],i={};return H8(t).forEach(function(a,s){if(lZ(a))n.push(a);else if(a){var l=bu(a.type),c=e[l]||{},o=c.handler,u=c.once;if(o&&(!u||!i[l])){var d=o(a,l,s);n.push(d),i[l]=!0}}}),n},fZ=function(t){var e=t&&t.type;return e&&jT[e]?jT[e]:null},dZ=function(t,e){return H8(e).indexOf(t)},hZ=["children","width","height","viewBox","className","style","title","desc"];function rS(){return rS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},rS.apply(this,arguments)}function pZ(r,t){if(r==null)return{};var e=mZ(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function mZ(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function nS(r){var t=r.children,e=r.width,n=r.height,i=r.viewBox,a=r.className,s=r.style,l=r.title,c=r.desc,o=pZ(r,hZ),u=i||{width:e,height:n,x:0,y:0},d=Dn("recharts-surface",a);return rt.createElement("svg",rS({},rn(o,!0,"svg"),{className:d,width:e,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),rt.createElement("title",null,l),rt.createElement("desc",null,c),t)}var gZ=["children","className"];function iS(){return iS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},iS.apply(this,arguments)}function yZ(r,t){if(r==null)return{};var e=vZ(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function vZ(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}var wi=rt.forwardRef(function(r,t){var e=r.children,n=r.className,i=yZ(r,gZ),a=Dn("recharts-layer",n);return rt.createElement("g",iS({className:a},rn(i,!0),{ref:t}),e)}),xu=function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},l_,PT;function bZ(){if(PT)return l_;PT=1;function r(t,e,n){var i=-1,a=t.length;e<0&&(e=-e>a?0:a+e),n=n>a?a:n,n<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(a);++i<a;)s[i]=t[i+e];return s}return l_=r,l_}var c_,MT;function xZ(){if(MT)return c_;MT=1;var r=bZ();function t(e,n,i){var a=e.length;return i=i===void 0?a:i,!n&&i>=a?e:r(e,n,i)}return c_=t,c_}var u_,IT;function yL(){if(IT)return u_;IT=1;var r="\\ud800-\\udfff",t="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+e+n,a="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+r+i+a+"]");function c(o){return l.test(o)}return u_=c,u_}var f_,RT;function wZ(){if(RT)return f_;RT=1;function r(t){return t.split("")}return f_=r,f_}var d_,FT;function _Z(){if(FT)return d_;FT=1;var r="\\ud800-\\udfff",t="\\u0300-\\u036f",e="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+e+n,a="\\ufe0e\\ufe0f",s="["+r+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",o="(?:"+l+"|"+c+")",u="[^"+r+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",y=o+"?",m="["+a+"]?",g="(?:"+h+"(?:"+[u,d,f].join("|")+")"+m+y+")*",v=m+y+g,b="(?:"+[u+l+"?",l,d,f,s].join("|")+")",w=RegExp(c+"(?="+c+")|"+b+v,"g");function _(N){return N.match(w)||[]}return d_=_,d_}var h_,LT;function SZ(){if(LT)return h_;LT=1;var r=wZ(),t=yL(),e=_Z();function n(i){return t(i)?e(i):r(i)}return h_=n,h_}var p_,DT;function kZ(){if(DT)return p_;DT=1;var r=xZ(),t=yL(),e=SZ(),n=hL();function i(a){return function(s){s=n(s);var l=t(s)?e(s):void 0,c=l?l[0]:s.charAt(0),o=l?r(l,1).join(""):s.slice(1);return c[a]()+o}}return p_=i,p_}var m_,BT;function NZ(){if(BT)return m_;BT=1;var r=kZ(),t=r("toUpperCase");return m_=t,m_}var EZ=NZ();const Mx=kn(EZ);function Qn(r){return function(){return r}}const vL=Math.cos,ab=Math.sin,Hl=Math.sqrt,sb=Math.PI,Ix=2*sb,aS=Math.PI,sS=2*aS,Qd=1e-6,jZ=sS-Qd;function bL(r){this._+=r[0];for(let t=1,e=r.length;t<e;++t)this._+=arguments[t]+r[t]}function AZ(r){let t=Math.floor(r);if(!(t>=0))throw new Error(`invalid digits: ${r}`);if(t>15)return bL;const e=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+n[i]}}class TZ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?bL:AZ(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,i){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,e,n,i,a,s){this._append`C${+t},${+e},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,e,n,i,a){if(t=+t,e=+e,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=n-t,o=i-e,u=s-t,d=l-e,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(f>Qd)if(!(Math.abs(d*c-o*u)>Qd)||!a)this._append`L${this._x1=t},${this._y1=e}`;else{let h=n-s,y=i-l,m=c*c+o*o,g=h*h+y*y,v=Math.sqrt(m),b=Math.sqrt(f),w=a*Math.tan((aS-Math.acos((m+f-g)/(2*v*b)))/2),_=w/b,N=w/v;Math.abs(_-1)>Qd&&this._append`L${t+_*u},${e+_*d}`,this._append`A${a},${a},0,0,${+(d*h>u*y)},${this._x1=t+N*c},${this._y1=e+N*o}`}}arc(t,e,n,i,a,s){if(t=+t,e=+e,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),o=t+l,u=e+c,d=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${o},${u}`:(Math.abs(this._x1-o)>Qd||Math.abs(this._y1-u)>Qd)&&this._append`L${o},${u}`,n&&(f<0&&(f=f%sS+sS),f>jZ?this._append`A${n},${n},0,1,${d},${t-l},${e-c}A${n},${n},0,1,${d},${this._x1=o},${this._y1=u}`:f>Qd&&this._append`A${n},${n},0,${+(f>=aS)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=e+n*Math.sin(a)}`)}rect(t,e,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function W8(r){let t=3;return r.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const n=Math.floor(e);if(!(n>=0))throw new RangeError(`invalid digits: ${e}`);t=n}return r},()=>new TZ(t)}function V8(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function xL(r){this._context=r}xL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break;case 1:this._point=2;default:this._context.lineTo(r,t);break}}};function Rx(r){return new xL(r)}function wL(r){return r[0]}function _L(r){return r[1]}function SL(r,t){var e=Qn(!0),n=null,i=Rx,a=null,s=W8(l);r=typeof r=="function"?r:r===void 0?wL:Qn(r),t=typeof t=="function"?t:t===void 0?_L:Qn(t);function l(c){var o,u=(c=V8(c)).length,d,f=!1,h;for(n==null&&(a=i(h=s())),o=0;o<=u;++o)!(o<u&&e(d=c[o],o,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+r(d,o,c),+t(d,o,c));if(h)return a=null,h+""||null}return l.x=function(c){return arguments.length?(r=typeof c=="function"?c:Qn(+c),l):r},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Qn(+c),l):t},l.defined=function(c){return arguments.length?(e=typeof c=="function"?c:Qn(!!c),l):e},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function av(r,t,e){var n=null,i=Qn(!0),a=null,s=Rx,l=null,c=W8(o);r=typeof r=="function"?r:r===void 0?wL:Qn(+r),t=typeof t=="function"?t:Qn(t===void 0?0:+t),e=typeof e=="function"?e:e===void 0?_L:Qn(+e);function o(d){var f,h,y,m=(d=V8(d)).length,g,v=!1,b,w=new Array(m),_=new Array(m);for(a==null&&(l=s(b=c())),f=0;f<=m;++f){if(!(f<m&&i(g=d[f],f,d))===v)if(v=!v)h=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=f-1;y>=h;--y)l.point(w[y],_[y]);l.lineEnd(),l.areaEnd()}v&&(w[f]=+r(g,f,d),_[f]=+t(g,f,d),l.point(n?+n(g,f,d):w[f],e?+e(g,f,d):_[f]))}if(b)return l=null,b+""||null}function u(){return SL().defined(i).curve(s).context(a)}return o.x=function(d){return arguments.length?(r=typeof d=="function"?d:Qn(+d),n=null,o):r},o.x0=function(d){return arguments.length?(r=typeof d=="function"?d:Qn(+d),o):r},o.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Qn(+d),o):n},o.y=function(d){return arguments.length?(t=typeof d=="function"?d:Qn(+d),e=null,o):t},o.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Qn(+d),o):t},o.y1=function(d){return arguments.length?(e=d==null?null:typeof d=="function"?d:Qn(+d),o):e},o.lineX0=o.lineY0=function(){return u().x(r).y(t)},o.lineY1=function(){return u().x(r).y(e)},o.lineX1=function(){return u().x(n).y(t)},o.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Qn(!!d),o):i},o.curve=function(d){return arguments.length?(s=d,a!=null&&(l=s(a)),o):s},o.context=function(d){return arguments.length?(d==null?a=l=null:l=s(a=d),o):a},o}class kL{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}}function CZ(r){return new kL(r,!0)}function OZ(r){return new kL(r,!1)}const G8={draw(r,t){const e=Hl(t/sb);r.moveTo(e,0),r.arc(0,0,e,0,Ix)}},PZ={draw(r,t){const e=Hl(t/5)/2;r.moveTo(-3*e,-e),r.lineTo(-e,-e),r.lineTo(-e,-3*e),r.lineTo(e,-3*e),r.lineTo(e,-e),r.lineTo(3*e,-e),r.lineTo(3*e,e),r.lineTo(e,e),r.lineTo(e,3*e),r.lineTo(-e,3*e),r.lineTo(-e,e),r.lineTo(-3*e,e),r.closePath()}},NL=Hl(1/3),MZ=NL*2,IZ={draw(r,t){const e=Hl(t/MZ),n=e*NL;r.moveTo(0,-e),r.lineTo(n,0),r.lineTo(0,e),r.lineTo(-n,0),r.closePath()}},RZ={draw(r,t){const e=Hl(t),n=-e/2;r.rect(n,n,e,e)}},FZ=.8908130915292852,EL=ab(sb/10)/ab(7*sb/10),LZ=ab(Ix/10)*EL,DZ=-vL(Ix/10)*EL,BZ={draw(r,t){const e=Hl(t*FZ),n=LZ*e,i=DZ*e;r.moveTo(0,-e),r.lineTo(n,i);for(let a=1;a<5;++a){const s=Ix*a/5,l=vL(s),c=ab(s);r.lineTo(c*e,-l*e),r.lineTo(l*n-c*i,c*n+l*i)}r.closePath()}},g_=Hl(3),$Z={draw(r,t){const e=-Hl(t/(g_*3));r.moveTo(0,e*2),r.lineTo(-g_*e,-e),r.lineTo(g_*e,-e),r.closePath()}},Wo=-.5,Vo=Hl(3)/2,oS=1/Hl(12),UZ=(oS/2+1)*3,zZ={draw(r,t){const e=Hl(t/UZ),n=e/2,i=e*oS,a=n,s=e*oS+e,l=-a,c=s;r.moveTo(n,i),r.lineTo(a,s),r.lineTo(l,c),r.lineTo(Wo*n-Vo*i,Vo*n+Wo*i),r.lineTo(Wo*a-Vo*s,Vo*a+Wo*s),r.lineTo(Wo*l-Vo*c,Vo*l+Wo*c),r.lineTo(Wo*n+Vo*i,Wo*i-Vo*n),r.lineTo(Wo*a+Vo*s,Wo*s-Vo*a),r.lineTo(Wo*l+Vo*c,Wo*c-Vo*l),r.closePath()}};function qZ(r,t){let e=null,n=W8(i);r=typeof r=="function"?r:Qn(r||G8),t=typeof t=="function"?t:Qn(t===void 0?64:+t);function i(){let a;if(e||(e=a=n()),r.apply(this,arguments).draw(e,+t.apply(this,arguments)),a)return e=null,a+""||null}return i.type=function(a){return arguments.length?(r=typeof a=="function"?a:Qn(a),i):r},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Qn(+a),i):t},i.context=function(a){return arguments.length?(e=a??null,i):e},i}function ob(){}function lb(r,t,e){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+t)/6,(r._y0+4*r._y1+e)/6)}function jL(r){this._context=r}jL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lb(this,r,t);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=t}};function HZ(r){return new jL(r)}function AL(r){this._context=r}AL.prototype={areaStart:ob,areaEnd:ob,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1,this._x2=r,this._y2=t;break;case 1:this._point=2,this._x3=r,this._y3=t;break;case 2:this._point=3,this._x4=r,this._y4=t,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+t)/6);break;default:lb(this,r,t);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=t}};function WZ(r){return new AL(r)}function TL(r){this._context=r}TL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+r)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 3:this._point=4;default:lb(this,r,t);break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=t}};function VZ(r){return new TL(r)}function CL(r){this._context=r}CL.prototype={areaStart:ob,areaEnd:ob,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,t){r=+r,t=+t,this._point?this._context.lineTo(r,t):(this._point=1,this._context.moveTo(r,t))}};function GZ(r){return new CL(r)}function $T(r){return r<0?-1:1}function UT(r,t,e){var n=r._x1-r._x0,i=t-r._x1,a=(r._y1-r._y0)/(n||i<0&&-0),s=(e-r._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return($T(a)+$T(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function zT(r,t){var e=r._x1-r._x0;return e?(3*(r._y1-r._y0)/e-t)/2:t}function y_(r,t,e){var n=r._x0,i=r._y0,a=r._x1,s=r._y1,l=(a-n)/3;r._context.bezierCurveTo(n+l,i+l*t,a-l,s-l*e,a,s)}function cb(r){this._context=r}cb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:y_(this,this._t0,zT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(r,t){var e=NaN;if(r=+r,t=+t,!(r===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break;case 1:this._point=2;break;case 2:this._point=3,y_(this,zT(this,e=UT(this,r,t)),e);break;default:y_(this,this._t0,e=UT(this,r,t));break}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=t,this._t0=e}}};function OL(r){this._context=new PL(r)}(OL.prototype=Object.create(cb.prototype)).point=function(r,t){cb.prototype.point.call(this,t,r)};function PL(r){this._context=r}PL.prototype={moveTo:function(r,t){this._context.moveTo(t,r)},closePath:function(){this._context.closePath()},lineTo:function(r,t){this._context.lineTo(t,r)},bezierCurveTo:function(r,t,e,n,i,a){this._context.bezierCurveTo(t,r,n,e,a,i)}};function XZ(r){return new cb(r)}function KZ(r){return new OL(r)}function ML(r){this._context=r}ML.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,t=this._y,e=r.length;if(e)if(this._line?this._context.lineTo(r[0],t[0]):this._context.moveTo(r[0],t[0]),e===2)this._context.lineTo(r[1],t[1]);else for(var n=qT(r),i=qT(t),a=0,s=1;s<e;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],r[s],t[s]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,t){this._x.push(+r),this._y.push(+t)}};function qT(r){var t,e=r.length-1,n,i=new Array(e),a=new Array(e),s=new Array(e);for(i[0]=0,a[0]=2,s[0]=r[0]+2*r[1],t=1;t<e-1;++t)i[t]=1,a[t]=4,s[t]=4*r[t]+2*r[t+1];for(i[e-1]=2,a[e-1]=7,s[e-1]=8*r[e-1]+r[e],t=1;t<e;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[e-1]=s[e-1]/a[e-1],t=e-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[e-1]=(r[e]+i[e-1])/2,t=0;t<e-1;++t)a[t]=2*r[t+1]-i[t+1];return[i,a]}function YZ(r){return new ML(r)}function Fx(r,t){this._context=r,this._t=t}Fx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,t){switch(r=+r,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(r,t);else{var e=this._x*(1-this._t)+r*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=r,this._y=t}};function JZ(r){return new Fx(r,.5)}function ZZ(r){return new Fx(r,0)}function QZ(r){return new Fx(r,1)}function op(r,t){if((s=r.length)>1)for(var e=1,n,i,a=r[t[0]],s,l=a.length;e<s;++e)for(i=a,a=r[t[e]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function lS(r){for(var t=r.length,e=new Array(t);--t>=0;)e[t]=t;return e}function eQ(r,t){return r[t]}function tQ(r){const t=[];return t.key=r,t}function rQ(){var r=Qn([]),t=lS,e=op,n=eQ;function i(a){var s=Array.from(r.apply(this,arguments),tQ),l,c=s.length,o=-1,u;for(const d of a)for(l=0,++o;l<c;++l)(s[l][o]=[0,+n(d,s[l].key,o,a)]).data=d;for(l=0,u=V8(t(s));l<c;++l)s[u[l]].index=l;return e(s,u),s}return i.keys=function(a){return arguments.length?(r=typeof a=="function"?a:Qn(Array.from(a)),i):r},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Qn(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?lS:typeof a=="function"?a:Qn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(e=a??op,i):e},i}function nQ(r,t){if((n=r.length)>0){for(var e,n,i=0,a=r[0].length,s;i<a;++i){for(s=e=0;e<n;++e)s+=r[e][i][1]||0;if(s)for(e=0;e<n;++e)r[e][i][1]/=s}op(r,t)}}function iQ(r,t){if((i=r.length)>0){for(var e=0,n=r[t[0]],i,a=n.length;e<a;++e){for(var s=0,l=0;s<i;++s)l+=r[s][e][1]||0;n[e][1]+=n[e][0]=-l/2}op(r,t)}}function aQ(r,t){if(!(!((s=r.length)>0)||!((a=(i=r[t[0]]).length)>0))){for(var e=0,n=1,i,a,s;n<a;++n){for(var l=0,c=0,o=0;l<s;++l){for(var u=r[t[l]],d=u[n][1]||0,f=u[n-1][1]||0,h=(d-f)/2,y=0;y<l;++y){var m=r[t[y]],g=m[n][1]||0,v=m[n-1][1]||0;h+=g-v}c+=d,o+=h*d}i[n-1][1]+=i[n-1][0]=e,c&&(e-=o/c)}i[n-1][1]+=i[n-1][0]=e,op(r,t)}}function vg(r){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(r)}var sQ=["type","size","sizeType"];function cS(){return cS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},cS.apply(this,arguments)}function HT(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function WT(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(e),!0).forEach(function(n){oQ(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):HT(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function oQ(r,t,e){return t=lQ(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function lQ(r){var t=cQ(r,"string");return vg(t)=="symbol"?t:String(t)}function cQ(r,t){if(vg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function uQ(r,t){if(r==null)return{};var e=fQ(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function fQ(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}var IL={symbolCircle:G8,symbolCross:PZ,symbolDiamond:IZ,symbolSquare:RZ,symbolStar:BZ,symbolTriangle:$Z,symbolWye:zZ},dQ=Math.PI/180,hQ=function(t){var e="symbol".concat(Mx(t));return IL[e]||G8},pQ=function(t,e,n){if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*dQ;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},mQ=function(t,e){IL["symbol".concat(Mx(t))]=e},X8=function(t){var e=t.type,n=e===void 0?"circle":e,i=t.size,a=i===void 0?64:i,s=t.sizeType,l=s===void 0?"area":s,c=uQ(t,sQ),o=WT(WT({},c),{},{type:n,size:a,sizeType:l}),u=function(){var g=hQ(n),v=qZ().type(g).size(pQ(a,l,n));return v()},d=o.className,f=o.cx,h=o.cy,y=rn(o,!0);return f===+f&&h===+h&&a===+a?rt.createElement("path",cS({},y,{className:Dn("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};X8.registerSymbol=mQ;function lp(r){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(r)}function uS(){return uS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},uS.apply(this,arguments)}function VT(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function gQ(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(e),!0).forEach(function(n){bg(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):VT(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function yQ(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function vQ(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,FL(n.key),n)}}function bQ(r,t,e){return t&&vQ(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function xQ(r,t,e){return t=ub(t),wQ(r,RL()?Reflect.construct(t,e||[],ub(r).constructor):t.apply(r,e))}function wQ(r,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Q(r)}function _Q(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function RL(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RL=function(){return!!r})()}function ub(r){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ub(r)}function SQ(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&fS(r,t)}function fS(r,t){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fS(r,t)}function bg(r,t,e){return t=FL(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function FL(r){var t=kQ(r,"string");return lp(t)=="symbol"?t:String(t)}function kQ(r,t){if(lp(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Cl=32,K8=function(r){SQ(t,r);function t(){return yQ(this,t),xQ(this,t,arguments)}return bQ(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Cl/2,s=Cl/6,l=Cl/3,c=n.inactive?i:n.color;if(n.type==="plainline")return rt.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Cl,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return rt.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Cl,"M").concat(2*l,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return rt.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Cl/8,"h").concat(Cl,"v").concat(Cl*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(rt.isValidElement(n.legendIcon)){var o=gQ({},n);return delete o.legendIcon,rt.cloneElement(n.legendIcon,o)}return rt.createElement(X8,{fill:c,cx:a,cy:a,size:Cl,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,o=i.inactiveColor,u={x:0,y:0,width:Cl,height:Cl},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,y){var m=h.formatter||c,g=Dn(bg(bg({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",h.inactive));if(h.type==="none")return null;var v=Zr(h.value)?null:h.value;xu(!Zr(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?o:h.color;return rt.createElement("li",uS({className:g,style:d,key:"legend-item-".concat(y)},ib(n.props,h,y)),rt.createElement(nS,{width:s,height:s,viewBox:u,style:f},n.renderIcon(h)),rt.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(v,h,y):v))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return rt.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}]),t}(fe.PureComponent);bg(K8,"displayName","Legend");bg(K8,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var v_,GT;function NQ(){if(GT)return v_;GT=1;var r=Cx();function t(){this.__data__=new r,this.size=0}return v_=t,v_}var b_,XT;function EQ(){if(XT)return b_;XT=1;function r(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}return b_=r,b_}var x_,KT;function jQ(){if(KT)return x_;KT=1;function r(t){return this.__data__.get(t)}return x_=r,x_}var w_,YT;function AQ(){if(YT)return w_;YT=1;function r(t){return this.__data__.has(t)}return w_=r,w_}var __,JT;function TQ(){if(JT)return __;JT=1;var r=Cx(),t=B8(),e=$8(),n=200;function i(a,s){var l=this.__data__;if(l instanceof r){var c=l.__data__;if(!t||c.length<n-1)return c.push([a,s]),this.size=++l.size,this;l=this.__data__=new e(c)}return l.set(a,s),this.size=l.size,this}return __=i,__}var S_,ZT;function LL(){if(ZT)return S_;ZT=1;var r=Cx(),t=NQ(),e=EQ(),n=jQ(),i=AQ(),a=TQ();function s(l){var c=this.__data__=new r(l);this.size=c.size}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,S_=s,S_}var k_,QT;function CQ(){if(QT)return k_;QT=1;var r="__lodash_hash_undefined__";function t(e){return this.__data__.set(e,r),this}return k_=t,k_}var N_,eC;function OQ(){if(eC)return N_;eC=1;function r(t){return this.__data__.has(t)}return N_=r,N_}var E_,tC;function DL(){if(tC)return E_;tC=1;var r=$8(),t=CQ(),e=OQ();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new r;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=t,n.prototype.has=e,E_=n,E_}var j_,rC;function BL(){if(rC)return j_;rC=1;function r(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}return j_=r,j_}var A_,nC;function $L(){if(nC)return A_;nC=1;function r(t,e){return t.has(e)}return A_=r,A_}var T_,iC;function UL(){if(iC)return T_;iC=1;var r=DL(),t=BL(),e=$L(),n=1,i=2;function a(s,l,c,o,u,d){var f=c&n,h=s.length,y=l.length;if(h!=y&&!(f&&y>h))return!1;var m=d.get(s),g=d.get(l);if(m&&g)return m==l&&g==s;var v=-1,b=!0,w=c&i?new r:void 0;for(d.set(s,l),d.set(l,s);++v<h;){var _=s[v],N=l[v];if(o)var P=f?o(N,_,v,l,s,d):o(_,N,v,s,l,d);if(P!==void 0){if(P)continue;b=!1;break}if(w){if(!t(l,function(M,A){if(!e(w,A)&&(_===M||u(_,M,c,o,d)))return w.push(A)})){b=!1;break}}else if(!(_===N||u(_,N,c,o,d))){b=!1;break}}return d.delete(s),d.delete(l),b}return T_=a,T_}var C_,aC;function PQ(){if(aC)return C_;aC=1;var r=Tc(),t=r.Uint8Array;return C_=t,C_}var O_,sC;function MQ(){if(sC)return O_;sC=1;function r(t){var e=-1,n=Array(t.size);return t.forEach(function(i,a){n[++e]=[a,i]}),n}return O_=r,O_}var P_,oC;function Y8(){if(oC)return P_;oC=1;function r(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}return P_=r,P_}var M_,lC;function IQ(){if(lC)return M_;lC=1;var r=v1(),t=PQ(),e=D8(),n=UL(),i=MQ(),a=Y8(),s=1,l=2,c="[object Boolean]",o="[object Date]",u="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",y="[object Set]",m="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",b="[object DataView]",w=r?r.prototype:void 0,_=w?w.valueOf:void 0;function N(P,M,A,F,H,z,U){switch(A){case b:if(P.byteLength!=M.byteLength||P.byteOffset!=M.byteOffset)return!1;P=P.buffer,M=M.buffer;case v:return!(P.byteLength!=M.byteLength||!z(new t(P),new t(M)));case c:case o:case f:return e(+P,+M);case u:return P.name==M.name&&P.message==M.message;case h:case m:return P==M+"";case d:var O=i;case y:var L=F&s;if(O||(O=a),P.size!=M.size&&!L)return!1;var C=U.get(P);if(C)return C==M;F|=l,U.set(P,M);var k=n(O(P),O(M),F,H,z,U);return U.delete(P),k;case g:if(_)return _.call(P)==_.call(M)}return!1}return M_=N,M_}var I_,cC;function zL(){if(cC)return I_;cC=1;function r(t,e){for(var n=-1,i=e.length,a=t.length;++n<i;)t[a+n]=e[n];return t}return I_=r,I_}var R_,uC;function RQ(){if(uC)return R_;uC=1;var r=zL(),t=no();function e(n,i,a){var s=i(n);return t(n)?s:r(s,a(n))}return R_=e,R_}var F_,fC;function FQ(){if(fC)return F_;fC=1;function r(t,e){for(var n=-1,i=t==null?0:t.length,a=0,s=[];++n<i;){var l=t[n];e(l,n,t)&&(s[a++]=l)}return s}return F_=r,F_}var L_,dC;function LQ(){if(dC)return L_;dC=1;function r(){return[]}return L_=r,L_}var D_,hC;function DQ(){if(hC)return D_;hC=1;var r=FQ(),t=LQ(),e=Object.prototype,n=e.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),r(i(s),function(l){return n.call(s,l)}))}:t;return D_=a,D_}var B_,pC;function BQ(){if(pC)return B_;pC=1;function r(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}return B_=r,B_}var $_,mC;function $Q(){if(mC)return $_;mC=1;var r=Ru(),t=Fu(),e="[object Arguments]";function n(i){return t(i)&&r(i)==e}return $_=n,$_}var U_,gC;function J8(){if(gC)return U_;gC=1;var r=$Q(),t=Fu(),e=Object.prototype,n=e.hasOwnProperty,i=e.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(s){return t(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return U_=a,U_}var Dm={exports:{}},z_,yC;function UQ(){if(yC)return z_;yC=1;function r(){return!1}return z_=r,z_}Dm.exports;var vC;function qL(){return vC||(vC=1,function(r,t){var e=Tc(),n=UQ(),i=t&&!t.nodeType&&t,a=i&&!0&&r&&!r.nodeType&&r,s=a&&a.exports===i,l=s?e.Buffer:void 0,c=l?l.isBuffer:void 0,o=c||n;r.exports=o}(Dm,Dm.exports)),Dm.exports}var q_,bC;function Z8(){if(bC)return q_;bC=1;var r=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function e(n,i){var a=typeof n;return i=i??r,!!i&&(a=="number"||a!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return q_=e,q_}var H_,xC;function Q8(){if(xC)return H_;xC=1;var r=9007199254740991;function t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r}return H_=t,H_}var W_,wC;function zQ(){if(wC)return W_;wC=1;var r=Ru(),t=Q8(),e=Fu(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",o="[object Map]",u="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",y="[object String]",m="[object WeakMap]",g="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",M="[object Uint8Array]",A="[object Uint8ClampedArray]",F="[object Uint16Array]",H="[object Uint32Array]",z={};z[b]=z[w]=z[_]=z[N]=z[P]=z[M]=z[A]=z[F]=z[H]=!0,z[n]=z[i]=z[g]=z[a]=z[v]=z[s]=z[l]=z[c]=z[o]=z[u]=z[d]=z[f]=z[h]=z[y]=z[m]=!1;function U(O){return e(O)&&t(O.length)&&!!z[r(O)]}return W_=U,W_}var V_,_C;function HL(){if(_C)return V_;_C=1;function r(t){return function(e){return t(e)}}return V_=r,V_}var Bm={exports:{}};Bm.exports;var SC;function qQ(){return SC||(SC=1,function(r,t){var e=uL(),n=t&&!t.nodeType&&t,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,s=a&&e.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();r.exports=l}(Bm,Bm.exports)),Bm.exports}var G_,kC;function WL(){if(kC)return G_;kC=1;var r=zQ(),t=HL(),e=qQ(),n=e&&e.isTypedArray,i=n?t(n):r;return G_=i,G_}var X_,NC;function HQ(){if(NC)return X_;NC=1;var r=BQ(),t=J8(),e=no(),n=qL(),i=Z8(),a=WL(),s=Object.prototype,l=s.hasOwnProperty;function c(o,u){var d=e(o),f=!d&&t(o),h=!d&&!f&&n(o),y=!d&&!f&&!h&&a(o),m=d||f||h||y,g=m?r(o.length,String):[],v=g.length;for(var b in o)(u||l.call(o,b))&&!(m&&(b=="length"||h&&(b=="offset"||b=="parent")||y&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,v)))&&g.push(b);return g}return X_=c,X_}var K_,EC;function WQ(){if(EC)return K_;EC=1;var r=Object.prototype;function t(e){var n=e&&e.constructor,i=typeof n=="function"&&n.prototype||r;return e===i}return K_=t,K_}var Y_,jC;function VL(){if(jC)return Y_;jC=1;function r(t,e){return function(n){return t(e(n))}}return Y_=r,Y_}var J_,AC;function VQ(){if(AC)return J_;AC=1;var r=VL(),t=r(Object.keys,Object);return J_=t,J_}var Z_,TC;function GQ(){if(TC)return Z_;TC=1;var r=WQ(),t=VQ(),e=Object.prototype,n=e.hasOwnProperty;function i(a){if(!r(a))return t(a);var s=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&s.push(l);return s}return Z_=i,Z_}var Q_,CC;function w1(){if(CC)return Q_;CC=1;var r=L8(),t=Q8();function e(n){return n!=null&&t(n.length)&&!r(n)}return Q_=e,Q_}var e4,OC;function Lx(){if(OC)return e4;OC=1;var r=HQ(),t=GQ(),e=w1();function n(i){return e(i)?r(i):t(i)}return e4=n,e4}var t4,PC;function XQ(){if(PC)return t4;PC=1;var r=RQ(),t=DQ(),e=Lx();function n(i){return r(i,e,t)}return t4=n,t4}var r4,MC;function KQ(){if(MC)return r4;MC=1;var r=XQ(),t=1,e=Object.prototype,n=e.hasOwnProperty;function i(a,s,l,c,o,u){var d=l&t,f=r(a),h=f.length,y=r(s),m=y.length;if(h!=m&&!d)return!1;for(var g=h;g--;){var v=f[g];if(!(d?v in s:n.call(s,v)))return!1}var b=u.get(a),w=u.get(s);if(b&&w)return b==s&&w==a;var _=!0;u.set(a,s),u.set(s,a);for(var N=d;++g<h;){v=f[g];var P=a[v],M=s[v];if(c)var A=d?c(M,P,v,s,a,u):c(P,M,v,a,s,u);if(!(A===void 0?P===M||o(P,M,l,c,u):A)){_=!1;break}N||(N=v=="constructor")}if(_&&!N){var F=a.constructor,H=s.constructor;F!=H&&"constructor"in a&&"constructor"in s&&!(typeof F=="function"&&F instanceof F&&typeof H=="function"&&H instanceof H)&&(_=!1)}return u.delete(a),u.delete(s),_}return r4=i,r4}var n4,IC;function YQ(){if(IC)return n4;IC=1;var r=Ch(),t=Tc(),e=r(t,"DataView");return n4=e,n4}var i4,RC;function JQ(){if(RC)return i4;RC=1;var r=Ch(),t=Tc(),e=r(t,"Promise");return i4=e,i4}var a4,FC;function GL(){if(FC)return a4;FC=1;var r=Ch(),t=Tc(),e=r(t,"Set");return a4=e,a4}var s4,LC;function ZQ(){if(LC)return s4;LC=1;var r=Ch(),t=Tc(),e=r(t,"WeakMap");return s4=e,s4}var o4,DC;function QQ(){if(DC)return o4;DC=1;var r=YQ(),t=B8(),e=JQ(),n=GL(),i=ZQ(),a=Ru(),s=fL(),l="[object Map]",c="[object Object]",o="[object Promise]",u="[object Set]",d="[object WeakMap]",f="[object DataView]",h=s(r),y=s(t),m=s(e),g=s(n),v=s(i),b=a;return(r&&b(new r(new ArrayBuffer(1)))!=f||t&&b(new t)!=l||e&&b(e.resolve())!=o||n&&b(new n)!=u||i&&b(new i)!=d)&&(b=function(w){var _=a(w),N=_==c?w.constructor:void 0,P=N?s(N):"";if(P)switch(P){case h:return f;case y:return l;case m:return o;case g:return u;case v:return d}return _}),o4=b,o4}var l4,BC;function eee(){if(BC)return l4;BC=1;var r=LL(),t=UL(),e=IQ(),n=KQ(),i=QQ(),a=no(),s=qL(),l=WL(),c=1,o="[object Arguments]",u="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function y(m,g,v,b,w,_){var N=a(m),P=a(g),M=N?u:i(m),A=P?u:i(g);M=M==o?d:M,A=A==o?d:A;var F=M==d,H=A==d,z=M==A;if(z&&s(m)){if(!s(g))return!1;N=!0,F=!1}if(z&&!F)return _||(_=new r),N||l(m)?t(m,g,v,b,w,_):e(m,g,M,v,b,w,_);if(!(v&c)){var U=F&&h.call(m,"__wrapped__"),O=H&&h.call(g,"__wrapped__");if(U||O){var L=U?m.value():m,C=O?g.value():g;return _||(_=new r),w(L,C,v,b,_)}}return z?(_||(_=new r),n(m,g,v,b,w,_)):!1}return l4=y,l4}var c4,$C;function ek(){if($C)return c4;$C=1;var r=eee(),t=Fu();function e(n,i,a,s,l){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:r(n,i,a,s,e,l)}return c4=e,c4}var u4,UC;function tee(){if(UC)return u4;UC=1;var r=LL(),t=ek(),e=1,n=2;function i(a,s,l,c){var o=l.length,u=o,d=!c;if(a==null)return!u;for(a=Object(a);o--;){var f=l[o];if(d&&f[2]?f[1]!==a[f[0]]:!(f[0]in a))return!1}for(;++o<u;){f=l[o];var h=f[0],y=a[h],m=f[1];if(d&&f[2]){if(y===void 0&&!(h in a))return!1}else{var g=new r;if(c)var v=c(y,m,h,a,s,g);if(!(v===void 0?t(m,y,e|n,c,g):v))return!1}}return!0}return u4=i,u4}var f4,zC;function XL(){if(zC)return f4;zC=1;var r=id();function t(e){return e===e&&!r(e)}return f4=t,f4}var d4,qC;function ree(){if(qC)return d4;qC=1;var r=XL(),t=Lx();function e(n){for(var i=t(n),a=i.length;a--;){var s=i[a],l=n[s];i[a]=[s,l,r(l)]}return i}return d4=e,d4}var h4,HC;function KL(){if(HC)return h4;HC=1;function r(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}return h4=r,h4}var p4,WC;function nee(){if(WC)return p4;WC=1;var r=tee(),t=ree(),e=KL();function n(i){var a=t(i);return a.length==1&&a[0][2]?e(a[0][0],a[0][1]):function(s){return s===i||r(s,i,a)}}return p4=n,p4}var m4,VC;function iee(){if(VC)return m4;VC=1;function r(t,e){return t!=null&&e in Object(t)}return m4=r,m4}var g4,GC;function aee(){if(GC)return g4;GC=1;var r=pL(),t=J8(),e=no(),n=Z8(),i=Q8(),a=Px();function s(l,c,o){c=r(c,l);for(var u=-1,d=c.length,f=!1;++u<d;){var h=a(c[u]);if(!(f=l!=null&&o(l,h)))break;l=l[h]}return f||++u!=d?f:(d=l==null?0:l.length,!!d&&i(d)&&n(h,d)&&(e(l)||t(l)))}return g4=s,g4}var y4,XC;function see(){if(XC)return y4;XC=1;var r=iee(),t=aee();function e(n,i){return n!=null&&t(n,i,r)}return y4=e,y4}var v4,KC;function oee(){if(KC)return v4;KC=1;var r=ek(),t=mL(),e=see(),n=F8(),i=XL(),a=KL(),s=Px(),l=1,c=2;function o(u,d){return n(u)&&i(d)?a(s(u),d):function(f){var h=t(f,u);return h===void 0&&h===d?e(f,u):r(d,h,l|c)}}return v4=o,v4}var b4,YC;function Mp(){if(YC)return b4;YC=1;function r(t){return t}return b4=r,b4}var x4,JC;function lee(){if(JC)return x4;JC=1;function r(t){return function(e){return e==null?void 0:e[t]}}return x4=r,x4}var w4,ZC;function cee(){if(ZC)return w4;ZC=1;var r=z8();function t(e){return function(n){return r(n,e)}}return w4=t,w4}var _4,QC;function uee(){if(QC)return _4;QC=1;var r=lee(),t=cee(),e=F8(),n=Px();function i(a){return e(a)?r(n(a)):t(a)}return _4=i,_4}var S4,e9;function ad(){if(e9)return S4;e9=1;var r=nee(),t=oee(),e=Mp(),n=no(),i=uee();function a(s){return typeof s=="function"?s:s==null?e:typeof s=="object"?n(s)?t(s[0],s[1]):r(s):i(s)}return S4=a,S4}var k4,t9;function YL(){if(t9)return k4;t9=1;function r(t,e,n,i){for(var a=t.length,s=n+(i?1:-1);i?s--:++s<a;)if(e(t[s],s,t))return s;return-1}return k4=r,k4}var N4,r9;function fee(){if(r9)return N4;r9=1;function r(t){return t!==t}return N4=r,N4}var E4,n9;function dee(){if(n9)return E4;n9=1;function r(t,e,n){for(var i=n-1,a=t.length;++i<a;)if(t[i]===e)return i;return-1}return E4=r,E4}var j4,i9;function hee(){if(i9)return j4;i9=1;var r=YL(),t=fee(),e=dee();function n(i,a,s){return a===a?e(i,a,s):r(i,t,s)}return j4=n,j4}var A4,a9;function pee(){if(a9)return A4;a9=1;var r=hee();function t(e,n){var i=e==null?0:e.length;return!!i&&r(e,n,0)>-1}return A4=t,A4}var T4,s9;function mee(){if(s9)return T4;s9=1;function r(t,e,n){for(var i=-1,a=t==null?0:t.length;++i<a;)if(n(e,t[i]))return!0;return!1}return T4=r,T4}var C4,o9;function gee(){if(o9)return C4;o9=1;function r(){}return C4=r,C4}var O4,l9;function yee(){if(l9)return O4;l9=1;var r=GL(),t=gee(),e=Y8(),n=1/0,i=r&&1/e(new r([,-0]))[1]==n?function(a){return new r(a)}:t;return O4=i,O4}var P4,c9;function vee(){if(c9)return P4;c9=1;var r=DL(),t=pee(),e=mee(),n=$L(),i=yee(),a=Y8(),s=200;function l(c,o,u){var d=-1,f=t,h=c.length,y=!0,m=[],g=m;if(u)y=!1,f=e;else if(h>=s){var v=o?null:i(c);if(v)return a(v);y=!1,f=n,g=new r}else g=o?[]:m;e:for(;++d<h;){var b=c[d],w=o?o(b):b;if(b=u||b!==0?b:0,y&&w===w){for(var _=g.length;_--;)if(g[_]===w)continue e;o&&g.push(w),m.push(b)}else f(g,w,u)||(g!==m&&g.push(w),m.push(b))}return m}return P4=l,P4}var M4,u9;function bee(){if(u9)return M4;u9=1;var r=ad(),t=vee();function e(n,i){return n&&n.length?t(n,r(i,2)):[]}return M4=e,M4}var xee=bee();const f9=kn(xee);function JL(r,t,e){return t===!0?f9(r,e):Zr(t)?f9(r,t):r}function cp(r){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(r)}var wee=["ref"];function d9(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function Gd(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?d9(Object(e),!0).forEach(function(n){Dx(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):d9(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function _ee(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function h9(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,eD(n.key),n)}}function See(r,t,e){return t&&h9(r.prototype,t),e&&h9(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function kee(r,t,e){return t=fb(t),Nee(r,ZL()?Reflect.construct(t,e||[],fb(r).constructor):t.apply(r,e))}function Nee(r,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QL(r)}function ZL(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!r})()}function fb(r){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fb(r)}function QL(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Eee(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&dS(r,t)}function dS(r,t){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dS(r,t)}function Dx(r,t,e){return t=eD(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function eD(r){var t=jee(r,"string");return cp(t)=="symbol"?t:String(t)}function jee(r,t){if(cp(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Aee(r,t){if(r==null)return{};var e=Tee(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function Tee(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function Cee(r){return r.value}function Oee(r,t){if(rt.isValidElement(r))return rt.cloneElement(r,t);if(typeof r=="function")return rt.createElement(r,t);t.ref;var e=Aee(t,wee);return rt.createElement(K8,e)}var p9=1,up=function(r){Eee(t,r);function t(){var e;_ee(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=kee(this,t,[].concat(i)),Dx(QL(e),"lastBoundingBox",{width:-1,height:-1}),e}return See(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.lastBoundingBox.width)>p9||Math.abs(i.height-this.lastBoundingBox.height)>p9)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i))}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Gd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,o=i.chartWidth,u=i.chartHeight,d,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();d={left:((o||0)-h.width)/2}}else d=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();f={top:((u||0)-y.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Gd(Gd({},d),f)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,l=i.height,c=i.wrapperStyle,o=i.payloadUniqBy,u=i.payload,d=Gd(Gd({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return rt.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){n.wrapperNode=h}},Oee(a,Gd(Gd({},this.props),{},{payload:JL(u,o,Cee)})))}}],[{key:"getWithHeight",value:function(n,i){var a=n.props.layout;return a==="vertical"&&Jt(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}]),t}(fe.PureComponent);Dx(up,"displayName","Legend");Dx(up,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var I4,m9;function Pee(){if(m9)return I4;m9=1;var r=v1(),t=J8(),e=no(),n=r?r.isConcatSpreadable:void 0;function i(a){return e(a)||t(a)||!!(n&&a&&a[n])}return I4=i,I4}var R4,g9;function tD(){if(g9)return R4;g9=1;var r=zL(),t=Pee();function e(n,i,a,s,l){var c=-1,o=n.length;for(a||(a=t),l||(l=[]);++c<o;){var u=n[c];i>0&&a(u)?i>1?e(u,i-1,a,s,l):r(l,u):s||(l[l.length]=u)}return l}return R4=e,R4}var F4,y9;function Mee(){if(y9)return F4;y9=1;function r(t){return function(e,n,i){for(var a=-1,s=Object(e),l=i(e),c=l.length;c--;){var o=l[t?c:++a];if(n(s[o],o,s)===!1)break}return e}}return F4=r,F4}var L4,v9;function Iee(){if(v9)return L4;v9=1;var r=Mee(),t=r();return L4=t,L4}var D4,b9;function rD(){if(b9)return D4;b9=1;var r=Iee(),t=Lx();function e(n,i){return n&&r(n,i,t)}return D4=e,D4}var B4,x9;function Ree(){if(x9)return B4;x9=1;var r=w1();function t(e,n){return function(i,a){if(i==null)return i;if(!r(i))return e(i,a);for(var s=i.length,l=n?s:-1,c=Object(i);(n?l--:++l<s)&&a(c[l],l,c)!==!1;);return i}}return B4=t,B4}var $4,w9;function tk(){if(w9)return $4;w9=1;var r=rD(),t=Ree(),e=t(r);return $4=e,$4}var U4,_9;function nD(){if(_9)return U4;_9=1;var r=tk(),t=w1();function e(n,i){var a=-1,s=t(n)?Array(n.length):[];return r(n,function(l,c,o){s[++a]=i(l,c,o)}),s}return U4=e,U4}var z4,S9;function Fee(){if(S9)return z4;S9=1;function r(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}return z4=r,z4}var q4,k9;function Lee(){if(k9)return q4;k9=1;var r=Cp();function t(e,n){if(e!==n){var i=e!==void 0,a=e===null,s=e===e,l=r(e),c=n!==void 0,o=n===null,u=n===n,d=r(n);if(!o&&!d&&!l&&e>n||l&&c&&u&&!o&&!d||a&&c&&u||!i&&u||!s)return 1;if(!a&&!l&&!d&&e<n||d&&i&&s&&!a&&!l||o&&i&&s||!c&&s||!u)return-1}return 0}return q4=t,q4}var H4,N9;function Dee(){if(N9)return H4;N9=1;var r=Lee();function t(e,n,i){for(var a=-1,s=e.criteria,l=n.criteria,c=s.length,o=i.length;++a<c;){var u=r(s[a],l[a]);if(u){if(a>=o)return u;var d=i[a];return u*(d=="desc"?-1:1)}}return e.index-n.index}return H4=t,H4}var W4,E9;function Bee(){if(E9)return W4;E9=1;var r=U8(),t=z8(),e=ad(),n=nD(),i=Fee(),a=HL(),s=Dee(),l=Mp(),c=no();function o(u,d,f){d.length?d=r(d,function(m){return c(m)?function(g){return t(g,m.length===1?m[0]:m)}:m}):d=[l];var h=-1;d=r(d,a(e));var y=n(u,function(m,g,v){var b=r(d,function(w){return w(m)});return{criteria:b,index:++h,value:m}});return i(y,function(m,g){return s(m,g,f)})}return W4=o,W4}var V4,j9;function $ee(){if(j9)return V4;j9=1;function r(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}return V4=r,V4}var G4,A9;function Uee(){if(A9)return G4;A9=1;var r=$ee(),t=Math.max;function e(n,i,a){return i=t(i===void 0?n.length-1:i,0),function(){for(var s=arguments,l=-1,c=t(s.length-i,0),o=Array(c);++l<c;)o[l]=s[i+l];l=-1;for(var u=Array(i+1);++l<i;)u[l]=s[l];return u[i]=a(o),r(n,this,u)}}return G4=e,G4}var X4,T9;function zee(){if(T9)return X4;T9=1;function r(t){return function(){return t}}return X4=r,X4}var K4,C9;function iD(){if(C9)return K4;C9=1;var r=Ch(),t=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch{}}();return K4=t,K4}var Y4,O9;function qee(){if(O9)return Y4;O9=1;var r=zee(),t=iD(),e=Mp(),n=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:r(a),writable:!0})}:e;return Y4=n,Y4}var J4,P9;function Hee(){if(P9)return J4;P9=1;var r=800,t=16,e=Date.now;function n(i){var a=0,s=0;return function(){var l=e(),c=t-(l-s);if(s=l,c>0){if(++a>=r)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return J4=n,J4}var Z4,M9;function Wee(){if(M9)return Z4;M9=1;var r=qee(),t=Hee(),e=t(r);return Z4=e,Z4}var Q4,I9;function Vee(){if(I9)return Q4;I9=1;var r=Mp(),t=Uee(),e=Wee();function n(i,a){return e(t(i,a,r),i+"")}return Q4=n,Q4}var e3,R9;function Bx(){if(R9)return e3;R9=1;var r=D8(),t=w1(),e=Z8(),n=id();function i(a,s,l){if(!n(l))return!1;var c=typeof s;return(c=="number"?t(l)&&e(s,l.length):c=="string"&&s in l)?r(l[s],a):!1}return e3=i,e3}var t3,F9;function Gee(){if(F9)return t3;F9=1;var r=tD(),t=Bee(),e=Vee(),n=Bx(),i=e(function(a,s){if(a==null)return[];var l=s.length;return l>1&&n(a,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),t(a,r(s,1),[])});return t3=i,t3}var Xee=Gee();const rk=kn(Xee);function xg(r){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(r)}function hS(){return hS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},hS.apply(this,arguments)}function Kee(r,t){return Qee(r)||Zee(r,t)||Jee(r,t)||Yee()}function Yee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jee(r,t){if(r){if(typeof r=="string")return L9(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return L9(r,t)}}function L9(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Zee(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(e=e.call(r)).next,t!==0)for(;!(c=(n=a.call(e)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function Qee(r){if(Array.isArray(r))return r}function D9(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function r3(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?D9(Object(e),!0).forEach(function(n){ete(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):D9(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function ete(r,t,e){return t=tte(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function tte(r){var t=rte(r,"string");return xg(t)=="symbol"?t:String(t)}function rte(r,t){if(xg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function nte(r){return Array.isArray(r)&&ra(r[0])&&ra(r[1])?r.join(" ~ "):r}var ite=function(t){var e=t.separator,n=e===void 0?" : ":e,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,o=c===void 0?{}:c,u=t.payload,d=t.formatter,f=t.itemSorter,h=t.wrapperClassName,y=t.labelClassName,m=t.label,g=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,w=function(){if(u&&u.length){var U={padding:0,margin:0},O=(f?rk(u,f):u).map(function(L,C){if(L.type==="none")return null;var k=r3({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),j=L.formatter||d||nte,E=L.value,T=L.name,R=E,V=T;if(j&&R!=null&&V!=null){var B=j(E,T,L,C,u);if(Array.isArray(B)){var K=Kee(B,2);R=K[0],V=K[1]}else R=B}return rt.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:k},ra(V)?rt.createElement("span",{className:"recharts-tooltip-item-name"},V):null,ra(V)?rt.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,rt.createElement("span",{className:"recharts-tooltip-item-value"},R),rt.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return rt.createElement("ul",{className:"recharts-tooltip-item-list",style:U},O)}return null},_=r3({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=r3({margin:0},o),P=!mn(m),M=P?m:"",A=Dn("recharts-default-tooltip",h),F=Dn("recharts-tooltip-label",y);P&&g&&u!==void 0&&u!==null&&(M=g(m,u));var H=b?{role:"status","aria-live":"assertive"}:{};return rt.createElement("div",hS({className:A,style:_},H),rt.createElement("p",{className:F,style:N},rt.isValidElement(M)?M:"".concat(M)),w())};function wg(r){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(r)}function sv(r,t,e){return t=ate(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function ate(r){var t=ste(r,"string");return wg(t)=="symbol"?t:String(t)}function ste(r,t){if(wg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var Em="recharts-tooltip-wrapper",ote={visibility:"hidden"};function lte(r){var t=r.coordinate,e=r.translateX,n=r.translateY;return Dn(Em,sv(sv(sv(sv({},"".concat(Em,"-right"),Jt(e)&&t&&Jt(t.x)&&e>=t.x),"".concat(Em,"-left"),Jt(e)&&t&&Jt(t.x)&&e<t.x),"".concat(Em,"-bottom"),Jt(n)&&t&&Jt(t.y)&&n>=t.y),"".concat(Em,"-top"),Jt(n)&&t&&Jt(t.y)&&n<t.y))}function B9(r){var t=r.allowEscapeViewBox,e=r.coordinate,n=r.key,i=r.offsetTopLeft,a=r.position,s=r.reverseDirection,l=r.tooltipDimension,c=r.viewBox,o=r.viewBoxDimension;if(a&&Jt(a[n]))return a[n];var u=e[n]-l-i,d=e[n]+i;if(t[n])return s[n]?u:d;if(s[n]){var f=u,h=c[n];return f<h?Math.max(d,c[n]):Math.max(u,c[n])}var y=d+l,m=c[n]+o;return y>m?Math.max(u,c[n]):Math.max(d,c[n])}function cte(r){var t=r.translateX,e=r.translateY,n=r.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(e,"px, 0)"):"translate(".concat(t,"px, ").concat(e,"px)")}}function ute(r){var t=r.allowEscapeViewBox,e=r.coordinate,n=r.offsetTopLeft,i=r.position,a=r.reverseDirection,s=r.tooltipBox,l=r.useTranslate3d,c=r.viewBox,o,u,d;return s.height>0&&s.width>0&&e?(u=B9({allowEscapeViewBox:t,coordinate:e,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),d=B9({allowEscapeViewBox:t,coordinate:e,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),o=cte({translateX:u,translateY:d,useTranslate3d:l})):o=ote,{cssProperties:o,cssClasses:lte({translateX:u,translateY:d,coordinate:e})}}function fp(r){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(r)}function $9(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function U9(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$9(Object(e),!0).forEach(function(n){Dv(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):$9(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function fte(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function dte(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,sD(n.key),n)}}function hte(r,t,e){return t&&dte(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function pte(r,t,e){return t=db(t),mte(r,aD()?Reflect.construct(t,e||[],db(r).constructor):t.apply(r,e))}function mte(r,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lv(r)}function aD(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aD=function(){return!!r})()}function db(r){return db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},db(r)}function Lv(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function gte(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&pS(r,t)}function pS(r,t){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pS(r,t)}function Dv(r,t,e){return t=sD(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function sD(r){var t=yte(r,"string");return fp(t)=="symbol"?t:String(t)}function yte(r,t){if(fp(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var z9=1,vte=function(r){gte(t,r);function t(){var e;fte(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=pte(this,t,[].concat(i)),Dv(Lv(e),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Dv(Lv(e),"lastBoundingBox",{width:-1,height:-1}),Dv(Lv(e),"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,o,u;e.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=e.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(o=(u=e.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&o!==void 0?o:0}})}}),e}return hte(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.lastBoundingBox.width)>z9||Math.abs(n.height-this.lastBoundingBox.height)>z9)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,o=i.children,u=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,h=i.offset,y=i.position,m=i.reverseDirection,g=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,w=ute({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:h,position:y,reverseDirection:m,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:g,viewBox:v}),_=w.cssClasses,N=w.cssProperties,P=U9(U9({transition:f&&a?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return rt.createElement("div",{tabIndex:-1,className:_,style:P,ref:function(A){n.wrapperNode=A}},o)}}]),t}(fe.PureComponent),bte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ip={isSsr:bte()};function dp(r){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(r)}function q9(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function H9(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?q9(Object(e),!0).forEach(function(n){nk(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):q9(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function xte(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function wte(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,lD(n.key),n)}}function _te(r,t,e){return t&&wte(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Ste(r,t,e){return t=hb(t),kte(r,oD()?Reflect.construct(t,e||[],hb(r).constructor):t.apply(r,e))}function kte(r,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nte(r)}function Nte(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function oD(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oD=function(){return!!r})()}function hb(r){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hb(r)}function Ete(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&mS(r,t)}function mS(r,t){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mS(r,t)}function nk(r,t,e){return t=lD(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function lD(r){var t=jte(r,"string");return dp(t)=="symbol"?t:String(t)}function jte(r,t){if(dp(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function Ate(r){return r.dataKey}function Tte(r,t){return rt.isValidElement(r)?rt.cloneElement(r,t):typeof r=="function"?rt.createElement(r,t):rt.createElement(ite,t)}var So=function(r){Ete(t,r);function t(){return xte(this,t),Ste(this,t,arguments)}return _te(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,o=i.content,u=i.coordinate,d=i.filterNull,f=i.isAnimationActive,h=i.offset,y=i.payload,m=i.payloadUniqBy,g=i.position,v=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,N=y??[];d&&N.length&&(N=JL(y.filter(function(M){return M.value!=null&&(M.hide!==!0||n.props.includeHidden)}),m,Ate));var P=N.length>0;return rt.createElement(vte,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:f,active:a,coordinate:u,hasPayload:P,offset:h,position:g,reverseDirection:v,useTranslate3d:b,viewBox:w,wrapperStyle:_},Tte(o,H9(H9({},this.props),{},{payload:N})))}}]),t}(fe.PureComponent);nk(So,"displayName","Tooltip");nk(So,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ip.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var n3,W9;function Cte(){if(W9)return n3;W9=1;var r=Tc(),t=function(){return r.Date.now()};return n3=t,n3}var i3,V9;function Ote(){if(V9)return i3;V9=1;var r=/\s/;function t(e){for(var n=e.length;n--&&r.test(e.charAt(n)););return n}return i3=t,i3}var a3,G9;function Pte(){if(G9)return a3;G9=1;var r=Ote(),t=/^\s+/;function e(n){return n&&n.slice(0,r(n)+1).replace(t,"")}return a3=e,a3}var s3,X9;function cD(){if(X9)return s3;X9=1;var r=Pte(),t=id(),e=Cp(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(o){if(typeof o=="number")return o;if(e(o))return n;if(t(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=t(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=r(o);var d=a.test(o);return d||s.test(o)?l(o.slice(2),d?2:8):i.test(o)?n:+o}return s3=c,s3}var o3,K9;function Mte(){if(K9)return o3;K9=1;var r=id(),t=Cte(),e=cD(),n="Expected a function",i=Math.max,a=Math.min;function s(l,c,o){var u,d,f,h,y,m,g=0,v=!1,b=!1,w=!0;if(typeof l!="function")throw new TypeError(n);c=e(c)||0,r(o)&&(v=!!o.leading,b="maxWait"in o,f=b?i(e(o.maxWait)||0,c):f,w="trailing"in o?!!o.trailing:w);function _(O){var L=u,C=d;return u=d=void 0,g=O,h=l.apply(C,L),h}function N(O){return g=O,y=setTimeout(A,c),v?_(O):h}function P(O){var L=O-m,C=O-g,k=c-L;return b?a(k,f-C):k}function M(O){var L=O-m,C=O-g;return m===void 0||L>=c||L<0||b&&C>=f}function A(){var O=t();if(M(O))return F(O);y=setTimeout(A,P(O))}function F(O){return y=void 0,w&&u?_(O):(u=d=void 0,h)}function H(){y!==void 0&&clearTimeout(y),g=0,u=m=d=y=void 0}function z(){return y===void 0?h:F(t())}function U(){var O=t(),L=M(O);if(u=arguments,d=this,m=O,L){if(y===void 0)return N(m);if(b)return clearTimeout(y),y=setTimeout(A,c),_(m)}return y===void 0&&(y=setTimeout(A,c)),h}return U.cancel=H,U.flush=z,U}return o3=s,o3}var l3,Y9;function Ite(){if(Y9)return l3;Y9=1;var r=Mte(),t=id(),e="Expected a function";function n(i,a,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(e);return t(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),r(i,a,{leading:l,maxWait:a,trailing:c})}return l3=n,l3}var Rte=Ite();const uD=kn(Rte);function _g(r){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(r)}function J9(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function ov(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?J9(Object(e),!0).forEach(function(n){Fte(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):J9(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function Fte(r,t,e){return t=Lte(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Lte(r){var t=Dte(r,"string");return _g(t)=="symbol"?t:String(t)}function Dte(r,t){if(_g(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(_g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Bte(r,t){return qte(r)||zte(r,t)||Ute(r,t)||$te()}function $te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ute(r,t){if(r){if(typeof r=="string")return Z9(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Z9(r,t)}}function Z9(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function zte(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(e=e.call(r)).next,t!==0)for(;!(c=(n=a.call(e)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function qte(r){if(Array.isArray(r))return r}var pb=fe.forwardRef(function(r,t){var e=r.aspect,n=r.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=r.width,s=a===void 0?"100%":a,l=r.height,c=l===void 0?"100%":l,o=r.minWidth,u=o===void 0?0:o,d=r.minHeight,f=r.maxHeight,h=r.children,y=r.debounce,m=y===void 0?0:y,g=r.id,v=r.className,b=r.onResize,w=r.style,_=w===void 0?{}:w,N=fe.useRef(null),P=fe.useRef();P.current=b,fe.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var M=fe.useState({containerWidth:i.width,containerHeight:i.height}),A=Bte(M,2),F=A[0],H=A[1],z=fe.useCallback(function(O,L){H(function(C){var k=Math.round(O),j=Math.round(L);return C.containerWidth===k&&C.containerHeight===j?C:{containerWidth:k,containerHeight:j}})},[]);fe.useEffect(function(){var O=function(T){var R,V=T[0].contentRect,B=V.width,K=V.height;z(B,K),(R=P.current)===null||R===void 0||R.call(P,B,K)};m>0&&(O=uD(O,m,{trailing:!0,leading:!1}));var L=new ResizeObserver(O),C=N.current.getBoundingClientRect(),k=C.width,j=C.height;return z(k,j),L.observe(N.current),function(){L.disconnect()}},[z,m]);var U=fe.useMemo(function(){var O=F.containerWidth,L=F.containerHeight;if(O<0||L<0)return null;xu(sh(s)||sh(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),xu(!e||e>0,"The aspect(%s) must be greater than zero.",e);var C=sh(s)?O:s,k=sh(c)?L:c;e&&e>0&&(C?k=C/e:k&&(C=k*e),f&&k>f&&(k=f)),xu(C>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,k,s,c,u,d,e);var j=!Array.isArray(h)&&Z6.isElement(h)&&bu(h.type).endsWith("Chart");return rt.Children.map(h,function(E){return Z6.isElement(E)?fe.cloneElement(E,ov({width:C,height:k},j?{style:ov({height:"100%",width:"100%",maxHeight:k,maxWidth:C},E.props.style)}:{})):E})},[e,h,c,f,d,u,F,s]);return rt.createElement("div",{id:g?"".concat(g):void 0,className:Dn("recharts-responsive-container",v),style:ov(ov({},_),{},{width:s,height:c,minWidth:u,minHeight:d,maxHeight:f}),ref:N},U)}),fD=function(t){return null};fD.displayName="Cell";function Sg(r){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(r)}function Q9(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function gS(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Q9(Object(e),!0).forEach(function(n){Hte(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Q9(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function Hte(r,t,e){return t=Wte(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Wte(r){var t=Vte(r,"string");return Sg(t)=="symbol"?t:String(t)}function Vte(r,t){if(Sg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var v0={widthCache:{},cacheCount:0},Gte=2e3,Xte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eO="recharts_measurement_span";function Kte(r){var t=gS({},r);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}var Zm=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ip.isSsr)return{width:0,height:0};var n=Kte(e),i=JSON.stringify({text:t,copyStyle:n});if(v0.widthCache[i])return v0.widthCache[i];try{var a=document.getElementById(eO);a||(a=document.createElement("span"),a.setAttribute("id",eO),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=gS(gS({},Xte),n);Object.assign(a.style,s),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return v0.widthCache[i]=c,++v0.cacheCount>Gte&&(v0.cacheCount=0,v0.widthCache={}),c}catch{return{width:0,height:0}}},Yte=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function kg(r){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(r)}function mb(r,t){return ere(r)||Qte(r,t)||Zte(r,t)||Jte()}function Jte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zte(r,t){if(r){if(typeof r=="string")return tO(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return tO(r,t)}}function tO(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Qte(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(e=e.call(r)).next,t===0){if(Object(e)!==e)return;c=!1}else for(;!(c=(n=a.call(e)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function ere(r){if(Array.isArray(r))return r}function tre(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function rO(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,nre(n.key),n)}}function rre(r,t,e){return t&&rO(r.prototype,t),e&&rO(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function nre(r){var t=ire(r,"string");return kg(t)=="symbol"?t:String(t)}function ire(r,t){if(kg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var nO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,are=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ore=Object.keys(dD),O0="NaN";function lre(r,t){return r*dD[t]}var lv=function(){function r(t,e){tre(this,r),this.num=t,this.unit=e,this.num=t,this.unit=e,Number.isNaN(t)&&(this.unit=""),e!==""&&!are.test(e)&&(this.num=NaN,this.unit=""),ore.includes(e)&&(this.num=lre(t,e),this.unit="px")}return rre(r,[{key:"add",value:function(e){return this.unit!==e.unit?new r(NaN,""):new r(this.num+e.num,this.unit)}},{key:"subtract",value:function(e){return this.unit!==e.unit?new r(NaN,""):new r(this.num-e.num,this.unit)}},{key:"multiply",value:function(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new r(NaN,""):new r(this.num*e.num,this.unit||e.unit)}},{key:"divide",value:function(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new r(NaN,""):new r(this.num/e.num,this.unit||e.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(e){var n,i=(n=sre.exec(e))!==null&&n!==void 0?n:[],a=mb(i,3),s=a[1],l=a[2];return new r(parseFloat(s),l??"")}}]),r}();function hD(r){if(r.includes(O0))return O0;for(var t=r;t.includes("*")||t.includes("/");){var e,n=(e=nO.exec(t))!==null&&e!==void 0?e:[],i=mb(n,4),a=i[1],s=i[2],l=i[3],c=lv.parse(a??""),o=lv.parse(l??""),u=s==="*"?c.multiply(o):c.divide(o);if(u.isNaN())return O0;t=t.replace(nO,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,f=(d=iO.exec(t))!==null&&d!==void 0?d:[],h=mb(f,4),y=h[1],m=h[2],g=h[3],v=lv.parse(y??""),b=lv.parse(g??""),w=m==="+"?v.add(b):v.subtract(b);if(w.isNaN())return O0;t=t.replace(iO,w.toString())}return t}var aO=/\(([^()]*)\)/;function cre(r){for(var t=r;t.includes("(");){var e=aO.exec(t),n=mb(e,2),i=n[1];t=t.replace(aO,hD(i))}return t}function ure(r){var t=r.replace(/\s+/g,"");return t=cre(t),t=hD(t),t}function fre(r){try{return ure(r)}catch{return O0}}function c3(r){var t=fre(r.slice(5,-1));return t===O0?"":t}var dre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hre=["dx","dy","angle","className","breakAll"];function yS(){return yS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},yS.apply(this,arguments)}function sO(r,t){if(r==null)return{};var e=pre(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function pre(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function oO(r,t){return vre(r)||yre(r,t)||gre(r,t)||mre()}function mre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gre(r,t){if(r){if(typeof r=="string")return lO(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return lO(r,t)}}function lO(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function yre(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(e=e.call(r)).next,t===0){if(Object(e)!==e)return;c=!1}else for(;!(c=(n=a.call(e)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function vre(r){if(Array.isArray(r))return r}var pD=/[ \f\n\r\t\v\u2028\u2029]+/,mD=function(t){var e=t.children,n=t.breakAll,i=t.style;try{var a=[];mn(e)||(n?a=e.toString().split(""):a=e.toString().split(pD));var s=a.map(function(c){return{word:c,width:Zm(c,i).width}}),l=n?0:Zm("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},bre=function(t,e,n,i,a){var s=t.maxLines,l=t.children,c=t.style,o=t.breakAll,u=Jt(s),d=l,f=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce(function(k,j){var E=j.word,T=j.width,R=k[k.length-1];if(R&&(i==null||a||R.width+T+n<Number(i)))R.words.push(E),R.width+=T+n;else{var V={words:[E],width:T};k.push(V)}return k},[])},h=f(e),y=function(C){return C.reduce(function(k,j){return k.width>j.width?k:j})};if(!u)return h;for(var m="",g=function(C){var k=d.slice(0,C),j=mD({breakAll:o,style:c,children:k+m}).wordsWithComputedWidth,E=f(j),T=E.length>s||y(E).width>Number(i);return[T,E]},v=0,b=d.length-1,w=0,_;v<=b&&w<=d.length-1;){var N=Math.floor((v+b)/2),P=N-1,M=g(P),A=oO(M,2),F=A[0],H=A[1],z=g(N),U=oO(z,1),O=U[0];if(!F&&!O&&(v=N+1),F&&O&&(b=N-1),!F&&O){_=H;break}w++}return _||h},cO=function(t){var e=mn(t)?[]:t.toString().split(pD);return[{words:e}]},xre=function(t){var e=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,l=t.maxLines;if((e||n)&&!Ip.isSsr){var c,o,u=mD({breakAll:s,children:i,style:a});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;c=d,o=f}else return cO(i);return bre({breakAll:s,children:i,maxLines:l,style:a},c,o,e,n)}return cO(i)},uO="#808080",gb=function(t){var e=t.x,n=e===void 0?0:e,i=t.y,a=i===void 0?0:i,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,o=c===void 0?"0.71em":c,u=t.scaleToFit,d=u===void 0?!1:u,f=t.textAnchor,h=f===void 0?"start":f,y=t.verticalAnchor,m=y===void 0?"end":y,g=t.fill,v=g===void 0?uO:g,b=sO(t,dre),w=fe.useMemo(function(){return xre({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),_=b.dx,N=b.dy,P=b.angle,M=b.className,A=b.breakAll,F=sO(b,hre);if(!ra(n)||!ra(a))return null;var H=n+(Jt(_)?_:0),z=a+(Jt(N)?N:0),U;switch(m){case"start":U=c3("calc(".concat(o,")"));break;case"middle":U=c3("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(o," / 2))"));break;default:U=c3("calc(".concat(w.length-1," * -").concat(l,")"));break}var O=[];if(d){var L=w[0].width,C=b.width;O.push("scale(".concat((Jt(C)?C/L:1)/L,")"))}return P&&O.push("rotate(".concat(P,", ").concat(H,", ").concat(z,")")),O.length&&(F.transform=O.join(" ")),rt.createElement("text",yS({},rn(F,!0),{x:H,y:z,className:Dn("recharts-text",M),textAnchor:h,fill:v.includes("url")?uO:v}),w.map(function(k,j){var E=k.words.join(A?"":" ");return rt.createElement("tspan",{x:H,dy:j===0?U:l,key:E},E)}))};function Hf(r,t){return r==null||t==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function wre(r,t){return r==null||t==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function ik(r){let t,e,n;r.length!==2?(t=Hf,e=(l,c)=>Hf(r(l),c),n=(l,c)=>r(l)-c):(t=r===Hf||r===wre?r:_re,e=r,n=r);function i(l,c,o=0,u=l.length){if(o<u){if(t(c,c)!==0)return u;do{const d=o+u>>>1;e(l[d],c)<0?o=d+1:u=d}while(o<u)}return o}function a(l,c,o=0,u=l.length){if(o<u){if(t(c,c)!==0)return u;do{const d=o+u>>>1;e(l[d],c)<=0?o=d+1:u=d}while(o<u)}return o}function s(l,c,o=0,u=l.length){const d=i(l,c,o,u-1);return d>o&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:i,center:s,right:a}}function _re(){return 0}function gD(r){return r===null?NaN:+r}function*Sre(r,t){for(let e of r)e!=null&&(e=+e)>=e&&(yield e)}const kre=ik(Hf),_1=kre.right;ik(gD).center;class fO extends Map{constructor(t,e=jre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(dO(this,t))}has(t){return super.has(dO(this,t))}set(t,e){return super.set(Nre(this,t),e)}delete(t){return super.delete(Ere(this,t))}}function dO({_intern:r,_key:t},e){const n=t(e);return r.has(n)?r.get(n):e}function Nre({_intern:r,_key:t},e){const n=t(e);return r.has(n)?r.get(n):(r.set(n,e),e)}function Ere({_intern:r,_key:t},e){const n=t(e);return r.has(n)&&(e=r.get(n),r.delete(n)),e}function jre(r){return r!==null&&typeof r=="object"?r.valueOf():r}function Are(r=Hf){if(r===Hf)return yD;if(typeof r!="function")throw new TypeError("compare is not a function");return(t,e)=>{const n=r(t,e);return n||n===0?n:(r(e,e)===0)-(r(t,t)===0)}}function yD(r,t){return(r==null||!(r>=r))-(t==null||!(t>=t))||(r<t?-1:r>t?1:0)}const Tre=Math.sqrt(50),Cre=Math.sqrt(10),Ore=Math.sqrt(2);function yb(r,t,e){const n=(t-r)/Math.max(0,e),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Tre?10:a>=Cre?5:a>=Ore?2:1;let l,c,o;return i<0?(o=Math.pow(10,-i)/s,l=Math.round(r*o),c=Math.round(t*o),l/o<r&&++l,c/o>t&&--c,o=-o):(o=Math.pow(10,i)*s,l=Math.round(r/o),c=Math.round(t/o),l*o<r&&++l,c*o>t&&--c),c<l&&.5<=e&&e<2?yb(r,t,e*2):[l,c,o]}function vS(r,t,e){if(t=+t,r=+r,e=+e,!(e>0))return[];if(r===t)return[r];const n=t<r,[i,a,s]=n?yb(t,r,e):yb(r,t,e);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(s<0)for(let o=0;o<l;++o)c[o]=(a-o)/-s;else for(let o=0;o<l;++o)c[o]=(a-o)*s;else if(s<0)for(let o=0;o<l;++o)c[o]=(i+o)/-s;else for(let o=0;o<l;++o)c[o]=(i+o)*s;return c}function bS(r,t,e){return t=+t,r=+r,e=+e,yb(r,t,e)[2]}function xS(r,t,e){t=+t,r=+r,e=+e;const n=t<r,i=n?bS(t,r,e):bS(r,t,e);return(n?-1:1)*(i<0?1/-i:i)}function hO(r,t){let e;for(const n of r)n!=null&&(e<n||e===void 0&&n>=n)&&(e=n);return e}function pO(r,t){let e;for(const n of r)n!=null&&(e>n||e===void 0&&n>=n)&&(e=n);return e}function vD(r,t,e=0,n=1/0,i){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),n=Math.floor(Math.min(r.length-1,n)),!(e<=t&&t<=n))return r;for(i=i===void 0?yD:Are(i);n>e;){if(n-e>600){const c=n-e+1,o=t-e+1,u=Math.log(c),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(c-d)/c)*(o-c/2<0?-1:1),h=Math.max(e,Math.floor(t-o*d/c+f)),y=Math.min(n,Math.floor(t+(c-o)*d/c+f));vD(r,t,h,y,i)}const a=r[t];let s=e,l=n;for(jm(r,e,t),i(r[n],a)>0&&jm(r,e,n);s<l;){for(jm(r,s,l),++s,--l;i(r[s],a)<0;)++s;for(;i(r[l],a)>0;)--l}i(r[e],a)===0?jm(r,e,l):(++l,jm(r,l,n)),l<=t&&(e=l+1),t<=l&&(n=l-1)}return r}function jm(r,t,e){const n=r[t];r[t]=r[e],r[e]=n}function Pre(r,t,e){if(r=Float64Array.from(Sre(r)),!(!(n=r.length)||isNaN(t=+t))){if(t<=0||n<2)return pO(r);if(t>=1)return hO(r);var n,i=(n-1)*t,a=Math.floor(i),s=hO(vD(r,a).subarray(0,a+1)),l=pO(r.subarray(a+1));return s+(l-s)*(i-a)}}function Mre(r,t,e=gD){if(!(!(n=r.length)||isNaN(t=+t))){if(t<=0||n<2)return+e(r[0],0,r);if(t>=1)return+e(r[n-1],n-1,r);var n,i=(n-1)*t,a=Math.floor(i),s=+e(r[a],a,r),l=+e(r[a+1],a+1,r);return s+(l-s)*(i-a)}}function Ire(r,t,e){r=+r,t=+t,e=(i=arguments.length)<2?(t=r,r=0,1):i<3?1:+e;for(var n=-1,i=Math.max(0,Math.ceil((t-r)/e))|0,a=new Array(i);++n<i;)a[n]=r+n*e;return a}function al(r,t){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(t).domain(r);break}return this}function Lu(r,t){switch(arguments.length){case 0:break;case 1:{typeof r=="function"?this.interpolator(r):this.range(r);break}default:{this.domain(r),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const wS=Symbol("implicit");function ak(){var r=new fO,t=[],e=[],n=wS;function i(a){let s=r.get(a);if(s===void 0){if(n!==wS)return n;r.set(a,s=t.push(a)-1)}return e[s%e.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],r=new fO;for(const s of a)r.has(s)||r.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(e=Array.from(a),i):e.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ak(t,e).unknown(n)},al.apply(i,arguments),i}function Ng(){var r=ak().unknown(void 0),t=r.domain,e=r.range,n=0,i=1,a,s,l=!1,c=0,o=0,u=.5;delete r.unknown;function d(){var f=t().length,h=i<n,y=h?i:n,m=h?n:i;a=(m-y)/Math.max(1,f-c+o*2),l&&(a=Math.floor(a)),y+=(m-y-a*(f-c))*u,s=a*(1-c),l&&(y=Math.round(y),s=Math.round(s));var g=Ire(f).map(function(v){return y+a*v});return e(h?g.reverse():g)}return r.domain=function(f){return arguments.length?(t(f),d()):t()},r.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},r.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,d()},r.bandwidth=function(){return s},r.step=function(){return a},r.round=function(f){return arguments.length?(l=!!f,d()):l},r.padding=function(f){return arguments.length?(c=Math.min(1,o=+f),d()):c},r.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),d()):c},r.paddingOuter=function(f){return arguments.length?(o=+f,d()):o},r.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},r.copy=function(){return Ng(t(),[n,i]).round(l).paddingInner(c).paddingOuter(o).align(u)},al.apply(d(),arguments)}function bD(r){var t=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return bD(t())},r}function Qm(){return bD(Ng.apply(null,arguments).paddingInner(1))}function sk(r,t,e){r.prototype=t.prototype=e,e.constructor=r}function xD(r,t){var e=Object.create(r.prototype);for(var n in t)e[n]=t[n];return e}function S1(){}var Eg=.7,vb=1/Eg,q0="\\s*([+-]?\\d+)\\s*",jg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rre=/^#([0-9a-f]{3,8})$/,Fre=new RegExp(`^rgb\\(${q0},${q0},${q0}\\)$`),Lre=new RegExp(`^rgb\\(${wc},${wc},${wc}\\)$`),Dre=new RegExp(`^rgba\\(${q0},${q0},${q0},${jg}\\)$`),Bre=new RegExp(`^rgba\\(${wc},${wc},${wc},${jg}\\)$`),$re=new RegExp(`^hsl\\(${jg},${wc},${wc}\\)$`),Ure=new RegExp(`^hsla\\(${jg},${wc},${wc},${jg}\\)$`),mO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sk(S1,Ag,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:gO,formatHex:gO,formatHex8:zre,formatHsl:qre,formatRgb:yO,toString:yO});function gO(){return this.rgb().formatHex()}function zre(){return this.rgb().formatHex8()}function qre(){return wD(this).formatHsl()}function yO(){return this.rgb().formatRgb()}function Ag(r){var t,e;return r=(r+"").trim().toLowerCase(),(t=Rre.exec(r))?(e=t[1].length,t=parseInt(t[1],16),e===6?vO(t):e===3?new Zs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?cv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?cv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Fre.exec(r))?new Zs(t[1],t[2],t[3],1):(t=Lre.exec(r))?new Zs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Dre.exec(r))?cv(t[1],t[2],t[3],t[4]):(t=Bre.exec(r))?cv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$re.exec(r))?wO(t[1],t[2]/100,t[3]/100,1):(t=Ure.exec(r))?wO(t[1],t[2]/100,t[3]/100,t[4]):mO.hasOwnProperty(r)?vO(mO[r]):r==="transparent"?new Zs(NaN,NaN,NaN,0):null}function vO(r){return new Zs(r>>16&255,r>>8&255,r&255,1)}function cv(r,t,e,n){return n<=0&&(r=t=e=NaN),new Zs(r,t,e,n)}function Hre(r){return r instanceof S1||(r=Ag(r)),r?(r=r.rgb(),new Zs(r.r,r.g,r.b,r.opacity)):new Zs}function _S(r,t,e,n){return arguments.length===1?Hre(r):new Zs(r,t,e,n??1)}function Zs(r,t,e,n){this.r=+r,this.g=+t,this.b=+e,this.opacity=+n}sk(Zs,_S,xD(S1,{brighter(r){return r=r==null?vb:Math.pow(vb,r),new Zs(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?Eg:Math.pow(Eg,r),new Zs(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Zs(dh(this.r),dh(this.g),dh(this.b),bb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bO,formatHex:bO,formatHex8:Wre,formatRgb:xO,toString:xO}));function bO(){return`#${oh(this.r)}${oh(this.g)}${oh(this.b)}`}function Wre(){return`#${oh(this.r)}${oh(this.g)}${oh(this.b)}${oh((isNaN(this.opacity)?1:this.opacity)*255)}`}function xO(){const r=bb(this.opacity);return`${r===1?"rgb(":"rgba("}${dh(this.r)}, ${dh(this.g)}, ${dh(this.b)}${r===1?")":`, ${r})`}`}function bb(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function dh(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function oh(r){return r=dh(r),(r<16?"0":"")+r.toString(16)}function wO(r,t,e,n){return n<=0?r=t=e=NaN:e<=0||e>=1?r=t=NaN:t<=0&&(r=NaN),new Ll(r,t,e,n)}function wD(r){if(r instanceof Ll)return new Ll(r.h,r.s,r.l,r.opacity);if(r instanceof S1||(r=Ag(r)),!r)return new Ll;if(r instanceof Ll)return r;r=r.rgb();var t=r.r/255,e=r.g/255,n=r.b/255,i=Math.min(t,e,n),a=Math.max(t,e,n),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(e-n)/l+(e<n)*6:e===a?s=(n-t)/l+2:s=(t-e)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Ll(s,l,c,r.opacity)}function Vre(r,t,e,n){return arguments.length===1?wD(r):new Ll(r,t,e,n??1)}function Ll(r,t,e,n){this.h=+r,this.s=+t,this.l=+e,this.opacity=+n}sk(Ll,Vre,xD(S1,{brighter(r){return r=r==null?vb:Math.pow(vb,r),new Ll(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?Eg:Math.pow(Eg,r),new Ll(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,t=isNaN(r)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*t,i=2*e-n;return new Zs(u3(r>=240?r-240:r+120,i,n),u3(r,i,n),u3(r<120?r+240:r-120,i,n),this.opacity)},clamp(){return new Ll(_O(this.h),uv(this.s),uv(this.l),bb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=bb(this.opacity);return`${r===1?"hsl(":"hsla("}${_O(this.h)}, ${uv(this.s)*100}%, ${uv(this.l)*100}%${r===1?")":`, ${r})`}`}}));function _O(r){return r=(r||0)%360,r<0?r+360:r}function uv(r){return Math.max(0,Math.min(1,r||0))}function u3(r,t,e){return(r<60?t+(e-t)*r/60:r<180?e:r<240?t+(e-t)*(240-r)/60:t)*255}const ok=r=>()=>r;function Gre(r,t){return function(e){return r+e*t}}function Xre(r,t,e){return r=Math.pow(r,e),t=Math.pow(t,e)-r,e=1/e,function(n){return Math.pow(r+n*t,e)}}function Kre(r){return(r=+r)==1?_D:function(t,e){return e-t?Xre(t,e,r):ok(isNaN(t)?e:t)}}function _D(r,t){var e=t-r;return e?Gre(r,e):ok(isNaN(r)?t:r)}const SO=function r(t){var e=Kre(t);function n(i,a){var s=e((i=_S(i)).r,(a=_S(a)).r),l=e(i.g,a.g),c=e(i.b,a.b),o=_D(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=l(u),i.b=c(u),i.opacity=o(u),i+""}}return n.gamma=r,n}(1);function Yre(r,t){t||(t=[]);var e=r?Math.min(t.length,r.length):0,n=t.slice(),i;return function(a){for(i=0;i<e;++i)n[i]=r[i]*(1-a)+t[i]*a;return n}}function Jre(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function Zre(r,t){var e=t?t.length:0,n=r?Math.min(e,r.length):0,i=new Array(n),a=new Array(e),s;for(s=0;s<n;++s)i[s]=Rp(r[s],t[s]);for(;s<e;++s)a[s]=t[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function Qre(r,t){var e=new Date;return r=+r,t=+t,function(n){return e.setTime(r*(1-n)+t*n),e}}function xb(r,t){return r=+r,t=+t,function(e){return r*(1-e)+t*e}}function ene(r,t){var e={},n={},i;(r===null||typeof r!="object")&&(r={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in r?e[i]=Rp(r[i],t[i]):n[i]=t[i];return function(a){for(i in e)n[i]=e[i](a);return n}}var SS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,f3=new RegExp(SS.source,"g");function tne(r){return function(){return r}}function rne(r){return function(t){return r(t)+""}}function nne(r,t){var e=SS.lastIndex=f3.lastIndex=0,n,i,a,s=-1,l=[],c=[];for(r=r+"",t=t+"";(n=SS.exec(r))&&(i=f3.exec(t));)(a=i.index)>e&&(a=t.slice(e,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:xb(n,i)})),e=f3.lastIndex;return e<t.length&&(a=t.slice(e),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?rne(c[0].x):tne(t):(t=c.length,function(o){for(var u=0,d;u<t;++u)l[(d=c[u]).i]=d.x(o);return l.join("")})}function Rp(r,t){var e=typeof t,n;return t==null||e==="boolean"?ok(t):(e==="number"?xb:e==="string"?(n=Ag(t))?(t=n,SO):nne:t instanceof Ag?SO:t instanceof Date?Qre:Jre(t)?Yre:Array.isArray(t)?Zre:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ene:xb)(r,t)}function lk(r,t){return r=+r,t=+t,function(e){return Math.round(r*(1-e)+t*e)}}function ine(r,t){t===void 0&&(t=r,r=Rp);for(var e=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);e<n;)a[e]=r(i,i=t[++e]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function ane(r){return function(){return r}}function wb(r){return+r}var kO=[0,1];function Os(r){return r}function kS(r,t){return(t-=r=+r)?function(e){return(e-r)/t}:ane(isNaN(t)?NaN:.5)}function sne(r,t){var e;return r>t&&(e=r,r=t,t=e),function(n){return Math.max(r,Math.min(t,n))}}function one(r,t,e){var n=r[0],i=r[1],a=t[0],s=t[1];return i<n?(n=kS(i,n),a=e(s,a)):(n=kS(n,i),a=e(a,s)),function(l){return a(n(l))}}function lne(r,t,e){var n=Math.min(r.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(r[n]<r[0]&&(r=r.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=kS(r[s],r[s+1]),a[s]=e(t[s],t[s+1]);return function(l){var c=_1(r,l,1,n)-1;return a[c](i[c](l))}}function k1(r,t){return t.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function $x(){var r=kO,t=kO,e=Rp,n,i,a,s=Os,l,c,o;function u(){var f=Math.min(r.length,t.length);return s!==Os&&(s=sne(r[0],r[f-1])),l=f>2?lne:one,c=o=null,d}function d(f){return f==null||isNaN(f=+f)?a:(c||(c=l(r.map(n),t,e)))(n(s(f)))}return d.invert=function(f){return s(i((o||(o=l(t,r.map(n),xb)))(f)))},d.domain=function(f){return arguments.length?(r=Array.from(f,wb),u()):r.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),e=lk,u()},d.clamp=function(f){return arguments.length?(s=f?!0:Os,u()):s!==Os},d.interpolate=function(f){return arguments.length?(e=f,u()):e},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,h){return n=f,i=h,u()}}function ck(){return $x()(Os,Os)}function cne(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function _b(r,t){if((e=(r=t?r.toExponential(t-1):r.toExponential()).indexOf("e"))<0)return null;var e,n=r.slice(0,e);return[n.length>1?n[0]+n.slice(2):n,+r.slice(e+1)]}function hp(r){return r=_b(Math.abs(r)),r?r[1]:NaN}function une(r,t){return function(e,n){for(var i=e.length,a=[],s=0,l=r[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(e.substring(i-=l,i+l)),!((c+=l+1)>n));)l=r[s=(s+1)%r.length];return a.reverse().join(t)}}function fne(r){return function(t){return t.replace(/[0-9]/g,function(e){return r[+e]})}}var dne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tg(r){if(!(t=dne.exec(r)))throw new Error("invalid format: "+r);var t;return new uk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tg.prototype=uk.prototype;function uk(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}uk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hne(r){e:for(var t=r.length,e=1,n=-1,i;e<t;++e)switch(r[e]){case".":n=i=e;break;case"0":n===0&&(n=e),i=e;break;default:if(!+r[e])break e;n>0&&(n=0);break}return n>0?r.slice(0,n)+r.slice(i+1):r}var SD;function pne(r,t){var e=_b(r,t);if(!e)return r+"";var n=e[0],i=e[1],a=i-(SD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+_b(r,Math.max(0,t+a-1))[0]}function NO(r,t){var e=_b(r,t);if(!e)return r+"";var n=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const EO={"%":(r,t)=>(r*100).toFixed(t),b:r=>Math.round(r).toString(2),c:r=>r+"",d:cne,e:(r,t)=>r.toExponential(t),f:(r,t)=>r.toFixed(t),g:(r,t)=>r.toPrecision(t),o:r=>Math.round(r).toString(8),p:(r,t)=>NO(r*100,t),r:NO,s:pne,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function jO(r){return r}var AO=Array.prototype.map,TO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mne(r){var t=r.grouping===void 0||r.thousands===void 0?jO:une(AO.call(r.grouping,Number),r.thousands+""),e=r.currency===void 0?"":r.currency[0]+"",n=r.currency===void 0?"":r.currency[1]+"",i=r.decimal===void 0?".":r.decimal+"",a=r.numerals===void 0?jO:fne(AO.call(r.numerals,String)),s=r.percent===void 0?"%":r.percent+"",l=r.minus===void 0?"":r.minus+"",c=r.nan===void 0?"NaN":r.nan+"";function o(d){d=Tg(d);var f=d.fill,h=d.align,y=d.sign,m=d.symbol,g=d.zero,v=d.width,b=d.comma,w=d.precision,_=d.trim,N=d.type;N==="n"?(b=!0,N="g"):EO[N]||(w===void 0&&(w=12),_=!0,N="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var P=m==="$"?e:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",M=m==="$"?n:/[%p]/.test(N)?s:"",A=EO[N],F=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function H(z){var U=P,O=M,L,C,k;if(N==="c")O=A(z)+O,z="";else{z=+z;var j=z<0||1/z<0;if(z=isNaN(z)?c:A(Math.abs(z),w),_&&(z=hne(z)),j&&+z==0&&y!=="+"&&(j=!1),U=(j?y==="("?y:l:y==="-"||y==="("?"":y)+U,O=(N==="s"?TO[8+SD/3]:"")+O+(j&&y==="("?")":""),F){for(L=-1,C=z.length;++L<C;)if(k=z.charCodeAt(L),48>k||k>57){O=(k===46?i+z.slice(L+1):z.slice(L))+O,z=z.slice(0,L);break}}}b&&!g&&(z=t(z,1/0));var E=U.length+z.length+O.length,T=E<v?new Array(v-E+1).join(f):"";switch(b&&g&&(z=t(T+z,T.length?v-O.length:1/0),T=""),h){case"<":z=U+z+O+T;break;case"=":z=U+T+z+O;break;case"^":z=T.slice(0,E=T.length>>1)+U+z+O+T.slice(E);break;default:z=T+U+z+O;break}return a(z)}return H.toString=function(){return d+""},H}function u(d,f){var h=o((d=Tg(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(hp(f)/3)))*3,m=Math.pow(10,-y),g=TO[8+y/3];return function(v){return h(m*v)+g}}return{format:o,formatPrefix:u}}var fv,fk,kD;gne({thousands:",",grouping:[3],currency:["$",""]});function gne(r){return fv=mne(r),fk=fv.format,kD=fv.formatPrefix,fv}function yne(r){return Math.max(0,-hp(Math.abs(r)))}function vne(r,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hp(t)/3)))*3-hp(Math.abs(r)))}function bne(r,t){return r=Math.abs(r),t=Math.abs(t)-r,Math.max(0,hp(t)-hp(r))+1}function ND(r,t,e,n){var i=xS(r,t,e),a;switch(n=Tg(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(r),Math.abs(t));return n.precision==null&&!isNaN(a=vne(i,s))&&(n.precision=a),kD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=bne(i,Math.max(Math.abs(r),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=yne(i))&&(n.precision=a-(n.type==="%")*2);break}}return fk(n)}function sd(r){var t=r.domain;return r.ticks=function(e){var n=t();return vS(n[0],n[n.length-1],e??10)},r.tickFormat=function(e,n){var i=t();return ND(i[0],i[i.length-1],e??10,n)},r.nice=function(e){e==null&&(e=10);var n=t(),i=0,a=n.length-1,s=n[i],l=n[a],c,o,u=10;for(l<s&&(o=s,s=l,l=o,o=i,i=a,a=o);u-- >0;){if(o=bS(s,l,e),o===c)return n[i]=s,n[a]=l,t(n);if(o>0)s=Math.floor(s/o)*o,l=Math.ceil(l/o)*o;else if(o<0)s=Math.ceil(s*o)/o,l=Math.floor(l*o)/o;else break;c=o}return r},r}function Sb(){var r=ck();return r.copy=function(){return k1(r,Sb())},al.apply(r,arguments),sd(r)}function ED(r){var t;function e(n){return n==null||isNaN(n=+n)?t:n}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(r=Array.from(n,wb),e):r.slice()},e.unknown=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return ED(r).unknown(t)},r=arguments.length?Array.from(r,wb):[0,1],sd(e)}function jD(r,t){r=r.slice();var e=0,n=r.length-1,i=r[e],a=r[n],s;return a<i&&(s=e,e=n,n=s,s=i,i=a,a=s),r[e]=t.floor(i),r[n]=t.ceil(a),r}function CO(r){return Math.log(r)}function OO(r){return Math.exp(r)}function xne(r){return-Math.log(-r)}function wne(r){return-Math.exp(-r)}function _ne(r){return isFinite(r)?+("1e"+r):r<0?0:r}function Sne(r){return r===10?_ne:r===Math.E?Math.exp:t=>Math.pow(r,t)}function kne(r){return r===Math.E?Math.log:r===10&&Math.log10||r===2&&Math.log2||(r=Math.log(r),t=>Math.log(t)/r)}function PO(r){return(t,e)=>-r(-t,e)}function dk(r){const t=r(CO,OO),e=t.domain;let n=10,i,a;function s(){return i=kne(n),a=Sne(n),e()[0]<0?(i=PO(i),a=PO(a),r(xne,wne)):r(CO,OO),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(e(l),s()):e()},t.ticks=l=>{const c=e();let o=c[0],u=c[c.length-1];const d=u<o;d&&([o,u]=[u,o]);let f=i(o),h=i(u),y,m;const g=l==null?10:+l;let v=[];if(!(n%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),o>0){for(;f<=h;++f)for(y=1;y<n;++y)if(m=f<0?y/a(-f):y*a(f),!(m<o)){if(m>u)break;v.push(m)}}else for(;f<=h;++f)for(y=n-1;y>=1;--y)if(m=f>0?y/a(-f):y*a(f),!(m<o)){if(m>u)break;v.push(m)}v.length*2<g&&(v=vS(o,u,g))}else v=vS(f,h,Math.min(h-f,g)).map(a);return d?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Tg(c)).precision==null&&(c.trim=!0),c=fk(c)),l===1/0)return c;const o=Math.max(1,n*l/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=o?c(u):""}},t.nice=()=>e(jD(e(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function AD(){const r=dk($x()).domain([1,10]);return r.copy=()=>k1(r,AD()).base(r.base()),al.apply(r,arguments),r}function MO(r){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/r))}}function IO(r){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*r}}function hk(r){var t=1,e=r(MO(t),IO(t));return e.constant=function(n){return arguments.length?r(MO(t=+n),IO(t)):t},sd(e)}function TD(){var r=hk($x());return r.copy=function(){return k1(r,TD()).constant(r.constant())},al.apply(r,arguments)}function RO(r){return function(t){return t<0?-Math.pow(-t,r):Math.pow(t,r)}}function Nne(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function Ene(r){return r<0?-r*r:r*r}function pk(r){var t=r(Os,Os),e=1;function n(){return e===1?r(Os,Os):e===.5?r(Nne,Ene):r(RO(e),RO(1/e))}return t.exponent=function(i){return arguments.length?(e=+i,n()):e},sd(t)}function mk(){var r=pk($x());return r.copy=function(){return k1(r,mk()).exponent(r.exponent())},al.apply(r,arguments),r}function jne(){return mk.apply(null,arguments).exponent(.5)}function FO(r){return Math.sign(r)*r*r}function Ane(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function CD(){var r=ck(),t=[0,1],e=!1,n;function i(a){var s=Ane(r(a));return isNaN(s)?n:e?Math.round(s):s}return i.invert=function(a){return r.invert(FO(a))},i.domain=function(a){return arguments.length?(r.domain(a),i):r.domain()},i.range=function(a){return arguments.length?(r.range((t=Array.from(a,wb)).map(FO)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(e=!!a,i):e},i.clamp=function(a){return arguments.length?(r.clamp(a),i):r.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return CD(r.domain(),t).round(e).clamp(r.clamp()).unknown(n)},al.apply(i,arguments),sd(i)}function OD(){var r=[],t=[],e=[],n;function i(){var s=0,l=Math.max(1,t.length);for(e=new Array(l-1);++s<l;)e[s-1]=Mre(r,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:t[_1(e,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?e[l-1]:r[0],l<e.length?e[l]:r[r.length-1]]},a.domain=function(s){if(!arguments.length)return r.slice();r=[];for(let l of s)l!=null&&!isNaN(l=+l)&&r.push(l);return r.sort(Hf),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return e.slice()},a.copy=function(){return OD().domain(r).range(t).unknown(n)},al.apply(a,arguments)}function PD(){var r=0,t=1,e=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[_1(n,c,0,e)]:a}function l(){var c=-1;for(n=new Array(e);++c<e;)n[c]=((c+1)*t-(c-e)*r)/(e+1);return s}return s.domain=function(c){return arguments.length?([r,t]=c,r=+r,t=+t,l()):[r,t]},s.range=function(c){return arguments.length?(e=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var o=i.indexOf(c);return o<0?[NaN,NaN]:o<1?[r,n[0]]:o>=e?[n[e-1],t]:[n[o-1],n[o]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return PD().domain([r,t]).range(i).unknown(a)},al.apply(sd(s),arguments)}function MD(){var r=[.5],t=[0,1],e,n=1;function i(a){return a!=null&&a<=a?t[_1(r,a,0,n)]:e}return i.domain=function(a){return arguments.length?(r=Array.from(a),n=Math.min(r.length,t.length-1),i):r.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(r.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[r[s-1],r[s]]},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return MD().domain(r).range(t).unknown(e)},al.apply(i,arguments)}const d3=new Date,h3=new Date;function ia(r,t,e,n){function i(a){return r(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(r(a=new Date(+a)),a),i.ceil=a=>(r(a=new Date(a-1)),t(a,1),r(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let o;do c.push(o=new Date(+a)),t(a,l),r(a);while(o<a&&a<s);return c},i.filter=a=>ia(s=>{if(s>=s)for(;r(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),e&&(i.count=(a,s)=>(d3.setTime(+a),h3.setTime(+s),r(d3),r(h3),Math.floor(e(d3,h3))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const kb=ia(()=>{},(r,t)=>{r.setTime(+r+t)},(r,t)=>t-r);kb.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?ia(t=>{t.setTime(Math.floor(t/r)*r)},(t,e)=>{t.setTime(+t+e*r)},(t,e)=>(e-t)/r):kb);kb.range;const gu=1e3,Qo=gu*60,yu=Qo*60,Au=yu*24,gk=Au*7,LO=Au*30,p3=Au*365,lh=ia(r=>{r.setTime(r-r.getMilliseconds())},(r,t)=>{r.setTime(+r+t*gu)},(r,t)=>(t-r)/gu,r=>r.getUTCSeconds());lh.range;const yk=ia(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*gu)},(r,t)=>{r.setTime(+r+t*Qo)},(r,t)=>(t-r)/Qo,r=>r.getMinutes());yk.range;const vk=ia(r=>{r.setUTCSeconds(0,0)},(r,t)=>{r.setTime(+r+t*Qo)},(r,t)=>(t-r)/Qo,r=>r.getUTCMinutes());vk.range;const bk=ia(r=>{r.setTime(r-r.getMilliseconds()-r.getSeconds()*gu-r.getMinutes()*Qo)},(r,t)=>{r.setTime(+r+t*yu)},(r,t)=>(t-r)/yu,r=>r.getHours());bk.range;const xk=ia(r=>{r.setUTCMinutes(0,0,0)},(r,t)=>{r.setTime(+r+t*yu)},(r,t)=>(t-r)/yu,r=>r.getUTCHours());xk.range;const N1=ia(r=>r.setHours(0,0,0,0),(r,t)=>r.setDate(r.getDate()+t),(r,t)=>(t-r-(t.getTimezoneOffset()-r.getTimezoneOffset())*Qo)/Au,r=>r.getDate()-1);N1.range;const Ux=ia(r=>{r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCDate(r.getUTCDate()+t)},(r,t)=>(t-r)/Au,r=>r.getUTCDate()-1);Ux.range;const ID=ia(r=>{r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCDate(r.getUTCDate()+t)},(r,t)=>(t-r)/Au,r=>Math.floor(r/Au));ID.range;function Oh(r){return ia(t=>{t.setDate(t.getDate()-(t.getDay()+7-r)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Qo)/gk)}const zx=Oh(0),Nb=Oh(1),Tne=Oh(2),Cne=Oh(3),pp=Oh(4),One=Oh(5),Pne=Oh(6);zx.range;Nb.range;Tne.range;Cne.range;pp.range;One.range;Pne.range;function Ph(r){return ia(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-r)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/gk)}const qx=Ph(0),Eb=Ph(1),Mne=Ph(2),Ine=Ph(3),mp=Ph(4),Rne=Ph(5),Fne=Ph(6);qx.range;Eb.range;Mne.range;Ine.range;mp.range;Rne.range;Fne.range;const wk=ia(r=>{r.setDate(1),r.setHours(0,0,0,0)},(r,t)=>{r.setMonth(r.getMonth()+t)},(r,t)=>t.getMonth()-r.getMonth()+(t.getFullYear()-r.getFullYear())*12,r=>r.getMonth());wk.range;const _k=ia(r=>{r.setUTCDate(1),r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCMonth(r.getUTCMonth()+t)},(r,t)=>t.getUTCMonth()-r.getUTCMonth()+(t.getUTCFullYear()-r.getUTCFullYear())*12,r=>r.getUTCMonth());_k.range;const Tu=ia(r=>{r.setMonth(0,1),r.setHours(0,0,0,0)},(r,t)=>{r.setFullYear(r.getFullYear()+t)},(r,t)=>t.getFullYear()-r.getFullYear(),r=>r.getFullYear());Tu.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ia(t=>{t.setFullYear(Math.floor(t.getFullYear()/r)*r),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*r)});Tu.range;const Cu=ia(r=>{r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCFullYear(r.getUTCFullYear()+t)},(r,t)=>t.getUTCFullYear()-r.getUTCFullYear(),r=>r.getUTCFullYear());Cu.every=r=>!isFinite(r=Math.floor(r))||!(r>0)?null:ia(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/r)*r),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*r)});Cu.range;function RD(r,t,e,n,i,a){const s=[[lh,1,gu],[lh,5,5*gu],[lh,15,15*gu],[lh,30,30*gu],[a,1,Qo],[a,5,5*Qo],[a,15,15*Qo],[a,30,30*Qo],[i,1,yu],[i,3,3*yu],[i,6,6*yu],[i,12,12*yu],[n,1,Au],[n,2,2*Au],[e,1,gk],[t,1,LO],[t,3,3*LO],[r,1,p3]];function l(o,u,d){const f=u<o;f&&([o,u]=[u,o]);const h=d&&typeof d.range=="function"?d:c(o,u,d),y=h?h.range(o,+u+1):[];return f?y.reverse():y}function c(o,u,d){const f=Math.abs(u-o)/d,h=ik(([,,g])=>g).right(s,f);if(h===s.length)return r.every(xS(o/p3,u/p3,d));if(h===0)return kb.every(Math.max(xS(o,u,d),1));const[y,m]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return y.every(m)}return[l,c]}const[Lne,Dne]=RD(Cu,_k,qx,ID,xk,vk),[Bne,$ne]=RD(Tu,wk,zx,N1,bk,yk);function m3(r){if(0<=r.y&&r.y<100){var t=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return t.setFullYear(r.y),t}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function g3(r){if(0<=r.y&&r.y<100){var t=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return t.setUTCFullYear(r.y),t}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Am(r,t,e){return{y:r,m:t,d:e,H:0,M:0,S:0,L:0}}function Une(r){var t=r.dateTime,e=r.date,n=r.time,i=r.periods,a=r.days,s=r.shortDays,l=r.months,c=r.shortMonths,o=Tm(i),u=Cm(i),d=Tm(a),f=Cm(a),h=Tm(s),y=Cm(s),m=Tm(l),g=Cm(l),v=Tm(c),b=Cm(c),w={a:j,A:E,b:T,B:R,c:null,d:qO,e:qO,f:uie,g:xie,G:_ie,H:oie,I:lie,j:cie,L:FD,m:fie,M:die,p:V,q:B,Q:VO,s:GO,S:hie,u:pie,U:mie,V:gie,w:yie,W:vie,x:null,X:null,y:bie,Y:wie,Z:Sie,"%":WO},_={a:K,A:Z,b:ne,B:G,c:null,d:HO,e:HO,f:jie,g:Lie,G:Bie,H:kie,I:Nie,j:Eie,L:DD,m:Aie,M:Tie,p:te,q:I,Q:VO,s:GO,S:Cie,u:Oie,U:Pie,V:Mie,w:Iie,W:Rie,x:null,X:null,y:Fie,Y:Die,Z:$ie,"%":WO},N={a:H,A:z,b:U,B:O,c:L,d:UO,e:UO,f:nie,g:$O,G:BO,H:zO,I:zO,j:Qne,L:rie,m:Zne,M:eie,p:F,q:Jne,Q:aie,s:sie,S:tie,u:Vne,U:Gne,V:Xne,w:Wne,W:Kne,x:C,X:k,y:$O,Y:BO,Z:Yne,"%":iie};w.x=P(e,w),w.X=P(n,w),w.c=P(t,w),_.x=P(e,_),_.X=P(n,_),_.c=P(t,_);function P(D,X){return function(Q){var re=[],oe=-1,se=0,he=D.length,le,de,ve;for(Q instanceof Date||(Q=new Date(+Q));++oe<he;)D.charCodeAt(oe)===37&&(re.push(D.slice(se,oe)),(de=DO[le=D.charAt(++oe)])!=null?le=D.charAt(++oe):de=le==="e"?" ":"0",(ve=X[le])&&(le=ve(Q,de)),re.push(le),se=oe+1);return re.push(D.slice(se,oe)),re.join("")}}function M(D,X){return function(Q){var re=Am(1900,void 0,1),oe=A(re,D,Q+="",0),se,he;if(oe!=Q.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(X&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(se=g3(Am(re.y,0,1)),he=se.getUTCDay(),se=he>4||he===0?Eb.ceil(se):Eb(se),se=Ux.offset(se,(re.V-1)*7),re.y=se.getUTCFullYear(),re.m=se.getUTCMonth(),re.d=se.getUTCDate()+(re.w+6)%7):(se=m3(Am(re.y,0,1)),he=se.getDay(),se=he>4||he===0?Nb.ceil(se):Nb(se),se=N1.offset(se,(re.V-1)*7),re.y=se.getFullYear(),re.m=se.getMonth(),re.d=se.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),he="Z"in re?g3(Am(re.y,0,1)).getUTCDay():m3(Am(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(he+5)%7:re.w+re.U*7-(he+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,g3(re)):m3(re)}}function A(D,X,Q,re){for(var oe=0,se=X.length,he=Q.length,le,de;oe<se;){if(re>=he)return-1;if(le=X.charCodeAt(oe++),le===37){if(le=X.charAt(oe++),de=N[le in DO?X.charAt(oe++):le],!de||(re=de(D,Q,re))<0)return-1}else if(le!=Q.charCodeAt(re++))return-1}return re}function F(D,X,Q){var re=o.exec(X.slice(Q));return re?(D.p=u.get(re[0].toLowerCase()),Q+re[0].length):-1}function H(D,X,Q){var re=h.exec(X.slice(Q));return re?(D.w=y.get(re[0].toLowerCase()),Q+re[0].length):-1}function z(D,X,Q){var re=d.exec(X.slice(Q));return re?(D.w=f.get(re[0].toLowerCase()),Q+re[0].length):-1}function U(D,X,Q){var re=v.exec(X.slice(Q));return re?(D.m=b.get(re[0].toLowerCase()),Q+re[0].length):-1}function O(D,X,Q){var re=m.exec(X.slice(Q));return re?(D.m=g.get(re[0].toLowerCase()),Q+re[0].length):-1}function L(D,X,Q){return A(D,t,X,Q)}function C(D,X,Q){return A(D,e,X,Q)}function k(D,X,Q){return A(D,n,X,Q)}function j(D){return s[D.getDay()]}function E(D){return a[D.getDay()]}function T(D){return c[D.getMonth()]}function R(D){return l[D.getMonth()]}function V(D){return i[+(D.getHours()>=12)]}function B(D){return 1+~~(D.getMonth()/3)}function K(D){return s[D.getUTCDay()]}function Z(D){return a[D.getUTCDay()]}function ne(D){return c[D.getUTCMonth()]}function G(D){return l[D.getUTCMonth()]}function te(D){return i[+(D.getUTCHours()>=12)]}function I(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var X=P(D+="",w);return X.toString=function(){return D},X},parse:function(D){var X=M(D+="",!1);return X.toString=function(){return D},X},utcFormat:function(D){var X=P(D+="",_);return X.toString=function(){return D},X},utcParse:function(D){var X=M(D+="",!0);return X.toString=function(){return D},X}}}var DO={"-":"",_:" ",0:"0"},Sa=/^\s*\d+/,zne=/^%/,qne=/[\\^$*+?|[\]().{}]/g;function yn(r,t,e){var n=r<0?"-":"",i=(n?-r:r)+"",a=i.length;return n+(a<e?new Array(e-a+1).join(t)+i:i)}function Hne(r){return r.replace(qne,"\\$&")}function Tm(r){return new RegExp("^(?:"+r.map(Hne).join("|")+")","i")}function Cm(r){return new Map(r.map((t,e)=>[t.toLowerCase(),e]))}function Wne(r,t,e){var n=Sa.exec(t.slice(e,e+1));return n?(r.w=+n[0],e+n[0].length):-1}function Vne(r,t,e){var n=Sa.exec(t.slice(e,e+1));return n?(r.u=+n[0],e+n[0].length):-1}function Gne(r,t,e){var n=Sa.exec(t.slice(e,e+2));return n?(r.U=+n[0],e+n[0].length):-1}function Xne(r,t,e){var n=Sa.exec(t.slice(e,e+2));return n?(r.V=+n[0],e+n[0].length):-1}function Kne(r,t,e){var n=Sa.exec(t.slice(e,e+2));return n?(r.W=+n[0],e+n[0].length):-1}function BO(r,t,e){var n=Sa.exec(t.slice(e,e+4));return n?(r.y=+n[0],e+n[0].length):-1}function $O(r,t,e){var n=Sa.exec(t.slice(e,e+2));return n?(r.y=+n[0]+(+n[0]>68?1900:2e3),e+n[0].length):-1}function Yne(r,t,e){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return n?(r.Z=n[1]?0:-(n[2]+(n[3]||"00")),e+n[0].length):-1}function Jne(r,t,e){var n=Sa.exec(t.slice(e,e+1));return n?(r.q=n[0]*3-3,e+n[0].length):-1}function Zne(r,t,e){var n=Sa.exec(t.slice(e,e+2));return n?(r.m=n[0]-1,e+n[0].length):-1}function UO(r,t,e){var n=Sa.exec(t.slice(e,e+2));return n?(r.d=+n[0],e+n[0].length):-1}function Qne(r,t,e){var n=Sa.exec(t.slice(e,e+3));return n?(r.m=0,r.d=+n[0],e+n[0].length):-1}function zO(r,t,e){var n=Sa.exec(t.slice(e,e+2));return n?(r.H=+n[0],e+n[0].length):-1}function eie(r,t,e){var n=Sa.exec(t.slice(e,e+2));return n?(r.M=+n[0],e+n[0].length):-1}function tie(r,t,e){var n=Sa.exec(t.slice(e,e+2));return n?(r.S=+n[0],e+n[0].length):-1}function rie(r,t,e){var n=Sa.exec(t.slice(e,e+3));return n?(r.L=+n[0],e+n[0].length):-1}function nie(r,t,e){var n=Sa.exec(t.slice(e,e+6));return n?(r.L=Math.floor(n[0]/1e3),e+n[0].length):-1}function iie(r,t,e){var n=zne.exec(t.slice(e,e+1));return n?e+n[0].length:-1}function aie(r,t,e){var n=Sa.exec(t.slice(e));return n?(r.Q=+n[0],e+n[0].length):-1}function sie(r,t,e){var n=Sa.exec(t.slice(e));return n?(r.s=+n[0],e+n[0].length):-1}function qO(r,t){return yn(r.getDate(),t,2)}function oie(r,t){return yn(r.getHours(),t,2)}function lie(r,t){return yn(r.getHours()%12||12,t,2)}function cie(r,t){return yn(1+N1.count(Tu(r),r),t,3)}function FD(r,t){return yn(r.getMilliseconds(),t,3)}function uie(r,t){return FD(r,t)+"000"}function fie(r,t){return yn(r.getMonth()+1,t,2)}function die(r,t){return yn(r.getMinutes(),t,2)}function hie(r,t){return yn(r.getSeconds(),t,2)}function pie(r){var t=r.getDay();return t===0?7:t}function mie(r,t){return yn(zx.count(Tu(r)-1,r),t,2)}function LD(r){var t=r.getDay();return t>=4||t===0?pp(r):pp.ceil(r)}function gie(r,t){return r=LD(r),yn(pp.count(Tu(r),r)+(Tu(r).getDay()===4),t,2)}function yie(r){return r.getDay()}function vie(r,t){return yn(Nb.count(Tu(r)-1,r),t,2)}function bie(r,t){return yn(r.getFullYear()%100,t,2)}function xie(r,t){return r=LD(r),yn(r.getFullYear()%100,t,2)}function wie(r,t){return yn(r.getFullYear()%1e4,t,4)}function _ie(r,t){var e=r.getDay();return r=e>=4||e===0?pp(r):pp.ceil(r),yn(r.getFullYear()%1e4,t,4)}function Sie(r){var t=r.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yn(t/60|0,"0",2)+yn(t%60,"0",2)}function HO(r,t){return yn(r.getUTCDate(),t,2)}function kie(r,t){return yn(r.getUTCHours(),t,2)}function Nie(r,t){return yn(r.getUTCHours()%12||12,t,2)}function Eie(r,t){return yn(1+Ux.count(Cu(r),r),t,3)}function DD(r,t){return yn(r.getUTCMilliseconds(),t,3)}function jie(r,t){return DD(r,t)+"000"}function Aie(r,t){return yn(r.getUTCMonth()+1,t,2)}function Tie(r,t){return yn(r.getUTCMinutes(),t,2)}function Cie(r,t){return yn(r.getUTCSeconds(),t,2)}function Oie(r){var t=r.getUTCDay();return t===0?7:t}function Pie(r,t){return yn(qx.count(Cu(r)-1,r),t,2)}function BD(r){var t=r.getUTCDay();return t>=4||t===0?mp(r):mp.ceil(r)}function Mie(r,t){return r=BD(r),yn(mp.count(Cu(r),r)+(Cu(r).getUTCDay()===4),t,2)}function Iie(r){return r.getUTCDay()}function Rie(r,t){return yn(Eb.count(Cu(r)-1,r),t,2)}function Fie(r,t){return yn(r.getUTCFullYear()%100,t,2)}function Lie(r,t){return r=BD(r),yn(r.getUTCFullYear()%100,t,2)}function Die(r,t){return yn(r.getUTCFullYear()%1e4,t,4)}function Bie(r,t){var e=r.getUTCDay();return r=e>=4||e===0?mp(r):mp.ceil(r),yn(r.getUTCFullYear()%1e4,t,4)}function $ie(){return"+0000"}function WO(){return"%"}function VO(r){return+r}function GO(r){return Math.floor(+r/1e3)}var b0,$D,UD;Uie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Uie(r){return b0=Une(r),$D=b0.format,b0.parse,UD=b0.utcFormat,b0.utcParse,b0}function zie(r){return new Date(r)}function qie(r){return r instanceof Date?+r:+new Date(+r)}function Sk(r,t,e,n,i,a,s,l,c,o){var u=ck(),d=u.invert,f=u.domain,h=o(".%L"),y=o(":%S"),m=o("%I:%M"),g=o("%I %p"),v=o("%a %d"),b=o("%b %d"),w=o("%B"),_=o("%Y");function N(P){return(c(P)<P?h:l(P)<P?y:s(P)<P?m:a(P)<P?g:n(P)<P?i(P)<P?v:b:e(P)<P?w:_)(P)}return u.invert=function(P){return new Date(d(P))},u.domain=function(P){return arguments.length?f(Array.from(P,qie)):f().map(zie)},u.ticks=function(P){var M=f();return r(M[0],M[M.length-1],P??10)},u.tickFormat=function(P,M){return M==null?N:o(M)},u.nice=function(P){var M=f();return(!P||typeof P.range!="function")&&(P=t(M[0],M[M.length-1],P??10)),P?f(jD(M,P)):u},u.copy=function(){return k1(u,Sk(r,t,e,n,i,a,s,l,c,o))},u}function Hie(){return al.apply(Sk(Bne,$ne,Tu,wk,zx,N1,bk,yk,lh,$D).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wie(){return al.apply(Sk(Lne,Dne,Cu,_k,qx,Ux,xk,vk,lh,UD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hx(){var r=0,t=1,e,n,i,a,s=Os,l=!1,c;function o(d){return d==null||isNaN(d=+d)?c:s(i===0?.5:(d=(a(d)-e)*i,l?Math.max(0,Math.min(1,d)):d))}o.domain=function(d){return arguments.length?([r,t]=d,e=a(r=+r),n=a(t=+t),i=e===n?0:1/(n-e),o):[r,t]},o.clamp=function(d){return arguments.length?(l=!!d,o):l},o.interpolator=function(d){return arguments.length?(s=d,o):s};function u(d){return function(f){var h,y;return arguments.length?([h,y]=f,s=d(h,y),o):[s(0),s(1)]}}return o.range=u(Rp),o.rangeRound=u(lk),o.unknown=function(d){return arguments.length?(c=d,o):c},function(d){return a=d,e=d(r),n=d(t),i=e===n?0:1/(n-e),o}}function od(r,t){return t.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function zD(){var r=sd(Hx()(Os));return r.copy=function(){return od(r,zD())},Lu.apply(r,arguments)}function qD(){var r=dk(Hx()).domain([1,10]);return r.copy=function(){return od(r,qD()).base(r.base())},Lu.apply(r,arguments)}function HD(){var r=hk(Hx());return r.copy=function(){return od(r,HD()).constant(r.constant())},Lu.apply(r,arguments)}function kk(){var r=pk(Hx());return r.copy=function(){return od(r,kk()).exponent(r.exponent())},Lu.apply(r,arguments)}function Vie(){return kk.apply(null,arguments).exponent(.5)}function WD(){var r=[],t=Os;function e(n){if(n!=null&&!isNaN(n=+n))return t((_1(r,n,1)-1)/(r.length-1))}return e.domain=function(n){if(!arguments.length)return r.slice();r=[];for(let i of n)i!=null&&!isNaN(i=+i)&&r.push(i);return r.sort(Hf),e},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.range=function(){return r.map((n,i)=>t(i/(r.length-1)))},e.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Pre(r,a/n))},e.copy=function(){return WD(t).domain(r)},Lu.apply(e,arguments)}function Wx(){var r=0,t=.5,e=1,n=1,i,a,s,l,c,o=Os,u,d=!1,f;function h(m){return isNaN(m=+m)?f:(m=.5+((m=+u(m))-a)*(n*m<n*a?l:c),o(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([r,t,e]=m,i=u(r=+r),a=u(t=+t),s=u(e=+e),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,h):[r,t,e]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(o=m,h):o};function y(m){return function(g){var v,b,w;return arguments.length?([v,b,w]=g,o=ine(m,[v,b,w]),h):[o(0),o(.5),o(1)]}}return h.range=y(Rp),h.rangeRound=y(lk),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return u=m,i=m(r),a=m(t),s=m(e),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function VD(){var r=sd(Wx()(Os));return r.copy=function(){return od(r,VD())},Lu.apply(r,arguments)}function GD(){var r=dk(Wx()).domain([.1,1,10]);return r.copy=function(){return od(r,GD()).base(r.base())},Lu.apply(r,arguments)}function XD(){var r=hk(Wx());return r.copy=function(){return od(r,XD()).constant(r.constant())},Lu.apply(r,arguments)}function Nk(){var r=pk(Wx());return r.copy=function(){return od(r,Nk()).exponent(r.exponent())},Lu.apply(r,arguments)}function Gie(){return Nk.apply(null,arguments).exponent(.5)}const XO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ng,scaleDiverging:VD,scaleDivergingLog:GD,scaleDivergingPow:Nk,scaleDivergingSqrt:Gie,scaleDivergingSymlog:XD,scaleIdentity:ED,scaleImplicit:wS,scaleLinear:Sb,scaleLog:AD,scaleOrdinal:ak,scalePoint:Qm,scalePow:mk,scaleQuantile:OD,scaleQuantize:PD,scaleRadial:CD,scaleSequential:zD,scaleSequentialLog:qD,scaleSequentialPow:kk,scaleSequentialQuantile:WD,scaleSequentialSqrt:Vie,scaleSequentialSymlog:HD,scaleSqrt:jne,scaleSymlog:TD,scaleThreshold:MD,scaleTime:Hie,scaleUtc:Wie,tickFormat:ND},Symbol.toStringTag,{value:"Module"}));var y3,KO;function KD(){if(KO)return y3;KO=1;var r=Cp();function t(e,n,i){for(var a=-1,s=e.length;++a<s;){var l=e[a],c=n(l);if(c!=null&&(o===void 0?c===c&&!r(c):i(c,o)))var o=c,u=l}return u}return y3=t,y3}var v3,YO;function Xie(){if(YO)return v3;YO=1;function r(t,e){return t>e}return v3=r,v3}var b3,JO;function Kie(){if(JO)return b3;JO=1;var r=KD(),t=Xie(),e=Mp();function n(i){return i&&i.length?r(i,e,t):void 0}return b3=n,b3}var Yie=Kie();const $f=kn(Yie);var x3,ZO;function Jie(){if(ZO)return x3;ZO=1;function r(t,e){return t<e}return x3=r,x3}var w3,QO;function Zie(){if(QO)return w3;QO=1;var r=KD(),t=Jie(),e=Mp();function n(i){return i&&i.length?r(i,e,t):void 0}return w3=n,w3}var Qie=Zie();const Vx=kn(Qie);var _3,eP;function eae(){if(eP)return _3;eP=1;var r=U8(),t=ad(),e=nD(),n=no();function i(a,s){var l=n(a)?r:e;return l(a,t(s,3))}return _3=i,_3}var S3,tP;function tae(){if(tP)return S3;tP=1;var r=tD(),t=eae();function e(n,i){return r(t(n,i),1)}return S3=e,S3}var rae=tae();const nae=kn(rae);var k3,rP;function iae(){if(rP)return k3;rP=1;var r=ek();function t(e,n){return r(e,n)}return k3=t,k3}var aae=iae();const Cg=kn(aae);var Fp=1e9,sae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jk,mi=!0,rl="[DecimalError] ",hh=rl+"Invalid argument: ",Ek=rl+"Exponent out of range: ",Lp=Math.floor,eh=Math.pow,oae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jo,xa=1e7,ii=7,YD=9007199254740991,jb=Lp(YD/ii),cr={};cr.absoluteValue=cr.abs=function(){var r=new this.constructor(this);return r.s&&(r.s=1),r};cr.comparedTo=cr.cmp=function(r){var t,e,n,i,a=this;if(r=new a.constructor(r),a.s!==r.s)return a.s||-r.s;if(a.e!==r.e)return a.e>r.e^a.s<0?1:-1;for(n=a.d.length,i=r.d.length,t=0,e=n<i?n:i;t<e;++t)if(a.d[t]!==r.d[t])return a.d[t]>r.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};cr.decimalPlaces=cr.dp=function(){var r=this,t=r.d.length-1,e=(t-r.e)*ii;if(t=r.d[t],t)for(;t%10==0;t/=10)e--;return e<0?0:e};cr.dividedBy=cr.div=function(r){return wu(this,new this.constructor(r))};cr.dividedToIntegerBy=cr.idiv=function(r){var t=this,e=t.constructor;return Xn(wu(t,new e(r),0,1),e.precision)};cr.equals=cr.eq=function(r){return!this.cmp(r)};cr.exponent=function(){return Vi(this)};cr.greaterThan=cr.gt=function(r){return this.cmp(r)>0};cr.greaterThanOrEqualTo=cr.gte=function(r){return this.cmp(r)>=0};cr.isInteger=cr.isint=function(){return this.e>this.d.length-2};cr.isNegative=cr.isneg=function(){return this.s<0};cr.isPositive=cr.ispos=function(){return this.s>0};cr.isZero=function(){return this.s===0};cr.lessThan=cr.lt=function(r){return this.cmp(r)<0};cr.lessThanOrEqualTo=cr.lte=function(r){return this.cmp(r)<1};cr.logarithm=cr.log=function(r){var t,e=this,n=e.constructor,i=n.precision,a=i+5;if(r===void 0)r=new n(10);else if(r=new n(r),r.s<1||r.eq(jo))throw Error(rl+"NaN");if(e.s<1)throw Error(rl+(e.s?"NaN":"-Infinity"));return e.eq(jo)?new n(0):(mi=!1,t=wu(Og(e,a),Og(r,a),a),mi=!0,Xn(t,i))};cr.minus=cr.sub=function(r){var t=this;return r=new t.constructor(r),t.s==r.s?QD(t,r):JD(t,(r.s=-r.s,r))};cr.modulo=cr.mod=function(r){var t,e=this,n=e.constructor,i=n.precision;if(r=new n(r),!r.s)throw Error(rl+"NaN");return e.s?(mi=!1,t=wu(e,r,0,1).times(r),mi=!0,e.minus(t)):Xn(new n(e),i)};cr.naturalExponential=cr.exp=function(){return ZD(this)};cr.naturalLogarithm=cr.ln=function(){return Og(this)};cr.negated=cr.neg=function(){var r=new this.constructor(this);return r.s=-r.s||0,r};cr.plus=cr.add=function(r){var t=this;return r=new t.constructor(r),t.s==r.s?JD(t,r):QD(t,(r.s=-r.s,r))};cr.precision=cr.sd=function(r){var t,e,n,i=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(hh+r);if(t=Vi(i)+1,n=i.d.length-1,e=n*ii+1,n=i.d[n],n){for(;n%10==0;n/=10)e--;for(n=i.d[0];n>=10;n/=10)e++}return r&&t>e?t:e};cr.squareRoot=cr.sqrt=function(){var r,t,e,n,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(rl+"NaN")}for(r=Vi(l),mi=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=gc(l.d),(t.length+r)%2==0&&(t+="0"),i=Math.sqrt(t),r=Lp((r+1)/2)-(r<0||r%2),i==1/0?t="5e"+r:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new c(t)):n=new c(i.toString()),e=c.precision,i=s=e+3;;)if(a=n,n=a.plus(wu(l,a,s+2)).times(.5),gc(a.d).slice(0,s)===(t=gc(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Xn(a,e+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;s+=4}return mi=!0,Xn(n,e)};cr.times=cr.mul=function(r){var t,e,n,i,a,s,l,c,o,u=this,d=u.constructor,f=u.d,h=(r=new d(r)).d;if(!u.s||!r.s)return new d(0);for(r.s*=u.s,e=u.e+r.e,c=f.length,o=h.length,c<o&&(a=f,f=h,h=a,s=c,c=o,o=s),a=[],s=c+o,n=s;n--;)a.push(0);for(n=o;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+h[n]*f[i-n-1]+t,a[i--]=l%xa|0,t=l/xa|0;a[i]=(a[i]+t)%xa|0}for(;!a[--s];)a.pop();return t?++e:a.shift(),r.d=a,r.e=e,mi?Xn(r,d.precision):r};cr.toDecimalPlaces=cr.todp=function(r,t){var e=this,n=e.constructor;return e=new n(e),r===void 0?e:(kc(r,0,Fp),t===void 0?t=n.rounding:kc(t,0,8),Xn(e,r+Vi(e)+1,t))};cr.toExponential=function(r,t){var e,n=this,i=n.constructor;return r===void 0?e=yh(n,!0):(kc(r,0,Fp),t===void 0?t=i.rounding:kc(t,0,8),n=Xn(new i(n),r+1,t),e=yh(n,!0,r+1)),e};cr.toFixed=function(r,t){var e,n,i=this,a=i.constructor;return r===void 0?yh(i):(kc(r,0,Fp),t===void 0?t=a.rounding:kc(t,0,8),n=Xn(new a(i),r+Vi(i)+1,t),e=yh(n.abs(),!1,r+Vi(n)+1),i.isneg()&&!i.isZero()?"-"+e:e)};cr.toInteger=cr.toint=function(){var r=this,t=r.constructor;return Xn(new t(r),Vi(r)+1,t.rounding)};cr.toNumber=function(){return+this};cr.toPower=cr.pow=function(r){var t,e,n,i,a,s,l=this,c=l.constructor,o=12,u=+(r=new c(r));if(!r.s)return new c(jo);if(l=new c(l),!l.s){if(r.s<1)throw Error(rl+"Infinity");return l}if(l.eq(jo))return l;if(n=c.precision,r.eq(jo))return Xn(l,n);if(t=r.e,e=r.d.length-1,s=t>=e,a=l.s,s){if((e=u<0?-u:u)<=YD){for(i=new c(jo),t=Math.ceil(n/ii+4),mi=!1;e%2&&(i=i.times(l),iP(i.d,t)),e=Lp(e/2),e!==0;)l=l.times(l),iP(l.d,t);return mi=!0,r.s<0?new c(jo).div(i):Xn(i,n)}}else if(a<0)throw Error(rl+"NaN");return a=a<0&&r.d[Math.max(t,e)]&1?-1:1,l.s=1,mi=!1,i=r.times(Og(l,n+o)),mi=!0,i=ZD(i),i.s=a,i};cr.toPrecision=function(r,t){var e,n,i=this,a=i.constructor;return r===void 0?(e=Vi(i),n=yh(i,e<=a.toExpNeg||e>=a.toExpPos)):(kc(r,1,Fp),t===void 0?t=a.rounding:kc(t,0,8),i=Xn(new a(i),r,t),e=Vi(i),n=yh(i,r<=e||e<=a.toExpNeg,r)),n};cr.toSignificantDigits=cr.tosd=function(r,t){var e=this,n=e.constructor;return r===void 0?(r=n.precision,t=n.rounding):(kc(r,1,Fp),t===void 0?t=n.rounding:kc(t,0,8)),Xn(new n(e),r,t)};cr.toString=cr.valueOf=cr.val=cr.toJSON=cr[Symbol.for("nodejs.util.inspect.custom")]=function(){var r=this,t=Vi(r),e=r.constructor;return yh(r,t<=e.toExpNeg||t>=e.toExpPos)};function JD(r,t){var e,n,i,a,s,l,c,o,u=r.constructor,d=u.precision;if(!r.s||!t.s)return t.s||(t=new u(r)),mi?Xn(t,d):t;if(c=r.d,o=t.d,s=r.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,l=o.length):(n=o,i=s,l=c.length),s=Math.ceil(d/ii),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=o.length,l-a<0&&(a=l,n=o,o=c,c=n),e=0;a;)e=(c[--a]=c[a]+o[a]+e)/xa|0,c[a]%=xa;for(e&&(c.unshift(e),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,mi?Xn(t,d):t}function kc(r,t,e){if(r!==~~r||r<t||r>e)throw Error(hh+r)}function gc(r){var t,e,n,i=r.length-1,a="",s=r[0];if(i>0){for(a+=s,t=1;t<i;t++)n=r[t]+"",e=ii-n.length,e&&(a+=If(e)),a+=n;s=r[t],n=s+"",e=ii-n.length,e&&(a+=If(e))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var wu=function(){function r(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%xa|0,s=a/xa|0;return s&&n.unshift(s),n}function t(n,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function e(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*xa+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,c,o,u,d,f,h,y,m,g,v,b,w,_,N,P,M,A,F=n.constructor,H=n.s==i.s?1:-1,z=n.d,U=i.d;if(!n.s)return new F(n);if(!i.s)throw Error(rl+"Division by zero");for(c=n.e-i.e,M=U.length,N=z.length,h=new F(H),y=h.d=[],o=0;U[o]==(z[o]||0);)++o;if(U[o]>(z[o]||0)&&--c,a==null?b=a=F.precision:s?b=a+(Vi(n)-Vi(i))+1:b=a,b<0)return new F(0);if(b=b/ii+2|0,o=0,M==1)for(u=0,U=U[0],b++;(o<N||u)&&b--;o++)w=u*xa+(z[o]||0),y[o]=w/U|0,u=w%U|0;else{for(u=xa/(U[0]+1)|0,u>1&&(U=r(U,u),z=r(z,u),M=U.length,N=z.length),_=M,m=z.slice(0,M),g=m.length;g<M;)m[g++]=0;A=U.slice(),A.unshift(0),P=U[0],U[1]>=xa/2&&++P;do u=0,l=t(U,m,M,g),l<0?(v=m[0],M!=g&&(v=v*xa+(m[1]||0)),u=v/P|0,u>1?(u>=xa&&(u=xa-1),d=r(U,u),f=d.length,g=m.length,l=t(d,m,f,g),l==1&&(u--,e(d,M<f?A:U,f))):(u==0&&(l=u=1),d=U.slice()),f=d.length,f<g&&d.unshift(0),e(m,d,g),l==-1&&(g=m.length,l=t(U,m,M,g),l<1&&(u++,e(m,M<g?A:U,g))),g=m.length):l===0&&(u++,m=[0]),y[o++]=u,l&&m[0]?m[g++]=z[_]||0:(m=[z[_]],g=1);while((_++<N||m[0]!==void 0)&&b--)}return y[0]||y.shift(),h.e=c,Xn(h,s?a+Vi(h)+1:a)}}();function ZD(r,t){var e,n,i,a,s,l,c=0,o=0,u=r.constructor,d=u.precision;if(Vi(r)>16)throw Error(Ek+Vi(r));if(!r.s)return new u(jo);for(mi=!1,l=d,s=new u(.03125);r.abs().gte(.1);)r=r.times(s),o+=5;for(n=Math.log(eh(2,o))/Math.LN10*2+5|0,l+=n,e=i=a=new u(jo),u.precision=l;;){if(i=Xn(i.times(r),l),e=e.times(++c),s=a.plus(wu(i,e,l)),gc(s.d).slice(0,l)===gc(a.d).slice(0,l)){for(;o--;)a=Xn(a.times(a),l);return u.precision=d,t==null?(mi=!0,Xn(a,d)):a}a=s}}function Vi(r){for(var t=r.e*ii,e=r.d[0];e>=10;e/=10)t++;return t}function N3(r,t,e){if(t>r.LN10.sd())throw mi=!0,e&&(r.precision=e),Error(rl+"LN10 precision limit exceeded");return Xn(new r(r.LN10),t)}function If(r){for(var t="";r--;)t+="0";return t}function Og(r,t){var e,n,i,a,s,l,c,o,u,d=1,f=10,h=r,y=h.d,m=h.constructor,g=m.precision;if(h.s<1)throw Error(rl+(h.s?"NaN":"-Infinity"));if(h.eq(jo))return new m(0);if(t==null?(mi=!1,o=g):o=t,h.eq(10))return t==null&&(mi=!0),N3(m,o);if(o+=f,m.precision=o,e=gc(y),n=e.charAt(0),a=Vi(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&e.charAt(1)>3;)h=h.times(r),e=gc(h.d),n=e.charAt(0),d++;a=Vi(h),n>1?(h=new m("0."+e),a++):h=new m(n+"."+e.slice(1))}else return c=N3(m,o+2,g).times(a+""),h=Og(new m(n+"."+e.slice(1)),o-f).plus(c),m.precision=g,t==null?(mi=!0,Xn(h,g)):h;for(l=s=h=wu(h.minus(jo),h.plus(jo),o),u=Xn(h.times(h),o),i=3;;){if(s=Xn(s.times(u),o),c=l.plus(wu(s,new m(i),o)),gc(c.d).slice(0,o)===gc(l.d).slice(0,o))return l=l.times(2),a!==0&&(l=l.plus(N3(m,o+2,g).times(a+""))),l=wu(l,new m(d),o),m.precision=g,t==null?(mi=!0,Xn(l,g)):l;l=c,i+=2}}function nP(r,t){var e,n,i;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(e<0&&(e=n),e+=+t.slice(n+1),t=t.substring(0,n)):e<0&&(e=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,e=e-n-1,r.e=Lp(e/ii),r.d=[],n=(e+1)%ii,e<0&&(n+=ii),n<i){for(n&&r.d.push(+t.slice(0,n)),i-=ii;n<i;)r.d.push(+t.slice(n,n+=ii));t=t.slice(n),n=ii-t.length}else n-=i;for(;n--;)t+="0";if(r.d.push(+t),mi&&(r.e>jb||r.e<-jb))throw Error(Ek+e)}else r.s=0,r.e=0,r.d=[0];return r}function Xn(r,t,e){var n,i,a,s,l,c,o,u,d=r.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=ii,i=t,o=d[u=0];else{if(u=Math.ceil((n+1)/ii),a=d.length,u>=a)return r;for(o=a=d[u],s=1;a>=10;a/=10)s++;n%=ii,i=n-ii+s}if(e!==void 0&&(a=eh(10,s-i-1),l=o/a%10|0,c=t<0||d[u+1]!==void 0||o%a,c=e<4?(l||c)&&(e==0||e==(r.s<0?3:2)):l>5||l==5&&(e==4||c||e==6&&(n>0?i>0?o/eh(10,s-i):0:d[u-1])%10&1||e==(r.s<0?8:7))),t<1||!d[0])return c?(a=Vi(r),d.length=1,t=t-a-1,d[0]=eh(10,(ii-t%ii)%ii),r.e=Lp(-t/ii)||0):(d.length=1,d[0]=r.e=r.s=0),r;if(n==0?(d.length=u,a=1,u--):(d.length=u+1,a=eh(10,ii-n),d[u]=i>0?(o/eh(10,s-i)%eh(10,i)|0)*a:0),c)for(;;)if(u==0){(d[0]+=a)==xa&&(d[0]=1,++r.e);break}else{if(d[u]+=a,d[u]!=xa)break;d[u--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(mi&&(r.e>jb||r.e<-jb))throw Error(Ek+Vi(r));return r}function QD(r,t){var e,n,i,a,s,l,c,o,u,d,f=r.constructor,h=f.precision;if(!r.s||!t.s)return t.s?t.s=-t.s:t=new f(r),mi?Xn(t,h):t;if(c=r.d,d=t.d,n=t.e,o=r.e,c=c.slice(),s=o-n,s){for(u=s<0,u?(e=c,s=-s,l=d.length):(e=d,n=o,l=c.length),i=Math.max(Math.ceil(h/ii),l)+2,s>i&&(s=i,e.length=1),e.reverse(),i=s;i--;)e.push(0);e.reverse()}else{for(i=c.length,l=d.length,u=i<l,u&&(l=i),i=0;i<l;i++)if(c[i]!=d[i]){u=c[i]<d[i];break}s=0}for(u&&(e=c,c=d,d=e,t.s=-t.s),l=c.length,i=d.length-l;i>0;--i)c[l++]=0;for(i=d.length;i>s;){if(c[--i]<d[i]){for(a=i;a&&c[--a]===0;)c[a]=xa-1;--c[a],c[i]+=xa}c[i]-=d[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,mi?Xn(t,h):t):new f(0)}function yh(r,t,e){var n,i=Vi(r),a=gc(r.d),s=a.length;return t?(e&&(n=e-s)>0?a=a.charAt(0)+"."+a.slice(1)+If(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+If(-i-1)+a,e&&(n=e-s)>0&&(a+=If(n))):i>=s?(a+=If(i+1-s),e&&(n=e-i-1)>0&&(a=a+"."+If(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),e&&(n=e-s)>0&&(i+1===s&&(a+="."),a+=If(n))),r.s<0?"-"+a:a}function iP(r,t){if(r.length>t)return r.length=t,!0}function eB(r){var t,e,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(hh+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return nP(s,a.toString())}else if(typeof a!="string")throw Error(hh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,oae.test(a))nP(s,a);else throw Error(hh+a)}if(i.prototype=cr,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=eB,i.config=i.set=lae,r===void 0&&(r={}),r)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)r.hasOwnProperty(e=n[t++])||(r[e]=this[e]);return i.config(r),i}function lae(r){if(!r||typeof r!="object")throw Error(rl+"Object expected");var t,e,n,i=["precision",1,Fp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=r[e=i[t]])!==void 0)if(Lp(n)===n&&n>=i[t+1]&&n<=i[t+2])this[e]=n;else throw Error(hh+e+": "+n);if((n=r[e="LN10"])!==void 0)if(n==Math.LN10)this[e]=new this(n);else throw Error(hh+e+": "+n);return this}var jk=eB(sae);jo=new jk(1);const Un=jk;function cae(r){return hae(r)||dae(r)||fae(r)||uae()}function uae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fae(r,t){if(r){if(typeof r=="string")return NS(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return NS(r,t)}}function dae(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function hae(r){if(Array.isArray(r))return NS(r)}function NS(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var pae=function(t){return t},tB={},rB=function(t){return t===tB},aP=function(t){return function e(){return arguments.length===0||arguments.length===1&&rB(arguments.length<=0?void 0:arguments[0])?e:t.apply(void 0,arguments)}},mae=function r(t,e){return t===1?e:aP(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(l){return l!==tB}).length;return s>=t?e.apply(void 0,i):r(t-s,aP(function(){for(var l=arguments.length,c=new Array(l),o=0;o<l;o++)c[o]=arguments[o];var u=i.map(function(d){return rB(d)?c.shift():d});return e.apply(void 0,cae(u).concat(c))}))})},Gx=function(t){return mae(t.length,t)},ES=function(t,e){for(var n=[],i=t;i<e;++i)n[i-t]=i;return n},gae=Gx(function(r,t){return Array.isArray(t)?t.map(r):Object.keys(t).map(function(e){return t[e]}).map(r)}),yae=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)return pae;var i=e.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},jS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},nB=function(t){var e=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e&&a.every(function(l,c){return l===e[c]})||(e=a,n=t.apply(void 0,a)),n}};function vae(r){var t;return r===0?t=1:t=Math.floor(new Un(r).abs().log(10).toNumber())+1,t}function bae(r,t,e){for(var n=new Un(r),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(e),i++;return a}var xae=Gx(function(r,t,e){var n=+r,i=+t;return n+e*(i-n)}),wae=Gx(function(r,t,e){var n=t-+r;return n=n||1/0,(e-r)/n}),_ae=Gx(function(r,t,e){var n=t-+r;return n=n||1/0,Math.max(0,Math.min(1,(e-r)/n))});const Xx={rangeStep:bae,getDigitCount:vae,interpolateNumber:xae,uninterpolateNumber:wae,uninterpolateTruncation:_ae};function AS(r){return Nae(r)||kae(r)||iB(r)||Sae()}function Sae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kae(r){if(typeof Symbol<"u"&&Symbol.iterator in Object(r))return Array.from(r)}function Nae(r){if(Array.isArray(r))return TS(r)}function Pg(r,t){return Aae(r)||jae(r,t)||iB(r,t)||Eae()}function Eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iB(r,t){if(r){if(typeof r=="string")return TS(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return TS(r,t)}}function TS(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function jae(r,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var e=[],n=!0,i=!1,a=void 0;try{for(var s=r[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(e.push(l.value),!(t&&e.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return e}}function Aae(r){if(Array.isArray(r))return r}function aB(r){var t=Pg(r,2),e=t[0],n=t[1],i=e,a=n;return e>n&&(i=n,a=e),[i,a]}function sB(r,t,e){if(r.lte(0))return new Un(0);var n=Xx.getDigitCount(r.toNumber()),i=new Un(10).pow(n),a=r.div(i),s=n!==1?.05:.1,l=new Un(Math.ceil(a.div(s).toNumber())).add(e).mul(s),c=l.mul(i);return t?c:new Un(Math.ceil(c))}function Tae(r,t,e){var n=1,i=new Un(r);if(!i.isint()&&e){var a=Math.abs(r);a<1?(n=new Un(10).pow(Xx.getDigitCount(r)-1),i=new Un(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Un(Math.floor(r)))}else r===0?i=new Un(Math.floor((t-1)/2)):e||(i=new Un(Math.floor(r)));var s=Math.floor((t-1)/2),l=yae(gae(function(c){return i.add(new Un(c-s).mul(n)).toNumber()}),ES);return l(0,t)}function oB(r,t,e,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-r)/(e-1)))return{step:new Un(0),tickMin:new Un(0),tickMax:new Un(0)};var a=sB(new Un(t).sub(r).div(e-1),n,i),s;r<=0&&t>=0?s=new Un(0):(s=new Un(r).add(t).div(2),s=s.sub(new Un(s).mod(a)));var l=Math.ceil(s.sub(r).div(a).toNumber()),c=Math.ceil(new Un(t).sub(s).div(a).toNumber()),o=l+c+1;return o>e?oB(r,t,e,n,i+1):(o<e&&(c=t>0?c+(e-o):c,l=t>0?l:l+(e-o)),{step:a,tickMin:s.sub(new Un(l).mul(a)),tickMax:s.add(new Un(c).mul(a))})}function Cae(r){var t=Pg(r,2),e=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=aB([e,n]),c=Pg(l,2),o=c[0],u=c[1];if(o===-1/0||u===1/0){var d=u===1/0?[o].concat(AS(ES(0,i-1).map(function(){return 1/0}))):[].concat(AS(ES(0,i-1).map(function(){return-1/0})),[u]);return e>n?jS(d):d}if(o===u)return Tae(o,i,a);var f=oB(o,u,s,a),h=f.step,y=f.tickMin,m=f.tickMax,g=Xx.rangeStep(y,m.add(new Un(.1).mul(h)),h);return e>n?jS(g):g}function Oae(r,t){var e=Pg(r,2),n=e[0],i=e[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=aB([n,i]),l=Pg(s,2),c=l[0],o=l[1];if(c===-1/0||o===1/0)return[n,i];if(c===o)return[c];var u=Math.max(t,2),d=sB(new Un(o).sub(c).div(u-1),a,0),f=[].concat(AS(Xx.rangeStep(new Un(c),new Un(o).sub(new Un(.99).mul(d)),d)),[o]);return n>i?jS(f):f}var Pae=nB(Cae),Mae=nB(Oae),Iae="Invariant failed";function vh(r,t){throw new Error(Iae)}var Rae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Ab.apply(this,arguments)}function Fae(r,t){return $ae(r)||Bae(r,t)||Dae(r,t)||Lae()}function Lae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dae(r,t){if(r){if(typeof r=="string")return sP(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return sP(r,t)}}function sP(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Bae(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(e=e.call(r)).next,t!==0)for(;!(c=(n=a.call(e)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function $ae(r){if(Array.isArray(r))return r}function Uae(r,t){if(r==null)return{};var e=zae(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function zae(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function Kx(r){var t=r.offset,e=r.layout,n=r.width,i=r.dataKey,a=r.data,s=r.dataPointFormatter,l=r.xAxis,c=r.yAxis,o=Uae(r,Rae),u=rn(o,!1);r.direction==="x"&&l.type!=="number"&&vh();var d=a.map(function(f){var h=s(f,i),y=h.x,m=h.y,g=h.value,v=h.errorVal;if(!v)return null;var b=[],w,_;if(Array.isArray(v)){var N=Fae(v,2);w=N[0],_=N[1]}else w=_=v;if(e==="vertical"){var P=l.scale,M=m+t,A=M+n,F=M-n,H=P(g-w),z=P(g+_);b.push({x1:z,y1:A,x2:z,y2:F}),b.push({x1:H,y1:M,x2:z,y2:M}),b.push({x1:H,y1:A,x2:H,y2:F})}else if(e==="horizontal"){var U=c.scale,O=y+t,L=O-n,C=O+n,k=U(g-w),j=U(g+_);b.push({x1:L,y1:j,x2:C,y2:j}),b.push({x1:O,y1:k,x2:O,y2:j}),b.push({x1:L,y1:k,x2:C,y2:k})}return rt.createElement(wi,Ab({className:"recharts-errorBar",key:"bar-".concat(b.map(function(E){return"".concat(E.x1,"-").concat(E.x2,"-").concat(E.y1,"-").concat(E.y2)}))},u),b.map(function(E){return rt.createElement("line",Ab({},E,{key:"line-".concat(E.x1,"-").concat(E.x2,"-").concat(E.y1,"-").concat(E.y2)}))}))});return rt.createElement(wi,{className:"recharts-errorBars"},d)}Kx.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Kx.displayName="ErrorBar";function Mg(r){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(r)}function oP(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function E3(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(e),!0).forEach(function(n){qae(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):oP(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function qae(r,t,e){return t=Hae(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Hae(r){var t=Wae(r,"string");return Mg(t)=="symbol"?t:String(t)}function Wae(r,t){if(Mg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var lB=function(t){var e=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=_o(e,up);if(!s)return null;var l;return s.props&&s.props.payload?l=s.props&&s.props.payload:a==="children"?l=(n||[]).reduce(function(c,o){var u=o.item,d=o.props,f=d.sectors||d.data||[];return c.concat(f.map(function(h){return{type:s.props.iconType||u.props.legendType,value:h.name,color:h.fill,payload:h}}))},[]):l=(n||[]).map(function(c){var o=c.item,u=o.props,d=u.dataKey,f=u.name,h=u.legendType,y=u.hide;return{inactive:y,dataKey:d,type:s.props.iconType||h||"square",color:Ak(o),value:f||d,payload:o.props}}),E3(E3(E3({},s.props),up.getWithHeight(s,i)),{},{payload:l,item:s})};function Ig(r){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(r)}function lP(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function Zo(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(e),!0).forEach(function(n){H0(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):lP(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function H0(r,t,e){return t=Vae(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Vae(r){var t=Gae(r,"string");return Ig(t)=="symbol"?t:String(t)}function Gae(r,t){if(Ig(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function cP(r){return Jae(r)||Yae(r)||Kae(r)||Xae()}function Xae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kae(r,t){if(r){if(typeof r=="string")return CS(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return CS(r,t)}}function Yae(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Jae(r){if(Array.isArray(r))return CS(r)}function CS(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Po(r,t,e){return mn(r)||mn(t)?e:ra(t)?el(r,t,e):Zr(t)?t(r):e}function eg(r,t,e,n){var i=nae(r,function(l){return Po(l,t)});if(e==="number"){var a=i.filter(function(l){return Jt(l)||parseFloat(l)});return a.length?[Vx(a),$f(a)]:[1/0,-1/0]}var s=n?i.filter(function(l){return!mn(l)}):i;return s.map(function(l){return ra(l)||l instanceof Date?l:""})}var Zae=function(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,l=(e=n==null?void 0:n.length)!==null&&e!==void 0?e:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,o=0;o<l;o++){var u=o>0?i[o-1].coordinate:i[l-1].coordinate,d=i[o].coordinate,f=o>=l-1?i[0].coordinate:i[o+1].coordinate,h=void 0;if(Dl(d-u)!==Dl(f-d)){var y=[];if(Dl(f-d)===Dl(c[1]-c[0])){h=f;var m=d+c[1]-c[0];y[0]=Math.min(m,(m+u)/2),y[1]=Math.max(m,(m+u)/2)}else{h=u;var g=f+c[1]-c[0];y[0]=Math.min(d,(g+d)/2),y[1]=Math.max(d,(g+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(t>v[0]&&t<=v[1]||t>=y[0]&&t<=y[1]){s=i[o].index;break}}else{var b=Math.min(u,f),w=Math.max(u,f);if(t>(b+d)/2&&t<=(w+d)/2){s=i[o].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},Ak=function(t){var e=t,n=e.type.displayName,i=t.props,a=i.stroke,s=i.fill,l;switch(n){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Qae=function(t){var e=t.barSize,n=t.stackGroups,i=n===void 0?{}:n;if(!i)return{};for(var a={},s=Object.keys(i),l=0,c=s.length;l<c;l++)for(var o=i[s[l]].stackGroups,u=Object.keys(o),d=0,f=u.length;d<f;d++){var h=o[u[d]],y=h.items,m=h.cateAxisId,g=y.filter(function(w){return bu(w.type).indexOf("Bar")>=0});if(g&&g.length){var v=g[0].props.barSize,b=g[0].props[m];a[b]||(a[b]=[]),a[b].push({item:g[0],stackList:g.slice(1),barSize:mn(v)?e:v})}}return a},ese=function(t){var e=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,l=t.maxBarSize,c=s.length;if(c<1)return null;var o=sp(e,i,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var f=!1,h=i/c,y=s.reduce(function(_,N){return _+N.barSize||0},0);y+=(c-1)*o,y>=i&&(y-=(c-1)*o,o=0),y>=i&&h>0&&(f=!0,h*=.9,y=c*h);var m=(i-y)/2>>0,g={offset:m-o,size:0};u=s.reduce(function(_,N){var P={item:N.item,position:{offset:g.offset+g.size+o,size:f?h:N.barSize}},M=[].concat(cP(_),[P]);return g=M[M.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){M.push({item:A,position:g})}),M},d)}else{var v=sp(n,i,0,!0);i-2*v-(c-1)*o<=0&&(o=0);var b=(i-2*v-(c-1)*o)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;u=s.reduce(function(_,N,P){var M=[].concat(cP(_),[{item:N.item,position:{offset:v+(b+o)*P+(b-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){M.push({item:A,position:M[M.length-1].position})}),M},d)}return u},tse=function(t,e,n,i){var a=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),o=lB({children:a,legendWidth:c});if(o){var u=i||{},d=u.width,f=u.height,h=o.align,y=o.verticalAlign,m=o.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&h!=="center"&&Jt(t[h]))return Zo(Zo({},t),{},H0({},h,t[h]+(d||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&y!=="middle"&&Jt(t[y]))return Zo(Zo({},t),{},H0({},y,t[y]+(f||0)))}return t},rse=function(t,e,n){return mn(e)?!0:t==="horizontal"?e==="yAxis":t==="vertical"||n==="x"?e==="xAxis":n==="y"?e==="yAxis":!0},cB=function(t,e,n,i,a){var s=e.props.children,l=$l(s,Kx).filter(function(o){return rse(i,a,o.props.direction)});if(l&&l.length){var c=l.map(function(o){return o.props.dataKey});return t.reduce(function(o,u){var d=Po(u,n,0),f=Array.isArray(d)?[Vx(d),$f(d)]:[d,d],h=c.reduce(function(y,m){var g=Po(u,m,0),v=f[0]-Math.abs(Array.isArray(g)?g[0]:g),b=f[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(v,y[0]),Math.max(b,y[1])]},[1/0,-1/0]);return[Math.min(h[0],o[0]),Math.max(h[1],o[1])]},[1/0,-1/0])}return null},nse=function(t,e,n,i,a){var s=e.map(function(l){return cB(t,l,n,a,i)}).filter(function(l){return!mn(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},uB=function(t,e,n,i,a){var s=e.map(function(c){var o=c.props.dataKey;return n==="number"&&o&&cB(t,c,o,i)||eg(t,o,n,a)});if(n==="number")return s.reduce(function(c,o){return[Math.min(c[0],o[0]),Math.max(c[1],o[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,o){for(var u=0,d=o.length;u<d;u++)l[o[u]]||(l[o[u]]=!0,c.push(o[u]));return c},[])},fB=function(t,e){return t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis"},dB=function(t,e,n,i){if(i)return t.map(function(c){return c.coordinate});var a,s,l=t.map(function(c){return c.coordinate===e&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||l.push(e),s||l.push(n),l},vu=function(t,e,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,o=(e||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(o=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Dl(l[0]-l[1])*2*o:o,e&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(d){var f=a?a.indexOf(d):d;return{coordinate:i(f)+o,value:d,offset:o}});return u.filter(function(d){return!Pp(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,f){return{coordinate:i(d)+o,value:d,index:f,offset:o}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(d){return{coordinate:i(d)+o,value:d,offset:o}}):i.domain().map(function(d,f){return{coordinate:i(d)+o,value:a?a[d]:d,index:f,offset:o}})},j3=new WeakMap,dv=function(t,e){if(typeof e!="function")return t;j3.has(t)||j3.set(t,new WeakMap);var n=j3.get(t);if(n.has(e))return n.get(e);var i=function(){t.apply(void 0,arguments),e.apply(void 0,arguments)};return n.set(e,i),i},ise=function(t,e,n){var i=t.scale,a=t.type,s=t.layout,l=t.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Ng(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Sb(),realScaleType:"linear"}:a==="category"&&e&&(e.indexOf("LineChart")>=0||e.indexOf("AreaChart")>=0||e.indexOf("ComposedChart")>=0&&!n)?{scale:Qm(),realScaleType:"point"}:a==="category"?{scale:Ng(),realScaleType:"band"}:{scale:Sb(),realScaleType:"linear"};if(b1(i)){var c="scale".concat(Mx(i));return{scale:(XO[c]||Qm)(),realScaleType:XO[c]?c:"point"}}return Zr(i)?{scale:i}:{scale:Qm(),realScaleType:"point"}},uP=1e-4,ase=function(t){var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,i=t.range(),a=Math.min(i[0],i[1])-uP,s=Math.max(i[0],i[1])+uP,l=t(e[0]),c=t(e[n-1]);(l<a||l>s||c<a||c>s)&&t.domain([e[0],e[n-1]])}},sse=function(t,e){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===e)return t[n].position;return null},ose=function(t,e){if(!e||e.length!==2||!Jt(e[0])||!Jt(e[1]))return t;var n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!Jt(t[0])||t[0]<n)&&(a[0]=n),(!Jt(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},lse=function(t){var e=t.length;if(!(e<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,l=0;l<e;++l){var c=Pp(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},cse=function(t){var e=t.length;if(!(e<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<e;++s){var l=Pp(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=a,t[s][n][1]=a+l,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},use={sign:lse,expand:nQ,none:op,silhouette:iQ,wiggle:aQ,positive:cse},fse=function(t,e,n){var i=e.map(function(l){return l.props.dataKey}),a=use[n],s=rQ().keys(i).value(function(l,c){return+Po(l,c,0)}).order(lS).offset(a);return s(t)},dse=function(t,e,n,i,a,s){if(!t)return null;var l=s?e.reverse():e,c={},o=l.reduce(function(d,f){var h=f.props,y=h.stackId,m=h.hide;if(m)return d;var g=f.props[n],v=d[g]||{hasStack:!1,stackGroups:{}};if(ra(y)){var b=v.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(f),v.hasStack=!0,v.stackGroups[y]=b}else v.stackGroups[x1("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return Zo(Zo({},d),{},H0({},g,v))},c),u={};return Object.keys(o).reduce(function(d,f){var h=o[f];if(h.hasStack){var y={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,g){var v=h.stackGroups[g];return Zo(Zo({},m),{},H0({},g,{numericAxisId:n,cateAxisId:i,items:v.items,stackedData:fse(t,v.items,a)}))},y)}return Zo(Zo({},d),{},H0({},f,h))},u)},hse=function(t,e){var n=e.realScaleType,i=e.type,a=e.tickCount,s=e.originalDomain,l=e.allowDecimals,c=n||e.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var o=t.domain();if(!o.length)return null;var u=Pae(o,a,l);return t.domain([Vx(u),$f(u)]),{niceTicks:u}}if(a&&i==="number"){var d=t.domain(),f=Mae(d,a,l);return{niceTicks:f}}return null};function fP(r){var t=r.axis,e=r.ticks,n=r.bandSize,i=r.entry,a=r.index,s=r.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!mn(i[t.dataKey])){var l=rb(e,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return e[a]?e[a].coordinate+n/2:null}var c=Po(i,mn(s)?t.dataKey:s);return mn(c)?null:t.scale(c)}var dP=function(t){var e=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,l=t.index;if(e.type==="category")return n[l]?n[l].coordinate+i:null;var c=Po(s,e.dataKey,e.domain[l]);return mn(c)?null:e.scale(c)-a/2+i},pse=function(t){var e=t.numericAxis,n=e.scale.domain();if(e.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},mse=function(t,e){var n=t.props.stackId;if(ra(n)){var i=e[n];if(i){var a=i.items.indexOf(t);return a>=0?i.stackedData[a]:null}}return null},gse=function(t){return t.reduce(function(e,n){return[Vx(n.concat([e[0]]).filter(Jt)),$f(n.concat([e[1]]).filter(Jt))]},[1/0,-1/0])},hB=function(t,e,n){return Object.keys(t).reduce(function(i,a){var s=t[a],l=s.stackedData,c=l.reduce(function(o,u){var d=gse(u.slice(e,n+1));return[Math.min(o[0],d[0]),Math.max(o[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},hP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OS=function(t,e,n){if(Zr(t))return t(e,n);if(!Array.isArray(t))return e;var i=[];if(Jt(t[0]))i[0]=n?t[0]:Math.min(t[0],e[0]);else if(hP.test(t[0])){var a=+hP.exec(t[0])[1];i[0]=e[0]-a}else Zr(t[0])?i[0]=t[0](e[0]):i[0]=e[0];if(Jt(t[1]))i[1]=n?t[1]:Math.max(t[1],e[1]);else if(pP.test(t[1])){var s=+pP.exec(t[1])[1];i[1]=e[1]+s}else Zr(t[1])?i[1]=t[1](e[1]):i[1]=e[1];return i},Tb=function(t,e,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&e&&e.length>=2){for(var a=rk(e,function(d){return d.coordinate}),s=1/0,l=1,c=a.length;l<c;l++){var o=a[l],u=a[l-1];s=Math.min((o.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},mP=function(t,e,n){return!t||!t.length||Cg(t,el(n,"type.defaultProps.domain"))?e:t},pB=function(t,e){var n=t.props,i=n.dataKey,a=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,o=n.chartType,u=n.hide;return Zo(Zo({},rn(t,!1)),{},{dataKey:i,unit:s,formatter:l,name:a||i,color:Ak(t),value:Po(e,i),type:c,payload:e,chartType:o,hide:u})};function Rg(r){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(r)}function gP(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function yP(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(e),!0).forEach(function(n){yse(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):gP(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function yse(r,t,e){return t=vse(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function vse(r){var t=bse(r,"string");return Rg(t)=="symbol"?t:String(t)}function bse(r,t){if(Rg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var Cb=Math.PI/180,xse=function(t){return t*180/Math.PI},$a=function(t,e,n,i){return{x:t+Math.cos(-Cb*i)*n,y:e+Math.sin(-Cb*i)*n}},wse=function(t,e){var n=t.x,i=t.y,a=e.x,s=e.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},_se=function(t,e){var n=t.x,i=t.y,a=e.cx,s=e.cy,l=wse({x:n,y:i},{x:a,y:s});if(l<=0)return{radius:l};var c=(n-a)/l,o=Math.acos(c);return i>s&&(o=2*Math.PI-o),{radius:l,angle:xse(o),angleInRadian:o}},Sse=function(t){var e=t.startAngle,n=t.endAngle,i=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:e-s*360,endAngle:n-s*360}},kse=function(t,e){var n=e.startAngle,i=e.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),l=Math.min(a,s);return t+l*360},vP=function(t,e){var n=t.x,i=t.y,a=_se({x:n,y:i},e),s=a.radius,l=a.angle,c=e.innerRadius,o=e.outerRadius;if(s<c||s>o)return!1;if(s===0)return!0;var u=Sse(e),d=u.startAngle,f=u.endAngle,h=l,y;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;y=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;y=h>=f&&h<=d}return y?yP(yP({},e),{},{radius:s,angle:kse(h,e)}):null};function Fg(r){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(r)}var Nse=["offset"];function Ese(r){return Cse(r)||Tse(r)||Ase(r)||jse()}function jse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ase(r,t){if(r){if(typeof r=="string")return PS(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return PS(r,t)}}function Tse(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Cse(r){if(Array.isArray(r))return PS(r)}function PS(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Ose(r,t){if(r==null)return{};var e=Pse(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function Pse(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function bP(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function ta(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(e),!0).forEach(function(n){Mse(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):bP(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function Mse(r,t,e){return t=Ise(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Ise(r){var t=Rse(r,"string");return Fg(t)=="symbol"?t:String(t)}function Rse(r,t){if(Fg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Lg.apply(this,arguments)}var Fse=function(t){var e=t.value,n=t.formatter,i=mn(t.children)?e:t.children;return Zr(n)?n(i):i},Lse=function(t,e){var n=Dl(e-t),i=Math.min(Math.abs(e-t),360);return n*i},Dse=function(t,e,n){var i=t.position,a=t.viewBox,s=t.offset,l=t.className,c=a,o=c.cx,u=c.cy,d=c.innerRadius,f=c.outerRadius,h=c.startAngle,y=c.endAngle,m=c.clockWise,g=(d+f)/2,v=Lse(h,y),b=v>=0?1:-1,w,_;i==="insideStart"?(w=h+b*s,_=m):i==="insideEnd"?(w=y-b*s,_=!m):i==="end"&&(w=y+b*s,_=m),_=v<=0?_:!_;var N=$a(o,u,g,w),P=$a(o,u,g,w+(_?1:-1)*359),M="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(P.x,",").concat(P.y),A=mn(t.id)?x1("recharts-radial-line-"):t.id;return rt.createElement("text",Lg({},n,{dominantBaseline:"central",className:Dn("recharts-radial-bar-label",l)}),rt.createElement("defs",null,rt.createElement("path",{id:A,d:M})),rt.createElement("textPath",{xlinkHref:"#".concat(A)},e))},Bse=function(t){var e=t.viewBox,n=t.offset,i=t.position,a=e,s=a.cx,l=a.cy,c=a.innerRadius,o=a.outerRadius,u=a.startAngle,d=a.endAngle,f=(u+d)/2;if(i==="outside"){var h=$a(s,l,o+n,f),y=h.x,m=h.y;return{x:y,y:m,textAnchor:y>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+o)/2,v=$a(s,l,g,f),b=v.x,w=v.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},$se=function(t){var e=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=e,l=s.x,c=s.y,o=s.width,u=s.height,d=u>=0?1:-1,f=d*i,h=d>0?"end":"start",y=d>0?"start":"end",m=o>=0?1:-1,g=m*i,v=m>0?"end":"start",b=m>0?"start":"end";if(a==="top"){var w={x:l+o/2,y:c-d*i,textAnchor:"middle",verticalAnchor:h};return ta(ta({},w),n?{height:Math.max(c-n.y,0),width:o}:{})}if(a==="bottom"){var _={x:l+o/2,y:c+u+f,textAnchor:"middle",verticalAnchor:y};return ta(ta({},_),n?{height:Math.max(n.y+n.height-(c+u),0),width:o}:{})}if(a==="left"){var N={x:l-g,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return ta(ta({},N),n?{width:Math.max(N.x-n.x,0),height:u}:{})}if(a==="right"){var P={x:l+o+g,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return ta(ta({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:u}:{})}var M=n?{width:o,height:u}:{};return a==="insideLeft"?ta({x:l+g,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},M):a==="insideRight"?ta({x:l+o-g,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},M):a==="insideTop"?ta({x:l+o/2,y:c+f,textAnchor:"middle",verticalAnchor:y},M):a==="insideBottom"?ta({x:l+o/2,y:c+u-f,textAnchor:"middle",verticalAnchor:h},M):a==="insideTopLeft"?ta({x:l+g,y:c+f,textAnchor:b,verticalAnchor:y},M):a==="insideTopRight"?ta({x:l+o-g,y:c+f,textAnchor:v,verticalAnchor:y},M):a==="insideBottomLeft"?ta({x:l+g,y:c+u-f,textAnchor:b,verticalAnchor:h},M):a==="insideBottomRight"?ta({x:l+o-g,y:c+u-f,textAnchor:v,verticalAnchor:h},M):Op(a)&&(Jt(a.x)||sh(a.x))&&(Jt(a.y)||sh(a.y))?ta({x:l+sp(a.x,o),y:c+sp(a.y,u),textAnchor:"end",verticalAnchor:"end"},M):ta({x:l+o/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},M)},Use=function(t){return"cx"in t&&Jt(t.cx)};function fs(r){var t=r.offset,e=t===void 0?5:t,n=Ose(r,Nse),i=ta({offset:e},n),a=i.viewBox,s=i.position,l=i.value,c=i.children,o=i.content,u=i.className,d=u===void 0?"":u,f=i.textBreakAll;if(!a||mn(l)&&mn(c)&&!fe.isValidElement(o)&&!Zr(o))return null;if(fe.isValidElement(o))return fe.cloneElement(o,i);var h;if(Zr(o)){if(h=fe.createElement(o,i),fe.isValidElement(h))return h}else h=Fse(i);var y=Use(a),m=rn(i,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Dse(i,h,m);var g=y?Bse(i):$se(i);return rt.createElement(gb,Lg({className:Dn("recharts-label",d)},m,g,{breakAll:f}),h)}fs.displayName="Label";var mB=function(t){var e=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,o=t.innerRadius,u=t.outerRadius,d=t.x,f=t.y,h=t.top,y=t.left,m=t.width,g=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(Jt(m)&&Jt(g)){if(Jt(d)&&Jt(f))return{x:d,y:f,width:m,height:g};if(Jt(h)&&Jt(y))return{x:h,y,width:m,height:g}}return Jt(d)&&Jt(f)?{x:d,y:f,width:0,height:0}:Jt(e)&&Jt(n)?{cx:e,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:o||0,outerRadius:u||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},zse=function(t,e){return t?t===!0?rt.createElement(fs,{key:"label-implicit",viewBox:e}):ra(t)?rt.createElement(fs,{key:"label-implicit",viewBox:e,value:t}):fe.isValidElement(t)?t.type===fs?fe.cloneElement(t,{key:"label-implicit",viewBox:e}):rt.createElement(fs,{key:"label-implicit",content:t,viewBox:e}):Zr(t)?rt.createElement(fs,{key:"label-implicit",content:t,viewBox:e}):Op(t)?rt.createElement(fs,Lg({viewBox:e},t,{key:"label-implicit"})):null:null},qse=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=mB(t),s=$l(i,fs).map(function(c,o){return fe.cloneElement(c,{viewBox:e||a,key:"label-".concat(o)})});if(!n)return s;var l=zse(t.label,e||a);return[l].concat(Ese(s))};fs.parseViewBox=mB;fs.renderCallByParent=qse;var A3,xP;function Hse(){if(xP)return A3;xP=1;function r(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}return A3=r,A3}var Wse=Hse();const Vse=kn(Wse);function Dg(r){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(r)}var Gse=["valueAccessor"],Xse=["data","dataKey","clockWise","id","textBreakAll"];function Kse(r){return Qse(r)||Zse(r)||Jse(r)||Yse()}function Yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jse(r,t){if(r){if(typeof r=="string")return MS(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return MS(r,t)}}function Zse(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Qse(r){if(Array.isArray(r))return MS(r)}function MS(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Ob(){return Ob=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Ob.apply(this,arguments)}function wP(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function _P(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(e),!0).forEach(function(n){eoe(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):wP(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function eoe(r,t,e){return t=toe(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function toe(r){var t=roe(r,"string");return Dg(t)=="symbol"?t:String(t)}function roe(r,t){if(Dg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function SP(r,t){if(r==null)return{};var e=noe(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function noe(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}var ioe=function(t){return Array.isArray(t.value)?Vse(t.value):t.value};function Wf(r){var t=r.valueAccessor,e=t===void 0?ioe:t,n=SP(r,Gse),i=n.data,a=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,o=SP(n,Xse);return!i||!i.length?null:rt.createElement(wi,{className:"recharts-label-list"},i.map(function(u,d){var f=mn(a)?e(u,d):Po(u&&u.payload,a),h=mn(l)?{}:{id:"".concat(l,"-").concat(d)};return rt.createElement(fs,Ob({},rn(u,!0),o,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:fs.parseViewBox(mn(s)?u:_P(_P({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Wf.displayName="LabelList";function aoe(r,t){return r?r===!0?rt.createElement(Wf,{key:"labelList-implicit",data:t}):rt.isValidElement(r)||Zr(r)?rt.createElement(Wf,{key:"labelList-implicit",data:t,content:r}):Op(r)?rt.createElement(Wf,Ob({data:t},r,{key:"labelList-implicit"})):null:null}function soe(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&e&&!r.label)return null;var n=r.children,i=$l(n,Wf).map(function(s,l){return fe.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!e)return i;var a=aoe(r.label,t);return[a].concat(Kse(i))}Wf.renderCallByParent=soe;function Bg(r){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(r)}function IS(){return IS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},IS.apply(this,arguments)}function kP(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function NP(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(e),!0).forEach(function(n){ooe(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):kP(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function ooe(r,t,e){return t=loe(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function loe(r){var t=coe(r,"string");return Bg(t)=="symbol"?t:String(t)}function coe(r,t){if(Bg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var uoe=function(t,e){var n=Dl(e-t),i=Math.min(Math.abs(e-t),359.999);return n*i},hv=function(t){var e=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,o=t.cornerIsExternal,u=c*(l?1:-1)+i,d=Math.asin(c/u)/Cb,f=o?a:a+s*d,h=$a(e,n,u,f),y=$a(e,n,i,f),m=o?a-s*d:a,g=$a(e,n,u*Math.cos(d*Cb),m);return{center:h,circleTangency:y,lineTangency:g,theta:d}},gB=function(t){var e=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,l=t.endAngle,c=uoe(s,l),o=s+c,u=$a(e,n,a,s),d=$a(e,n,a,o),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>o),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var h=$a(e,n,i,s),y=$a(e,n,i,o);f+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=o),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(e,",").concat(n," Z");return f},foe=function(t){var e=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,o=t.startAngle,u=t.endAngle,d=Dl(u-o),f=hv({cx:e,cy:n,radius:a,angle:o,sign:d,cornerRadius:s,cornerIsExternal:c}),h=f.circleTangency,y=f.lineTangency,m=f.theta,g=hv({cx:e,cy:n,radius:a,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:c}),v=g.circleTangency,b=g.lineTangency,w=g.theta,_=c?Math.abs(o-u):Math.abs(o-u)-m-w;if(_<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):gB({cx:e,cy:n,innerRadius:i,outerRadius:a,startAngle:o,endAngle:u});var N="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=hv({cx:e,cy:n,radius:i,angle:o,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),M=P.circleTangency,A=P.lineTangency,F=P.theta,H=hv({cx:e,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),z=H.circleTangency,U=H.lineTangency,O=H.theta,L=c?Math.abs(o-u):Math.abs(o-u)-F-O;if(L<0&&s===0)return"".concat(N,"L").concat(e,",").concat(n,"Z");N+="L".concat(U.x,",").concat(U.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,"Z")}else N+="L".concat(e,",").concat(n,"Z");return N},doe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yB=function(t){var e=NP(NP({},doe),t),n=e.cx,i=e.cy,a=e.innerRadius,s=e.outerRadius,l=e.cornerRadius,c=e.forceCornerRadius,o=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=e.className;if(s<a||u===d)return null;var h=Dn("recharts-sector",f),y=s-a,m=sp(l,y,0,!0),g;return m>0&&Math.abs(u-d)<360?g=foe({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,y/2),forceCornerRadius:c,cornerIsExternal:o,startAngle:u,endAngle:d}):g=gB({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),rt.createElement("path",IS({},rn(e,!0),{className:h,d:g,role:"img"}))};function $g(r){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(r)}function RS(){return RS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},RS.apply(this,arguments)}function EP(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function jP(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(e),!0).forEach(function(n){hoe(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):EP(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function hoe(r,t,e){return t=poe(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function poe(r){var t=moe(r,"string");return $g(t)=="symbol"?t:String(t)}function moe(r,t){if($g(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if($g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var AP={curveBasisClosed:WZ,curveBasisOpen:VZ,curveBasis:HZ,curveBumpX:CZ,curveBumpY:OZ,curveLinearClosed:GZ,curveLinear:Rx,curveMonotoneX:XZ,curveMonotoneY:KZ,curveNatural:YZ,curveStep:JZ,curveStepAfter:QZ,curveStepBefore:ZZ},pv=function(t){return t.x===+t.x&&t.y===+t.y},Om=function(t){return t.x},Pm=function(t){return t.y},goe=function(t,e){if(Zr(t))return t;var n="curve".concat(Mx(t));return(n==="curveMonotone"||n==="curveBump")&&e?AP["".concat(n).concat(e==="vertical"?"Y":"X")]:AP[n]||Rx},yoe=function(t){var e=t.type,n=e===void 0?"linear":e,i=t.points,a=i===void 0?[]:i,s=t.baseLine,l=t.layout,c=t.connectNulls,o=c===void 0?!1:c,u=goe(n,l),d=o?a.filter(function(m){return pv(m)}):a,f;if(Array.isArray(s)){var h=o?s.filter(function(m){return pv(m)}):s,y=d.map(function(m,g){return jP(jP({},m),{},{base:h[g]})});return l==="vertical"?f=av().y(Pm).x1(Om).x0(function(m){return m.base.x}):f=av().x(Om).y1(Pm).y0(function(m){return m.base.y}),f.defined(pv).curve(u),f(y)}return l==="vertical"&&Jt(s)?f=av().y(Pm).x1(Om).x0(s):Jt(s)?f=av().x(Om).y1(Pm).y0(s):f=SL().x(Om).y(Pm),f.defined(pv).curve(u),f(d)},tg=function(t){var e=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?yoe(t):i;return rt.createElement("path",RS({},rn(t,!1),nb(t),{className:Dn("recharts-curve",e),d:s,ref:a}))},T3={exports:{}},C3,TP;function voe(){if(TP)return C3;TP=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return C3=r,C3}var O3,CP;function boe(){if(CP)return O3;CP=1;var r=voe();function t(){}function e(){}return e.resetWarningCache=t,O3=function(){function n(s,l,c,o,u,d){if(d!==r){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:e,resetWarningCache:t};return a.PropTypes=a,a},O3}var OP;function xoe(){return OP||(OP=1,T3.exports=boe()()),T3.exports}var woe=xoe();const Cn=kn(woe);var _oe=Object.getOwnPropertyNames,Soe=Object.getOwnPropertySymbols,koe=Object.prototype.hasOwnProperty;function PP(r,t){return function(n,i,a){return r(n,i,a)&&t(n,i,a)}}function mv(r){return function(e,n,i){if(!e||!n||typeof e!="object"||typeof n!="object")return r(e,n,i);var a=i.cache,s=a.get(e),l=a.get(n);if(s&&l)return s===n&&l===e;a.set(e,n),a.set(n,e);var c=r(e,n,i);return a.delete(e),a.delete(n),c}}function MP(r){return _oe(r).concat(Soe(r))}var Noe=Object.hasOwn||function(r,t){return koe.call(r,t)};function Mh(r,t){return r===t||!r&&!t&&r!==r&&t!==t}var Eoe="__v",joe="__o",Aoe="_owner",IP=Object.getOwnPropertyDescriptor,RP=Object.keys;function Toe(r,t,e){var n=r.length;if(t.length!==n)return!1;for(;n-- >0;)if(!e.equals(r[n],t[n],n,n,r,t,e))return!1;return!0}function Coe(r,t){return Mh(r.getTime(),t.getTime())}function Ooe(r,t){return r.name===t.name&&r.message===t.message&&r.cause===t.cause&&r.stack===t.stack}function Poe(r,t){return r===t}function FP(r,t,e){var n=r.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=r.entries(),s,l,c=0;(s=a.next())&&!s.done;){for(var o=t.entries(),u=!1,d=0;(l=o.next())&&!l.done;){if(i[d]){d++;continue}var f=s.value,h=l.value;if(e.equals(f[0],h[0],c,d,r,t,e)&&e.equals(f[1],h[1],f[0],h[0],r,t,e)){u=i[d]=!0;break}d++}if(!u)return!1;c++}return!0}var Moe=Mh;function Ioe(r,t,e){var n=RP(r),i=n.length;if(RP(t).length!==i)return!1;for(;i-- >0;)if(!vB(r,t,e,n[i]))return!1;return!0}function Mm(r,t,e){var n=MP(r),i=n.length;if(MP(t).length!==i)return!1;for(var a,s,l;i-- >0;)if(a=n[i],!vB(r,t,e,a)||(s=IP(r,a),l=IP(t,a),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Roe(r,t){return Mh(r.valueOf(),t.valueOf())}function Foe(r,t){return r.source===t.source&&r.flags===t.flags}function LP(r,t,e){var n=r.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=r.values(),s,l;(s=a.next())&&!s.done;){for(var c=t.values(),o=!1,u=0;(l=c.next())&&!l.done;){if(!i[u]&&e.equals(s.value,l.value,s.value,l.value,r,t,e)){o=i[u]=!0;break}u++}if(!o)return!1}return!0}function Loe(r,t){var e=r.length;if(t.length!==e)return!1;for(;e-- >0;)if(r[e]!==t[e])return!1;return!0}function Doe(r,t){return r.hostname===t.hostname&&r.pathname===t.pathname&&r.protocol===t.protocol&&r.port===t.port&&r.hash===t.hash&&r.username===t.username&&r.password===t.password}function vB(r,t,e,n){return(n===Aoe||n===joe||n===Eoe)&&(r.$$typeof||t.$$typeof)?!0:Noe(t,n)&&e.equals(r[n],t[n],n,n,r,t,e)}var Boe="[object Arguments]",$oe="[object Boolean]",Uoe="[object Date]",zoe="[object Error]",qoe="[object Map]",Hoe="[object Number]",Woe="[object Object]",Voe="[object RegExp]",Goe="[object Set]",Xoe="[object String]",Koe="[object URL]",Yoe=Array.isArray,DP=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,BP=Object.assign,Joe=Object.prototype.toString.call.bind(Object.prototype.toString);function Zoe(r){var t=r.areArraysEqual,e=r.areDatesEqual,n=r.areErrorsEqual,i=r.areFunctionsEqual,a=r.areMapsEqual,s=r.areNumbersEqual,l=r.areObjectsEqual,c=r.arePrimitiveWrappersEqual,o=r.areRegExpsEqual,u=r.areSetsEqual,d=r.areTypedArraysEqual,f=r.areUrlsEqual;return function(y,m,g){if(y===m)return!0;if(y==null||m==null)return!1;var v=typeof y;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?s(y,m,g):v==="function"?i(y,m,g):!1;var b=y.constructor;if(b!==m.constructor)return!1;if(b===Object)return l(y,m,g);if(Yoe(y))return t(y,m,g);if(DP!=null&&DP(y))return d(y,m,g);if(b===Date)return e(y,m,g);if(b===RegExp)return o(y,m,g);if(b===Map)return a(y,m,g);if(b===Set)return u(y,m,g);var w=Joe(y);return w===Uoe?e(y,m,g):w===Voe?o(y,m,g):w===qoe?a(y,m,g):w===Goe?u(y,m,g):w===Woe?typeof y.then!="function"&&typeof m.then!="function"&&l(y,m,g):w===Koe?f(y,m,g):w===zoe?n(y,m,g):w===Boe?l(y,m,g):w===$oe||w===Hoe||w===Xoe?c(y,m,g):!1}}function Qoe(r){var t=r.circular,e=r.createCustomConfig,n=r.strict,i={areArraysEqual:n?Mm:Toe,areDatesEqual:Coe,areErrorsEqual:Ooe,areFunctionsEqual:Poe,areMapsEqual:n?PP(FP,Mm):FP,areNumbersEqual:Moe,areObjectsEqual:n?Mm:Ioe,arePrimitiveWrappersEqual:Roe,areRegExpsEqual:Foe,areSetsEqual:n?PP(LP,Mm):LP,areTypedArraysEqual:n?Mm:Loe,areUrlsEqual:Doe};if(e&&(i=BP({},i,e(i))),t){var a=mv(i.areArraysEqual),s=mv(i.areMapsEqual),l=mv(i.areObjectsEqual),c=mv(i.areSetsEqual);i=BP({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return i}function ele(r){return function(t,e,n,i,a,s,l){return r(t,e,l)}}function tle(r){var t=r.circular,e=r.comparator,n=r.createState,i=r.equals,a=r.strict;if(n)return function(c,o){var u=n(),d=u.cache,f=d===void 0?t?new WeakMap:void 0:d,h=u.meta;return e(c,o,{cache:f,equals:i,meta:h,strict:a})};if(t)return function(c,o){return e(c,o,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,o){return e(c,o,s)}}var rle=ld();ld({strict:!0});ld({circular:!0});ld({circular:!0,strict:!0});ld({createInternalComparator:function(){return Mh}});ld({strict:!0,createInternalComparator:function(){return Mh}});ld({circular:!0,createInternalComparator:function(){return Mh}});ld({circular:!0,createInternalComparator:function(){return Mh},strict:!0});function ld(r){r===void 0&&(r={});var t=r.circular,e=t===void 0?!1:t,n=r.createInternalComparator,i=r.createState,a=r.strict,s=a===void 0?!1:a,l=Qoe(r),c=Zoe(l),o=n?n(c):ele(c);return tle({circular:e,comparator:c,createState:i,equals:o,strict:s})}function nle(r){typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}function $P(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=-1,n=function i(a){e<0&&(e=a),a-e>t?(r(a),e=-1):nle(i)};requestAnimationFrame(n)}function FS(r){"@babel/helpers - typeof";return FS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FS(r)}function ile(r){return lle(r)||ole(r)||sle(r)||ale()}function ale(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sle(r,t){if(r){if(typeof r=="string")return UP(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return UP(r,t)}}function UP(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function ole(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function lle(r){if(Array.isArray(r))return r}function cle(){var r={},t=function(){return null},e=!1,n=function i(a){if(!e){if(Array.isArray(a)){if(!a.length)return;var s=a,l=ile(s),c=l[0],o=l.slice(1);if(typeof c=="number"){$P(i.bind(null,o),c);return}i(c),$P(i.bind(null,o));return}FS(a)==="object"&&(r=a,t(r)),typeof a=="function"&&a()}};return{stop:function(){e=!0},start:function(a){e=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Ug(r){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(r)}function zP(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function qP(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(e),!0).forEach(function(n){bB(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):zP(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function bB(r,t,e){return t=ule(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function ule(r){var t=fle(r,"string");return Ug(t)==="symbol"?t:String(t)}function fle(r,t){if(Ug(r)!=="object"||r===null)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Ug(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var dle=function(t,e){return[Object.keys(t),Object.keys(e)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},hle=function(t){return t},ple=function(t){return t.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())})},rg=function(t,e){return Object.keys(e).reduce(function(n,i){return qP(qP({},n),{},bB({},i,t(i,e[i])))},{})},HP=function(t,e,n){return t.map(function(i){return"".concat(ple(i)," ").concat(e,"ms ").concat(n)}).join(",")};function mle(r,t){return vle(r)||yle(r,t)||xB(r,t)||gle()}function gle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yle(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(e=e.call(r)).next,t!==0)for(;!(c=(n=a.call(e)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function vle(r){if(Array.isArray(r))return r}function ble(r){return _le(r)||wle(r)||xB(r)||xle()}function xle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xB(r,t){if(r){if(typeof r=="string")return LS(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return LS(r,t)}}function wle(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function _le(r){if(Array.isArray(r))return LS(r)}function LS(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var Pb=1e-4,wB=function(t,e){return[0,3*t,3*e-6*t,3*t-3*e+1]},_B=function(t,e){return t.map(function(n,i){return n*Math.pow(e,i)}).reduce(function(n,i){return n+i})},WP=function(t,e){return function(n){var i=wB(t,e);return _B(i,n)}},Sle=function(t,e){return function(n){var i=wB(t,e),a=[].concat(ble(i.map(function(s,l){return s*l}).slice(1)),[0]);return _B(a,n)}},VP=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[0],a=e[1],s=e[2],l=e[3];if(e.length===1)switch(e[0]){case"linear":i=0,a=0,s=1,l=1;break;case"ease":i=.25,a=.1,s=.25,l=1;break;case"ease-in":i=.42,a=0,s=1,l=1;break;case"ease-out":i=.42,a=0,s=.58,l=1;break;case"ease-in-out":i=0,a=0,s=.58,l=1;break;default:{var c=e[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var o=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=mle(o,4);i=u[0],a=u[1],s=u[2],l=u[3]}}}var d=WP(i,s),f=WP(a,l),h=Sle(i,s),y=function(v){return v>1?1:v<0?0:v},m=function(v){for(var b=v>1?1:v,w=b,_=0;_<8;++_){var N=d(w)-b,P=h(w);if(Math.abs(N-b)<Pb||P<Pb)return f(w);w=y(w-N/P)}return f(w)};return m.isStepper=!1,m},kle=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.stiff,n=e===void 0?100:e,i=t.damping,a=i===void 0?8:i,s=t.dt,l=s===void 0?17:s,c=function(u,d,f){var h=-(u-d)*n,y=f*a,m=f+(h-y)*l/1e3,g=f*l/1e3+u;return Math.abs(g-d)<Pb&&Math.abs(m)<Pb?[d,0]:[g,m]};return c.isStepper=!0,c.dt=l,c},Nle=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return VP(i);case"spring":return kle();default:if(i.split("(")[0]==="cubic-bezier")return VP(i)}return typeof i=="function"?i:null};function zg(r){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(r)}function GP(r){return Ale(r)||jle(r)||SB(r)||Ele()}function Ele(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jle(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Ale(r){if(Array.isArray(r))return BS(r)}function XP(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function Fa(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(e),!0).forEach(function(n){DS(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):XP(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function DS(r,t,e){return t=Tle(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Tle(r){var t=Cle(r,"string");return zg(t)==="symbol"?t:String(t)}function Cle(r,t){if(zg(r)!=="object"||r===null)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(zg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Ole(r,t){return Ile(r)||Mle(r,t)||SB(r,t)||Ple()}function Ple(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SB(r,t){if(r){if(typeof r=="string")return BS(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return BS(r,t)}}function BS(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Mle(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(e=e.call(r)).next,t!==0)for(;!(c=(n=a.call(e)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function Ile(r){if(Array.isArray(r))return r}var Mb=function(t,e,n){return t+(e-t)*n},$S=function(t){var e=t.from,n=t.to;return e!==n},Rle=function r(t,e,n){var i=rg(function(a,s){if($S(s)){var l=t(s.from,s.to,s.velocity),c=Ole(l,2),o=c[0],u=c[1];return Fa(Fa({},s),{},{from:o,velocity:u})}return s},e);return n<1?rg(function(a,s){return $S(s)?Fa(Fa({},s),{},{velocity:Mb(s.velocity,i[a].velocity,n),from:Mb(s.from,i[a].from,n)}):s},e):r(t,i,n-1)};const Fle=function(r,t,e,n,i){var a=dle(r,t),s=a.reduce(function(g,v){return Fa(Fa({},g),{},DS({},v,[r[v],t[v]]))},{}),l=a.reduce(function(g,v){return Fa(Fa({},g),{},DS({},v,{from:r[v],velocity:0,to:t[v]}))},{}),c=-1,o,u,d=function(){return null},f=function(){return rg(function(v,b){return b.from},l)},h=function(){return!Object.values(l).filter($S).length},y=function(v){o||(o=v);var b=v-o,w=b/e.dt;l=Rle(e,l,w),i(Fa(Fa(Fa({},r),t),f())),o=v,h()||(c=requestAnimationFrame(d))},m=function(v){u||(u=v);var b=(v-u)/n,w=rg(function(N,P){return Mb.apply(void 0,GP(P).concat([e(b)]))},s);if(i(Fa(Fa(Fa({},r),t),w)),b<1)c=requestAnimationFrame(d);else{var _=rg(function(N,P){return Mb.apply(void 0,GP(P).concat([e(1)]))},s);i(Fa(Fa(Fa({},r),t),_))}};return d=e.isStepper?y:m,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function gp(r){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(r)}var Lle=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Dle(r,t){if(r==null)return{};var e=Ble(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function Ble(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function P3(r){return qle(r)||zle(r)||Ule(r)||$le()}function $le(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ule(r,t){if(r){if(typeof r=="string")return US(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return US(r,t)}}function zle(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function qle(r){if(Array.isArray(r))return US(r)}function US(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function KP(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function Ol(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(e),!0).forEach(function(n){$m(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):KP(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function $m(r,t,e){return t=kB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Hle(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Wle(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,kB(n.key),n)}}function Vle(r,t,e){return t&&Wle(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function kB(r){var t=Gle(r,"string");return gp(t)==="symbol"?t:String(t)}function Gle(r,t){if(gp(r)!=="object"||r===null)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(gp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Xle(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&zS(r,t)}function zS(r,t){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zS(r,t)}function Kle(r){var t=Yle();return function(){var n=Ib(r),i;if(t){var a=Ib(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return qS(this,i)}}function qS(r,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HS(r)}function HS(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Yle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ib(r){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ib(r)}var Ou=function(r){Xle(e,r);var t=Kle(e);function e(n,i){var a;Hle(this,e),a=t.call(this,n,i);var s=a.props,l=s.isActive,c=s.attributeName,o=s.from,u=s.to,d=s.steps,f=s.children,h=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(HS(a)),a.changeStyle=a.changeStyle.bind(HS(a)),!l||h<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:u}),qS(a);if(d&&d.length)a.state={style:d[0].style};else if(o){if(typeof f=="function")return a.state={style:o},qS(a);a.state={style:c?$m({},c,o):o}}else a.state={style:{}};return a}return Vle(e,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,l=a.canBegin,c=a.attributeName,o=a.shouldReAnimate,u=a.to,d=a.from,f=this.state.style;if(l){if(!s){var h={style:c?$m({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(h);return}if(!(rle(i.to,u)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||o?d:i.to;if(this.state&&f){var g={style:c?$m({},c,m):m};(c&&f[c]!==m||!c&&f!==m)&&this.setState(g)}this.runAnimation(Ol(Ol({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,l=i.to,c=i.duration,o=i.easing,u=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,h=Fle(s,l,Nle(o),c,this.changeStyle),y=function(){a.stopJSAnimation=h()};this.manager.start([f,u,y,c,d])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,l=i.begin,c=i.onAnimationStart,o=s[0],u=o.style,d=o.duration,f=d===void 0?0:d,h=function(m,g,v){if(v===0)return m;var b=g.duration,w=g.easing,_=w===void 0?"ease":w,N=g.style,P=g.properties,M=g.onAnimationEnd,A=v>0?s[v-1]:g,F=P||Object.keys(N);if(typeof _=="function"||_==="spring")return[].concat(P3(m),[a.runJSAnimation.bind(a,{from:A.style,to:N,duration:b,easing:_}),b]);var H=HP(F,b,_),z=Ol(Ol(Ol({},A.style),N),{},{transition:H});return[].concat(P3(m),[z,b,M]).filter(hle)};return this.manager.start([c].concat(P3(s.reduce(h,[u,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=cle());var a=i.begin,s=i.duration,l=i.attributeName,c=i.to,o=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,h=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof o=="function"||typeof h=="function"||o==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=l?$m({},l,c):c,g=HP(Object.keys(m),s,o);y.start([u,a,Ol(Ol({},m),{},{transition:g}),s,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Dle(i,Lle),o=fe.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!l||o===0||s<=0)return a;var d=function(h){var y=h.props,m=y.style,g=m===void 0?{}:m,v=y.className,b=fe.cloneElement(h,Ol(Ol({},c),{},{style:Ol(Ol({},g),u),className:v}));return b};return o===1?d(fe.Children.only(a)):rt.createElement("div",null,fe.Children.map(a,function(f){return d(f)}))}}]),e}(fe.PureComponent);Ou.displayName="Animate";Ou.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ou.propTypes={from:Cn.oneOfType([Cn.object,Cn.string]),to:Cn.oneOfType([Cn.object,Cn.string]),attributeName:Cn.string,duration:Cn.number,begin:Cn.number,easing:Cn.oneOfType([Cn.string,Cn.func]),steps:Cn.arrayOf(Cn.shape({duration:Cn.number.isRequired,style:Cn.object.isRequired,easing:Cn.oneOfType([Cn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Cn.func]),properties:Cn.arrayOf("string"),onAnimationEnd:Cn.func})),children:Cn.oneOfType([Cn.node,Cn.func]),isActive:Cn.bool,canBegin:Cn.bool,onAnimationEnd:Cn.func,shouldReAnimate:Cn.bool,onAnimationStart:Cn.func,onAnimationReStart:Cn.func};function qg(r){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(r)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Rb.apply(this,arguments)}function Jle(r,t){return tce(r)||ece(r,t)||Qle(r,t)||Zle()}function Zle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qle(r,t){if(r){if(typeof r=="string")return YP(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return YP(r,t)}}function YP(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function ece(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(e=e.call(r)).next,t!==0)for(;!(c=(n=a.call(e)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function tce(r){if(Array.isArray(r))return r}function JP(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function ZP(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(e),!0).forEach(function(n){rce(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):JP(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function rce(r,t,e){return t=nce(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function nce(r){var t=ice(r,"string");return qg(t)=="symbol"?t:String(t)}function ice(r,t){if(qg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var QP=function(t,e,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,o=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>s?s:a[f];u="M".concat(t,",").concat(e+l*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(o,",").concat(t+c*d[0],",").concat(e)),u+="L ".concat(t+n-c*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(o,`,
        `).concat(t+n,",").concat(e+l*d[1])),u+="L ".concat(t+n,",").concat(e+i-l*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(o,`,
        `).concat(t+n-c*d[2],",").concat(e+i)),u+="L ".concat(t+c*d[3],",").concat(e+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(o,`,
        `).concat(t,",").concat(e+i-l*d[3])),u+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);u="M ".concat(t,",").concat(e+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(o,",").concat(t+c*y,",").concat(e,`
            L `).concat(t+n-c*y,",").concat(e,`
            A `).concat(y,",").concat(y,",0,0,").concat(o,",").concat(t+n,",").concat(e+l*y,`
            L `).concat(t+n,",").concat(e+i-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(o,",").concat(t+n-c*y,",").concat(e+i,`
            L `).concat(t+c*y,",").concat(e+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(o,",").concat(t,",").concat(e+i-l*y," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},ace=function(t,e){if(!t||!e)return!1;var n=t.x,i=t.y,a=e.x,s=e.y,l=e.width,c=e.height;if(Math.abs(l)>0&&Math.abs(c)>0){var o=Math.min(a,a+l),u=Math.max(a,a+l),d=Math.min(s,s+c),f=Math.max(s,s+c);return n>=o&&n<=u&&i>=d&&i<=f}return!1},sce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tk=function(t){var e=ZP(ZP({},sce),t),n=fe.useRef(),i=fe.useState(-1),a=Jle(i,2),s=a[0],l=a[1];fe.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=e.x,o=e.y,u=e.width,d=e.height,f=e.radius,h=e.className,y=e.animationEasing,m=e.animationDuration,g=e.animationBegin,v=e.isAnimationActive,b=e.isUpdateAnimationActive;if(c!==+c||o!==+o||u!==+u||d!==+d||u===0||d===0)return null;var w=Dn("recharts-rectangle",h);return b?rt.createElement(Ou,{canBegin:s>0,from:{width:u,height:d,x:c,y:o},to:{width:u,height:d,x:c,y:o},duration:m,animationEasing:y,isActive:b},function(_){var N=_.width,P=_.height,M=_.x,A=_.y;return rt.createElement(Ou,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:v,easing:y},rt.createElement("path",Rb({},rn(e,!0),{className:w,d:QP(M,A,N,P,f),ref:n})))}):rt.createElement("path",Rb({},rn(e,!0),{className:w,d:QP(c,o,u,d,f)}))};function WS(){return WS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},WS.apply(this,arguments)}var Ck=function(t){var e=t.cx,n=t.cy,i=t.r,a=t.className,s=Dn("recharts-dot",a);return e===+e&&n===+n&&i===+i?rt.createElement("circle",WS({},rn(t,!1),nb(t),{className:s,cx:e,cy:n,r:i})):null};function Hg(r){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(r)}var oce=["x","y","top","left","width","height","className"];function VS(){return VS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},VS.apply(this,arguments)}function eM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function lce(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(e),!0).forEach(function(n){cce(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):eM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function cce(r,t,e){return t=uce(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function uce(r){var t=fce(r,"string");return Hg(t)=="symbol"?t:String(t)}function fce(r,t){if(Hg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function dce(r,t){if(r==null)return{};var e=hce(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function hce(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}var pce=function(t,e,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(e,"h").concat(n)},mce=function(t){var e=t.x,n=e===void 0?0:e,i=t.y,a=i===void 0?0:i,s=t.top,l=s===void 0?0:s,c=t.left,o=c===void 0?0:c,u=t.width,d=u===void 0?0:u,f=t.height,h=f===void 0?0:f,y=t.className,m=dce(t,oce),g=lce({x:n,y:a,top:l,left:o,width:d,height:h},m);return!Jt(n)||!Jt(a)||!Jt(d)||!Jt(h)||!Jt(l)||!Jt(o)?null:rt.createElement("path",VS({},rn(g,!0),{className:Dn("recharts-cross",y),d:pce(n,a,d,h,l,o)}))},M3,tM;function gce(){if(tM)return M3;tM=1;var r=VL(),t=r(Object.getPrototypeOf,Object);return M3=t,M3}var I3,rM;function yce(){if(rM)return I3;rM=1;var r=Ru(),t=gce(),e=Fu(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,l=a.hasOwnProperty,c=s.call(Object);function o(u){if(!e(u)||r(u)!=n)return!1;var d=t(u);if(d===null)return!0;var f=l.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&s.call(f)==c}return I3=o,I3}var vce=yce();const bce=kn(vce);var R3,nM;function xce(){if(nM)return R3;nM=1;var r=Ru(),t=Fu(),e="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&r(i)==e}return R3=n,R3}var wce=xce();const _ce=kn(wce);function Wg(r){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(r)}function Fb(){return Fb=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Fb.apply(this,arguments)}function Sce(r,t){return jce(r)||Ece(r,t)||Nce(r,t)||kce()}function kce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nce(r,t){if(r){if(typeof r=="string")return iM(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return iM(r,t)}}function iM(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function Ece(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(e=e.call(r)).next,t!==0)for(;!(c=(n=a.call(e)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function jce(r){if(Array.isArray(r))return r}function aM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function sM(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(e),!0).forEach(function(n){Ace(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):aM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function Ace(r,t,e){return t=Tce(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Tce(r){var t=Cce(r,"string");return Wg(t)=="symbol"?t:String(t)}function Cce(r,t){if(Wg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var oM=function(t,e,n,i,a){var s=n-i,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-s/2,",").concat(e+a),l+="L ".concat(t+n-s/2-i,",").concat(e+a),l+="L ".concat(t,",").concat(e," Z"),l},Oce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pce=function(t){var e=sM(sM({},Oce),t),n=fe.useRef(),i=fe.useState(-1),a=Sce(i,2),s=a[0],l=a[1];fe.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=e.x,o=e.y,u=e.upperWidth,d=e.lowerWidth,f=e.height,h=e.className,y=e.animationEasing,m=e.animationDuration,g=e.animationBegin,v=e.isUpdateAnimationActive;if(c!==+c||o!==+o||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var b=Dn("recharts-trapezoid",h);return v?rt.createElement(Ou,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:o},to:{upperWidth:u,lowerWidth:d,height:f,x:c,y:o},duration:m,animationEasing:y,isActive:v},function(w){var _=w.upperWidth,N=w.lowerWidth,P=w.height,M=w.x,A=w.y;return rt.createElement(Ou,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:y},rt.createElement("path",Fb({},rn(e,!0),{className:b,d:oM(M,A,_,N,P),ref:n})))}):rt.createElement("g",null,rt.createElement("path",Fb({},rn(e,!0),{className:b,d:oM(c,o,u,d,f)})))},Mce=["option","shapeType","propTransformer","activeClassName","isActive"];function Vg(r){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(r)}function Ice(r,t){if(r==null)return{};var e=Rce(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function Rce(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function lM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function Lb(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(e),!0).forEach(function(n){Fce(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):lM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function Fce(r,t,e){return t=Lce(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Lce(r){var t=Dce(r,"string");return Vg(t)=="symbol"?t:String(t)}function Dce(r,t){if(Vg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Bce(r,t){return Lb(Lb({},t),r)}function $ce(r,t){return r==="symbols"}function cM(r){var t=r.shapeType,e=r.elementProps;switch(t){case"rectangle":return rt.createElement(Tk,e);case"trapezoid":return rt.createElement(Pce,e);case"sector":return rt.createElement(yB,e);case"symbols":if($ce(t))return rt.createElement(X8,e);break;default:return null}}function Uce(r){return fe.isValidElement(r)?r.props:r}function zce(r){var t=r.option,e=r.shapeType,n=r.propTransformer,i=n===void 0?Bce:n,a=r.activeClassName,s=a===void 0?"recharts-active-shape":a,l=r.isActive,c=Ice(r,Mce),o;if(fe.isValidElement(t))o=fe.cloneElement(t,Lb(Lb({},c),Uce(t)));else if(Zr(t))o=t(c);else if(bce(t)&&!_ce(t)){var u=i(t,c);o=rt.createElement(cM,{shapeType:e,elementProps:u})}else{var d=c;o=rt.createElement(cM,{shapeType:e,elementProps:d})}return l?rt.createElement(wi,{className:s},o):o}function Yx(r,t){return t!=null&&"trapezoids"in r.props}function Jx(r,t){return t!=null&&"sectors"in r.props}function Gg(r,t){return t!=null&&"points"in r.props}function qce(r,t){var e,n,i=r.x===(t==null||(e=t.labelViewBox)===null||e===void 0?void 0:e.x)||r.x===t.x,a=r.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||r.y===t.y;return i&&a}function Hce(r,t){var e=r.endAngle===t.endAngle,n=r.startAngle===t.startAngle;return e&&n}function Wce(r,t){var e=r.x===t.x,n=r.y===t.y,i=r.z===t.z;return e&&n&&i}function Vce(r,t){var e;return Yx(r,t)?e=qce:Jx(r,t)?e=Hce:Gg(r,t)&&(e=Wce),e}function Gce(r,t){var e;return Yx(r,t)?e="trapezoids":Jx(r,t)?e="sectors":Gg(r,t)&&(e="points"),e}function Xce(r,t){if(Yx(r,t)){var e;return(e=t.tooltipPayload)===null||e===void 0||(e=e[0])===null||e===void 0||(e=e.payload)===null||e===void 0?void 0:e.payload}if(Jx(r,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Gg(r,t)?t.payload:{}}function Kce(r){var t=r.activeTooltipItem,e=r.graphicalItem,n=r.itemData,i=Gce(e,t),a=Xce(e,t),s=n.filter(function(c,o){var u=Cg(a,c),d=e.props[i].filter(function(y){var m=Vce(e,t);return m(y,t)}),f=e.props[i].indexOf(d[d.length-1]),h=o===f;return u&&h}),l=n.indexOf(s[s.length-1]);return l}var F3,uM;function Yce(){if(uM)return F3;uM=1;var r=Math.ceil,t=Math.max;function e(n,i,a,s){for(var l=-1,c=t(r((i-n)/(a||1)),0),o=Array(c);c--;)o[s?c:++l]=n,n+=a;return o}return F3=e,F3}var L3,fM;function NB(){if(fM)return L3;fM=1;var r=cD(),t=1/0,e=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=r(i),i===t||i===-1/0){var a=i<0?-1:1;return a*e}return i===i?i:0}return L3=n,L3}var D3,dM;function Jce(){if(dM)return D3;dM=1;var r=Yce(),t=Bx(),e=NB();function n(i){return function(a,s,l){return l&&typeof l!="number"&&t(a,s,l)&&(s=l=void 0),a=e(a),s===void 0?(s=a,a=0):s=e(s),l=l===void 0?a<s?1:-1:e(l),r(a,s,l,i)}}return D3=n,D3}var B3,hM;function Zce(){if(hM)return B3;hM=1;var r=Jce(),t=r();return B3=t,B3}var Qce=Zce();const Db=kn(Qce);function Xg(r){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(r)}function pM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function mM(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(e),!0).forEach(function(n){EB(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):pM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function EB(r,t,e){return t=eue(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function eue(r){var t=tue(r,"string");return Xg(t)=="symbol"?t:String(t)}function tue(r,t){if(Xg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var rue=["Webkit","Moz","O","ms"],nue=function(t,e){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=rue.reduce(function(a,s){return mM(mM({},a),{},EB({},s+n,e))},{});return i[t]=e,i};function yp(r){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(r)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Bb.apply(this,arguments)}function gM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function $3(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(e),!0).forEach(function(n){xo(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):gM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function iue(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function yM(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,AB(n.key),n)}}function aue(r,t,e){return t&&yM(r.prototype,t),e&&yM(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function sue(r,t,e){return t=$b(t),oue(r,jB()?Reflect.construct(t,e||[],$b(r).constructor):t.apply(r,e))}function oue(r,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lc(r)}function jB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jB=function(){return!!r})()}function $b(r){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$b(r)}function lc(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function lue(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&GS(r,t)}function GS(r,t){return GS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GS(r,t)}function xo(r,t,e){return t=AB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function AB(r){var t=cue(r,"string");return yp(t)=="symbol"?t:String(t)}function cue(r,t){if(yp(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var uue=function(t){var e=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,l=t.travellerWidth;if(!e||!e.length)return{};var c=e.length,o=Qm().domain(Db(0,c)).range([a,a+s-l]),u=o.domain().map(function(d){return o(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:o(n),endX:o(i),scale:o,scaleValues:u}},vM=function(t){return t.changedTouches&&!!t.changedTouches.length},vp=function(r){lue(t,r);function t(e){var n;return iue(this,t),n=sue(this,t,[e]),xo(lc(n),"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),xo(lc(n),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),xo(lc(n),"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),xo(lc(n),"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xo(lc(n),"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xo(lc(n),"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xo(lc(n),"handleSlideDragStart",function(i){var a=vM(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(lc(n),"startX"),endX:n.handleTravellerDragStart.bind(lc(n),"endX")},n.state={},n}return aue(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,o=l.data,u=o.length-1,d=Math.min(i,a),f=Math.max(i,a),h=t.getIndexInRange(s,d),y=t.getIndexInRange(s,f);return{startIndex:h-h%c,endIndex:y===u?u:y-y%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,l=i.dataKey,c=Po(a[n],l,n);return Zr(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,o=c.x,u=c.width,d=c.travellerWidth,f=c.startIndex,h=c.endIndex,y=c.onChange,m=n.pageX-a;m>0?m=Math.min(m,o+u-d-l,o+u-d-s):m<0&&(m=Math.max(m,o-s,o-l));var g=this.getIndex({startX:s+m,endX:l+m});(g.startIndex!==f||g.endIndex!==h)&&y&&y(g),this.setState({startX:s+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=vM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,o=this.state[s],u=this.props,d=u.x,f=u.width,h=u.travellerWidth,y=u.onChange,m=u.gap,g=u.data,v={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,d+f-h-o):b<0&&(b=Math.max(b,d-o)),v[s]=o+b;var w=this.getIndex(v),_=w.startIndex,N=w.endIndex,P=function(){var A=g.length-1;return s==="startX"&&(l>c?_%m===0:N%m===0)||l<c&&N===A||s==="endX"&&(l>c?N%m===0:_%m===0)||l>c&&N===A};this.setState(xo(xo({},s,o+b),"brushMoveStartX",n.pageX),function(){y&&P()&&y(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,l=s.scaleValues,c=s.startX,o=s.endX,u=this.state[i],d=l.indexOf(u);if(d!==-1){var f=d+n;if(!(f===-1||f>=l.length)){var h=l[f];i==="startX"&&h>=o||i==="endX"&&h<=c||this.setState(xo({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.fill,o=n.stroke;return rt.createElement("rect",{stroke:o,fill:c,x:i,y:a,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.data,o=n.children,u=n.padding,d=fe.Children.only(o);return d?rt.cloneElement(d,{x:i,y:a,width:s,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a=this,s=this.props,l=s.y,c=s.travellerWidth,o=s.height,u=s.traveller,d=s.ariaLabel,f=s.data,h=s.startIndex,y=s.endIndex,m=Math.max(n,this.props.x),g=$3($3({},rn(this.props,!1)),{},{x:m,y:l,width:c,height:o}),v=d||"Min value: ".concat(f[h].name,", Max value: ").concat(f[y].name);return rt.createElement(wi,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),a.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(u,g))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,l=a.height,c=a.stroke,o=a.travellerWidth,u=Math.min(n,i)+o,d=Math.max(Math.abs(i-n)-o,0);return rt.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:s,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,o=n.stroke,u=this.state,d=u.startX,f=u.endX,h=5,y={pointerEvents:"none",fill:o};return rt.createElement(wi,{className:"recharts-brush-texts"},rt.createElement(gb,Bb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-h,y:s+l/2},y),this.getTextOfTick(i)),rt.createElement(gb,Bb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+c+h,y:s+l/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,l=n.x,c=n.y,o=n.width,u=n.height,d=n.alwaysShowText,f=this.state,h=f.startX,y=f.endX,m=f.isTextActive,g=f.isSlideMoving,v=f.isTravellerMoving,b=f.isTravellerFocused;if(!i||!i.length||!Jt(l)||!Jt(c)||!Jt(o)||!Jt(u)||o<=0||u<=0)return null;var w=Dn("recharts-brush",a),_=rt.Children.count(s)===1,N=nue("userSelect","none");return rt.createElement(wi,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,y),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(y,"endX"),(m||g||v||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,l=n.height,c=n.stroke,o=Math.floor(a+l/2)-1;return rt.createElement(rt.Fragment,null,rt.createElement("rect",{x:i,y:a,width:s,height:l,fill:c,stroke:"none"}),rt.createElement("line",{x1:i+1,y1:o,x2:i+s-1,y2:o,fill:"none",stroke:"#fff"}),rt.createElement("line",{x1:i+1,y1:o+2,x2:i+s-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return rt.isValidElement(n)?a=rt.cloneElement(n,i):Zr(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,l=n.x,c=n.travellerWidth,o=n.updateId,u=n.startIndex,d=n.endIndex;if(a!==i.prevData||o!==i.prevUpdateId)return $3({prevData:a,prevTravellerWidth:c,prevUpdateId:o,prevX:l,prevWidth:s},a&&a.length?uue({data:a,width:s,x:l,travellerWidth:c,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var f=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:o,prevX:l,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,l=a-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>i?l=c:s=c}return i>=n[l]?l:s}}]),t}(fe.PureComponent);xo(vp,"displayName","Brush");xo(vp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var U3,bM;function fue(){if(bM)return U3;bM=1;var r=tk();function t(e,n){var i;return r(e,function(a,s,l){return i=n(a,s,l),!i}),!!i}return U3=t,U3}var z3,xM;function due(){if(xM)return z3;xM=1;var r=BL(),t=ad(),e=fue(),n=no(),i=Bx();function a(s,l,c){var o=n(s)?r:e;return c&&i(s,l,c)&&(l=void 0),o(s,t(l,3))}return z3=a,z3}var hue=due();const pue=kn(hue);var _c=function(t,e){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===e},q3,wM;function mue(){if(wM)return q3;wM=1;var r=iD();function t(e,n,i){n=="__proto__"&&r?r(e,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[n]=i}return q3=t,q3}var H3,_M;function gue(){if(_M)return H3;_M=1;var r=mue(),t=rD(),e=ad();function n(i,a){var s={};return a=e(a,3),t(i,function(l,c,o){r(s,c,a(l,c,o))}),s}return H3=n,H3}var yue=gue();const vue=kn(yue);var W3,SM;function bue(){if(SM)return W3;SM=1;function r(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}return W3=r,W3}var V3,kM;function xue(){if(kM)return V3;kM=1;var r=tk();function t(e,n){var i=!0;return r(e,function(a,s,l){return i=!!n(a,s,l),i}),i}return V3=t,V3}var G3,NM;function wue(){if(NM)return G3;NM=1;var r=bue(),t=xue(),e=ad(),n=no(),i=Bx();function a(s,l,c){var o=n(s)?r:t;return c&&i(s,l,c)&&(l=void 0),o(s,e(l,3))}return G3=a,G3}var _ue=wue();const TB=kn(_ue);var Sue=["x","y"];function Kg(r){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(r)}function XS(){return XS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},XS.apply(this,arguments)}function EM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function Im(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(e),!0).forEach(function(n){kue(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):EM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function kue(r,t,e){return t=Nue(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Nue(r){var t=Eue(r,"string");return Kg(t)=="symbol"?t:String(t)}function Eue(r,t){if(Kg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function jue(r,t){if(r==null)return{};var e=Aue(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function Aue(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function Tue(r,t){var e=r.x,n=r.y,i=jue(r,Sue),a="".concat(e),s=parseInt(a,10),l="".concat(n),c=parseInt(l,10),o="".concat(t.height||i.height),u=parseInt(o,10),d="".concat(t.width||i.width),f=parseInt(d,10);return Im(Im(Im(Im(Im({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function jM(r){return rt.createElement(zce,XS({shapeType:"rectangle",propTransformer:Tue,activeClassName:"recharts-active-bar"},r))}var Cue=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,i):(a||vh(),e)}},Oue=["value","background"],CB;function bp(r){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(r)}function Pue(r,t){if(r==null)return{};var e=Mue(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function Mue(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function Ub(){return Ub=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Ub.apply(this,arguments)}function AM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function va(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(e),!0).forEach(function(n){Uf(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):AM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function Iue(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function TM(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,PB(n.key),n)}}function Rue(r,t,e){return t&&TM(r.prototype,t),e&&TM(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Fue(r,t,e){return t=zb(t),Lue(r,OB()?Reflect.construct(t,e||[],zb(r).constructor):t.apply(r,e))}function Lue(r,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Um(r)}function OB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OB=function(){return!!r})()}function zb(r){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zb(r)}function Um(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Due(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&KS(r,t)}function KS(r,t){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KS(r,t)}function Uf(r,t,e){return t=PB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function PB(r){var t=Bue(r,"string");return bp(t)=="symbol"?t:String(t)}function Bue(r,t){if(bp(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var Nc=function(r){Due(t,r);function t(){var e;Iue(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=Fue(this,t,[].concat(i)),Uf(Um(e),"state",{isAnimationFinished:!1}),Uf(Um(e),"id",x1("recharts-bar-")),Uf(Um(e),"handleAnimationEnd",function(){var s=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),s&&s()}),Uf(Um(e),"handleAnimationStart",function(){var s=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),s&&s()}),e}return Rue(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,l=a.dataKey,c=a.activeIndex,o=a.activeBar,u=rn(this.props,!1);return n&&n.map(function(d,f){var h=f===c,y=h?o:s,m=va(va(va({},u),d),{},{isActive:h,option:y,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return rt.createElement(wi,Ub({className:"recharts-bar-rectangle"},ib(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),rt.createElement(jM,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,o=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevData;return rt.createElement(Ou,{begin:c,duration:o,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,m=a.map(function(g,v){var b=f&&f[v];if(b){var w=Jo(b.x,g.x),_=Jo(b.y,g.y),N=Jo(b.width,g.width),P=Jo(b.height,g.height);return va(va({},g),{},{x:w(y),y:_(y),width:N(y),height:P(y)})}if(s==="horizontal"){var M=Jo(0,g.height),A=M(y);return va(va({},g),{},{y:g.y+g.height-A,height:A})}var F=Jo(0,g.width),H=F(y);return va(va({},g),{},{width:H})});return rt.createElement(wi,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Cg(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,l=i.activeIndex,c=rn(this.props.background,!1);return a.map(function(o,u){o.value;var d=o.background,f=Pue(o,Oue);if(!d)return null;var h=va(va(va(va(va({},f),{},{fill:"#eee"},d),c),ib(n.props,o,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,key:"background-bar-".concat(u),className:"recharts-bar-background-rectangle"});return rt.createElement(jM,Ub({option:n.props.background,isActive:u===l},h))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,l=a.xAxis,c=a.yAxis,o=a.layout,u=a.children,d=$l(u,Kx);if(!d)return null;var f=o==="vertical"?s[0].height/2:s[0].width/2,h=function(g,v){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:Po(g,v)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return rt.createElement(wi,y,d.map(function(m){return rt.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:o,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,l=n.xAxis,c=n.yAxis,o=n.left,u=n.top,d=n.width,f=n.height,h=n.isAnimationActive,y=n.background,m=n.id;if(i||!a||!a.length)return null;var g=this.state.isAnimationFinished,v=Dn("recharts-bar",s),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=b||w,N=mn(m)?this.id:m;return rt.createElement(wi,{className:v},b||w?rt.createElement("defs",null,rt.createElement("clipPath",{id:"clipPath-".concat(N)},rt.createElement("rect",{x:b?o:o-d/2,y:w?u:u-f/2,width:b?d:d*2,height:w?f:f*2}))):null,rt.createElement(wi,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(N,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,N),(!h||g)&&Wf.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}]),t}(fe.PureComponent);CB=Nc;Uf(Nc,"displayName","Bar");Uf(Nc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ip.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Uf(Nc,"getComposedData",function(r){var t=r.props,e=r.item,n=r.barPosition,i=r.bandSize,a=r.xAxis,s=r.yAxis,l=r.xAxisTicks,c=r.yAxisTicks,o=r.stackedData,u=r.dataStartIndex,d=r.displayedData,f=r.offset,h=sse(n,e);if(!h)return null;var y=t.layout,m=e.props,g=m.dataKey,v=m.children,b=m.minPointSize,w=y==="horizontal"?s:a,_=o?w.scale.domain():null,N=pse({numericAxis:w}),P=$l(v,fD),M=d.map(function(A,F){var H,z,U,O,L,C;o?H=ose(o[u+F],_):(H=Po(A,g),Array.isArray(H)||(H=[N,H]));var k=Cue(b,CB.defaultProps.minPointSize)(H[1],F);if(y==="horizontal"){var j,E=[s.scale(H[0]),s.scale(H[1])],T=E[0],R=E[1];z=dP({axis:a,ticks:l,bandSize:i,offset:h.offset,entry:A,index:F}),U=(j=R??T)!==null&&j!==void 0?j:void 0,O=h.size;var V=T-R;if(L=Number.isNaN(V)?0:V,C={x:z,y:s.y,width:O,height:s.height},Math.abs(k)>0&&Math.abs(L)<Math.abs(k)){var B=Dl(L||k)*(Math.abs(k)-Math.abs(L));U-=B,L+=B}}else{var K=[a.scale(H[0]),a.scale(H[1])],Z=K[0],ne=K[1];if(z=Z,U=dP({axis:s,ticks:c,bandSize:i,offset:h.offset,entry:A,index:F}),O=ne-Z,L=h.size,C={x:a.x,y:U,width:a.width,height:L},Math.abs(k)>0&&Math.abs(O)<Math.abs(k)){var G=Dl(O||k)*(Math.abs(k)-Math.abs(O));O+=G}}return va(va(va({},A),{},{x:z,y:U,width:O,height:L,value:o?H:H[1],payload:A,background:C},P&&P[F]&&P[F].props),{},{tooltipPayload:[pB(e,A)],tooltipPosition:{x:z+O/2,y:U+L/2}})});return va({data:M,layout:y},f)});function Yg(r){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(r)}function $ue(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function CM(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,MB(n.key),n)}}function Uue(r,t,e){return t&&CM(r.prototype,t),e&&CM(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function OM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function Rl(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(e),!0).forEach(function(n){Zx(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):OM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function Zx(r,t,e){return t=MB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function MB(r){var t=zue(r,"string");return Yg(t)=="symbol"?t:String(t)}function zue(r,t){if(Yg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var IB=function(t,e,n,i,a){var s=t.width,l=t.height,c=t.layout,o=t.children,u=Object.keys(e),d={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!_o(o,Nc);return u.reduce(function(h,y){var m=e[y],g=m.orientation,v=m.domain,b=m.padding,w=b===void 0?{}:b,_=m.mirror,N=m.reversed,P="".concat(g).concat(_?"Mirror":""),M,A,F,H,z;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var U=v[1]-v[0],O=1/0,L=m.categoricalDomain.sort();L.forEach(function(Z,ne){ne>0&&(O=Math.min((Z||0)-(L[ne-1]||0),O))});var C=O/U,k=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(M=C*k/2),m.padding==="no-gap"){var j=sp(t.barCategoryGap,C*k),E=C*k/2;M=E-j-(E-j)/k*j}}i==="xAxis"?A=[n.left+(w.left||0)+(M||0),n.left+n.width-(w.right||0)-(M||0)]:i==="yAxis"?A=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(M||0),n.top+n.height-(w.bottom||0)-(M||0)]:A=m.range,N&&(A=[A[1],A[0]]);var T=ise(m,a,f),R=T.scale,V=T.realScaleType;R.domain(v).range(A),ase(R);var B=hse(R,Rl(Rl({},m),{},{realScaleType:V}));i==="xAxis"?(z=g==="top"&&!_||g==="bottom"&&_,F=n.left,H=d[P]-z*m.height):i==="yAxis"&&(z=g==="left"&&!_||g==="right"&&_,F=d[P]-z*m.width,H=n.top);var K=Rl(Rl(Rl({},m),B),{},{realScaleType:V,x:F,y:H,scale:R,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return K.bandSize=Tb(K,B),!m.hide&&i==="xAxis"?d[P]+=(z?-1:1)*K.height:m.hide||(d[P]+=(z?-1:1)*K.width),Rl(Rl({},h),{},Zx({},y,K))},{})},RB=function(t,e){var n=t.x,i=t.y,a=e.x,s=e.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},que=function(t){var e=t.x1,n=t.y1,i=t.x2,a=t.y2;return RB({x:e,y:n},{x:i,y:a})},FB=function(){function r(t){$ue(this,r),this.scale=t}return Uue(r,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(e!==void 0){if(a)switch(a){case"start":return this.scale(e);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(e)+l}default:return this.scale(e)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}},{key:"isInRange",value:function(e){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?e>=i&&e<=a:e>=a&&e<=i}}],[{key:"create",value:function(e){return new r(e)}}]),r}();Zx(FB,"EPS",1e-4);var Ok=function(t){var e=Object.keys(t).reduce(function(n,i){return Rl(Rl({},n),{},Zx({},i,FB.create(t[i])))},{});return Rl(Rl({},e),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,l=a.position;return vue(i,function(c,o){return e[o].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return TB(i,function(a,s){return e[s].isInRange(a)})}})};function Hue(r){return(r%180+180)%180}var Wue=function(t){var e=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Hue(i),s=a*Math.PI/180,l=Math.atan(n/e),c=s>l&&s<Math.PI-l?n/Math.sin(s):e/Math.cos(s);return Math.abs(c)},X3,PM;function Vue(){if(PM)return X3;PM=1;var r=ad(),t=w1(),e=Lx();function n(i){return function(a,s,l){var c=Object(a);if(!t(a)){var o=r(s,3);a=e(a),s=function(d){return o(c[d],d,c)}}var u=i(a,s,l);return u>-1?c[o?a[u]:u]:void 0}}return X3=n,X3}var K3,MM;function Gue(){if(MM)return K3;MM=1;var r=NB();function t(e){var n=r(e),i=n%1;return n===n?i?n-i:n:0}return K3=t,K3}var Y3,IM;function Xue(){if(IM)return Y3;IM=1;var r=YL(),t=ad(),e=Gue(),n=Math.max;function i(a,s,l){var c=a==null?0:a.length;if(!c)return-1;var o=l==null?0:e(l);return o<0&&(o=n(c+o,0)),r(a,t(s,3),o)}return Y3=i,Y3}var J3,RM;function Kue(){if(RM)return J3;RM=1;var r=Vue(),t=Xue(),e=r(t);return J3=e,J3}var Yue=Kue();const Jue=kn(Yue);var Zue=dL();const Que=kn(Zue);var efe=Que(function(r){return{x:r.left,y:r.top,width:r.width,height:r.height}},function(r){return["l",r.left,"t",r.top,"w",r.width,"h",r.height].join("")}),Pk=fe.createContext(void 0),Mk=fe.createContext(void 0),LB=fe.createContext(void 0),DB=fe.createContext({}),BB=fe.createContext(void 0),$B=fe.createContext(0),UB=fe.createContext(0),FM=function(t){var e=t.state,n=e.xAxisMap,i=e.yAxisMap,a=e.offset,s=t.clipPathId,l=t.children,c=t.width,o=t.height,u=efe(a);return rt.createElement(Pk.Provider,{value:n},rt.createElement(Mk.Provider,{value:i},rt.createElement(DB.Provider,{value:a},rt.createElement(LB.Provider,{value:u},rt.createElement(BB.Provider,{value:s},rt.createElement($B.Provider,{value:o},rt.createElement(UB.Provider,{value:c},l)))))))},tfe=function(){return fe.useContext(BB)},zB=function(t){var e=fe.useContext(Pk);e==null&&vh();var n=e[t];return n==null&&vh(),n},rfe=function(){var t=fe.useContext(Pk);return Lf(t)},nfe=function(){var t=fe.useContext(Mk),e=Jue(t,function(n){return TB(n.domain,Number.isFinite)});return e||Lf(t)},qB=function(t){var e=fe.useContext(Mk);e==null&&vh();var n=e[t];return n==null&&vh(),n},ife=function(){var t=fe.useContext(LB);return t},afe=function(){return fe.useContext(DB)},Ik=function(){return fe.useContext(UB)},Rk=function(){return fe.useContext($B)};function Jg(r){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(r)}function LM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function DM(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(e),!0).forEach(function(n){sfe(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):LM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function sfe(r,t,e){return t=ofe(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function ofe(r){var t=lfe(r,"string");return Jg(t)=="symbol"?t:String(t)}function lfe(r,t){if(Jg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function cfe(r,t){return hfe(r)||dfe(r,t)||ffe(r,t)||ufe()}function ufe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ffe(r,t){if(r){if(typeof r=="string")return BM(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return BM(r,t)}}function BM(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function dfe(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(e=e.call(r)).next,t!==0)for(;!(c=(n=a.call(e)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function hfe(r){if(Array.isArray(r))return r}function YS(){return YS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},YS.apply(this,arguments)}var pfe=function(t,e){var n;return rt.isValidElement(t)?n=rt.cloneElement(t,e):Zr(t)?n=t(e):n=rt.createElement("line",YS({},e,{className:"recharts-reference-line-line"})),n},mfe=function(t,e,n,i,a,s,l,c,o){var u=a.x,d=a.y,f=a.width,h=a.height;if(n){var y=o.y,m=t.y.apply(y,{position:s});if(_c(o,"discard")&&!t.y.isInRange(m))return null;var g=[{x:u+f,y:m},{x:u,y:m}];return c==="left"?g.reverse():g}if(e){var v=o.x,b=t.x.apply(v,{position:s});if(_c(o,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:d+h},{x:b,y:d}];return l==="top"?w.reverse():w}if(i){var _=o.segment,N=_.map(function(P){return t.apply(P,{position:s})});return _c(o,"discard")&&pue(N,function(P){return!t.isInRange(P)})?null:N}return null};function Fk(r){var t=r.x,e=r.y,n=r.segment,i=r.xAxisId,a=r.yAxisId,s=r.shape,l=r.className,c=r.alwaysShow,o=tfe(),u=zB(i),d=qB(a),f=ife();if(!o||!f)return null;xu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Ok({x:u.scale,y:d.scale}),y=ra(t),m=ra(e),g=n&&n.length===2,v=mfe(h,y,m,g,f,r.position,u.orientation,d.orientation,r);if(!v)return null;var b=cfe(v,2),w=b[0],_=w.x,N=w.y,P=b[1],M=P.x,A=P.y,F=_c(r,"hidden")?"url(#".concat(o,")"):void 0,H=DM(DM({clipPath:F},rn(r,!0)),{},{x1:_,y1:N,x2:M,y2:A});return rt.createElement(wi,{className:Dn("recharts-reference-line",l)},pfe(s,H),fs.renderCallByParent(r,que({x1:_,y1:N,x2:M,y2:A})))}Fk.displayName="ReferenceLine";Fk.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function Zg(r){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(r)}function JS(){return JS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},JS.apply(this,arguments)}function $M(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function UM(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(e),!0).forEach(function(n){gfe(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):$M(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function gfe(r,t,e){return t=yfe(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function yfe(r){var t=vfe(r,"string");return Zg(t)=="symbol"?t:String(t)}function vfe(r,t){if(Zg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var bfe=function(t){var e=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=Ok({x:i.scale,y:a.scale}),l=s.apply({x:e,y:n},{bandAware:!0});return _c(t,"discard")&&!s.isInRange(l)?null:l};function E1(r){var t=r.x,e=r.y,n=r.r,i=r.alwaysShow,a=r.clipPathId,s=ra(t),l=ra(e);if(xu(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var c=bfe(r);if(!c)return null;var o=c.x,u=c.y,d=r.shape,f=r.className,h=_c(r,"hidden")?"url(#".concat(a,")"):void 0,y=UM(UM({clipPath:h},rn(r,!0)),{},{cx:o,cy:u});return rt.createElement(wi,{className:Dn("recharts-reference-dot",f)},E1.renderDot(d,y),fs.renderCallByParent(r,{x:o-n,y:u-n,width:2*n,height:2*n}))}E1.displayName="ReferenceDot";E1.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};E1.renderDot=function(r,t){var e;return rt.isValidElement(r)?e=rt.cloneElement(r,t):Zr(r)?e=r(t):e=rt.createElement(Ck,JS({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),e};function Qg(r){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(r)}function ZS(){return ZS=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ZS.apply(this,arguments)}function zM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function qM(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(e),!0).forEach(function(n){xfe(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):zM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function xfe(r,t,e){return t=wfe(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function wfe(r){var t=_fe(r,"string");return Qg(t)=="symbol"?t:String(t)}function _fe(r,t){if(Qg(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var Sfe=function(t,e,n,i,a){var s=a.x1,l=a.x2,c=a.y1,o=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var f=Ok({x:u.scale,y:d.scale}),h={x:t?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},y={x:e?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(o,{position:"end"}):f.y.rangeMax};return _c(a,"discard")&&(!f.isInRange(h)||!f.isInRange(y))?null:RB(h,y)};function j1(r){var t=r.x1,e=r.x2,n=r.y1,i=r.y2,a=r.className,s=r.alwaysShow,l=r.clipPathId;xu(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=ra(t),o=ra(e),u=ra(n),d=ra(i),f=r.shape;if(!c&&!o&&!u&&!d&&!f)return null;var h=Sfe(c,o,u,d,r);if(!h&&!f)return null;var y=_c(r,"hidden")?"url(#".concat(l,")"):void 0;return rt.createElement(wi,{className:Dn("recharts-reference-area",a)},j1.renderRect(f,qM(qM({clipPath:y},rn(r,!0)),h)),fs.renderCallByParent(r,h))}j1.displayName="ReferenceArea";j1.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};j1.renderRect=function(r,t){var e;return rt.isValidElement(r)?e=rt.cloneElement(r,t):Zr(r)?e=r(t):e=rt.createElement(Tk,ZS({},t,{className:"recharts-reference-area-rect"})),e};function HB(r,t,e){if(t<1)return[];if(t===1&&e===void 0)return r;for(var n=[],i=0;i<r.length;i+=t)n.push(r[i]);return n}function kfe(r,t,e){var n={width:r.width+t.width,height:r.height+t.height};return Wue(n,e)}function Nfe(r,t,e){var n=e==="width",i=r.x,a=r.y,s=r.width,l=r.height;return t===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function qb(r,t,e,n,i){if(r*t<r*n||r*t>r*i)return!1;var a=e();return r*(t-r*a/2-n)>=0&&r*(t+r*a/2-i)<=0}function Efe(r,t){return HB(r,t+1)}function jfe(r,t,e,n,i){for(var a=(n||[]).slice(),s=t.start,l=t.end,c=0,o=1,u=s,d=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:HB(n,o)};var m=c,g,v=function(){return g===void 0&&(g=e(y,m)),g},b=y.coordinate,w=c===0||qb(r,b,v,u,l);w||(c=0,u=s,o+=1),w&&(u=b+r*(v()/2+i),c+=o)},f;o<=a.length;)if(f=d(),f)return f.v;return[]}function e1(r){"@babel/helpers - typeof";return e1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e1(r)}function HM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function ss(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(e),!0).forEach(function(n){Afe(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):HM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function Afe(r,t,e){return t=Tfe(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Tfe(r){var t=Cfe(r,"string");return e1(t)=="symbol"?t:String(t)}function Cfe(r,t){if(e1(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(e1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Ofe(r,t,e,n,i){for(var a=(n||[]).slice(),s=a.length,l=t.start,c=t.end,o=function(f){var h=a[f],y,m=function(){return y===void 0&&(y=e(h,f)),y};if(f===s-1){var g=r*(h.coordinate+r*m()/2-c);a[f]=h=ss(ss({},h),{},{tickCoord:g>0?h.coordinate-g*r:h.coordinate})}else a[f]=h=ss(ss({},h),{},{tickCoord:h.coordinate});var v=qb(r,h.tickCoord,m,l,c);v&&(c=h.tickCoord-r*(m()/2+i),a[f]=ss(ss({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)o(u);return a}function Pfe(r,t,e,n,i,a){var s=(n||[]).slice(),l=s.length,c=t.start,o=t.end;if(a){var u=n[l-1],d=e(u,l-1),f=r*(u.coordinate+r*d/2-o);s[l-1]=u=ss(ss({},u),{},{tickCoord:f>0?u.coordinate-f*r:u.coordinate});var h=qb(r,u.tickCoord,function(){return d},c,o);h&&(o=u.tickCoord-r*(d/2+i),s[l-1]=ss(ss({},u),{},{isShow:!0}))}for(var y=a?l-1:l,m=function(b){var w=s[b],_,N=function(){return _===void 0&&(_=e(w,b)),_};if(b===0){var P=r*(w.coordinate-r*N()/2-c);s[b]=w=ss(ss({},w),{},{tickCoord:P<0?w.coordinate-P*r:w.coordinate})}else s[b]=w=ss(ss({},w),{},{tickCoord:w.coordinate});var M=qb(r,w.tickCoord,N,c,o);M&&(c=w.tickCoord+r*(N()/2+i),s[b]=ss(ss({},w),{},{isShow:!0}))},g=0;g<y;g++)m(g);return s}function Lk(r,t,e){var n=r.tick,i=r.ticks,a=r.viewBox,s=r.minTickGap,l=r.orientation,c=r.interval,o=r.tickFormatter,u=r.unit,d=r.angle;if(!i||!i.length||!n)return[];if(Jt(c)||Ip.isSsr)return Efe(i,typeof c=="number"&&Jt(c)?c:0);var f=[],h=l==="top"||l==="bottom"?"width":"height",y=u&&h==="width"?Zm(u,{fontSize:t,letterSpacing:e}):{width:0,height:0},m=function(w,_){var N=Zr(o)?o(w.value,_):w.value;return h==="width"?kfe(Zm(N,{fontSize:t,letterSpacing:e}),y,d):Zm(N,{fontSize:t,letterSpacing:e})[h]},g=i.length>=2?Dl(i[1].coordinate-i[0].coordinate):1,v=Nfe(a,g,h);return c==="equidistantPreserveStart"?jfe(g,v,m,i,s):(c==="preserveStart"||c==="preserveStartEnd"?f=Pfe(g,v,m,i,s,c==="preserveStartEnd"):f=Ofe(g,v,m,i,s),f.filter(function(b){return b.isShow}))}var Mfe=["viewBox"],Ife=["viewBox"],Rfe=["ticks"];function xp(r){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(r)}function P0(){return P0=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},P0.apply(this,arguments)}function WM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function js(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(e),!0).forEach(function(n){Dk(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):WM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function Z3(r,t){if(r==null)return{};var e=Ffe(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function Ffe(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function Lfe(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function VM(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,VB(n.key),n)}}function Dfe(r,t,e){return t&&VM(r.prototype,t),e&&VM(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Bfe(r,t,e){return t=Hb(t),$fe(r,WB()?Reflect.construct(t,e||[],Hb(r).constructor):t.apply(r,e))}function $fe(r,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ufe(r)}function Ufe(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function WB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WB=function(){return!!r})()}function Hb(r){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hb(r)}function zfe(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&QS(r,t)}function QS(r,t){return QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QS(r,t)}function Dk(r,t,e){return t=VB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function VB(r){var t=qfe(r,"string");return xp(t)=="symbol"?t:String(t)}function qfe(r,t){if(xp(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}var Dp=function(r){zfe(t,r);function t(e){var n;return Lfe(this,t),n=Bfe(this,t,[e]),n.state={fontSize:"",letterSpacing:""},n}return Dfe(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=Z3(n,Mfe),l=this.props,c=l.viewBox,o=Z3(l,Ife);return!z0(a,c)||!z0(s,o)||!z0(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,l=i.width,c=i.height,o=i.orientation,u=i.tickSize,d=i.mirror,f=i.tickMargin,h,y,m,g,v,b,w=d?-1:1,_=n.tickSize||u,N=Jt(n.tickCoord)?n.tickCoord:n.coordinate;switch(o){case"top":h=y=n.coordinate,g=s+ +!d*c,m=g-w*_,b=m-w*f,v=N;break;case"left":m=g=n.coordinate,y=a+ +!d*l,h=y-w*_,v=h-w*f,b=N;break;case"right":m=g=n.coordinate,y=a+ +d*l,h=y+w*_,v=h+w*f,b=N;break;default:h=y=n.coordinate,g=s+ +d*c,m=g+w*_,b=m+w*f,v=N;break}return{line:{x1:h,y1:m,x2:y,y2:g},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,l=n.height,c=n.orientation,o=n.mirror,u=n.axisLine,d=js(js(js({},rn(this.props,!1)),rn(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!o||c==="bottom"&&o);d=js(js({},d),{},{x1:i,y1:a+f*l,x2:i+s,y2:a+f*l})}else{var h=+(c==="left"&&!o||c==="right"&&o);d=js(js({},d),{},{x1:i+h*s,y1:a,x2:i+h*s,y2:a+l})}return rt.createElement("line",P0({},d,{className:Dn("recharts-cartesian-axis-line",el(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,l=this.props,c=l.tickLine,o=l.stroke,u=l.tick,d=l.tickFormatter,f=l.unit,h=Lk(js(js({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=rn(this.props,!1),v=rn(u,!1),b=js(js({},g),{},{fill:"none"},rn(c,!1)),w=h.map(function(_,N){var P=s.getTickLineCoord(_),M=P.line,A=P.tick,F=js(js(js(js({textAnchor:y,verticalAnchor:m},g),{},{stroke:"none",fill:o},v),A),{},{index:N,payload:_,visibleTicksCount:h.length,tickFormatter:d});return rt.createElement(wi,P0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},ib(s.props,_,N)),c&&rt.createElement("line",P0({},b,M,{className:Dn("recharts-cartesian-axis-tick-line",el(c,"className"))})),u&&t.renderTickItem(u,F,"".concat(Zr(d)?d(_.value,N):_.value).concat(f||"")))});return rt.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,o=i.className,u=i.hide;if(u)return null;var d=this.props,f=d.ticks,h=Z3(d,Rfe),y=f;return Zr(c)&&(y=f&&f.length>0?c(this.props):c(h)),s<=0||l<=0||!y||!y.length?null:rt.createElement(wi,{className:Dn("recharts-cartesian-axis",o),ref:function(g){n.layerReference=g}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),fs.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return rt.isValidElement(n)?s=rt.cloneElement(n,i):Zr(n)?s=n(i):s=rt.createElement(gb,P0({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}]),t}(fe.Component);Dk(Dp,"displayName","CartesianAxis");Dk(Dp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Hfe=["x1","y1","x2","y2","key"],Wfe=["offset"];function bh(r){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(r)}function GM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function ds(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(e),!0).forEach(function(n){Vfe(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):GM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function Vfe(r,t,e){return t=Gfe(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Gfe(r){var t=Xfe(r,"string");return bh(t)=="symbol"?t:String(t)}function Xfe(r,t){if(bh(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function ch(){return ch=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ch.apply(this,arguments)}function XM(r,t){if(r==null)return{};var e=Kfe(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function Kfe(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}var Yfe=function(t){var e=t.fill;if(!e||e==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,s=t.width,l=t.height;return rt.createElement("rect",{x:i,y:a,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function GB(r,t){var e;if(rt.isValidElement(r))e=rt.cloneElement(r,t);else if(Zr(r))e=r(t);else{var n=t.x1,i=t.y1,a=t.x2,s=t.y2,l=t.key,c=XM(t,Hfe),o=rn(c,!1);o.offset;var u=XM(o,Wfe);e=rt.createElement("line",ch({},u,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:l}))}return e}function Jfe(r){var t=r.x,e=r.width,n=r.horizontal,i=n===void 0?!0:n,a=r.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var o=ds(ds({},r),{},{x1:t,y1:l,x2:t+e,y2:l,key:"line-".concat(c),index:c});return GB(i,o)});return rt.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Zfe(r){var t=r.y,e=r.height,n=r.vertical,i=n===void 0?!0:n,a=r.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(l,c){var o=ds(ds({},r),{},{x1:l,y1:t,x2:l,y2:t+e,key:"line-".concat(c),index:c});return GB(i,o)});return rt.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Qfe(r){var t=r.horizontalFill,e=r.fillOpacity,n=r.x,i=r.y,a=r.width,s=r.height,l=r.horizontalPoints,c=r.horizontal,o=c===void 0?!0:c;if(!o||!t||!t.length)return null;var u=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,h){return f-h});i!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var y=!u[h+1],m=y?i+s-f:u[h+1]-f;if(m<=0)return null;var g=h%t.length;return rt.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:e,className:"recharts-cartesian-grid-bg"})});return rt.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function ede(r){var t=r.vertical,e=t===void 0?!0:t,n=r.verticalFill,i=r.fillOpacity,a=r.x,s=r.y,l=r.width,c=r.height,o=r.verticalPoints;if(!e||!n||!n.length)return null;var u=o.map(function(f){return Math.round(f+a-a)}).sort(function(f,h){return f-h});a!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var y=!u[h+1],m=y?a+l-f:u[h+1]-f;if(m<=0)return null;var g=h%n.length;return rt.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:m,height:c,stroke:"none",fill:n[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return rt.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var tde=function(t,e){var n=t.xAxis,i=t.width,a=t.height,s=t.offset;return dB(Lk(ds(ds(ds({},Dp.defaultProps),n),{},{ticks:vu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,e)},rde=function(t,e){var n=t.yAxis,i=t.width,a=t.height,s=t.offset;return dB(Lk(ds(ds(ds({},Dp.defaultProps),n),{},{ticks:vu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,e)},x0={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function t1(r){var t,e,n,i,a,s,l=Ik(),c=Rk(),o=afe(),u=ds(ds({},r),{},{stroke:(t=r.stroke)!==null&&t!==void 0?t:x0.stroke,fill:(e=r.fill)!==null&&e!==void 0?e:x0.fill,horizontal:(n=r.horizontal)!==null&&n!==void 0?n:x0.horizontal,horizontalFill:(i=r.horizontalFill)!==null&&i!==void 0?i:x0.horizontalFill,vertical:(a=r.vertical)!==null&&a!==void 0?a:x0.vertical,verticalFill:(s=r.verticalFill)!==null&&s!==void 0?s:x0.verticalFill,x:Jt(r.x)?r.x:o.left,y:Jt(r.y)?r.y:o.top,width:Jt(r.width)?r.width:o.width,height:Jt(r.height)?r.height:o.height}),d=u.x,f=u.y,h=u.width,y=u.height,m=u.syncWithTicks,g=u.horizontalValues,v=u.verticalValues,b=rfe(),w=nfe();if(!Jt(h)||h<=0||!Jt(y)||y<=0||!Jt(d)||d!==+d||!Jt(f)||f!==+f)return null;var _=u.verticalCoordinatesGenerator||tde,N=u.horizontalCoordinatesGenerator||rde,P=u.horizontalPoints,M=u.verticalPoints;if((!P||!P.length)&&Zr(N)){var A=g&&g.length,F=N({yAxis:w?ds(ds({},w),{},{ticks:A?g:w.ticks}):void 0,width:l,height:c,offset:o},A?!0:m);xu(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bh(F),"]")),Array.isArray(F)&&(P=F)}if((!M||!M.length)&&Zr(_)){var H=v&&v.length,z=_({xAxis:b?ds(ds({},b),{},{ticks:H?v:b.ticks}):void 0,width:l,height:c,offset:o},H?!0:m);xu(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bh(z),"]")),Array.isArray(z)&&(M=z)}return rt.createElement("g",{className:"recharts-cartesian-grid"},rt.createElement(Yfe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height}),rt.createElement(Jfe,ch({},u,{offset:o,horizontalPoints:P,xAxis:b,yAxis:w})),rt.createElement(Zfe,ch({},u,{offset:o,verticalPoints:M,xAxis:b,yAxis:w})),rt.createElement(Qfe,ch({},u,{horizontalPoints:P})),rt.createElement(ede,ch({},u,{verticalPoints:M})))}t1.displayName="CartesianGrid";var nde=["layout","type","stroke","connectNulls","isRange","ref"],XB;function wp(r){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(r)}function ide(r,t){if(r==null)return{};var e=ade(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function ade(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function uh(){return uh=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},uh.apply(this,arguments)}function KM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function Pf(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?KM(Object(e),!0).forEach(function(n){yc(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):KM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function sde(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function YM(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,YB(n.key),n)}}function ode(r,t,e){return t&&YM(r.prototype,t),e&&YM(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function lde(r,t,e){return t=Wb(t),cde(r,KB()?Reflect.construct(t,e||[],Wb(r).constructor):t.apply(r,e))}function cde(r,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zm(r)}function KB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KB=function(){return!!r})()}function Wb(r){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wb(r)}function zm(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ude(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&e8(r,t)}function e8(r,t){return e8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e8(r,t)}function yc(r,t,e){return t=YB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function YB(r){var t=fde(r,"string");return wp(t)=="symbol"?t:String(t)}function fde(r,t){if(wp(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var Du=function(r){ude(t,r);function t(){var e;sde(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=lde(this,t,[].concat(i)),yc(zm(e),"state",{isAnimationFinished:!0}),yc(zm(e),"id",x1("recharts-area-")),yc(zm(e),"handleAnimationEnd",function(){var s=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),Zr(s)&&s()}),yc(zm(e),"handleAnimationStart",function(){var s=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),Zr(s)&&s()}),e}return ode(t,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,o=c.dot,u=c.points,d=c.dataKey,f=rn(this.props,!1),h=rn(o,!0),y=u.map(function(g,v){var b=Pf(Pf(Pf({key:"dot-".concat(v),r:3},f),h),{},{dataKey:d,cx:g.x,cy:g.y,index:v,value:g.value,payload:g.payload});return t.renderDotItem(o,b)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return rt.createElement(wi,uh({className:"recharts-area-dots"},m),y)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,o=s[s.length-1].x,u=n*Math.abs(c-o),d=$f(s.map(function(f){return f.y||0}));return Jt(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max($f(a.map(function(f){return f.y||0})),d)),Jt(d)?rt.createElement("rect",{x:c<o?c:c-u,y:0,width:u,height:Math.floor(d+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,o=s[s.length-1].y,u=n*Math.abs(c-o),d=$f(s.map(function(f){return f.x||0}));return Jt(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max($f(a.map(function(f){return f.x||0})),d)),Jt(d)?rt.createElement("rect",{x:0,y:c<o?c:c-u,width:d+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var l=this.props,c=l.layout,o=l.type,u=l.stroke,d=l.connectNulls,f=l.isRange;l.ref;var h=ide(l,nde);return rt.createElement(wi,{clipPath:a?"url(#clipPath-".concat(s,")"):null},rt.createElement(tg,uh({},rn(h,!0),{points:n,connectNulls:d,type:o,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&rt.createElement(tg,uh({},rn(this.props,!1),{className:"recharts-area-curve",layout:c,type:o,connectNulls:d,fill:"none",points:n})),u!=="none"&&f&&rt.createElement(tg,uh({},rn(this.props,!1),{className:"recharts-area-curve",layout:c,type:o,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,l=s.points,c=s.baseLine,o=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,y=this.state,m=y.prevPoints,g=y.prevBaseLine;return rt.createElement(Ou,{begin:u,duration:d,isActive:o,easing:f,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t;if(m){var w=m.length/l.length,_=l.map(function(A,F){var H=Math.floor(F*w);if(m[H]){var z=m[H],U=Jo(z.x,A.x),O=Jo(z.y,A.y);return Pf(Pf({},A),{},{x:U(b),y:O(b)})}return A}),N;if(Jt(c)&&typeof c=="number"){var P=Jo(g,c);N=P(b)}else if(mn(c)||Pp(c)){var M=Jo(g,0);N=M(b)}else N=c.map(function(A,F){var H=Math.floor(F*w);if(g[H]){var z=g[H],U=Jo(z.x,A.x),O=Jo(z.y,A.y);return Pf(Pf({},A),{},{x:U(b),y:O(b)})}return A});return a.renderAreaStatically(_,N,n,i)}return rt.createElement(wi,null,rt.createElement("defs",null,rt.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),rt.createElement(wi,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,l=a.baseLine,c=a.isAnimationActive,o=this.state,u=o.prevPoints,d=o.prevBaseLine,f=o.totalLength;return c&&s&&s.length&&(!u&&f>0||!Cg(u,s)||!Cg(d,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,l,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,l=i.points,c=i.className,o=i.top,u=i.left,d=i.xAxis,f=i.yAxis,h=i.width,y=i.height,m=i.isAnimationActive,g=i.id;if(a||!l||!l.length)return null;var v=this.state.isAnimationFinished,b=l.length===1,w=Dn("recharts-area",c),_=d&&d.allowDataOverflow,N=f&&f.allowDataOverflow,P=_||N,M=mn(g)?this.id:g,A=(n=rn(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},F=A.r,H=F===void 0?3:F,z=A.strokeWidth,U=z===void 0?2:z,O=cZ(s)?s:{},L=O.clipDot,C=L===void 0?!0:L,k=H*2+U;return rt.createElement(wi,{className:w},_||N?rt.createElement("defs",null,rt.createElement("clipPath",{id:"clipPath-".concat(M)},rt.createElement("rect",{x:_?u:u-h/2,y:N?o:o-y/2,width:_?h:h*2,height:N?y:y*2})),!C&&rt.createElement("clipPath",{id:"clipPath-dots-".concat(M)},rt.createElement("rect",{x:u-k/2,y:o-k/2,width:h+k,height:y+k}))):null,b?null:this.renderArea(P,M),(s||b)&&this.renderDots(P,C,M),(!m||v)&&Wf.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}]),t}(fe.PureComponent);XB=Du;yc(Du,"displayName","Area");yc(Du,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ip.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});yc(Du,"getBaseValue",function(r,t,e,n){var i=r.layout,a=r.baseValue,s=t.props.baseValue,l=s??a;if(Jt(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:e,o=c.scale.domain();if(c.type==="number"){var u=Math.max(o[0],o[1]),d=Math.min(o[0],o[1]);return l==="dataMin"?d:l==="dataMax"||u<0?u:Math.max(Math.min(o[0],o[1]),0)}return l==="dataMin"?o[0]:l==="dataMax"?o[1]:o[0]});yc(Du,"getComposedData",function(r){var t=r.props,e=r.item,n=r.xAxis,i=r.yAxis,a=r.xAxisTicks,s=r.yAxisTicks,l=r.bandSize,c=r.dataKey,o=r.stackedData,u=r.dataStartIndex,d=r.displayedData,f=r.offset,h=t.layout,y=o&&o.length,m=XB.getBaseValue(t,e,n,i),g=h==="horizontal",v=!1,b=d.map(function(_,N){var P;y?P=o[u+N]:(P=Po(_,c),Array.isArray(P)?v=!0:P=[m,P]);var M=P[1]==null||y&&Po(_,c)==null;return g?{x:fP({axis:n,ticks:a,bandSize:l,entry:_,index:N}),y:M?null:i.scale(P[1]),value:P,payload:_}:{x:M?null:n.scale(P[1]),y:fP({axis:i,ticks:s,bandSize:l,entry:_,index:N}),value:P,payload:_}}),w;return y||v?w=b.map(function(_){var N=Array.isArray(_.value)?_.value[0]:null;return g?{x:_.x,y:N!=null&&_.y!=null?i.scale(N):null}:{x:N!=null?n.scale(N):null,y:_.y}}):w=g?i.scale(m):n.scale(m),Pf({points:b,baseLine:w,layout:h,isRange:v},f)});yc(Du,"renderDotItem",function(r,t){var e;return rt.isValidElement(r)?e=rt.cloneElement(r,t):Zr(r)?e=r(t):e=rt.createElement(Ck,uh({},t,{className:"recharts-area-dot"})),e});function t8(){return t8=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},t8.apply(this,arguments)}var Kf=function(t){var e=t.xAxisId,n=Ik(),i=Rk(),a=zB(e);return a==null?null:rt.createElement(Dp,t8({},a,{className:Dn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return vu(l,!0)}}))};Kf.displayName="XAxis";Kf.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function r8(){return r8=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},r8.apply(this,arguments)}var Yf=function(t){var e=t.yAxisId,n=Ik(),i=Rk(),a=qB(e);return a==null?null:rt.createElement(Dp,r8({},a,{className:Dn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return vu(l,!0)}}))};Yf.displayName="YAxis";Yf.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function JM(r){return mde(r)||pde(r)||hde(r)||dde()}function dde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hde(r,t){if(r){if(typeof r=="string")return n8(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return n8(r,t)}}function pde(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function mde(r){if(Array.isArray(r))return n8(r)}function n8(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var i8=function(t,e,n,i,a){var s=$l(t,Fk),l=$l(t,E1),c=[].concat(JM(s),JM(l)),o=$l(t,j1),u="".concat(i,"Id"),d=i[0],f=e;if(c.length&&(f=c.reduce(function(m,g){if(g.props[u]===n&&_c(g.props,"extendDomain")&&Jt(g.props[d])){var v=g.props[d];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},f)),o.length){var h="".concat(d,"1"),y="".concat(d,"2");f=o.reduce(function(m,g){if(g.props[u]===n&&_c(g.props,"extendDomain")&&Jt(g.props[h])&&Jt(g.props[y])){var v=g.props[h],b=g.props[y];return[Math.min(m[0],v,b),Math.max(m[1],v,b)]}return m},f)}return a&&a.length&&(f=a.reduce(function(m,g){return Jt(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},f)),f},Q3={exports:{}},ZM;function gde(){return ZM||(ZM=1,function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function i(c,o,u){this.fn=c,this.context=o,this.once=u||!1}function a(c,o,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||c,f),y=e?e+o:o;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],h]:c._events[y].push(h):(c._events[y]=h,c._eventsCount++),c}function s(c,o){--c._eventsCount===0?c._events=new n:delete c._events[o]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var o=[],u,d;if(this._eventsCount===0)return o;for(d in u=this._events)t.call(u,d)&&o.push(e?d.slice(1):d);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(u)):o},l.prototype.listeners=function(o){var u=e?e+o:o,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,y=new Array(h);f<h;f++)y[f]=d[f].fn;return y},l.prototype.listenerCount=function(o){var u=e?e+o:o,d=this._events[u];return d?d.fn?1:d.length:0},l.prototype.emit=function(o,u,d,f,h,y){var m=e?e+o:o;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,b,w;if(g.fn){switch(g.once&&this.removeListener(o,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,d),!0;case 4:return g.fn.call(g.context,u,d,f),!0;case 5:return g.fn.call(g.context,u,d,f,h),!0;case 6:return g.fn.call(g.context,u,d,f,h,y),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];g.fn.apply(g.context,b)}else{var _=g.length,N;for(w=0;w<_;w++)switch(g[w].once&&this.removeListener(o,g[w].fn,void 0,!0),v){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,d);break;case 4:g[w].fn.call(g[w].context,u,d,f);break;default:if(!b)for(N=1,b=new Array(v-1);N<v;N++)b[N-1]=arguments[N];g[w].fn.apply(g[w].context,b)}}return!0},l.prototype.on=function(o,u,d){return a(this,o,u,d,!1)},l.prototype.once=function(o,u,d){return a(this,o,u,d,!0)},l.prototype.removeListener=function(o,u,d,f){var h=e?e+o:o;if(!this._events[h])return this;if(!u)return s(this,h),this;var y=this._events[h];if(y.fn)y.fn===u&&(!f||y.once)&&(!d||y.context===d)&&s(this,h);else{for(var m=0,g=[],v=y.length;m<v;m++)(y[m].fn!==u||f&&!y[m].once||d&&y[m].context!==d)&&g.push(y[m]);g.length?this._events[h]=g.length===1?g[0]:g:s(this,h)}return this},l.prototype.removeAllListeners=function(o){var u;return o?(u=e?e+o:o,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,r.exports=l}(Q3)),Q3.exports}var yde=gde();const vde=kn(yde);var e6=new vde,t6="recharts.syncMouseEvents";function r1(r){"@babel/helpers - typeof";return r1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r1(r)}function bde(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function xde(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,JB(n.key),n)}}function wde(r,t,e){return t&&xde(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function r6(r,t,e){return t=JB(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function JB(r){var t=_de(r,"string");return r1(t)=="symbol"?t:String(t)}function _de(r,t){if(r1(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(r1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var Sde=function(){function r(){bde(this,r),r6(this,"activeIndex",0),r6(this,"coordinateList",[]),r6(this,"layout","horizontal")}return wde(r,[{key:"setDetails",value:function(e){var n,i=e.coordinateList,a=i===void 0?null:i,s=e.container,l=s===void 0?null:s,c=e.layout,o=c===void 0?null:c,u=e.offset,d=u===void 0?null:u,f=e.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=o??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(this.coordinateList.length!==0)switch(e.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,o=((e=window)===null||e===void 0?void 0:e.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+c+o,f=s+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}]),r}();function kde(r,t,e){if(e==="number"&&t===!0&&Array.isArray(r)){var n=r==null?void 0:r[0],i=r==null?void 0:r[1];if(n&&i&&Jt(n)&&Jt(i))return!0}return!1}function Nde(r,t,e,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:r==="horizontal"?t.x-i:e.left+.5,y:r==="horizontal"?e.top+.5:t.y-i,width:r==="horizontal"?n:e.width-1,height:r==="horizontal"?e.height-1:n}}function ZB(r){var t=r.cx,e=r.cy,n=r.radius,i=r.startAngle,a=r.endAngle,s=$a(t,e,n,i),l=$a(t,e,n,a);return{points:[s,l],cx:t,cy:e,radius:n,startAngle:i,endAngle:a}}function Ede(r,t,e){var n,i,a,s;if(r==="horizontal")n=t.x,a=n,i=e.top,s=e.top+e.height;else if(r==="vertical")i=t.y,s=i,n=e.left,a=e.left+e.width;else if(t.cx!=null&&t.cy!=null)if(r==="centric"){var l=t.cx,c=t.cy,o=t.innerRadius,u=t.outerRadius,d=t.angle,f=$a(l,c,o,d),h=$a(l,c,u,d);n=f.x,i=f.y,a=h.x,s=h.y}else return ZB(t);return[{x:n,y:i},{x:a,y:s}]}function n1(r){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n1(r)}function QM(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function gv(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(e),!0).forEach(function(n){jde(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):QM(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function jde(r,t,e){return t=Ade(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Ade(r){var t=Tde(r,"string");return n1(t)=="symbol"?t:String(t)}function Tde(r,t){if(n1(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(n1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Cde(r){var t=r.element,e=r.tooltipEventType,n=r.isActive,i=r.activeCoordinate,a=r.activePayload,s=r.offset,l=r.activeTooltipIndex,c=r.tooltipAxisBandSize,o=r.layout,u=r.chartName;if(!t||!t.props.cursor||!n||!i||u!=="ScatterChart"&&e!=="axis")return null;var d,f=tg;if(u==="ScatterChart")d=i,f=mce;else if(u==="BarChart")d=Nde(o,i,s,c),f=Tk;else if(o==="radial"){var h=ZB(i),y=h.cx,m=h.cy,g=h.radius,v=h.startAngle,b=h.endAngle;d={cx:y,cy:m,startAngle:v,endAngle:b,innerRadius:g,outerRadius:g},f=yB}else d={points:Ede(o,i,s)},f=tg;var w=gv(gv(gv(gv({stroke:"#ccc",pointerEvents:"none"},s),d),rn(t.props.cursor,!1)),{},{payload:a,payloadIndex:l,className:"recharts-tooltip-cursor"});return fe.isValidElement(t.props.cursor)?fe.cloneElement(t.props.cursor,w):fe.createElement(f,w)}var Ode=["item"],Pde=["children","className","width","height","style","compact","title","desc"];function _p(r){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(r)}function ng(){return ng=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ng.apply(this,arguments)}function eI(r,t){return Rde(r)||Ide(r,t)||e$(r,t)||Mde()}function Mde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ide(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var n,i,a,s,l=[],c=!0,o=!1;try{if(a=(e=e.call(r)).next,t!==0)for(;!(c=(n=a.call(e)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){o=!0,i=u}finally{try{if(!c&&e.return!=null&&(s=e.return(),Object(s)!==s))return}finally{if(o)throw i}}return l}}function Rde(r){if(Array.isArray(r))return r}function tI(r,t){if(r==null)return{};var e=Fde(r,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function Fde(r,t){if(r==null)return{};var e={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(e[i]=r[i]);return e}function Lde(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Dde(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,t$(n.key),n)}}function Bde(r,t,e){return t&&Dde(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function $de(r,t,e){return t=Vb(t),Ude(r,QB()?Reflect.construct(t,e||[],Vb(r).constructor):t.apply(r,e))}function Ude(r,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pn(r)}function QB(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QB=function(){return!!r})()}function Vb(r){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vb(r)}function pn(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function zde(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&a8(r,t)}function a8(r,t){return a8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a8(r,t)}function Sp(r){return Wde(r)||Hde(r)||e$(r)||qde()}function qde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e$(r,t){if(r){if(typeof r=="string")return s8(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return s8(r,t)}}function Hde(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Wde(r){if(Array.isArray(r))return s8(r)}function s8(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function rI(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),e.push.apply(e,n)}return e}function Rt(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(e),!0).forEach(function(n){Lr(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):rI(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function Lr(r,t,e){return t=t$(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function t$(r){var t=Vde(r,"string");return _p(t)=="symbol"?t:String(t)}function Vde(r,t){if(_p(r)!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}var Gde={xAxis:["bottom","top"],yAxis:["left","right"]},Xde={width:"100%",height:"100%"},r$={x:0,y:0};function yv(r){return r}var Kde=function(t,e){return e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius},Yde=function(t,e,n,i){var a=e.find(function(u){return u&&u.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,l=i.radius;return Rt(Rt(Rt({},i),$a(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,o=i.angle;return Rt(Rt(Rt({},i),$a(i.cx,i.cy,c,o)),{},{angle:o,radius:c})}return r$},Qx=function(t,e){var n=e.graphicalItems,i=e.dataStartIndex,a=e.dataEndIndex,s=(n??[]).reduce(function(l,c){var o=c.props.data;return o&&o.length?[].concat(Sp(l),Sp(o)):l},[]);return s.length>0?s:t&&t.length&&Jt(i)&&Jt(a)?t.slice(i,a+1):[]};function n$(r){return r==="number"?[0,"auto"]:void 0}var o8=function(t,e,n,i){var a=t.graphicalItems,s=t.tooltipAxis,l=Qx(e,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,o){var u,d=(u=o.props.data)!==null&&u!==void 0?u:e;d&&t.dataStartIndex+t.dataEndIndex!==0&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(s.dataKey&&!s.allowDuplicatedCategory){var h=d===void 0?l:d;f=rb(h,s.dataKey,i)}else f=d&&d[n]||l[n];return f?[].concat(Sp(c),[pB(o,f)]):c},[])},nI=function(t,e,n,i){var a=i||{x:t.chartX,y:t.chartY},s=Kde(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,o=t.tooltipTicks,u=Zae(s,l,o,c);if(u>=0&&o){var d=o[u]&&o[u].value,f=o8(t,e,u,d),h=Yde(n,l,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:h}}return null},Jde=function(t,e){var n=e.axes,i=e.graphicalItems,a=e.axisType,s=e.axisIdKey,l=e.stackGroups,c=e.dataStartIndex,o=e.dataEndIndex,u=t.layout,d=t.children,f=t.stackOffset,h=fB(u,a);return n.reduce(function(y,m){var g,v=m.props,b=v.type,w=v.dataKey,_=v.allowDataOverflow,N=v.allowDuplicatedCategory,P=v.scale,M=v.ticks,A=v.includeHidden,F=m.props[s];if(y[F])return y;var H=Qx(t.data,{graphicalItems:i.filter(function(B){return B.props[s]===F}),dataStartIndex:c,dataEndIndex:o}),z=H.length,U,O,L;kde(m.props.domain,_,b)&&(U=OS(m.props.domain,null,_),h&&(b==="number"||P!=="auto")&&(L=eg(H,w,"category")));var C=n$(b);if(!U||U.length===0){var k,j=(k=m.props.domain)!==null&&k!==void 0?k:C;if(w){if(U=eg(H,w,b),b==="category"&&h){var E=eZ(U);N&&E?(O=U,U=Db(0,z)):N||(U=mP(j,U,m).reduce(function(B,K){return B.indexOf(K)>=0?B:[].concat(Sp(B),[K])},[]))}else if(b==="category")N?U=U.filter(function(B){return B!==""&&!mn(B)}):U=mP(j,U,m).reduce(function(B,K){return B.indexOf(K)>=0||K===""||mn(K)?B:[].concat(Sp(B),[K])},[]);else if(b==="number"){var T=nse(H,i.filter(function(B){return B.props[s]===F&&(A||!B.props.hide)}),w,a,u);T&&(U=T)}h&&(b==="number"||P!=="auto")&&(L=eg(H,w,"category"))}else h?U=Db(0,z):l&&l[F]&&l[F].hasStack&&b==="number"?U=f==="expand"?[0,1]:hB(l[F].stackGroups,c,o):U=uB(H,i.filter(function(B){return B.props[s]===F&&(A||!B.props.hide)}),b,u,!0);if(b==="number")U=i8(d,U,F,a,M),j&&(U=OS(j,U,_));else if(b==="category"&&j){var R=j,V=U.every(function(B){return R.indexOf(B)>=0});V&&(U=R)}}return Rt(Rt({},y),{},Lr({},F,Rt(Rt({},m.props),{},{axisType:a,domain:U,categoricalDomain:L,duplicateDomain:O,originalDomain:(g=m.props.domain)!==null&&g!==void 0?g:C,isCategorical:h,layout:u})))},{})},Zde=function(t,e){var n=e.graphicalItems,i=e.Axis,a=e.axisType,s=e.axisIdKey,l=e.stackGroups,c=e.dataStartIndex,o=e.dataEndIndex,u=t.layout,d=t.children,f=Qx(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:o}),h=f.length,y=fB(u,a),m=-1;return n.reduce(function(g,v){var b=v.props[s],w=n$("number");if(!g[b]){m++;var _;return y?_=Db(0,h):l&&l[b]&&l[b].hasStack?(_=hB(l[b].stackGroups,c,o),_=i8(d,_,b,a)):(_=OS(w,uB(f,n.filter(function(N){return N.props[s]===b&&!N.props.hide}),"number",u),i.defaultProps.allowDataOverflow),_=i8(d,_,b,a)),Rt(Rt({},g),{},Lr({},b,Rt(Rt({axisType:a},i.defaultProps),{},{hide:!0,orientation:el(Gde,"".concat(a,".").concat(m%2),null),domain:_,originalDomain:w,isCategorical:y,layout:u})))}return g},{})},Qde=function(t,e){var n=e.axisType,i=n===void 0?"xAxis":n,a=e.AxisComp,s=e.graphicalItems,l=e.stackGroups,c=e.dataStartIndex,o=e.dataEndIndex,u=t.children,d="".concat(i,"Id"),f=$l(u,a),h={};return f&&f.length?h=Jde(t,{axes:f,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:o}):s&&s.length&&(h=Zde(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:o})),h},ehe=function(t){var e=Lf(t),n=vu(e,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:rk(n,function(i){return i.coordinate}),tooltipAxis:e,tooltipAxisBandSize:Tb(e,n)}},iI=function(t){var e=t.children,n=t.defaultShowTooltip,i=_o(e,vp),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},the=function(t){return!t||!t.length?!1:t.some(function(e){var n=bu(e&&e.type);return n&&n.indexOf("Bar")>=0})},aI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rhe=function(t,e){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,o=n.width,u=n.height,d=n.children,f=n.margin||{},h=_o(d,vp),y=_o(d,up),m=Object.keys(c).reduce(function(N,P){var M=c[P],A=M.orientation;return!M.mirror&&!M.hide?Rt(Rt({},N),{},Lr({},A,N[A]+M.width)):N},{left:f.left||0,right:f.right||0}),g=Object.keys(s).reduce(function(N,P){var M=s[P],A=M.orientation;return!M.mirror&&!M.hide?Rt(Rt({},N),{},Lr({},A,el(N,"".concat(A))+M.height)):N},{top:f.top||0,bottom:f.bottom||0}),v=Rt(Rt({},g),m),b=v.bottom;h&&(v.bottom+=h.props.height||vp.defaultProps.height),y&&e&&(v=tse(v,i,n,e));var w=o-v.left-v.right,_=u-v.top-v.bottom;return Rt(Rt({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(_,0)})},i$=function(t){var e,n=t.chartName,i=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,l=t.validateTooltipEventTypes,c=l===void 0?["axis"]:l,o=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,v){var b=v.graphicalItems,w=v.stackGroups,_=v.offset,N=v.updateId,P=v.dataStartIndex,M=v.dataEndIndex,A=g.barSize,F=g.layout,H=g.barGap,z=g.barCategoryGap,U=g.maxBarSize,O=aI(F),L=O.numericAxisName,C=O.cateAxisName,k=the(b),j=k&&Qae({barSize:A,stackGroups:w}),E=[];return b.forEach(function(T,R){var V=Qx(g.data,{graphicalItems:[T],dataStartIndex:P,dataEndIndex:M}),B=T.props,K=B.dataKey,Z=B.maxBarSize,ne=T.props["".concat(L,"Id")],G=T.props["".concat(C,"Id")],te={},I=o.reduce(function(ke,Pe){var Re=v["".concat(Pe.axisType,"Map")],Ie=T.props["".concat(Pe.axisType,"Id")];Re&&Re[Ie]||Pe.axisType==="zAxis"||vh();var qe=Re[Ie];return Rt(Rt({},ke),{},Lr(Lr({},Pe.axisType,qe),"".concat(Pe.axisType,"Ticks"),vu(qe)))},te),D=I[C],X=I["".concat(C,"Ticks")],Q=w&&w[ne]&&w[ne].hasStack&&mse(T,w[ne].stackGroups),re=bu(T.type).indexOf("Bar")>=0,oe=Tb(D,X),se=[];if(re){var he,le,de=mn(Z)?U:Z,ve=(he=(le=Tb(D,X,!0))!==null&&le!==void 0?le:de)!==null&&he!==void 0?he:0;se=ese({barGap:H,barCategoryGap:z,bandSize:ve!==oe?ve:oe,sizeList:j[G],maxBarSize:de}),ve!==oe&&(se=se.map(function(ke){return Rt(Rt({},ke),{},{position:Rt(Rt({},ke.position),{},{offset:ke.position.offset-ve/2})})}))}var ge=T&&T.type&&T.type.getComposedData;ge&&E.push({props:Rt(Rt({},ge(Rt(Rt({},I),{},{displayedData:V,props:g,dataKey:K,item:T,bandSize:oe,barPosition:se,offset:_,stackedData:Q,layout:F,dataStartIndex:P,dataEndIndex:M}))),{},Lr(Lr(Lr({key:T.key||"item-".concat(R)},L,I[L]),C,I[C]),"animationId",N)),childIndex:dZ(T,g.children),item:T})}),E},y=function(g,v){var b=g.props,w=g.dataStartIndex,_=g.dataEndIndex,N=g.updateId;if(!TT({props:b}))return null;var P=b.children,M=b.layout,A=b.stackOffset,F=b.data,H=b.reverseStackOrder,z=aI(M),U=z.numericAxisName,O=z.cateAxisName,L=$l(P,i),C=dse(F,L,"".concat(U,"Id"),"".concat(O,"Id"),A,H),k=o.reduce(function(V,B){var K="".concat(B.axisType,"Map");return Rt(Rt({},V),{},Lr({},K,Qde(b,Rt(Rt({},B),{},{graphicalItems:L,stackGroups:B.axisType===U&&C,dataStartIndex:w,dataEndIndex:_}))))},{}),j=rhe(Rt(Rt({},k),{},{props:b,graphicalItems:L}),v==null?void 0:v.legendBBox);Object.keys(k).forEach(function(V){k[V]=d(b,k[V],j,V.replace("Map",""),n)});var E=k["".concat(O,"Map")],T=ehe(E),R=h(b,Rt(Rt({},k),{},{dataStartIndex:w,dataEndIndex:_,updateId:N,graphicalItems:L,stackGroups:C,offset:j}));return Rt(Rt({formattedGraphicalItems:R,graphicalItems:L,offset:j,stackGroups:C},T),k)};return e=function(m){zde(g,m);function g(v){var b,w,_;return Lde(this,g),_=$de(this,g,[v]),Lr(pn(_),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Lr(pn(_),"accessibilityManager",new Sde),Lr(pn(_),"handleLegendBBoxUpdate",function(N){if(N){var P=_.state,M=P.dataStartIndex,A=P.dataEndIndex,F=P.updateId;_.setState(Rt({legendBBox:N},y({props:_.props,dataStartIndex:M,dataEndIndex:A,updateId:F},Rt(Rt({},_.state),{},{legendBBox:N}))))}}),Lr(pn(_),"handleReceiveSyncEvent",function(N,P,M){if(_.props.syncId===N){if(M===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(P)}}),Lr(pn(_),"handleBrushChange",function(N){var P=N.startIndex,M=N.endIndex;if(P!==_.state.dataStartIndex||M!==_.state.dataEndIndex){var A=_.state.updateId;_.setState(function(){return Rt({dataStartIndex:P,dataEndIndex:M},y({props:_.props,dataStartIndex:P,dataEndIndex:M,updateId:A},_.state))}),_.triggerSyncEvent({dataStartIndex:P,dataEndIndex:M})}}),Lr(pn(_),"handleMouseEnter",function(N){var P=_.getMouseInfo(N);if(P){var M=Rt(Rt({},P),{},{isTooltipActive:!0});_.setState(M),_.triggerSyncEvent(M);var A=_.props.onMouseEnter;Zr(A)&&A(M,N)}}),Lr(pn(_),"triggeredAfterMouseMove",function(N){var P=_.getMouseInfo(N),M=P?Rt(Rt({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(M),_.triggerSyncEvent(M);var A=_.props.onMouseMove;Zr(A)&&A(M,N)}),Lr(pn(_),"handleItemMouseEnter",function(N){_.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Lr(pn(_),"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Lr(pn(_),"handleMouseMove",function(N){N.persist(),_.throttleTriggeredAfterMouseMove(N)}),Lr(pn(_),"handleMouseLeave",function(N){_.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};_.setState(P),_.triggerSyncEvent(P);var M=_.props.onMouseLeave;Zr(M)&&M(P,N)}),Lr(pn(_),"handleOuterEvent",function(N){var P=fZ(N),M=el(_.props,"".concat(P));if(P&&Zr(M)){var A,F;/.*touch.*/i.test(P)?F=_.getMouseInfo(N.changedTouches[0]):F=_.getMouseInfo(N),M((A=F)!==null&&A!==void 0?A:{},N)}}),Lr(pn(_),"handleClick",function(N){var P=_.getMouseInfo(N);if(P){var M=Rt(Rt({},P),{},{isTooltipActive:!0});_.setState(M),_.triggerSyncEvent(M);var A=_.props.onClick;Zr(A)&&A(M,N)}}),Lr(pn(_),"handleMouseDown",function(N){var P=_.props.onMouseDown;if(Zr(P)){var M=_.getMouseInfo(N);P(M,N)}}),Lr(pn(_),"handleMouseUp",function(N){var P=_.props.onMouseUp;if(Zr(P)){var M=_.getMouseInfo(N);P(M,N)}}),Lr(pn(_),"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Lr(pn(_),"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseDown(N.changedTouches[0])}),Lr(pn(_),"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&_.handleMouseUp(N.changedTouches[0])}),Lr(pn(_),"triggerSyncEvent",function(N){_.props.syncId!==void 0&&e6.emit(t6,_.props.syncId,N,_.eventEmitterSymbol)}),Lr(pn(_),"applySyncEvent",function(N){var P=_.props,M=P.layout,A=P.syncMethod,F=_.state.updateId,H=N.dataStartIndex,z=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)_.setState(Rt({dataStartIndex:H,dataEndIndex:z},y({props:_.props,dataStartIndex:H,dataEndIndex:z,updateId:F},_.state)));else if(N.activeTooltipIndex!==void 0){var U=N.chartX,O=N.chartY,L=N.activeTooltipIndex,C=_.state,k=C.offset,j=C.tooltipTicks;if(!k)return;if(typeof A=="function")L=A(j,N);else if(A==="value"){L=-1;for(var E=0;E<j.length;E++)if(j[E].value===N.activeLabel){L=E;break}}var T=Rt(Rt({},k),{},{x:k.left,y:k.top}),R=Math.min(U,T.x+T.width),V=Math.min(O,T.y+T.height),B=j[L]&&j[L].value,K=o8(_.state,_.props.data,L),Z=j[L]?{x:M==="horizontal"?j[L].coordinate:R,y:M==="horizontal"?V:j[L].coordinate}:r$;_.setState(Rt(Rt({},N),{},{activeLabel:B,activeCoordinate:Z,activePayload:K,activeTooltipIndex:L}))}else _.setState(N)}),Lr(pn(_),"renderCursor",function(N){var P,M=_.state,A=M.isTooltipActive,F=M.activeCoordinate,H=M.activePayload,z=M.offset,U=M.activeTooltipIndex,O=M.tooltipAxisBandSize,L=_.getTooltipEventType(),C=(P=N.props.active)!==null&&P!==void 0?P:A,k=_.props.layout,j=N.key||"_recharts-cursor";return rt.createElement(Cde,{key:j,activeCoordinate:F,activePayload:H,activeTooltipIndex:U,chartName:n,element:N,isActive:C,layout:k,offset:z,tooltipAxisBandSize:O,tooltipEventType:L})}),Lr(pn(_),"renderPolarAxis",function(N,P,M){var A=el(N,"type.axisType"),F=el(_.state,"".concat(A,"Map")),H=F&&F[N.props["".concat(A,"Id")]];return fe.cloneElement(N,Rt(Rt({},H),{},{className:A,key:N.key||"".concat(P,"-").concat(M),ticks:vu(H,!0)}))}),Lr(pn(_),"renderPolarGrid",function(N){var P=N.props,M=P.radialLines,A=P.polarAngles,F=P.polarRadius,H=_.state,z=H.radiusAxisMap,U=H.angleAxisMap,O=Lf(z),L=Lf(U),C=L.cx,k=L.cy,j=L.innerRadius,E=L.outerRadius;return fe.cloneElement(N,{polarAngles:Array.isArray(A)?A:vu(L,!0).map(function(T){return T.coordinate}),polarRadius:Array.isArray(F)?F:vu(O,!0).map(function(T){return T.coordinate}),cx:C,cy:k,innerRadius:j,outerRadius:E,key:N.key||"polar-grid",radialLines:M})}),Lr(pn(_),"renderLegend",function(){var N=_.state.formattedGraphicalItems,P=_.props,M=P.children,A=P.width,F=P.height,H=_.props.margin||{},z=A-(H.left||0)-(H.right||0),U=lB({children:M,formattedGraphicalItems:N,legendWidth:z,legendContent:u});if(!U)return null;var O=U.item,L=tI(U,Ode);return fe.cloneElement(O,Rt(Rt({},L),{},{chartWidth:A,chartHeight:F,margin:H,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Lr(pn(_),"renderTooltip",function(){var N,P=_.props,M=P.children,A=P.accessibilityLayer,F=_o(M,So);if(!F)return null;var H=_.state,z=H.isTooltipActive,U=H.activeCoordinate,O=H.activePayload,L=H.activeLabel,C=H.offset,k=(N=F.props.active)!==null&&N!==void 0?N:z;return fe.cloneElement(F,{viewBox:Rt(Rt({},C),{},{x:C.left,y:C.top}),active:k,label:L,payload:k?O:[],coordinate:U,accessibilityLayer:A})}),Lr(pn(_),"renderBrush",function(N){var P=_.props,M=P.margin,A=P.data,F=_.state,H=F.offset,z=F.dataStartIndex,U=F.dataEndIndex,O=F.updateId;return fe.cloneElement(N,{key:N.key||"_recharts-brush",onChange:dv(_.handleBrushChange,N.props.onChange),data:A,x:Jt(N.props.x)?N.props.x:H.left,y:Jt(N.props.y)?N.props.y:H.top+H.height+H.brushBottom-(M.bottom||0),width:Jt(N.props.width)?N.props.width:H.width,startIndex:z,endIndex:U,updateId:"brush-".concat(O)})}),Lr(pn(_),"renderReferenceElement",function(N,P,M){if(!N)return null;var A=pn(_),F=A.clipPathId,H=_.state,z=H.xAxisMap,U=H.yAxisMap,O=H.offset,L=N.props,C=L.xAxisId,k=L.yAxisId;return fe.cloneElement(N,{key:N.key||"".concat(P,"-").concat(M),xAxis:z[C],yAxis:U[k],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:F})}),Lr(pn(_),"renderActivePoints",function(N){var P=N.item,M=N.activePoint,A=N.basePoint,F=N.childIndex,H=N.isRange,z=[],U=P.props.key,O=P.item.props,L=O.activeDot,C=O.dataKey,k=Rt(Rt({index:F,dataKey:C,cx:M.x,cy:M.y,r:4,fill:Ak(P.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value,key:"".concat(U,"-activePoint-").concat(F)},rn(L,!1)),nb(L));return z.push(g.renderActiveDot(L,k)),A?z.push(g.renderActiveDot(L,Rt(Rt({},k),{},{cx:A.x,cy:A.y,key:"".concat(U,"-basePoint-").concat(F)}))):H&&z.push(null),z}),Lr(pn(_),"renderGraphicChild",function(N,P,M){var A=_.filterFormatItem(N,P,M);if(!A)return null;var F=_.getTooltipEventType(),H=_.state,z=H.isTooltipActive,U=H.tooltipAxis,O=H.activeTooltipIndex,L=H.activeLabel,C=_.props.children,k=_o(C,So),j=A.props,E=j.points,T=j.isRange,R=j.baseLine,V=A.item.props,B=V.activeDot,K=V.hide,Z=V.activeBar,ne=V.activeShape,G=!!(!K&&z&&k&&(B||Z||ne)),te={};F!=="axis"&&k&&k.props.trigger==="click"?te={onClick:dv(_.handleItemMouseEnter,N.props.onClick)}:F!=="axis"&&(te={onMouseLeave:dv(_.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:dv(_.handleItemMouseEnter,N.props.onMouseEnter)});var I=fe.cloneElement(N,Rt(Rt({},A.props),te));function D(Pe){return typeof U.dataKey=="function"?U.dataKey(Pe.payload):null}if(G)if(O>=0){var X,Q;if(U.dataKey&&!U.allowDuplicatedCategory){var re=typeof U.dataKey=="function"?D:"payload.".concat(U.dataKey.toString());X=rb(E,re,L),Q=T&&R&&rb(R,re,L)}else X=E==null?void 0:E[O],Q=T&&R&&R[O];if(ne||Z){var oe=N.props.activeIndex!==void 0?N.props.activeIndex:O;return[fe.cloneElement(N,Rt(Rt(Rt({},A.props),te),{},{activeIndex:oe})),null,null]}if(!mn(X))return[I].concat(Sp(_.renderActivePoints({item:A,activePoint:X,basePoint:Q,childIndex:O,isRange:T})))}else{var se,he=(se=_.getItemByXY(_.state.activeCoordinate))!==null&&se!==void 0?se:{graphicalItem:I},le=he.graphicalItem,de=le.item,ve=de===void 0?N:de,ge=le.childIndex,ke=Rt(Rt(Rt({},A.props),te),{},{activeIndex:ge});return[fe.cloneElement(ve,ke),null,null]}return T?[I,null,null]:[I,null]}),Lr(pn(_),"renderCustomized",function(N,P,M){return fe.cloneElement(N,Rt(Rt({key:"recharts-customized-".concat(M)},_.props),_.state))}),Lr(pn(_),"renderMap",{CartesianGrid:{handler:yv,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:yv},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:yv},YAxis:{handler:yv},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=v.id)!==null&&b!==void 0?b:x1("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=uD(_.triggeredAfterMouseMove,(w=v.throttleDelay)!==null&&w!==void 0?w:1e3/60),_.state={},_}return Bde(g,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,_=b.data,N=b.height,P=b.layout,M=_o(w,So);if(M){var A=M.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length)){var F=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,H=o8(this.state,_,A,F),z=this.state.tooltipTicks[A].coordinate,U=(this.state.offset.top+N)/2,O=P==="horizontal",L=O?{x:z,y:U}:{y:z,x:U},C=this.state.formattedGraphicalItems.find(function(j){var E=j.item;return E.type.name==="Scatter"});C&&(L=Rt(Rt({},L),C.props.points[A].tooltipPosition),H=C.props.points[A].tooltipPayload);var k={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:F,activePayload:H,activeCoordinate:L};this.setState(k),this.renderCursor(M),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,N;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){tS([_o(b.children,So)],[_o(this.props.children,So)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=_o(this.props.children,So);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return c.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,_=w.getBoundingClientRect(),N=Yte(_),P={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},M=_.width/w.offsetWidth||1,A=this.inRange(P.chartX,P.chartY,M);if(!A)return null;var F=this.state,H=F.xAxisMap,z=F.yAxisMap,U=this.getTooltipEventType();if(U!=="axis"&&H&&z){var O=Lf(H).scale,L=Lf(z).scale,C=O&&O.invert?O.invert(P.chartX):null,k=L&&L.invert?L.invert(P.chartY):null;return Rt(Rt({},P),{},{xValue:C,yValue:k})}var j=nI(this.state,this.props.data,this.props.layout,A);return j?Rt(Rt({},P),j):null}},{key:"inRange",value:function(b,w){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,P=b/_,M=w/_;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,F=P>=A.left&&P<=A.left+A.width&&M>=A.top&&M<=A.top+A.height;return F?{x:P,y:M}:null}var H=this.state,z=H.angleAxisMap,U=H.radiusAxisMap;if(z&&U){var O=Lf(z);return vP({x:P,y:M},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),_=_o(b,So),N={};_&&w==="axis"&&(_.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var P=nb(this.props,this.handleOuterEvent);return Rt(Rt({},P),N)}},{key:"addListener",value:function(){e6.on(t6,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){e6.removeListener(t6,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,_){for(var N=this.state.formattedGraphicalItems,P=0,M=N.length;P<M;P++){var A=N[P];if(A.item===b||A.props.key===b.key||w===bu(A.item.type)&&_===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,_=w.left,N=w.top,P=w.height,M=w.width;return rt.createElement("defs",null,rt.createElement("clipPath",{id:b},rt.createElement("rect",{x:_,y:N,height:P,width:M})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,_){var N=eI(_,2),P=N[0],M=N[1];return Rt(Rt({},w),{},Lr({},P,M.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,_){var N=eI(_,2),P=N[0],M=N[1];return Rt(Rt({},w),{},Lr({},P,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,_=w.formattedGraphicalItems,N=w.activeItem;if(_&&_.length)for(var P=0,M=_.length;P<M;P++){var A=_[P],F=A.props,H=A.item,z=bu(H.type);if(z==="Bar"){var U=(F.data||[]).find(function(k){return ace(b,k)});if(U)return{graphicalItem:A,payload:U}}else if(z==="RadialBar"){var O=(F.data||[]).find(function(k){return vP(b,k)});if(O)return{graphicalItem:A,payload:O}}else if(Yx(A,N)||Jx(A,N)||Gg(A,N)){var L=Kce({graphicalItem:A,activeTooltipItem:N,itemData:H.props.data}),C=H.props.activeIndex===void 0?L:H.props.activeIndex;return{graphicalItem:Rt(Rt({},A),{},{childIndex:C}),payload:Gg(A,N)?H.props.data[L]:A.props.data[L]}}}return null}},{key:"render",value:function(){var b=this,w;if(!TT(this))return null;var _=this.props,N=_.children,P=_.className,M=_.width,A=_.height,F=_.style,H=_.compact,z=_.title,U=_.desc,O=tI(_,Pde),L=rn(O,!1);if(H)return rt.createElement(FM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},rt.createElement(nS,ng({},L,{width:M,height:A,title:z,desc:U}),this.renderClipPath(),OT(N,this.renderMap)));if(this.props.accessibilityLayer){var C,k;L.tabIndex=(C=this.props.tabIndex)!==null&&C!==void 0?C:0,L.role=(k=this.props.role)!==null&&k!==void 0?k:"application",L.onKeyDown=function(E){b.accessibilityManager.keyboardEvent(E)},L.onFocus=function(){b.accessibilityManager.focus()}}var j=this.parseEventsOfWrapper();return rt.createElement(FM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},rt.createElement("div",ng({className:Dn("recharts-wrapper",P),style:Rt({position:"relative",cursor:"default",width:M,height:A},F)},j,{ref:function(T){b.container=T},role:(w=L.role)!==null&&w!==void 0?w:"region"}),rt.createElement(nS,ng({},L,{width:M,height:A,title:z,desc:U,style:Xde}),this.renderClipPath(),OT(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),g}(fe.Component),Lr(e,"displayName",n),Lr(e,"defaultProps",Rt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Lr(e,"getDerivedStateFromProps",function(m,g){var v=m.dataKey,b=m.data,w=m.children,_=m.width,N=m.height,P=m.layout,M=m.stackOffset,A=m.margin,F=g.dataStartIndex,H=g.dataEndIndex;if(g.updateId===void 0){var z=iI(m);return Rt(Rt(Rt({},z),{},{updateId:0},y(Rt(Rt({props:m},z),{},{updateId:0}),g)),{},{prevDataKey:v,prevData:b,prevWidth:_,prevHeight:N,prevLayout:P,prevStackOffset:M,prevMargin:A,prevChildren:w})}if(v!==g.prevDataKey||b!==g.prevData||_!==g.prevWidth||N!==g.prevHeight||P!==g.prevLayout||M!==g.prevStackOffset||!z0(A,g.prevMargin)){var U=iI(m),O={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},L=Rt(Rt({},nI(g,b,P)),{},{updateId:g.updateId+1}),C=Rt(Rt(Rt({},U),O),L);return Rt(Rt(Rt({},C),y(Rt({props:m},C),g)),{},{prevDataKey:v,prevData:b,prevWidth:_,prevHeight:N,prevLayout:P,prevStackOffset:M,prevMargin:A,prevChildren:w})}if(!tS(w,g.prevChildren)){var k,j,E,T,R=_o(w,vp),V=R&&(k=(j=R.props)===null||j===void 0?void 0:j.startIndex)!==null&&k!==void 0?k:F,B=R&&(E=(T=R.props)===null||T===void 0?void 0:T.endIndex)!==null&&E!==void 0?E:H,K=V!==F||B!==H,Z=!mn(b),ne=Z&&!K?g.updateId:g.updateId+1;return Rt(Rt({updateId:ne},y(Rt(Rt({props:m},g),{},{updateId:ne,dataStartIndex:V,dataEndIndex:B}),g)),{},{prevChildren:w,dataStartIndex:V,dataEndIndex:B})}return null}),Lr(e,"renderActiveDot",function(m,g){var v;return fe.isValidElement(m)?v=fe.cloneElement(m,g):Zr(m)?v=m(g):v=rt.createElement(Ck,g),rt.createElement(wi,{className:"recharts-active-dot",key:g.key},v)}),e},a$=i$({chartName:"BarChart",GraphicalChild:Nc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Kf},{axisType:"yAxis",AxisComp:Yf}],formatAxisMap:IB}),s$=i$({chartName:"AreaChart",GraphicalChild:Du,axisComponents:[{axisType:"xAxis",AxisComp:Kf},{axisType:"yAxis",AxisComp:Yf}],formatAxisMap:IB});function Bk(){try{return li()}catch{const[t,e]=fe.useState([]),[n,i]=fe.useState(!0),[a,s]=fe.useState(null),[l,c]=fe.useState(null),o=async()=>{i(!0),s(null);try{const{data:{user:d},error:f}=await $e.auth.getUser();if(f)throw console.error("Auth error:",f),f;if(!d)throw console.error("No authenticated user found"),new Error("User not authenticated");console.log("Authenticated user:",d.id);const{data:h,error:y}=await $e.from("companies").select(`
            *,
            company_users!inner (
              role,
              is_active
            )
          `).eq("company_users.user_id",d.id).eq("company_users.is_active",!0).order("created_at",{ascending:!1});if(y)throw console.error("Supabase query error:",y),y;console.log("Fetched companies data:",h);const m=(h==null?void 0:h.map(g=>{var v;return{...g,role:((v=g.company_users[0])==null?void 0:v.role)||"cashier"}}))||[];console.log("Transformed companies data:",m),m.length===0?(console.log("No companies found for user"),Oe("You are not associated with any companies. Create a new company or ask to be added to one.",{icon:"",duration:5e3})):l||c(m[0]),e(m)}catch(d){console.error("Error in fetchCompanies:",d);const f=d instanceof Error?d.message:"Failed to fetch companies";s(f),Oe.error(f)}finally{i(!1)}};return fe.useEffect(()=>{o()},[]),{companies:t,loading:n,error:a,addCompany:async d=>{i(!0),s(null);try{const{data:{user:f}}=await $e.auth.getUser();if(!f){Oe.error("You must be logged in to create a company");return}const{data:h,error:y}=await $e.rpc("create_company",{p_name:d.name||"",p_user_id:f.id,p_legal_name:d.legal_name||"",p_tax_number:d.tax_number||"",p_email:d.email||"",p_phone:d.phone||"",p_website:d.website||"",p_logo_url:d.logo_url||"",p_notes:d.notes||"",p_address_street:d.address_street||"",p_address_city:d.address_city||"",p_address_state:d.address_state||"",p_address_postal_code:d.address_postal_code||"",p_address_country:d.address_country||""});if(h&&!y){const{error:b}=await $e.from("company_users").update({role:"owner"}).eq("company_id",h).eq("user_id",f.id);b&&console.error("Failed to set user role:",b)}if(y){Oe.error(y.message||"Failed to create company");return}if(!h)throw new Error("No company ID returned from RPC");const{data:m,error:g}=await $e.from("companies").select("*").eq("id",h).single();if(g)throw g;if(!m)throw new Error("Could not fetch newly created company");const v={...m,role:"owner"};return e(b=>[v,...b]),c(v),Oe.success("Company added successfully"),v}catch(f){const h=(f==null?void 0:f.message)||JSON.stringify(f)||"Failed to add company";throw s(h),Oe.error(`Failed to add company: ${h}`),f}finally{i(!1)}},fetchCompanies:o,selectedCompany:l,setSelectedCompany:c,operableCompanies:t}}}var vv,nhe=new Uint8Array(16);function ihe(){if(!vv&&(vv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!vv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vv(nhe)}const ahe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function she(r){return typeof r=="string"&&ahe.test(r)}var Ra=[];for(var n6=0;n6<256;++n6)Ra.push((n6+256).toString(16).substr(1));function ohe(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(Ra[r[t+0]]+Ra[r[t+1]]+Ra[r[t+2]]+Ra[r[t+3]]+"-"+Ra[r[t+4]]+Ra[r[t+5]]+"-"+Ra[r[t+6]]+Ra[r[t+7]]+"-"+Ra[r[t+8]]+Ra[r[t+9]]+"-"+Ra[r[t+10]]+Ra[r[t+11]]+Ra[r[t+12]]+Ra[r[t+13]]+Ra[r[t+14]]+Ra[r[t+15]]).toLowerCase();if(!she(e))throw TypeError("Stringified UUID is invalid");return e}function $k(r,t,e){r=r||{};var n=r.random||(r.rng||ihe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ohe(n)}const Gb=({isOpen:r,onClose:t,onSuccess:e,title:n="Create New Company"})=>{const{theme:i}=Vr(),a=i==="dark",{addCompany:s}=Bk(),{fetchCompanies:l}=li(),[c,o]=fe.useState(!1),[u,d]=fe.useState(!1),[f,h]=fe.useState(null),[y,m]=fe.useState(null),g=fe.useRef(null),[v,b]=fe.useState({name:"",legal_name:"",tax_number:"",email:"",phone:"",website:"",logo_url:null,address_street:"",address_city:"",address_state:"",address_postal_code:"",address_country:""}),w=(F,H)=>{b(z=>({...z,[F]:H}))},_=F=>{var U;const H=(U=F.target.files)==null?void 0:U[0];if(!H)return;if(!H.type.startsWith("image/")){Oe.error("Please upload an image file");return}if(H.size>2*1024*1024){Oe.error("File size should be less than 2MB");return}h(H);const z=new FileReader;z.onloadend=()=>{m(z.result)},z.readAsDataURL(H)},N=async()=>{if(!f)return null;try{d(!0);const F=f.name.split(".").pop(),z=`company-logos/${`${$k()}.${F}`}`,{error:U}=await $e.storage.from("company-logos").upload(z,f,{cacheControl:"3600",upsert:!1});if(U)throw U;const{data:{publicUrl:O}}=$e.storage.from("company-logos").getPublicUrl(z);return O}catch(F){return console.error("Error uploading logo:",F),Oe.error("Failed to upload logo"),null}finally{d(!1)}},P=()=>{b({name:"",legal_name:"",tax_number:"",email:"",phone:"",website:"",logo_url:null,address_street:"",address_city:"",address_state:"",address_postal_code:"",address_country:""}),h(null),m(null)},M=async F=>{if(F.preventDefault(),!(c||u)){o(!0);try{if(!s)throw new Error("Company creation function is not available");let H=null;f&&(H=await N());const{data:{user:z}}=await $e.auth.getUser(),U=z==null?void 0:z.id;if(!U)throw new Error("User session is not available");const{data:O}=await $e.rpc("create_company",{p_name:v.name,p_user_id:U,p_legal_name:v.legal_name,p_tax_number:v.tax_number,p_email:v.email,p_phone:v.phone,p_website:v.website,p_address_street:v.address_street,p_address_city:v.address_city,p_address_state:v.address_state,p_address_postal_code:v.address_postal_code,p_address_country:v.address_country}),L=typeof O=="object"&&O!==null?O.id:null;L&&(await kV(L)||console.error("Failed to initialize tax settings for company:",L)),await l(),P(),t(),e&&e(),Oe.success(`${v.name} has been created successfully`)}catch(H){console.error("Error creating company:",H),Oe.error("Failed to create company")}finally{o(!1)}}},A=()=>{P(),t()};return r?p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:A}),p.jsxs("div",{className:`relative w-full max-w-2xl transform rounded-lg ${a?"bg-gray-800":"bg-white"} p-6 shadow-xl transition-all`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ba,{className:"w-6 h-6 mr-2"}),p.jsx("h2",{className:"text-xl font-semibold",children:n})]}),p.jsx("button",{onClick:A,className:`rounded-full p-1 hover:bg-gray-100 ${a?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:p.jsx(Li,{className:"w-5 h-5"})})]}),p.jsxs("form",{onSubmit:M,className:"space-y-4",children:[p.jsxs("div",{className:"flex flex-col items-center mb-6",children:[p.jsx("div",{className:"relative w-32 h-32 mb-4 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:y?p.jsx("img",{src:y,alt:"Company logo preview",className:"w-full h-full object-cover"}):p.jsx("div",{className:"text-gray-400",children:p.jsx(Ba,{className:"w-12 h-12 mx-auto"})})}),p.jsx("input",{type:"file",ref:g,onChange:_,accept:"image/*",className:"hidden"}),p.jsxs(_t,{type:"button",variant:"secondary",size:"sm",onClick:()=>{var F;return(F=g.current)==null?void 0:F.click()},disabled:u,children:[p.jsx(vx,{className:"w-4 h-4 mr-2"}),u?"Uploading...":"Upload Logo"]}),p.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"JPG, PNG (max 2MB)"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Company Name *"}),p.jsx("input",{type:"text",value:v.name,onChange:F=>w("name",F.target.value),required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter company name"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Legal Name"}),p.jsx("input",{type:"text",value:v.legal_name,onChange:F=>w("legal_name",F.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter legal name"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"GST Number"}),p.jsx("input",{type:"text",value:v.tax_number,onChange:F=>w("tax_number",F.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"15AABCU9603R1ZX"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Website"}),p.jsx("input",{type:"url",value:v.website,onChange:F=>w("website",F.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"https://example.com"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),p.jsx("input",{type:"email",value:v.email,onChange:F=>w("email",F.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"company@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),p.jsx("input",{type:"tel",value:v.phone,onChange:F=>w("phone",F.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"+91 98765 43210"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Street Address"}),p.jsx("input",{type:"text",value:v.address_street,onChange:F=>w("address_street",F.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter street address"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"City"}),p.jsx("input",{type:"text",value:v.address_city,onChange:F=>w("address_city",F.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter city"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"State"}),p.jsx("input",{type:"text",value:v.address_state,onChange:F=>w("address_state",F.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter state"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Postal Code"}),p.jsx("input",{type:"text",value:v.address_postal_code,onChange:F=>w("address_postal_code",F.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter postal code"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Country"}),p.jsx("input",{type:"text",value:v.address_country,onChange:F=>w("address_country",F.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter country"})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[p.jsx(_t,{variant:"ghost",onClick:A,disabled:c,type:"button",children:"Cancel"}),p.jsx(_t,{variant:"primary",type:"submit",disabled:c,leftIcon:c?void 0:p.jsx(gx,{className:"w-4 h-4"}),children:c?p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):"Add Company"})]})]})]})]})}):null},kp=({disabled:r=!1,compact:t=!1})=>{const{theme:e}=Vr(),n=e==="dark",{companies:i,selectedCompany:a,setSelectedCompany:s,loading:l,fetchCompanies:c}=li(),[o,u]=fe.useState(!1),[d,f]=fe.useState(!1),h=fe.useRef(null),y=window.innerWidth<768;return fe.useEffect(()=>{const m=g=>{h.current&&!h.current.contains(g.target)&&u(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),fe.useEffect(()=>{const m=()=>{o&&window.innerWidth<768&&u(!1)};return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[o]),l?p.jsx("div",{className:`h-10 px-3 flex items-center rounded-md ${n?"bg-gray-700":"bg-gray-100"}`,children:p.jsx("div",{className:"animate-pulse h-4 w-32 bg-gray-400 rounded"})}):i.length===0?p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>f(!0),className:`h-10 px-3 flex items-center rounded-md ${n?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-800"} transition-colors`,children:[p.jsx(Qs,{className:`w-4 h-4 mr-2 ${n?"text-white":"text-gray-600"}`}),p.jsx("span",{className:n?"text-white":"text-gray-800",children:t||y?"Add":"Add Company"})]}),p.jsx(Gb,{isOpen:d,onClose:()=>f(!1),onSuccess:()=>{f(!1),c()},title:"Create New Company"})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"relative",ref:h,children:[p.jsxs("button",{onClick:()=>!r&&u(!o),disabled:r,className:`h-10 px-3 flex items-center justify-between rounded-md ${r?"opacity-50 cursor-not-allowed ":""} ${n?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-800"} transition-colors ${t||y?"min-w-[120px]":"min-w-[200px]"}`,children:[p.jsxs("div",{className:"flex items-center truncate",children:[p.jsx(Ba,{className:`w-4 h-4 mr-2 flex-shrink-0 ${n?"text-white":"text-gray-600"}`}),p.jsxs("div",{className:"truncate",children:[p.jsx("div",{className:`truncate ${n?"text-white":"text-gray-800"}`,children:(a==null?void 0:a.name)||"Select Company"}),(a==null?void 0:a.tax_number)&&!t&&!y&&p.jsxs("div",{className:`text-xs opacity-75 truncate ${n?"text-gray-300":"text-gray-600"}`,children:["GST: ",a.tax_number]})]})]}),p.jsx(Vf,{className:`w-4 h-4 ml-2 transition-transform ${o?"rotate-180":""} ${n?"text-white":"text-gray-600"}`})]}),o&&p.jsxs("div",{className:`${y?"fixed inset-x-0 bottom-0 rounded-t-lg max-h-[80vh] overflow-auto z-50":"absolute top-full left-0 mt-1 w-full rounded-md z-50"} shadow-lg ${n?"bg-gray-800":"bg-white"} border ${n?"border-gray-700":"border-gray-200"}`,children:[y&&p.jsxs("div",{className:`sticky top-0 p-3 border-b ${n?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[p.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-3"}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:`font-medium ${n?"text-white":"text-gray-900"}`,children:"Select Company"}),p.jsx("button",{onClick:()=>u(!1),className:`p-1 rounded-full ${n?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:p.jsx(Vf,{className:`w-5 h-5 ${n?"text-white":"text-gray-600"}`})})]})]}),p.jsx("div",{className:`py-1 ${y?"max-h-[60vh]":"max-h-60"} overflow-y-auto`,children:i.map(m=>p.jsxs("button",{onClick:()=>{s(m),u(!1)},className:`w-full text-left px-4 py-3 flex items-center ${(a==null?void 0:a.id)===m.id?n?"bg-blue-600 text-white":"bg-blue-50 text-blue-700":n?"hover:bg-gray-700 text-white":"hover:bg-gray-100 text-gray-800"}`,children:[p.jsx(Ba,{className:`w-4 h-4 mr-2 flex-shrink-0 ${(a==null?void 0:a.id)===m.id||n?"text-white":"text-gray-600"}`}),p.jsxs("div",{className:"truncate",children:[p.jsx("div",{className:`truncate ${(a==null?void 0:a.id)===m.id||n?"text-white":"text-gray-800"}`,children:m.name}),m.tax_number&&p.jsxs("div",{className:`text-xs truncate ${(a==null?void 0:a.id)===m.id?"text-blue-100":n?"text-gray-300":"text-gray-600"}`,children:["GST: ",m.tax_number]})]})]},m.id))}),p.jsxs("div",{className:`border-t ${n?"border-gray-700":"border-gray-200"} py-1`,children:[p.jsxs("button",{className:`w-full text-left px-4 py-3 flex items-center ${n?"hover:bg-gray-700 text-white":"hover:bg-gray-100 text-gray-800"}`,onClick:()=>{u(!1),f(!0)},children:[p.jsx(Qs,{className:`w-4 h-4 mr-2 ${n?"text-white":"text-gray-600"}`}),p.jsx("span",{className:n?"text-white":"text-gray-800",children:"New Company"})]}),p.jsxs(Ri,{to:"/",className:`w-full text-left px-4 py-3 flex items-center ${n?"hover:bg-gray-700 text-white":"hover:bg-gray-100 text-gray-800"}`,onClick:()=>u(!1),children:[p.jsx(tl,{className:`w-4 h-4 mr-2 ${n?"text-white":"text-gray-600"}`}),p.jsx("span",{className:n?"text-white":"text-gray-800",children:"Manage Companies"})]})]}),y&&p.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700",children:p.jsx("button",{onClick:()=>u(!1),className:`w-full py-3 rounded-lg font-medium ${n?"bg-gray-700 text-white":"bg-gray-200 text-gray-800"}`,children:"Cancel"})})]})]}),p.jsx(Gb,{isOpen:d,onClose:()=>f(!1),onSuccess:()=>{f(!1),c()},title:"Create New Company"})]})},lhe=({title:r="Manager Dashboard",subtitle:t,actions:e})=>{const{theme:n,toggleTheme:i}=Vr(),{user:a,signOut:s}=jc(),{selectedCompany:l}=li(),{userRole:c}=Ha(),o=qa(),u=n==="dark",[d,f]=fe.useState(!1),h=fe.useRef(null);fe.useEffect(()=>{const b=w=>{h.current&&!h.current.contains(w.target)&&f(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const y=async()=>{try{await s(),o("/login"),Oe.success("Signed out successfully")}catch{Oe.error("Failed to sign out")}},m=()=>{var b;return(b=a==null?void 0:a.user_metadata)!=null&&b.full_name?a.user_metadata.full_name:a!=null&&a.email?a.email.split("@")[0]:"User"},g=()=>m().split(" ").map(w=>w[0]).join("").toUpperCase().slice(0,2),v=()=>c?c.charAt(0).toUpperCase()+c.slice(1):"User";return p.jsx("header",{className:`h-16 ${u?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-b shadow-sm`,children:p.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-xl font-semibold ${u?"text-white":"text-gray-900"}`,children:r}),t&&p.jsx("p",{className:`text-sm ${u?"text-gray-300":"text-gray-600"}`,children:t})]}),p.jsx("div",{className:"hidden md:block",children:p.jsx(kp,{})})]}),p.jsx("div",{className:"flex-1 flex justify-center",children:e}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("button",{className:`p-2 rounded-md transition-colors ${u?"text-gray-100 hover:bg-gray-700 hover:text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,"aria-label":"Notifications",children:p.jsx(E8,{className:"w-5 h-5"})}),p.jsx("button",{onClick:i,className:`p-2 rounded-md transition-colors ${u?"text-gray-100 hover:bg-gray-700 hover:text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,"aria-label":n==="dark"?"Switch to light mode":"Switch to dark mode",children:n==="dark"?p.jsx(Xv,{className:"w-5 h-5"}):p.jsx(Vv,{className:"w-5 h-5"})}),p.jsx("div",{className:"md:hidden",children:p.jsx(kp,{})}),p.jsxs("div",{className:"relative",ref:h,children:[p.jsxs("button",{onClick:()=>f(!d),className:`flex items-center space-x-3 p-2 rounded-md transition-colors ${u?"text-gray-100 hover:bg-gray-700 hover:text-white":"text-gray-800 hover:bg-gray-100 hover:text-gray-900"}`,children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${u?"bg-blue-600 text-white":"bg-blue-500 text-white"}`,children:g()}),p.jsxs("div",{className:"hidden sm:block text-left",children:[p.jsx("div",{className:`text-sm font-medium ${u?"text-white":"text-gray-900"}`,children:m()}),p.jsx("div",{className:`text-xs ${u?"text-gray-400":"text-gray-500"}`,children:v()})]}),p.jsx(Vf,{className:`w-4 h-4 transition-transform ${d?"rotate-180":""} ${u?"text-gray-100":"text-gray-700"}`})]}),d&&p.jsx("div",{className:`absolute right-0 top-full mt-2 w-56 rounded-md shadow-lg z-50 ${u?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border`,children:p.jsxs("div",{className:"py-1",children:[p.jsxs("div",{className:`px-4 py-3 border-b ${u?"border-gray-700":"border-gray-200"}`,children:[p.jsx("div",{className:`text-sm font-medium ${u?"text-white":"text-gray-900"}`,children:m()}),p.jsx("div",{className:`text-xs ${u?"text-gray-300":"text-gray-600"}`,children:a==null?void 0:a.email}),l&&p.jsxs("div",{className:`text-xs mt-1 flex items-center ${u?"text-gray-300":"text-gray-600"}`,children:[p.jsx(Ba,{className:"w-3 h-3 mr-1"}),l.name]})]}),p.jsxs("button",{onClick:()=>{f(!1)},className:`w-full text-left px-4 py-2 text-sm flex items-center ${u?"text-gray-100 hover:bg-gray-700 hover:text-white":"text-gray-800 hover:bg-gray-100 hover:text-gray-900"}`,children:[p.jsx(bx,{className:"w-4 h-4 mr-3"}),"Profile Settings"]}),p.jsx("div",{className:`border-t ${u?"border-gray-700":"border-gray-200"} my-1`}),p.jsxs("button",{onClick:()=>{f(!1),y()},className:`w-full text-left px-4 py-2 text-sm flex items-center ${u?"text-gray-100 hover:bg-gray-700 hover:text-red-400":"text-gray-800 hover:bg-gray-100 hover:text-red-600"}`,children:[p.jsx(L6,{className:"w-4 h-4 mr-3"}),"Sign Out"]})]})})]})]})]})})},che=({isCollapsed:r=!1,onToggleCollapse:t})=>{const{theme:e}=Vr(),{userRole:n}=Ha(),i=nl();qa();const a=e==="dark",l=(console.log("Sidebar getNavigationItems - userRole:",n),n==="manager"||n==="admin"||n==="owner"?[{name:"Dashboard",href:"/role-selection",icon:du,description:"Role selection"},{name:"Products",href:"/products",icon:Vn,description:"Manage inventory"},{name:"Stock Report",href:"/stock-report",icon:Q0,description:"Stock ART No, Color, Size, Stock Content Report"},{name:"Barcode Printing",href:"/barcode-printing",icon:bc,description:"Print product labels"},{name:"Sales",href:"/sales",icon:qi,description:"Process sales"},{name:"Purchase",href:"/purchase",icon:yx,description:"Manage purchases"},{name:"Customers",href:"/customers",icon:un,description:"Customer management"},{name:"Reports",href:"/reports",icon:Q0,description:"Business reports"},{name:"GST Reports",href:"/gst-reports",icon:GR,description:"Tax reports"},{name:"GST Settings",href:"/gst-settings",icon:hc,description:"Tax configuration"},{name:"User Management",href:"/users",icon:un,description:"Manage users"}]:n==="cashier"?[{name:"Dashboard",href:"/role-selection",icon:du,description:"Role selection"},{name:"Sales",href:"/sales",icon:qi,description:"Process sales"},{name:"Products",href:"/products",icon:Vn,description:"View products"},{name:"Customers",href:"/customers",icon:un,description:"Customer info"}]:n==="salesperson"||n==="staff"?[{name:"Dashboard",href:"/role-selection",icon:du,description:"Role selection"},{name:"Products",href:"/products",icon:Vn,description:"Product catalog"},{name:"Create Quotation",href:"/sales",icon:qi,description:"Create quotes"},{name:"Customers",href:"/customers",icon:un,description:"Customer management"}]:[{name:"Dashboard",href:"/role-selection",icon:du,description:"Role selection"}]);n==="salesperson"&&(console.log("Sidebar navigation items for salesperson:",l),console.log("Current location:",i.pathname));const c=n==="manager"||n==="admin"||n==="owner"?[{name:"New Sale",href:"/sales",icon:qi,color:"bg-blue-500"},{name:"Add Product",href:"/products",icon:Vn,color:"bg-green-500"},{name:"New Purchase",href:"/purchase",icon:VV,color:"bg-purple-500"},{name:"Reports",href:"/reports",icon:R0,color:"bg-orange-500"}]:[];return p.jsxs("div",{className:`${r?"w-16":"w-64"} ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border-r shadow-sm flex flex-col transition-all duration-300 ease-in-out`,children:[p.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200 dark:border-gray-700",children:[!r&&p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Ba,{className:`w-8 h-8 ${a?"text-blue-400":"text-blue-600"}`}),p.jsxs("div",{children:[p.jsx("h1",{className:`text-lg font-bold ${a?"text-white":"text-gray-900"}`,children:"Tallybooks"}),p.jsx("p",{className:`text-xs ${a?"text-blue-400":"text-blue-500"}`,children:n?`${n.charAt(0).toUpperCase()+n.slice(1)} Panel`:"Dashboard"})]})]}),t&&p.jsx("button",{onClick:t,className:`p-1.5 rounded-md transition-colors ${a?"text-gray-400 hover:bg-gray-700 hover:text-white":"text-gray-500 hover:bg-gray-100 hover:text-gray-700"}`,"aria-label":r?"Expand sidebar":"Collapse sidebar",children:r?p.jsx(YR,{className:"w-4 h-4"}):p.jsx(DV,{className:"w-4 h-4"})})]}),n==="salesperson"&&!1,p.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:l.map(o=>{const u=o.icon,d=i.pathname===o.href;return o.href==="/barcode-printing"&&console.log("Sidebar - Barcode Printing item:",{name:o.name,href:o.href,currentPath:i.pathname,isActive:d}),o.name==="Dashboard"&&n==="salesperson"&&console.log("Sidebar Dashboard item rendering:",{name:o.name,href:o.href,currentPath:i.pathname,isActive:d,userRole:n,isDark:a,isCollapsed:r}),p.jsxs(Ri,{to:o.href,title:r?o.name:void 0,onClick:()=>{o.name==="Dashboard"&&n==="salesperson"&&console.log("Dashboard link clicked:",o.href)},className:`
                flex items-center px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer
                ${d?"bg-blue-600 text-white shadow-sm hover:bg-blue-700 active:bg-blue-800":`${a?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`}
                ${r?"justify-center":""}
                ${o.name==="Dashboard"&&n==="salesperson"?"ring-2 ring-blue-300 ring-opacity-50":""}
              `,children:[p.jsx(u,{className:`${r?"w-5 h-5":"w-5 h-5 mr-3"} flex-shrink-0`}),!r&&p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"truncate",children:[o.name,o.name==="Dashboard"&&n==="salesperson"&&!1]}),o.description&&!d&&p.jsx("div",{className:`text-xs mt-0.5 truncate ${a?"text-gray-400":"text-gray-500"}`,children:o.description})]}),!r&&o.badge&&p.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-red-500 text-white rounded-full",children:o.badge})]},o.name)})}),!r&&c.length>0&&p.jsxs("div",{className:"px-3 py-4 border-t border-gray-200 dark:border-gray-700",children:[p.jsx("h3",{className:`text-xs font-semibold uppercase tracking-wider mb-3 ${a?"text-gray-400":"text-gray-500"}`,children:"Quick Actions"}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.map(o=>{const u=o.icon;return p.jsxs(Ri,{to:o.href,className:`${o.color} text-white rounded-lg p-3 flex flex-col items-center text-center transition-transform hover:scale-105 shadow-sm`,children:[p.jsx(u,{className:"w-5 h-5 mb-1"}),p.jsx("span",{className:"text-xs font-medium",children:o.name})]},o.name)})})]}),!r&&p.jsx("div",{className:`px-3 py-3 border-t ${a?"border-gray-700":"border-gray-200"}`,children:p.jsx("div",{className:`text-xs ${a?"text-gray-400":"text-gray-500"} text-center`,children:" 2024 Tallybooks"})})]})},ph=({children:r,title:t,subtitle:e,actions:n,showSidebar:i=!0,showTopNavigation:a=!0})=>{const{theme:s}=Vr(),l=s==="dark",[c,o]=fe.useState(!1),u=()=>{o(!c)};return p.jsx("div",{className:`min-h-screen ${l?"dark bg-gray-900":"bg-gray-50"}`,children:p.jsxs("div",{className:"flex h-screen",children:[i&&p.jsx(che,{isCollapsed:c,onToggleCollapse:u}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a&&p.jsx(lhe,{title:t,subtitle:e,actions:n}),p.jsx("main",{className:`flex-1 overflow-y-auto p-6 ${l?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:r})]})]})})},uhe=()=>{const{theme:r}=Vr(),{selectedCompany:t}=li(),e=qa(),n=r==="dark",[i,a]=fe.useState(!1),[s,l]=fe.useState(null),[c,o]=fe.useState(new Date),[u,d]=fe.useState([{title:"Total Sales",value:"0",icon:Ai,change:"0%",trend:"neutral"},{title:"Active Orders",value:"0",icon:qi,change:"0%",trend:"neutral"},{title:"Low Stock Items",value:"0",icon:Vn,change:"0%",trend:"neutral"},{title:"Customers",value:"0",icon:un,change:"0%",trend:"neutral"}]),[f,h]=fe.useState([]),[y]=fe.useState([{name:"Week 1",customers:0},{name:"Week 2",customers:0},{name:"Week 3",customers:0},{name:"Week 4",customers:0}]),[m]=fe.useState([{id:"1",title:"Monthly Sales Report",description:"Summary of all sales transactions for the current month",date:vr(new Date,"MMM d, yyyy"),type:"sales"},{id:"2",title:"Inventory Status Report",description:"Current stock levels and inventory valuation",date:vr(new Date,"MMM d, yyyy"),type:"inventory"},{id:"3",title:"GST Filing Summary",description:"Tax filing summary for the previous quarter",date:vr(new Date(Date.now()-864e5),"MMM d, yyyy"),type:"tax"}]),g=A=>{switch(A){case"sales":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"inventory":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"tax":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400";case"financial":return"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},v=A=>{switch(console.log("Manager Dashboard - Navigating to report:",A.title,"Type:",A.type),A.type){case"tax":console.log("Manager Dashboard - Navigating to GST Reports page"),e("/gst-reports");break;case"sales":console.log("Manager Dashboard - Navigating to Sales Reports page"),e("/reports?type=sales");break;case"inventory":console.log("Manager Dashboard - Navigating to Inventory Reports page"),e("/reports?type=inventory");break;case"financial":console.log("Manager Dashboard - Navigating to Financial Reports page"),e("/reports?type=financial");break;default:console.log("Manager Dashboard - Navigating to default Reports page"),e("/reports")}},b=A=>{if(console.log("Manager Dashboard - Download clicked for report:",A.title,"Type:",A.type),A.type==="tax"){console.log("Manager Dashboard - Navigating to GST Reports page for download"),e("/gst-reports");return}alert("Please use the View Report button to access the full report with download options.")},w=async()=>{if(!t){Oe.error("Please select a company first");return}a(!0),l(null);try{const{data:A,error:F}=await $e.from("sales").select(`
          total,
          created_at,
          sale_items (
            product:products (
              id,
              name,
              company_id
            )
          )
        `).eq("company_id",t.id).order("created_at",{ascending:!1}),H=(A==null?void 0:A.filter(G=>G.sale_items.every(te=>te.product.company_id===t.id)))||[];if(F)throw F;const z=H.reduce((G,te)=>G+te.total,0)||0,{data:U,error:O}=await $e.from("sales").select(`
          id,
          status,
          sale_items (
            product:products (
              id,
              name,
              company_id
            )
          )
        `).eq("company_id",t.id).eq("status","pending"),C=((U==null?void 0:U.filter(G=>G.sale_items.every(te=>te.product.company_id===t.id)))||[]).length;if(O)throw O;const{data:k,error:j}=await $e.from("products").select("*").eq("company_id",t.id).lt("stock",5);if(j)throw j;const{count:E,error:T}=await $e.from("customers").select("*",{count:"exact",head:!0}).eq("company_id",t.id);if(T)throw T;const Z=[{title:"Total Sales",value:N(z),icon:Ai,change:"+12%",trend:"up"},{title:"Active Orders",value:String(C||0),icon:qi,change:"+5%",trend:"up"},{title:"Low Stock Items",value:String((k==null?void 0:k.length)||0),icon:Vn,change:"-2%",trend:"down"},{title:"Total Customers",value:String(E||0),icon:un,change:"+8%",trend:"up"}];d(Z),o(new Date);const ne=_(H);h(ne)}catch(A){console.error("Error refreshing dashboard:",A),l(A instanceof Error?A.message:"Failed to refresh data"),Oe.error("Failed to update dashboard data")}finally{a(!1)}},_=A=>{const F={};return A.forEach(H=>{const z=vr(new Date(H.created_at),"MMM");F[z]||(F[z]={sales:0,orders:0}),F[z].sales+=H.total,F[z].orders+=1}),Object.entries(F).map(([H,z])=>({name:H,sales:z.sales,orders:z.orders}))};fe.useEffect(()=>{const A=localStorage.getItem("demoRole")!==null;if(t)w();else if(A){console.log("Demo mode: Showing sample data for Manager Dashboard");const F=[{title:"Total Sales",value:"125,000.00",icon:Ai,change:"+12%",trend:"up"},{title:"Active Orders",value:"24",icon:qi,change:"+5%",trend:"up"},{title:"Low Stock Items",value:"8",icon:Vn,change:"-2%",trend:"down"},{title:"Total Customers",value:"156",icon:un,change:"+8%",trend:"up"}],H=[{name:"Jan",sales:45e3,orders:42},{name:"Feb",sales:52e3,orders:48},{name:"Mar",sales:49e3,orders:46},{name:"Apr",sales:63e3,orders:55},{name:"May",sales:59e3,orders:52},{name:"Jun",sales:68e3,orders:58}];d(F),h(H),o(new Date)}},[t]);const N=A=>`${A.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,P=localStorage.getItem("demoRole")?`DEMO MODE | Sample Data | Last updated: ${vr(c,"MMM d, yyyy HH:mm:ss")}`:t?`${t.name} | Last updated: ${vr(c,"MMM d, yyyy HH:mm:ss")}`:"Select a company to view your dashboard",M=p.jsxs("div",{className:"flex gap-3",children:[t&&p.jsx(_t,{variant:"primary",onClick:w,isLoading:i,leftIcon:p.jsx(pc,{className:"w-4 h-4"}),children:"Update Data"}),localStorage.getItem("demoRole")&&p.jsx(_t,{variant:"secondary",onClick:()=>{localStorage.removeItem("demoRole"),e("/manager-dashboard"),Oe.success("Exited demo mode")},children:"Exit Demo"})]});return p.jsx(ph,{title:"Manager Dashboard",subtitle:P,actions:M,children:p.jsxs("div",{className:"space-y-6",children:[s&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(ei,{className:"w-5 h-5 mr-2"}),p.jsx("span",{children:s})]})}),p.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:u.map(A=>{const F=A.icon,H=A.trend==="up"?R0:O8,z=A.trend==="up"?"text-green-500":"text-red-500";return p.jsxs("div",{className:`${n?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm relative overflow-hidden transition-all duration-300 hover:shadow-md`,children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm font-medium ${n?"text-gray-400":"text-gray-500"}`,children:A.title}),p.jsx("p",{className:"text-2xl font-bold mt-1",children:A.value})]}),p.jsx("div",{className:`p-2 rounded-full ${n?"bg-gray-700":"bg-gray-100"}`,children:p.jsx(F,{className:`w-6 h-6 ${n?"text-blue-400":"text-blue-500"}`})})]}),p.jsxs("div",{className:"flex items-center mt-4",children:[p.jsx(H,{className:`w-4 h-4 mr-1 ${z}`}),p.jsx("span",{className:`text-xs font-medium ${z}`,children:A.change}),p.jsx("span",{className:"text-xs ml-1 text-gray-500",children:"vs last month"})]})]},A.title)})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:`${n?"bg-gray-800":"bg-white"} p-4 rounded-lg shadow-sm`,children:[p.jsx("h2",{className:"text-lg font-medium mb-4",children:"Sales Overview"}),p.jsx("div",{className:"h-80",children:p.jsx(pb,{width:"100%",height:"100%",children:p.jsxs(a$,{data:f,margin:{top:20,right:30,left:20,bottom:5},children:[p.jsx(t1,{strokeDasharray:"3 3",stroke:n?"#374151":"#f3f4f6"}),p.jsx(Kf,{dataKey:"name",stroke:n?"#9ca3af":"#6b7280"}),p.jsx(Yf,{stroke:n?"#9ca3af":"#6b7280"}),p.jsx(So,{contentStyle:{backgroundColor:n?"#1f2937":"#ffffff",borderColor:n?"#374151":"#e5e7eb",color:n?"#ffffff":"#000000"}}),p.jsx(Nc,{dataKey:"sales",name:"Sales ()",fill:"#3b82f6",radius:[4,4,0,0]}),p.jsx(Nc,{dataKey:"orders",name:"Orders",fill:"#10b981",radius:[4,4,0,0]})]})})})]}),p.jsxs("div",{className:`${n?"bg-gray-800":"bg-white"} p-4 rounded-lg shadow-sm`,children:[p.jsx("h2",{className:"text-lg font-medium mb-4",children:"Customer Growth"}),p.jsx("div",{className:"h-80",children:p.jsx(pb,{width:"100%",height:"100%",children:p.jsxs(s$,{data:y,margin:{top:20,right:30,left:20,bottom:5},children:[p.jsx(t1,{strokeDasharray:"3 3",stroke:n?"#374151":"#f3f4f6"}),p.jsx(Kf,{dataKey:"name",stroke:n?"#9ca3af":"#6b7280"}),p.jsx(Yf,{stroke:n?"#9ca3af":"#6b7280"}),p.jsx(So,{contentStyle:{backgroundColor:n?"#1f2937":"#ffffff",borderColor:n?"#374151":"#e5e7eb",color:n?"#ffffff":"#000000"}}),p.jsx(Du,{type:"monotone",dataKey:"customers",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3})]})})})]})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-lg font-medium",children:"Recent Reports"}),p.jsx(Ri,{to:"/reports",className:"text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium",children:"View All Reports"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(A=>p.jsx("div",{className:`p-4 rounded-lg border ${n?"border-gray-700 bg-gray-800":"border-gray-200 bg-white"} hover:shadow-md transition-shadow`,children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("h3",{className:"font-medium",children:A.title}),p.jsx("span",{className:`ml-3 px-2 py-1 text-xs rounded-full ${g(A.type)}`,children:A.type.charAt(0).toUpperCase()+A.type.slice(1)})]}),p.jsx("p",{className:`mt-1 text-sm ${n?"text-gray-400":"text-gray-500"}`,children:A.description}),p.jsxs("p",{className:`mt-2 text-xs ${n?"text-gray-500":"text-gray-400"}`,children:["Generated on ",A.date]})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{className:`p-1.5 rounded-full ${n?"hover:bg-gray-700":"hover:bg-gray-100"}`,title:"View Report",onClick:()=>v(A),children:p.jsx(hg,{className:"w-4 h-4"})}),p.jsx("button",{className:`p-1.5 rounded-full ${n?"hover:bg-gray-700":"hover:bg-gray-100"}`,title:"Download Report",onClick:()=>b(A),children:p.jsx(A8,{className:"w-4 h-4"})})]})]})},A.id))})]})]})})};function fhe(){console.log("CashierDashboard component rendering");const{theme:r}=Vr(),{selectedCompany:t}=li(),{isRoleLoading:e,userRole:n,permissions:i}=Ha(),a=r==="dark",s=nl(),l=qa(),c=fe.useRef(null),[o,u]=fe.useState(!1),[d,f]=fe.useState(null),[h,y]=fe.useState(new Date),[m,g]=fe.useState(""),[v,b]=fe.useState(!1),[w,_]=fe.useState(""),[N,P]=fe.useState(null),[M,A]=fe.useState(!1),[F,H]=fe.useState(null),[z,U]=fe.useState(new Date),[O,L]=fe.useState(!1),[,C]=fe.useState(!1),[k,j]=fe.useState([{title:"Today's Sales",value:"0",icon:Ai,change:"0%",trend:"neutral"},{title:"Transactions",value:"0",icon:hc,change:"0%",trend:"neutral"},{title:"Pending Orders",value:"0",icon:Km,change:"0%",trend:"neutral"}]);console.log("CashierDashboard - User Role:",n),console.log("CashierDashboard - Role Loading:",e),console.log("CashierDashboard - Selected Company:",t),console.log("CashierDashboard - Permissions:",i);const[E,T]=fe.useState([]);fe.useEffect(()=>{new URLSearchParams(s.search).get("search")==="active"&&(b(!0),setTimeout(()=>{c.current&&c.current.focus()},100))},[s]);const R=async I=>{if(I&&I.preventDefault(),!t){Oe.error("Please select a company first");return}if(!m.trim()){H("Please enter a search term");return}b(!0),A(!0),H(null);try{const{data:D,error:X}=await $e.from("products").select("*").eq("company_id",t.id).or(`name.ilike.%${m}%,sku.ilike.%${m}%,barcode.eq.${m}`).order("name",{ascending:!0}).limit(1);if(X)throw X;D&&D.length>0?(P(D[0]),g(""),C(!0),Oe.success(`Found: ${D[0].name}`),setTimeout(()=>C(!1),2e3)):(P(null),H(`No product found matching: "${m}"`),Oe.error(`No product found matching: "${m}"`))}catch(D){console.error("Error searching product:",D),H("Error searching for product. Please try again."),P(null)}finally{A(!1)}},V=[{title:"New Sale",icon:qi,path:"/sales?from=cashier",color:"bg-blue-500 dark:bg-blue-600"},{title:"Scan Barcode",icon:T0,path:"/sales?scan=true&from=cashier",color:"bg-green-500 dark:bg-green-600"},{title:"Quick Sale",icon:c7,path:"/sales?quick=true&lock_nav=true&from=cashier",color:"bg-yellow-500 dark:bg-yellow-600"},{title:"View Products",icon:Vn,path:"/products?from=cashier",color:"bg-purple-500 dark:bg-purple-600"}],B=async I=>{if(I&&I.preventDefault(),!t){Oe.error("Please select a company first");return}if(!w.trim()){H("Please enter a barcode");return}A(!0),H(null);try{const{data:D,error:X}=await $e.from("products").select("*").eq("company_id",t.id).or(`barcode.eq.${w},sku.eq.${w}`).limit(1);if(X)throw X;D&&D.length>0?(P(D[0]),_(""),C(!0),Oe.success(`Found: ${D[0].name}`),setTimeout(()=>C(!1),2e3)):(P(null),H(`No product found with barcode: ${w}`),Oe.error(`No product found with barcode: ${w}`))}catch(D){console.error("Error scanning barcode:",D),H("Error scanning barcode. Please try again."),P(null)}finally{A(!1)}},K=async()=>{if(!N){Oe.error("No product selected");return}if(!t){Oe.error("Please select a company first");return}if(N.stock<=0){Oe.error("Product is out of stock");return}L(!0);try{Oe.success(`Adding ${N.name} to sale...`),l(`/sales?product=${N.id}&from=cashier&auto_add=true`)}catch(I){console.error("Error adding product to sale:",I),Oe.error("Failed to add product to sale")}finally{L(!1)}},Z=()=>{P(null),H(null),_(""),g(""),b(!1),Oe.success("Scanner cleared")},ne=async()=>{if(!t){Oe.error("Please select a company first");return}u(!0),f(null);try{console.log("Starting dashboard refresh for company:",t.id);const I=new Date(z);I.setHours(0,0,0,0);const D=I.toISOString(),X=new Date(z);X.setDate(X.getDate()+1),X.setHours(0,0,0,0);const Q=X.toISOString(),{data:re,error:oe}=await $e.from("sales").select(`
          id,
          total,
          subtotal,
          created_at,
          status,
          payment_method
        `).eq("company_id",t.id).gte("created_at",D).lt("created_at",Q).order("created_at",{ascending:!1});if(oe)throw console.error("Error fetching sales data:",oe),new Error(`Failed to fetch sales data: ${oe.message}`);const se=(re==null?void 0:re.map(Pe=>({...Pe,tax_amount:Pe.total-(Pe.subtotal||Pe.total),customer_name:"Walk-in Customer",items_count:1,notes:""})))||[];T(se);const he=se.reduce((Pe,Re)=>Pe+(Re.total||0),0),le=se.length,de=se.filter(Pe=>Pe.status==="pending"&&Pe.payment_method!=="cash").length,ke=[{title:`${new Date(z).toDateString()===new Date().toDateString()?"Today's":vr(new Date(z),"MMM d, yyyy")} Sales`,value:te(he),icon:Ai,change:"+0%",trend:"neutral"},{title:"Transactions",value:String(le),icon:hc,change:"+0%",trend:"neutral"},{title:"Pending Orders",value:String(de),icon:Km,change:"+0%",trend:"neutral"}];j(ke),y(new Date),console.log("Dashboard refresh completed successfully")}catch(I){console.error("Error refreshing dashboard:",I),f(I instanceof Error?I.message:"Failed to refresh data"),Oe.error("Failed to update dashboard data")}finally{u(!1)}};fe.useEffect(()=>{try{console.log("CashierDashboard useEffect running"),!e&&t?(console.log("Loading data with selected company:",t.id),ne()):console.log("Not loading data - isRoleLoading:",e,"selectedCompany:",t)}catch(I){console.error("Error in CashierDashboard useEffect:",I),f(I instanceof Error?I.message:"An error occurred while loading the dashboard"),Oe.error("Failed to load dashboard data")}},[t,e]);const G=I=>{try{const D=new Date(I);isNaN(D.getTime())?Oe.error("Invalid date format"):(U(D),setTimeout(()=>ne(),100),Oe.success(`Viewing data for ${vr(D,"MMM d, yyyy")}`))}catch(D){Oe.error("Error setting date"),console.error("Error setting date:",D)}},te=I=>`${I.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return fe.useEffect(()=>{const I=D=>{if(!(D.target instanceof HTMLInputElement||D.target instanceof HTMLTextAreaElement))switch(D.key){case"Enter":N&&!O&&(D.preventDefault(),K());break;case"Escape":N&&(D.preventDefault(),Z());break;case"F1":D.preventDefault(),l("/sales?from=cashier");break;case"F2":D.preventDefault(),l("/sales?scan=true&from=cashier");break}};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[N,O,l]),e?(console.log("Showing loading state for CashierDashboard"),p.jsx(ph,{title:"Cashier Dashboard",children:p.jsxs("div",{className:"flex items-center justify-center h-64",children:[p.jsx(ei,{className:"w-6 h-6 text-yellow-500 mr-2"}),p.jsx("p",{children:"Loading dashboard..."})]})})):p.jsx(ph,{title:"Cashier Dashboard",subtitle:void 0,actions:p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(j8,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),p.jsx("input",{type:"date",className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm text-gray-800 dark:text-gray-200",value:z.toISOString().split("T")[0],onChange:I=>{const D=I.target.value?new Date(I.target.value):new Date;U(D),setTimeout(()=>ne(),100)}}),p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>G("2025-05-15"),title:"View May 15, 2025 data",children:"May 15, 2025"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Last updated: ",vr(h,"MMM d, yyyy h:mm a")]}),o?p.jsxs(_t,{variant:"secondary",size:"sm",disabled:!0,children:[p.jsx(pc,{className:"w-4 h-4 mr-1 animate-spin"}),"Updating..."]}):p.jsxs(_t,{variant:"secondary",size:"sm",onClick:ne,children:[p.jsx(pc,{className:"w-4 h-4 mr-1"}),"Update Data"]})]})]}),children:p.jsxs("div",{className:"space-y-6",children:[d&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(ei,{className:"w-5 h-5 mr-2"}),p.jsx("span",{children:d})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:k.map((I,D)=>{const X=I.trend==="up"?R0:I.trend==="down"?O8:null,Q=I.trend==="up"?"text-green-500":I.trend==="down"?"text-red-500":"text-gray-500";return p.jsxs("div",{className:`${a?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6`,children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm font-medium ${a?"text-gray-400":"text-gray-500"}`,children:I.title}),p.jsx("p",{className:"text-2xl font-bold mt-1",children:I.value})]}),p.jsx("div",{className:`p-2 rounded-full ${a?"bg-gray-700":"bg-gray-100"}`,children:I.icon&&p.jsx(I.icon,{className:"w-5 h-5 text-blue-500"})})]}),X&&p.jsxs("div",{className:`flex items-center mt-2 ${Q}`,children:[p.jsx(X,{className:"w-4 h-4 mr-1"}),p.jsx("span",{className:"text-sm",children:I.change})]})]},D)})}),p.jsxs("div",{className:`${a?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6`,children:[p.jsx("h2",{className:"text-lg font-medium mb-4",children:"Quick Actions"}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:V.map((I,D)=>p.jsxs(Ri,{to:I.path,className:`${I.color} rounded-lg p-4 flex flex-col items-center justify-center text-white hover:opacity-90 transition-opacity`,children:[p.jsx(I.icon,{className:"w-8 h-8 mb-2"}),p.jsx("span",{className:"text-sm font-medium",children:I.title})]},D))})]}),N&&p.jsxs("div",{className:`${a?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6 mb-6 border-2 border-green-500`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("h2",{className:"text-lg font-medium text-green-500",children:"Product Found"}),p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),p.jsx("div",{className:"flex space-x-2",children:p.jsx(_t,{variant:"secondary",size:"sm",onClick:Z,className:"hover:bg-red-50 hover:text-red-600 dark:hover:bg-red-900/20 dark:hover:text-red-400 transition-colors",children:p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(pc,{className:"w-3 h-3"}),p.jsx("span",{children:"Clear"})]})})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-xl",children:N.name}),p.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["SKU: ",N.sku," ",N.barcode&&`| Barcode: ${N.barcode}`]})]}),p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsxs("div",{className:"flex justify-between items-center p-2 rounded bg-gray-100 dark:bg-gray-700",children:[p.jsx("span",{className:"font-medium",children:"Price:"}),p.jsxs("span",{className:"font-bold text-lg",children:["",N.price.toFixed(2)]})]}),p.jsxs("div",{className:"flex justify-between items-center p-2 rounded",children:[p.jsx("span",{className:"font-medium",children:"MRP:"}),p.jsxs("span",{children:["",N.mrp.toFixed(2)]})]})]}),p.jsxs("div",{className:`flex justify-between items-center p-3 rounded-lg bg-opacity-20 ${N.stock>0?"bg-green-100 dark:bg-green-900":"bg-red-100 dark:bg-red-900"}`,children:[p.jsx("span",{className:"font-medium",children:"Stock:"}),p.jsxs("span",{className:`font-medium py-1 px-3 rounded-full ${N.stock>0?"bg-green-200 text-green-800 dark:bg-green-800 dark:text-green-200":"bg-red-200 text-red-800 dark:bg-red-800 dark:text-red-200"}`,children:[N.stock," ",N.stock===1?"unit":"units"]})]})]}),p.jsxs("div",{className:"mt-6 space-y-3",children:[p.jsx(_t,{variant:"primary",className:`w-full transition-all duration-200 ${O?"bg-green-600 hover:bg-green-700 transform scale-105":N.stock<=0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 hover:transform hover:scale-105"} ${O?"animate-pulse":""}`,onClick:K,disabled:O||N.stock<=0,children:p.jsx("div",{className:"flex items-center justify-center space-x-2",children:O?p.jsxs(p.Fragment,{children:[p.jsx(pc,{className:"w-4 h-4 animate-spin"}),p.jsx("span",{children:"Adding to Sale..."})]}):N.stock<=0?p.jsxs(p.Fragment,{children:[p.jsx(ei,{className:"w-4 h-4"}),p.jsx("span",{children:"Out of Stock"})]}):p.jsxs(p.Fragment,{children:[p.jsx(qi,{className:"w-4 h-4"}),p.jsx("span",{children:"Add to Sale"})]})})}),N.stock>0&&p.jsxs(p.Fragment,{children:[p.jsx(_t,{variant:"secondary",className:"w-full border-2 border-dashed border-yellow-400 hover:border-yellow-500 hover:bg-yellow-50 dark:hover:bg-yellow-900/20 transition-all duration-200",onClick:()=>l(`/sales?product=${N.id}&from=cashier&quick=true&auto_add=true`),disabled:O,children:p.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[p.jsx(c7,{className:"w-4 h-4 text-yellow-600"}),p.jsx("span",{className:"text-yellow-700 dark:text-yellow-300",children:"Quick Sale"})]})}),p.jsx("div",{className:"text-center",children:p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add to cart or process as quick sale"})})]})]})]}),p.jsxs("div",{className:"flex flex-col justify-center items-center",children:[p.jsx("div",{className:"w-40 h-40 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center mb-4",children:N.image_url?p.jsx("img",{src:N.image_url,alt:N.name,className:"max-w-full max-h-full object-contain rounded"}):p.jsx(Vn,{className:"w-20 h-20 text-gray-400"})}),N.category&&p.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 text-xs font-medium",children:N.category})]})]})]}),p.jsxs("div",{className:`${a?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6 mb-6`,children:[p.jsx("div",{className:"flex items-center mb-4",children:p.jsx("h2",{className:"text-lg font-medium",children:"Barcode Scanner"})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:`p-4 rounded-lg ${v?a?"bg-red-900/20":"bg-red-50":a?"bg-gray-700":"bg-gray-50"} mb-4 ${v?"ring-2 ring-red-500":""} transition-all duration-200 ${M&&v?"animate-pulse":""}`,children:[p.jsx("h3",{className:`font-medium mb-2 ${v?"text-red-500":""}`,children:"Quick Product Search"}),p.jsx("form",{onSubmit:R,children:p.jsxs("div",{className:"relative",children:[p.jsx("input",{ref:c,type:"text",value:m,onChange:I=>g(I.target.value),placeholder:"Enter product name or code...",className:`w-full pl-10 pr-12 py-2 rounded-md 
                      ${a?"bg-gray-800 text-white":"bg-white text-gray-900"} 
                      ${v?"border-2 border-red-500 focus:ring-2 focus:ring-red-500":`border ${a?"border-gray-600":"border-gray-300"}`} 
                      focus:outline-none transition-all duration-200`,"aria-label":"Quick product search",autoFocus:v,disabled:M}),p.jsx(Iu,{className:`absolute left-3 top-2.5 w-4 h-4 ${v?"text-red-500":"text-gray-400"}`}),p.jsx("button",{type:"submit",className:`absolute right-2 top-1.5 p-1 rounded-full ${v?"bg-red-500 text-white":"bg-gray-200 text-gray-600"} hover:opacity-90`,"aria-label":"Search products",disabled:M,children:p.jsx(VR,{className:"w-4 h-4"})})]})}),F&&v&&p.jsxs("div",{className:"flex items-center mt-2 text-red-500 text-sm",children:[p.jsx(ei,{className:"w-4 h-4 mr-1"}),p.jsx("span",{children:F})]})]}),p.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-gray-700":"bg-gray-50"} mb-4 ${M?"animate-pulse":""}`,children:[p.jsx("h3",{className:"font-medium mb-2",children:"Scan Barcode"}),p.jsx("form",{onSubmit:B,children:p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",value:w,onChange:I=>_(I.target.value),placeholder:"Scan or type barcode...",className:`w-full pl-10 pr-12 py-2 rounded-md 
                      ${a?"bg-gray-800 text-white":"bg-white text-gray-900"} 
                      ${F?"border-2 border-red-500":`border ${a?"border-gray-600":"border-gray-300"}`} 
                      focus:outline-none focus:ring-2 ${F?"focus:ring-red-500":"focus:ring-blue-500"}`,"aria-label":"Barcode input",autoFocus:!0}),p.jsx(T0,{className:`absolute left-3 top-2.5 w-4 h-4 ${M?"text-blue-500":"text-gray-400"}`}),p.jsx("button",{type:"submit",className:`absolute right-2 top-1.5 p-1 rounded-full 
                      bg-blue-500 text-white 
                      hover:opacity-90`,"aria-label":"Scan barcode",disabled:M,children:p.jsx(T0,{className:"w-4 h-4"})})]})}),F&&p.jsxs("div",{className:"flex items-center mt-2 text-red-500 text-sm",children:[p.jsx(ei,{className:"w-4 h-4 mr-1"}),p.jsx("span",{children:F})]})]}),p.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-gray-700":"bg-gray-50"} space-y-4`,children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium mb-2",children:"Scanner Instructions"}),p.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-500 dark:text-gray-400 space-y-1",children:[p.jsx("li",{children:"Type or scan barcode in the input field above"}),p.jsx("li",{children:"Use product search for name-based lookup"}),p.jsx("li",{children:'Click "Add to Sale" to add products to cart'}),p.jsx("li",{children:'Use "Quick Sale" for immediate checkout'})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium mb-2",children:"Keyboard Shortcuts"}),p.jsxs("div",{className:"grid grid-cols-1 gap-1 text-sm text-gray-500 dark:text-gray-400",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Add to Sale:"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs",children:"Enter"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Clear Scanner:"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs",children:"Esc"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"New Sale:"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs",children:"F1"})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Scan Mode:"}),p.jsx("kbd",{className:"px-2 py-1 bg-gray-200 dark:bg-gray-600 rounded text-xs",children:"F2"})]})]})]})]})]}),p.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-blue-900/20":"bg-blue-50"} flex flex-col justify-center items-center`,children:[p.jsx(T0,{className:`w-16 h-16 ${a?"text-blue-400":"text-blue-500"} mb-4`}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:"Quick Checkout Process"}),p.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Scan products, add customer details, and process payment in seconds."})]})]})]}),p.jsxs("div",{className:`${a?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-medium",children:"Today's Sales Report"}),p.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Detailed breakdown of all transactions for ",vr(new Date,"dd MMMM yyyy")]})]}),p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("span",{className:"text-sm px-2 py-1 rounded bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100 mb-1",children:vr(new Date,"dd MMM yyyy")}),p.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[E.length," transactions"]})]})]}),E.length===0?p.jsx("div",{className:"text-center py-8 px-4 border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/50",children:p.jsxs("div",{className:"max-w-md mx-auto",children:[p.jsxs("div",{className:"relative mb-6",children:[p.jsx("div",{className:"absolute -top-2 -right-2 w-10 h-10 flex items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900",children:p.jsx(Ai,{className:"w-5 h-5 text-blue-600 dark:text-blue-300"})}),p.jsx(hc,{className:"w-16 h-16 mx-auto text-gray-400"})]}),p.jsx("h3",{className:"text-xl font-medium mb-3",children:"Sales Report Summary"}),p.jsxs("div",{className:"mb-5 px-3 py-1 rounded-lg bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-200 text-sm",children:["No transactions have been recorded for ",vr(new Date,"MMMM d, yyyy")]}),p.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-4 mb-5 text-left",children:[p.jsx("h4",{className:"font-medium mb-2 text-gray-700 dark:text-gray-300",children:"Quick Summary"}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{className:"p-3 rounded bg-gray-100 dark:bg-gray-600",children:[p.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Today's Sales"}),p.jsx("div",{className:"text-lg font-semibold",children:te(0)})]}),p.jsxs("div",{className:"p-3 rounded bg-gray-100 dark:bg-gray-600",children:[p.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Transactions"}),p.jsx("div",{className:"text-lg font-semibold",children:"0"})]})]})]}),p.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-5",children:"Get started by scanning products or searching inventory to process new sales."})]})}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[p.jsx("thead",{className:a?"bg-gray-700":"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Time"}),p.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Invoice #"}),p.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),p.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Items"}),p.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Subtotal"}),p.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Tax"}),p.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total"}),p.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Payment"}),p.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"})]})}),p.jsx("tbody",{className:`divide-y divide-gray-200 dark:divide-gray-700 ${a?"bg-gray-800":"bg-white"}`,children:E.map(I=>p.jsxs("tr",{className:"hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors",children:[p.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:vr(new Date(I.created_at),"HH:mm")}),p.jsxs("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:["#",I.id.toString().slice(-5)]}),p.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:I.customer_name||"Walk-in Customer"}),p.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-center text-gray-500 dark:text-gray-400",children:p.jsx("span",{className:"px-2 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 font-medium",children:I.items_count||0})}),p.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:te(I.subtotal||0)}),p.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:te(I.tax_amount||0)}),p.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:te(I.total)}),p.jsx("td",{className:"px-3 py-3 whitespace-nowrap text-sm",children:p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I.payment_method==="cash"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-100":I.payment_method==="card"?"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-100":I.payment_method==="upi"?"bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-100":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:I.payment_method?I.payment_method.charAt(0).toUpperCase()+I.payment_method.slice(1):"Unknown"}),I.status==="credit"&&p.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/50 dark:text-purple-100",children:"Credit Sale"}),I.status==="debit"&&p.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-100",children:"Cash Sale"})]})}),p.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium
                        ${I.status==="credit"?"bg-purple-100 text-purple-800 dark:bg-purple-800 dark:text-purple-100":I.payment_method==="cash"?"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100":I.status==="pending"?"bg-orange-100 text-orange-800 dark:bg-orange-800 dark:text-orange-100":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:I.payment_method==="cash"?"Cash Sale":I.status==="credit"?"Credit Sale":I.status==="pending"?"Awaiting Payment":"Unknown"})})]},I.id))}),E.length>0&&p.jsx("tfoot",{className:`border-t-2 ${a?"border-gray-700 bg-gray-800":"border-gray-200 bg-gray-50"}`,children:p.jsxs("tr",{children:[p.jsx("td",{colSpan:4,className:"px-3 py-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Daily Summary"}),p.jsx("td",{className:"px-3 py-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:te(E.reduce((I,D)=>I+(D.subtotal||0),0))}),p.jsx("td",{className:"px-3 py-3 text-sm font-medium text-gray-700 dark:text-gray-300",children:te(E.reduce((I,D)=>I+(D.tax_amount||0),0))}),p.jsx("td",{className:"px-3 py-3 text-sm font-medium text-gray-900 dark:text-white",children:te(E.reduce((I,D)=>I+D.total,0))}),p.jsx("td",{colSpan:2,className:"px-3 py-3 text-sm text-right font-medium",children:p.jsxs("span",{className:"px-2 py-1 rounded-md bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-100",children:[E.length," Sales"]})})]})})]})}),p.jsxs("div",{className:`mt-8 p-5 rounded-lg ${a?"bg-gray-700/50":"bg-gray-50"}`,children:[p.jsx("h3",{className:"text-lg font-medium mb-4",children:"Quick Summary Report"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:`p-3 rounded-lg ${a?"bg-gray-800":"bg-white"} shadow-sm`,children:[p.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Total Sales"}),p.jsx("p",{className:"text-lg font-semibold",children:te(E.reduce((I,D)=>I+D.total,0))})]}),p.jsxs("div",{className:`p-3 rounded-lg ${a?"bg-gray-800":"bg-white"} shadow-sm`,children:[p.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Transactions"}),p.jsx("p",{className:"text-lg font-semibold",children:E.length})]}),p.jsxs("div",{className:`p-3 rounded-lg ${a?"bg-gray-800":"bg-white"} shadow-sm`,children:[p.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Average Sale"}),p.jsx("p",{className:"text-lg font-semibold",children:te(E.length>0?E.reduce((I,D)=>I+D.total,0)/E.length:0)})]}),p.jsxs("div",{className:`p-3 rounded-lg ${a?"bg-gray-800":"bg-white"} shadow-sm`,children:[p.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Tax Collected"}),p.jsx("p",{className:"text-lg font-semibold",children:te(E.reduce((I,D)=>I+(D.tax_amount||0),0))})]})]})]}),E.length>0&&p.jsxs("div",{className:`mt-8 p-5 rounded-lg ${a?"bg-gray-700":"bg-gray-50"}`,children:[p.jsx("h3",{className:"text-lg font-medium mb-4",children:"Sales Report Summary"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[p.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-gray-800":"bg-white"} shadow-sm`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Sales"}),p.jsx(Ai,{className:"w-5 h-5 text-blue-500"})]}),p.jsx("p",{className:"text-2xl font-bold",children:te(E.reduce((I,D)=>I+D.total,0))}),p.jsxs("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:[E.length," transactions"]})]}),p.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-gray-800":"bg-white"} shadow-sm`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Payment Methods"}),p.jsx(hc,{className:"w-5 h-5 text-green-500"})]}),p.jsx("div",{className:"space-y-2",children:["cash","card","upi"].map(I=>{const D=E.filter(re=>re.payment_method===I),X=D.reduce((re,oe)=>re+oe.total,0),Q=E.length>0?Math.round(D.length/E.length*100):0;return X>0?p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"capitalize",children:I}),p.jsxs("div",{className:"flex items-center",children:[p.jsxs("span",{className:"mr-2",children:["",X.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),p.jsxs("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200",children:[Q,"%"]})]})]},I):null})})]}),p.jsxs("div",{className:`p-4 rounded-lg ${a?"bg-gray-800":"bg-white"} shadow-sm`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("h4",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Time Analysis"}),p.jsx(Km,{className:"w-5 h-5 text-purple-500"})]}),p.jsxs("div",{className:"space-y-2",children:[(()=>{const I=E.filter(Q=>new Date(Q.created_at).getHours()<12),D=I.reduce((Q,re)=>Q+re.total,0),X=E.length>0?Math.round(I.length/E.length*100):0;return p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"Morning"}),p.jsxs("div",{className:"flex items-center",children:[p.jsxs("span",{className:"mr-2",children:["",D.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),p.jsxs("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-200",children:[X,"%"]})]})]})})(),(()=>{const I=E.filter(Q=>{const re=new Date(Q.created_at).getHours();return re>=12&&re<17}),D=I.reduce((Q,re)=>Q+re.total,0),X=E.length>0?Math.round(I.length/E.length*100):0;return p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"Afternoon"}),p.jsxs("div",{className:"flex items-center",children:[p.jsxs("span",{className:"mr-2",children:["",D.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),p.jsxs("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-200",children:[X,"%"]})]})]})})(),(()=>{const I=E.filter(Q=>new Date(Q.created_at).getHours()>=17),D=I.reduce((Q,re)=>Q+re.total,0),X=E.length>0?Math.round(I.length/E.length*100):0;return p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"Evening"}),p.jsxs("div",{className:"flex items-center",children:[p.jsxs("span",{className:"mr-2",children:["",D.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),p.jsxs("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-200",children:[X,"%"]})]})]})})()]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:`p-3 rounded-lg ${a?"bg-gray-800":"bg-white"} shadow-sm`,children:[p.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Average Sale"}),p.jsx("p",{className:"text-lg font-semibold",children:te(E.length>0?E.reduce((I,D)=>I+D.total,0)/E.length:0)})]}),p.jsxs("div",{className:`p-3 rounded-lg ${a?"bg-gray-800":"bg-white"} shadow-sm`,children:[p.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Highest Sale"}),p.jsx("p",{className:"text-lg font-semibold",children:te(E.length>0?Math.max(...E.map(I=>I.total)):0)})]}),p.jsxs("div",{className:`p-3 rounded-lg ${a?"bg-gray-800":"bg-white"} shadow-sm`,children:[p.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Tax Collected"}),p.jsx("p",{className:"text-lg font-semibold",children:te(E.reduce((I,D)=>I+(D.tax_amount||0),0))})]}),p.jsxs("div",{className:`p-3 rounded-lg ${a?"bg-gray-800":"bg-white"} shadow-sm`,children:[p.jsx("h5",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Items Sold"}),p.jsx("p",{className:"text-lg font-semibold",children:E.reduce((I,D)=>I+(D.items_count||0),0)})]})]})]})]})]})})}const dhe=()=>{console.log("SalespersonDashboard component rendering");const{theme:r}=Vr(),{selectedCompany:t}=li(),{hasPermission:e,isRoleLoading:n,userRole:i,permissions:a}=Ha(),s=r==="dark",[l,c]=fe.useState(!1),[o,u]=fe.useState(null),[d,f]=fe.useState(new Date),[h,y]=fe.useState(!1),[m,g]=fe.useState([{title:"Draft Orders",value:"0",icon:vy},{title:"Products Available",value:"0",icon:Vn},{title:"Customers",value:"0",icon:un}]);console.log("SalespersonDashboard - User Role:",i),console.log("SalespersonDashboard - Role Loading:",n),console.log("SalespersonDashboard - Selected Company:",t),console.log("SalespersonDashboard - Permissions:",a),console.log("SalespersonDashboard - Has Sales Create Permission:",e("sales","create"));const[v,b]=fe.useState([]),[w,_]=fe.useState(""),[N,P]=fe.useState([]),M=[{title:"Create Quotation",icon:$V,path:"/sales?type=quotation&from=salesperson",color:"bg-blue-500 dark:bg-blue-600"},{title:"Draft Order",icon:vy,path:"/sales?type=draft&from=salesperson",color:"bg-green-500 dark:bg-green-600"},{title:"Browse Products",icon:Vn,path:"/products?from=salesperson",color:"bg-purple-500 dark:bg-purple-600"},{title:"Customer List",icon:un,path:"/customers?from=salesperson",color:"bg-orange-500 dark:bg-orange-600"}],A=async(z=!1)=>{if(!t){u("No company selected"),Oe.error("Please select a company first");return}c(!0),u(null);try{const{count:U,error:O}=await $e.from("sales").select("*",{count:"exact",head:!0}).eq("company_id",t.id).eq("status","draft");if(O)throw O;const{count:L,error:C}=await $e.from("products").select("*",{count:"exact",head:!0}).eq("company_id",t.id);if(C)throw C;const{count:k,error:j}=await $e.from("customers").select("*",{count:"exact",head:!0}).eq("company_id",t.id);if(j)throw j;const E=[{title:"Draft Orders",value:String(U||0),icon:vy},{title:"Products Available",value:String(L||0),icon:Vn},{title:"Customers",value:String(k||0),icon:un}];g(E);const{data:T,error:R}=await $e.from("products").select("id, name, price, stock, category").eq("company_id",t.id).order("stock",{ascending:!1}).limit(10);if(R)throw R;b(T||[]),P(T||[]),f(new Date),z&&Oe.success("Dashboard data refreshed successfully")}catch(U){console.error("Error refreshing dashboard:",U),u(U instanceof Error?U.message:"Failed to refresh data"),Oe.error("Failed to update dashboard data")}finally{c(!1)}},F=()=>{A(!0)};fe.useEffect(()=>{try{if(console.log("SalespersonDashboard useEffect running"),console.log("Current state - isRoleLoading:",n,"userRole:",i,"permissions:",a),n){console.log("Role is still loading, skipping permission check");return}console.log("Granting access to salesperson dashboard"),y(!0),t?(console.log("Loading dashboard data with company:",t.id),A()):(console.log("No company selected, showing demo data"),g([{title:"Draft Orders",value:"0",icon:vy},{title:"Products Available",value:"0",icon:Vn},{title:"Customers",value:"0",icon:un}]))}catch(z){console.error("Error in SalespersonDashboard useEffect:",z),u(z instanceof Error?z.message:"An error occurred while loading the dashboard"),Oe.error("Failed to load dashboard data")}},[t,n,i]),fe.useEffect(()=>{if(w.trim()==="")P(v);else{const z=v.filter(U=>U.name.toLowerCase().includes(w.toLowerCase())||U.category&&U.category.toLowerCase().includes(w.toLowerCase()));P(z)}},[w,v]);const H=z=>`${z.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return n?p.jsx(ph,{title:"Loading...",children:p.jsxs("div",{className:"flex items-center justify-center h-64",children:[p.jsx(ei,{className:"w-6 h-6 text-yellow-500 mr-2"}),p.jsx("p",{children:"Loading dashboard..."})]})}):h?p.jsx(ph,{title:"Salesperson Dashboard",subtitle:t?`${t.name} | Last updated: ${vr(d,"MMM d, yyyy HH:mm:ss")}`:"Select a company to view your dashboard",actions:t&&p.jsx(_t,{variant:"primary",onClick:F,isLoading:l,leftIcon:p.jsx(pc,{className:"w-4 h-4"}),children:"Update Data"}),children:p.jsxs("div",{className:"space-y-6",children:[!1,o&&p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(ei,{className:"w-5 h-5 mr-2"}),p.jsx("span",{children:o})]})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:M.map(z=>p.jsxs(Ri,{to:z.path,className:`${z.color} text-white rounded-lg p-6 flex flex-col items-center justify-center text-center transition-transform hover:scale-105`,children:[p.jsx(z.icon,{className:"w-10 h-10 mb-3"}),p.jsx("span",{className:"text-lg font-medium",children:z.title})]},z.title))}),p.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:m.map(z=>{const U=z.icon;return p.jsx("div",{className:`${s?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm relative overflow-hidden transition-all duration-300 hover:shadow-md`,children:p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm font-medium ${s?"text-gray-400":"text-gray-500"}`,children:z.title}),p.jsx("p",{className:"text-2xl font-bold mt-1",children:z.value})]}),p.jsx("div",{className:`p-2 rounded-full ${s?"bg-gray-700":"bg-gray-100"}`,children:p.jsx(U,{className:`w-6 h-6 ${s?"text-blue-400":"text-blue-500"}`})})]})},z.title)})}),p.jsxs("div",{className:`${s?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6 mb-6`,children:[p.jsx("div",{className:"mb-4",children:p.jsx("h2",{className:"text-lg font-medium",children:"Create New Quotation"})}),p.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Create professional quotations for your customers. Quotations can be converted to sales orders later."}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-gray-700":"bg-gray-50"}`,children:[p.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[p.jsx(ep,{className:"w-4 h-4 mr-2"}),"Quotation Features"]}),p.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-500 dark:text-gray-400 space-y-1",children:[p.jsx("li",{children:"Add multiple products with custom pricing"}),p.jsx("li",{children:"Apply discounts and taxes"}),p.jsx("li",{children:"Save as draft for later editing"}),p.jsx("li",{children:"Print or email to customers"})]})]}),p.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-gray-700":"bg-gray-50"}`,children:[p.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[p.jsx(qi,{className:"w-4 h-4 mr-2"}),"Draft Orders"]}),p.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-500 dark:text-gray-400 space-y-1",children:[p.jsx("li",{children:"Create draft sales orders"}),p.jsx("li",{children:"Save customer information"}),p.jsx("li",{children:"Manager approval required for finalization"}),p.jsx("li",{children:"Convert to invoice when approved"})]})]})]})]}),p.jsxs("div",{className:`${s?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-lg font-medium",children:"Product Catalog"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",placeholder:"Search products...",value:w,onChange:z=>_(z.target.value),className:`pl-10 pr-4 py-2 rounded-lg border ${s?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-blue-500`}),p.jsx(Iu,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]})]}),N.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx(Vn,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),p.jsx("p",{className:"text-gray-500",children:"No products found"})]}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[p.jsx("thead",{className:s?"bg-gray-700":"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Product Name"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Category"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Price"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Stock"})]})}),p.jsx("tbody",{className:`divide-y divide-gray-200 dark:divide-gray-700 ${s?"bg-gray-800":"bg-white"}`,children:N.map(z=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:z.name}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:z.category||"Uncategorized"}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:H(z.price)}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${z.stock>10?"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100":z.stock>0?"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100"}`,children:z.stock})})]},z.id))})]})})]})]})}):p.jsx(ph,{title:"Salesperson Dashboard",children:p.jsxs("div",{className:"flex items-center justify-center h-64",children:[p.jsx(ei,{className:"w-6 h-6 text-yellow-500 mr-2"}),p.jsx("p",{children:"Loading dashboard data..."})]})})},o$=({children:r,lastUpdate:t=new Date,onRefresh:e,isLoading:n=!1})=>{var N;const i=nl(),a=qa(),{theme:s,toggleTheme:l}=Vr(),{signOut:c,user:o}=jc(),{userRole:u}=Ha(),{selectedCompany:d}=li(),f=s==="dark",[h,y]=fe.useState(!1),[m,g]=fe.useState(!1),[v,b]=fe.useState(!1),w=[{name:"Admin Dashboard",href:"/super-admin-dashboard",icon:du},{name:"Manage Companies",href:"/companies",icon:Fl},{name:"User Management",href:"/users",icon:un},{name:"System Settings",href:"/settings",icon:tl},{name:"Database Tools",href:"/database",icon:I0},{name:"GST Settings",href:"/gst-settings",icon:ep},{name:"Reports",href:"/reports",icon:ih},{name:"Stock Report",href:"/stock-report",icon:ih}],_=async()=>{await c(),a("/login")};return fe.useEffect(()=>{const P=M=>{const A=M.target;!A.closest("[data-user-menu]")&&m&&g(!1),!A.closest("[data-notifications]")&&v&&b(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[m,v]),fe.useEffect(()=>{y(!1)},[i.pathname]),p.jsxs("div",{className:`min-h-screen ${f?"dark bg-gray-900":"bg-gray-50"}`,children:[p.jsxs("header",{className:`fixed top-0 left-0 right-0 z-30 ${f?"bg-gray-800":"bg-white"} shadow-sm h-16 px-4 flex items-center justify-between`,children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("button",{onClick:()=>y(!h),className:`md:hidden p-2 rounded-md ${f?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:h?p.jsx(Li,{className:"h-6 w-6"}):p.jsx(iF,{className:"h-6 w-6"})}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("h1",{className:`text-xl font-bold ${f?"text-white":"text-gray-900"} ml-2 md:ml-0`,children:"Tallybooks"}),p.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-md ${f?"bg-blue-900/30 text-blue-300":"bg-blue-100 text-blue-700"}`,children:"Admin"})]})]}),p.jsx("div",{className:"hidden md:block",children:p.jsx(kp,{})}),p.jsxs("div",{className:"flex items-center space-x-2",children:[e&&p.jsxs("div",{className:"hidden md:flex items-center mr-2",children:[p.jsxs("span",{className:`text-xs ${f?"text-gray-400":"text-gray-500"}`,children:["Last updated: ",vr(t,"MMM d, h:mm a")]}),p.jsx(_t,{variant:"primary",size:"sm",onClick:e,isLoading:n,className:`ml-2 ${f?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:p.jsx(pc,{className:"w-4 h-4"})})]}),p.jsx("button",{onClick:l,className:`p-2 rounded-md ${f?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,"aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?p.jsx(Xv,{className:"h-5 w-5"}):p.jsx(Vv,{className:"h-5 w-5"})}),p.jsxs("div",{className:"relative","data-notifications":!0,children:[p.jsxs("button",{onClick:()=>b(!v),className:`p-2 rounded-md ${f?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:[p.jsx(E8,{className:"h-5 w-5"}),p.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500"})]}),v&&p.jsxs("div",{className:`absolute right-0 mt-2 w-80 rounded-md shadow-lg ${f?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"}`,children:[p.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:p.jsx("h3",{className:`text-sm font-medium ${f?"text-white":"text-gray-900"}`,children:"Notifications"})}),p.jsx("div",{className:"max-h-60 overflow-y-auto",children:p.jsx("div",{className:`p-4 ${f?"text-gray-300":"text-gray-700"} text-sm`,children:p.jsx("p",{children:"No new notifications"})})})]})]}),p.jsxs("div",{className:"relative","data-user-menu":!0,children:[p.jsxs("button",{onClick:()=>g(!m),className:`flex items-center space-x-1 p-2 rounded-md ${f?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:[p.jsx(bx,{className:"h-5 w-5"}),p.jsx("span",{className:"hidden md:inline text-sm",children:((N=o==null?void 0:o.email)==null?void 0:N.split("@")[0])||"User"}),p.jsx(Vf,{className:`h-4 w-4 transition-transform ${m?"rotate-180":""}`})]}),m&&p.jsx("div",{className:`absolute right-0 mt-2 w-48 rounded-md shadow-lg ${f?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"}`,children:p.jsxs("div",{className:"py-1",children:[p.jsxs("div",{className:`px-4 py-2 border-b ${f?"border-gray-700":"border-gray-200"}`,children:[p.jsx("p",{className:`text-sm font-medium ${f?"text-white":"text-gray-900"}`,children:(o==null?void 0:o.email)||"User"}),p.jsx("p",{className:`text-xs ${f?"text-gray-400":"text-gray-500"}`,children:u?`${u.charAt(0).toUpperCase()}${u.slice(1)}`:"Super Admin"})]}),p.jsx(Ri,{to:"/profile",className:`block px-4 py-2 text-sm ${f?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:"Your Profile"}),p.jsx(Ri,{to:"/settings",className:`block px-4 py-2 text-sm ${f?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:"Settings"}),p.jsx("button",{onClick:_,className:`block w-full text-left px-4 py-2 text-sm ${f?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,children:"Sign out"})]})})]})]})]}),h&&p.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-50 md:hidden",onClick:()=>y(!1)}),p.jsxs("div",{className:"flex pt-16 h-screen",children:[p.jsxs("aside",{className:`hidden md:block w-64 fixed left-0 top-16 bottom-0 overflow-y-auto ${f?"bg-gray-800":"bg-white"} shadow-lg z-10`,children:[p.jsx("nav",{className:"px-3 py-4",children:w.map(P=>{const M=P.icon,A=i.pathname===P.href;return p.jsxs(Ri,{to:P.href,className:`
                    flex items-center px-3 py-2 my-1 rounded-md text-sm font-medium
                    ${A?`${f?"bg-blue-600":"bg-blue-500"} text-white`:`${f?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`}
                  `,children:[p.jsx(M,{className:"mr-3 h-5 w-5"}),P.name]},P.name)})}),d&&p.jsxs("div",{className:`mt-auto p-4 border-t ${f?"border-gray-700":"border-gray-200"}`,children:[p.jsx("div",{className:`text-sm ${f?"text-gray-400":"text-gray-500"}`,children:"Current Company"}),p.jsx("div",{className:`font-medium ${f?"text-white":"text-gray-900"} truncate`,children:d.name}),d.tax_number&&p.jsxs("div",{className:"text-xs text-gray-500",children:["GST: ",d.tax_number]})]})]}),p.jsxs("aside",{className:`fixed inset-y-0 left-0 transform ${h?"translate-x-0":"-translate-x-full"} w-64 transition-transform duration-300 ease-in-out md:hidden z-30 pt-16 ${f?"bg-gray-800":"bg-white"} shadow-lg`,children:[p.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:p.jsx(kp,{})}),p.jsx("nav",{className:"px-3 py-4",children:w.map(P=>{const M=P.icon,A=i.pathname===P.href;return p.jsxs(Ri,{to:P.href,className:`
                    flex items-center px-3 py-2 my-1 rounded-md text-sm font-medium
                    ${A?`${f?"bg-blue-600":"bg-blue-500"} text-white`:`${f?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`}
                  `,children:[p.jsx(M,{className:"mr-3 h-5 w-5"}),P.name]},P.name)})})]}),p.jsx("main",{className:`flex-1 ${f?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"} ml-0 md:ml-64 p-4 md:p-6 overflow-auto`,children:r})]})]})},hhe=()=>{const{theme:r}=Vr(),{selectedCompany:t}=li(),{userRole:e,isRoleLoading:n}=Ha(),i=qa(),a=r==="dark",[s,l]=fe.useState(!1),[c,o]=fe.useState(null),[u,d]=fe.useState(new Date),f=fe.useRef(null),[h,y]=fe.useState([{title:"Current Company",value:"Loading...",icon:Fl},{title:"Total Users",value:"0",icon:un},{title:"Active Users",value:"0",icon:Kv},{title:"Total Records",value:"0",icon:I0}]),m=[{title:"Manage Companies",icon:Fl,path:"/companies",color:"bg-blue-500 dark:bg-blue-600"},{title:"User Management",icon:un,path:"/users",color:"bg-green-500 dark:bg-green-600"},{title:"System Settings",icon:tl,path:"/settings",color:"bg-purple-500 dark:bg-purple-600"},{title:"Database Tools",icon:I0,path:"/database",color:"bg-orange-500 dark:bg-orange-600"}],g=async(N=!1)=>{l(!0),o(null);try{if(!t){o("Please select a company to view dashboard data"),l(!1);return}const{data:{session:P},error:M}=await $e.auth.getSession();M&&console.error("Error getting session:",M);let A=0,F=0,H=0;if(P)try{const{count:U,error:O}=await $e.from("company_users").select("*",{count:"exact",head:!0}).eq("company_id",t.id);if(O){console.error("Error fetching company users:",O);const{count:L,error:C}=await $e.from("auth_users").select("*",{count:"exact",head:!0});C||(A=L||0,F=Math.round(A*.7))}else{A=U||0;const{count:L,error:C}=await $e.from("company_users").select("*",{count:"exact",head:!0}).eq("company_id",t.id).eq("is_active",!0);C?(console.error("Error fetching active users:",C),F=Math.round(A*.7)):F=L||0}try{const L=["customers","products","sales"];let C=0;for(const k of L){const{count:j,error:E}=await $e.from(k).select("*",{count:"exact",head:!0}).eq("company_id",t.id);!E&&j!==null&&(C+=j)}H=C}catch(L){console.error("Error calculating total records:",L)}}catch(U){console.error("Error calculating user counts:",U)}const z=[{title:"Current Company",value:t.name,icon:Fl},{title:"Total Users",value:String(A||0),icon:un},{title:"Active Users",value:String(F||0),icon:Kv},{title:"Total Records",value:String(H||0),icon:I0}];y(z),d(new Date),N&&Oe.success("Dashboard data refreshed")}catch(P){console.error("Error fetching dashboard data:",P),o("Failed to load dashboard data"),Oe.error("Failed to load dashboard data")}finally{l(!1)}},v=()=>{g(!0)},b=async()=>{try{if(l(!0),Oe.loading("Preparing database backup...",{id:"backup-toast"}),!t)throw new Error("Please select a company before creating a backup");const{data:{session:N},error:P}=await $e.auth.getSession();if(P)throw P;if(!N)throw new Error("No active session");const{runBackupSetup:M}=await Oo(async()=>{const{runBackupSetup:k}=await import("./setupBackupSystem-BAzLJA9B.js");return{runBackupSetup:k}},[]),A=await M();if(!A.success)throw console.error("Backup system setup failed:",A.error),new Error("Failed to set up backup system");A.partial&&console.warn("Backup system setup was partially successful");let F;try{const{data:k,error:j}=await $e.from("backups").insert([{created_by:N.user.id,status:"pending",type:"full"}]).select().single();if(j)if(console.error("Error creating backup record:",j),j.message.includes('relation "backups" does not exist'))console.log("Backups table does not exist, using temporary backup ID"),F={id:crypto.randomUUID()};else throw new Error("Failed to create backup record: "+j.message);else F=k}catch(k){console.error("Exception creating backup record:",k),F={id:crypto.randomUUID()},console.log("Using temporary backup ID due to error:",F.id)}if(!F||!F.id)throw new Error("Failed to create or generate backup ID");Oe.loading("Generating backup...",{id:"backup-toast"});let H;try{const{data:k,error:j}=await $e.rpc("simple_backup",{backup_id:F.id,filter_company_id:t.id});if(j){console.error("Error generating backup using RPC:",j);const E=j.message.toLowerCase();if(E.includes("function")&&(E.includes("does not exist")||E.includes("could not find the function")||E.includes("schema cache"))||E.includes("simple_backup")||j.code==="42883"){console.log("Backup function does not exist, falling back to direct queries");const T=["companies","customers","products","sales","sale_items","purchases","purchase_items","tax_rates","tax_settings"],R={};for(const V of T)try{let B=$e.from(V).select("*").limit(1e3);["customers","products","sales","sale_items","purchases","purchase_items","tax_rates","tax_settings"].includes(V)&&(B=B.eq("company_id",t.id));const{data:K,error:Z}=await B;Z?(console.warn(`Error fetching ${V}:`,Z),R[V]=[]):R[V]=K||[]}catch(B){console.warn(`Exception fetching ${V}:`,B),R[V]=[]}H={metadata:{version:"1.0",timestamp:new Date().toISOString(),backup_id:F.id,generated_by:"fallback_method",company_id:t.id,company_name:t.name},...R}}else throw new Error("Failed to generate backup: "+j.message)}else H=k}catch(k){throw console.error("Exception generating backup:",k),new Error("Failed to generate backup: "+(k instanceof Error?k.message:String(k)))}if(!H)throw new Error("No backup data was generated");const z=typeof H=="string"?H:JSON.stringify(H,null,2),U=new Blob([z],{type:"application/json"}),O=URL.createObjectURL(U),L=document.createElement("a");L.href=O;const C=t.name.toLowerCase().replace(/[^a-z0-9]/g,"-");L.download=`${C}-backup-${vr(new Date,"yyyy-MM-dd-HH-mm")}.json`,Oe.dismiss("backup-toast"),Oe.success("Database backup created successfully"),document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(O)}catch(N){console.error("Error creating backup:",N),Oe.dismiss("backup-toast"),Oe.error(N instanceof Error?N.message:"Failed to create database backup")}finally{l(!1)}},w=()=>{f.current&&f.current.click()},_=async N=>{var M;const P=(M=N.target.files)==null?void 0:M[0];if(P)try{l(!0);const{handleBackupFileUpload:A}=await Oo(async()=>{const{handleBackupFileUpload:F}=await import("./restoreBackup-B97TS6rs.js");return{handleBackupFileUpload:F}},[]);await A(P),g(!0)}catch(A){console.error("Error restoring backup:",A),Oe.error(A instanceof Error?A.message:"Failed to restore database backup")}finally{l(!1),f.current&&(f.current.value="")}};return fe.useEffect(()=>{if(!n&&e!=="admin"&&e!=="owner"){Oe.error("This dashboard is only accessible to administrators"),i("/");return}t&&g()},[e,n,i,t]),p.jsx(o$,{lastUpdate:u,onRefresh:v,isLoading:s,children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Database Management"}),t&&p.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Company: ",p.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.name})]})]}),c&&p.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 p-4 rounded",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx(ep,{className:"h-5 w-5 text-red-500"})}),p.jsx("div",{className:"ml-3",children:p.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:c})})]})}),!t&&!c&&p.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500 p-4 rounded",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx(Fl,{className:"h-5 w-5 text-yellow-500"})}),p.jsx("div",{className:"ml-3",children:p.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:"Please select a company from the top navigation to view database management data."})})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((N,P)=>p.jsx("div",{className:`${a?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6`,children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:`p-3 rounded-full ${a?"bg-blue-500/20":"bg-blue-100"} mr-4`,children:p.jsx(N.icon,{className:"h-6 w-6 text-blue-500"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-black dark:text-gray-300",children:N.title}),p.jsx("p",{className:"text-2xl font-semibold text-black dark:text-gray-100",children:N.value})]})]})},P))}),p.jsxs("div",{className:`${a?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6`,children:[p.jsx("h2",{className:"text-lg font-medium mb-4 text-black dark:text-gray-100",children:"Quick Actions"}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:m.map((N,P)=>p.jsx(Ri,{to:N.path,className:`${N.color} p-4 rounded-lg text-white transition-transform hover:scale-105`,children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx(N.icon,{className:"h-8 w-8 mb-2"}),p.jsx("span",{className:"font-medium text-white",children:N.title})]})},P))})]}),p.jsxs("div",{className:`${a?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6`,children:[p.jsx("h2",{className:"text-lg font-medium mb-4 text-black dark:text-gray-100",children:"System Overview"}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"border dark:border-gray-700 rounded-lg p-4",children:[p.jsxs("h3",{className:"text-md font-medium mb-2 flex items-center text-black dark:text-gray-200",children:[p.jsx(ih,{className:"w-5 h-5 mr-2 text-blue-500"}),"System Statistics"]}),p.jsxs("ul",{className:"space-y-2 text-sm",children:[p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{className:"text-black dark:text-gray-300",children:"System Version:"}),p.jsx("span",{className:"font-medium text-black dark:text-gray-200",children:"1.0.0"})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{className:"text-black dark:text-gray-300",children:"Database Status:"}),p.jsx("span",{className:"font-medium text-green-500",children:"Healthy"})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{className:"text-black dark:text-gray-300",children:"Last Backup:"}),p.jsx("span",{className:"font-medium text-black dark:text-gray-200",children:vr(new Date,"MMM d, yyyy")})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{className:"text-black dark:text-gray-300",children:"Storage Usage:"}),p.jsx("span",{className:"font-medium text-black dark:text-gray-200",children:"42%"})]})]})]}),p.jsxs("div",{className:"border dark:border-gray-700 rounded-lg p-4",children:[p.jsxs("h3",{className:"text-md font-medium mb-2 flex items-center text-black dark:text-gray-200",children:[p.jsx(tl,{className:"w-5 h-5 mr-2 text-blue-500"}),"Admin Tools"]}),p.jsxs("ul",{className:"space-y-2 text-sm",children:[p.jsx("li",{children:p.jsxs("button",{onClick:b,disabled:s,className:"text-blue-500 hover:underline flex items-center w-full text-left",children:[p.jsx(A8,{className:"w-4 h-4 mr-2"}),"Create Database Backup"]})}),p.jsxs("li",{children:[p.jsxs("button",{onClick:w,disabled:s,className:"text-blue-500 hover:underline flex items-center w-full text-left",children:[p.jsx(vx,{className:"w-4 h-4 mr-2"}),"Restore From Backup"]}),p.jsx("input",{type:"file",ref:f,onChange:_,accept:".json",className:"hidden"})]}),p.jsx("li",{children:p.jsxs(Ri,{to:"/users/permissions",className:"text-blue-500 hover:underline flex items-center",children:[p.jsx("span",{className:"mr-2",children:""}),"Manage User Permissions"]})}),p.jsx("li",{children:p.jsxs(Ri,{to:"/system/logs",className:"text-blue-500 hover:underline flex items-center",children:[p.jsx("span",{className:"mr-2",children:""}),"View System Logs"]})}),p.jsx("li",{children:p.jsxs(Ri,{to:"/settings/tax",className:"text-blue-500 hover:underline flex items-center",children:[p.jsx("span",{className:"mr-2",children:""}),"Configure Tax Settings"]})})]})]})]})]})]})})};function phe({isOpen:r,onClose:t,onCompanyCreated:e}){const n=qa(),{user:i}=jc(),{theme:a}=Vr();fe.useEffect(()=>{var C;if(r&&i&&((C=i.user_metadata)==null?void 0:C.role)!=="admin"){Oe.error("This feature is only available to administrators"),t();return}},[r,i,t]);const[s,l]=fe.useState(!1),[c,o]=fe.useState(1),[u,d]=fe.useState(!1),[f,h]=fe.useState(!1),y=fe.useRef(null),[m,g]=fe.useState({name:"",legal_name:"",gst_number:"",website:"",logo_url:"",notes:"",email:"",phone:"",street_address:"",city:"",state:"",postal_code:"",country:"",subscription_status:"active"}),[v,b]=fe.useState(!1),w=fe.useRef(null),_=a==="dark";fe.useEffect(()=>{r&&(o(1),g({name:"",legal_name:"",gst_number:"",website:"",logo_url:"",notes:"",email:"",phone:"",street_address:"",city:"",state:"",postal_code:"",country:"",subscription_status:"active"}))},[r]),fe.useEffect(()=>{const C=k=>{k.key==="Escape"&&r&&t()};if(r)return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[r,t]);const N=()=>{if(y.current){const{scrollTop:C,scrollHeight:k,clientHeight:j}=y.current;d(C>100),h(C<k-j-100)}},P=()=>{y.current&&y.current.scrollTo({top:0,behavior:"smooth"})},M=()=>{y.current&&y.current.scrollTo({top:y.current.scrollHeight,behavior:"smooth"})},A=C=>{const{name:k,value:j}=C.target;g(E=>({...E,[k]:j}))},F=async C=>{var j;const k=(j=C.target.files)==null?void 0:j[0];if(k){if(!k.type.startsWith("image/")){Oe.error("Please upload an image file (JPG, PNG)");return}if(k.size>2*1024*1024){Oe.error("File size should be less than 2MB");return}b(!0);try{const E=k.name.split(".").pop(),T=`company-logos/${Date.now()}-${Math.random().toString(36).substr(2,8)}.${E}`,{error:R}=await $e.storage.from("company-logos").upload(T,k,{cacheControl:"3600",upsert:!1});if(R)throw R;const{data:V}=$e.storage.from("company-logos").getPublicUrl(T);V!=null&&V.publicUrl?(g(B=>({...B,logo_url:V.publicUrl})),Oe.success("Logo uploaded successfully!")):Oe.error("Failed to get logo URL")}catch{Oe.error("Failed to upload logo")}finally{b(!1)}}},H=async C=>{C.preventDefault(),l(!0);try{if(!m.name||!m.legal_name||!m.phone||!m.email){Oe.error("Please fill in all required fields"),l(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.email)){Oe.error("Please enter a valid email address"),l(!1);return}if(!/^\+?[\d\s-]{10,}$/.test(m.phone)){Oe.error("Please enter a valid phone number"),l(!1);return}const{data:E,error:T}=await $e.from("companies").insert({name:m.name,legal_name:m.legal_name,tax_number:m.gst_number||null,website:m.website||null,logo_url:m.logo_url||null,email:m.email,phone:m.phone,address_street:m.street_address,address_city:m.city,address_state:m.state,address_postal_code:m.postal_code,address_country:m.country,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("id").single();if(T){console.error("Error creating company:",T),T.code==="23505"?Oe.error("A company with this name already exists"):Oe.error(`Failed to create company: ${T.message}`),l(!1);return}const{error:R}=await $e.from("company_settings").insert({company_id:E.id,currency:"INR",timezone:"Asia/Kolkata",fiscal_year_start:"04-01",enable_multi_branch:!1,enable_stock_alerts:!0,low_stock_threshold:10,invoice_prefix:"INV",invoice_starting_number:1});R&&(console.error("Error creating company settings:",R),Oe.error("Company created but settings failed to initialize"));const{error:V}=await $e.from("company_users").insert({user_id:i==null?void 0:i.id,company_id:E.id,role:"admin",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});V&&(console.error("Error creating admin user record:",V),Oe.error("Company created but user assignment failed"));const{error:B}=await $e.auth.updateUser({data:{first_login_completed:!0,company_setup_completed:!0,role:"admin"}});B&&(console.error("Error updating user metadata:",B),Oe.error("Company created but user profile update failed")),e(E),Oe.success(`${m.name} has been created successfully!`),n("/super-admin-dashboard")}catch(k){console.error("Error creating company:",k),Oe.error(k instanceof Error?k.message:"Failed to create company")}finally{l(!1)}},z=()=>{window.confirm("Are you sure you want to skip company setup? You can create a company later from the dashboard.")&&t()},U=()=>p.jsxs("div",{className:"text-center space-y-6",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:`p-4 rounded-full ${_?"bg-blue-500/20":"bg-blue-100"}`,children:p.jsx(ZR,{className:"w-12 h-12 text-blue-500"})})}),p.jsxs("div",{children:[p.jsx("h2",{className:`text-2xl font-bold ${_?"text-white":"text-gray-900"}`,children:"Company Setup"}),p.jsx("p",{className:`mt-2 text-sm ${_?"text-gray-400":"text-gray-600"}`,children:"Let's set up your company to get started."})]}),p.jsx("div",{className:`p-4 rounded-lg ${_?"bg-yellow-900/20":"bg-yellow-50"} border-l-4 border-yellow-500`,children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(ei,{className:"w-5 h-5 text-yellow-500 mt-0.5 mr-3"}),p.jsxs("div",{className:"text-left",children:[p.jsx("h3",{className:`font-medium ${_?"text-white":"text-gray-900"}`,children:"Company Setup Required"}),p.jsx("p",{className:`text-sm mt-1 ${_?"text-gray-300":"text-gray-700"}`,children:"As an administrator, you need to create your company profile to access all features of the POS system."})]})]})}),p.jsxs("div",{className:"flex space-x-3",children:[p.jsx(_t,{onClick:z,variant:"secondary",className:"flex-1",children:"Skip for Now"}),p.jsxs(_t,{onClick:()=>o(2),className:"flex-1",variant:"primary",children:["Create Company",p.jsx(VR,{className:"w-4 h-4 ml-2"})]})]})]}),O=()=>p.jsxs("div",{className:"flex flex-col h-[80vh] max-h-[80vh]",children:[p.jsxs("div",{className:"text-center mb-2",children:[p.jsx("h2",{className:`text-2xl font-bold ${_?"text-white":"text-gray-900"}`,children:"Company Information"}),p.jsx("p",{className:`mt-2 text-sm ${_?"text-gray-400":"text-gray-600"}`,children:"Please provide your company details"}),p.jsxs("div",{className:`mt-2 text-xs ${_?"text-gray-500":"text-gray-400"} flex items-center justify-center`,children:[p.jsx(Vf,{className:"w-3 h-3 mr-1"}),"Scroll to see all fields"]})]}),p.jsxs("div",{className:"flex flex-col items-center mb-4",children:[p.jsx("div",{className:`relative flex items-center justify-center h-24 w-24 rounded-lg border-2 ${_?"border-gray-600 bg-gray-800":"border-gray-300 bg-white"} shadow-sm`,children:m.logo_url?p.jsx("img",{src:m.logo_url,alt:"Company Logo Preview",className:"h-20 w-20 object-contain rounded",style:{maxHeight:80,maxWidth:80},onError:C=>{C.currentTarget.style.display="none"}}):p.jsx(HV,{className:"w-10 h-10 text-gray-400"})}),p.jsx("input",{type:"file",ref:w,onChange:F,accept:"image/jpeg,image/png",className:"hidden"}),p.jsx(_t,{type:"button",variant:"secondary",size:"sm",className:"mt-3",onClick:()=>{var C;return(C=w.current)==null?void 0:C.click()},disabled:v,children:v?"Uploading...":"Upload Logo"}),p.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"JPG, PNG (max 2MB)"})]}),p.jsx("div",{className:`border-b ${_?"border-gray-700":"border-gray-200"} mb-2`}),p.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-1",ref:y,onScroll:N,children:p.jsxs("form",{onSubmit:H,className:"space-y-4 pb-32",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:`block text-sm font-medium ${_?"text-gray-300":"text-gray-700"}`,children:"Company Name *"}),p.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:m.name,onChange:A,className:`mt-1 block w-full px-3 py-2 border ${_?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter company name"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"legal_name",className:`block text-sm font-medium ${_?"text-gray-300":"text-gray-700"}`,children:"Legal Name *"}),p.jsx("input",{id:"legal_name",name:"legal_name",type:"text",required:!0,value:m.legal_name,onChange:A,className:`mt-1 block w-full px-3 py-2 border ${_?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter legal company name"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"gst_number",className:`block text-sm font-medium ${_?"text-gray-300":"text-gray-700"}`,children:"GST Number"}),p.jsx("input",{id:"gst_number",name:"gst_number",type:"text",value:m.gst_number,onChange:A,className:`mt-1 block w-full px-3 py-2 border ${_?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter GST number"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"website",className:`block text-sm font-medium ${_?"text-gray-300":"text-gray-700"}`,children:"Website"}),p.jsx("input",{id:"website",name:"website",type:"url",value:m.website,onChange:A,className:`mt-1 block w-full px-3 py-2 border ${_?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter website URL"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"notes",className:`block text-sm font-medium ${_?"text-gray-300":"text-gray-700"}`,children:"Admin Notes"}),p.jsx("textarea",{id:"notes",name:"notes",rows:3,value:m.notes,onChange:A,placeholder:"Internal notes (not visible to company users)",className:`mt-1 block w-full px-3 py-2 border ${_?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"phone",className:`block text-sm font-medium ${_?"text-gray-300":"text-gray-700"}`,children:"Phone *"}),p.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,value:m.phone,onChange:A,className:`mt-1 block w-full px-3 py-2 border ${_?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter phone number"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:`block text-sm font-medium ${_?"text-gray-300":"text-gray-700"}`,children:"Email *"}),p.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:m.email,onChange:A,className:`mt-1 block w-full px-3 py-2 border ${_?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter email address"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"street_address",className:`block text-sm font-medium ${_?"text-gray-300":"text-gray-700"}`,children:"Street Address *"}),p.jsx("input",{id:"street_address",name:"street_address",type:"text",required:!0,value:m.street_address,onChange:A,className:`mt-1 block w-full px-3 py-2 border ${_?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter street address"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"city",className:`block text-sm font-medium ${_?"text-gray-300":"text-gray-700"}`,children:"City *"}),p.jsx("input",{id:"city",name:"city",type:"text",required:!0,value:m.city,onChange:A,className:`mt-1 block w-full px-3 py-2 border ${_?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter city"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"state",className:`block text-sm font-medium ${_?"text-gray-300":"text-gray-700"}`,children:"State"}),p.jsx("input",{id:"state",name:"state",type:"text",value:m.state,onChange:A,className:`mt-1 block w-full px-3 py-2 border ${_?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter state"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"postal_code",className:`block text-sm font-medium ${_?"text-gray-300":"text-gray-700"}`,children:"Postal Code"}),p.jsx("input",{id:"postal_code",name:"postal_code",type:"text",value:m.postal_code,onChange:A,className:`mt-1 block w-full px-3 py-2 border ${_?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter postal code"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"country",className:`block text-sm font-medium ${_?"text-gray-300":"text-gray-700"}`,children:"Country"}),p.jsx("input",{id:"country",name:"country",type:"text",value:m.country,onChange:A,className:`mt-1 block w-full px-3 py-2 border ${_?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"} rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500`,placeholder:"Enter country"})]})]})]})}),p.jsxs("div",{className:"sticky bottom-0 left-0 w-full bg-gradient-to-t from-gray-900/95 to-transparent pt-4 pb-2 flex items-center justify-between z-20 px-2",style:{background:_?"rgba(17,24,39,0.95)":"rgba(255,255,255,0.95)"},children:[p.jsx(_t,{type:"button",variant:"secondary",onClick:()=>o(1),disabled:s,children:"Back"}),p.jsx(_t,{type:"submit",variant:"primary",isLoading:s,disabled:s,form:void 0,onClick:()=>{var C,k;return(k=(C=y.current)==null?void 0:C.querySelector("form"))==null?void 0:k.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},children:"Create Company"})]})]}),L=()=>p.jsxs("div",{className:"text-center space-y-6",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:`p-4 rounded-full ${_?"bg-green-500/20":"bg-green-100"}`,children:p.jsx(pw,{className:"w-12 h-12 text-green-500"})})}),p.jsxs("div",{children:[p.jsx("h2",{className:`text-2xl font-bold ${_?"text-white":"text-gray-900"}`,children:"Company Created Successfully!"}),p.jsx("p",{className:`mt-2 text-sm ${_?"text-gray-400":"text-gray-600"}`,children:"Your company has been set up. You now have full access to the admin dashboard."})]}),p.jsx("div",{className:`p-4 rounded-lg ${_?"bg-gray-700":"bg-green-50"} border-l-4 border-green-500`,children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(pw,{className:"w-5 h-5 text-green-500 mt-0.5 mr-3"}),p.jsxs("div",{className:"text-left",children:[p.jsx("h3",{className:`font-medium ${_?"text-white":"text-gray-900"}`,children:"Setup Complete"}),p.jsx("p",{className:`text-sm mt-1 ${_?"text-gray-300":"text-gray-700"}`,children:"You can now access all admin features and start managing your business."})]})]})})]});return r?p.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:C=>{C.target===C.currentTarget&&t()},children:[p.jsxs("div",{className:`max-w-2xl w-full ${_?"bg-gray-800":"bg-white"} rounded-xl shadow-xl p-8 relative`,children:[p.jsx("button",{onClick:t,className:`absolute top-4 right-4 p-2 rounded-full ${_?"hover:bg-gray-700":"hover:bg-gray-100"} transition-colors`,title:"Close",children:p.jsx(Li,{className:"w-5 h-5"})}),p.jsx("div",{className:"flex items-center justify-center mb-8",children:p.jsx("div",{className:"flex items-center space-x-4",children:[1,2,3].map(C=>p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${c>=C?"bg-blue-500 text-white":_?"bg-gray-600 text-gray-400":"bg-gray-200 text-gray-500"}`,children:c>C?p.jsx(pw,{className:"w-4 h-4"}):C}),C<3&&p.jsx("div",{className:`w-12 h-0.5 ${c>C?"bg-blue-500":_?"bg-gray-600":"bg-gray-200"}`})]},C))})}),c===1&&U(),c===2&&O(),c===3&&L()]}),c===2&&u&&p.jsx("button",{onClick:P,className:`fixed right-4 bottom-20 p-2 rounded-full ${_?"bg-gray-700 hover:bg-gray-600":"bg-white hover:bg-gray-100"} shadow-lg border transition-colors z-30`,title:"Scroll to top",children:p.jsx(JR,{className:"w-4 h-4"})}),c===2&&f&&p.jsx("button",{onClick:M,className:`fixed right-4 bottom-4 p-2 rounded-full ${_?"bg-gray-700 hover:bg-gray-600":"bg-white hover:bg-gray-100"} shadow-lg border transition-colors z-30`,title:"Scroll to bottom",children:p.jsx(Vf,{className:"w-4 h-4"})})]}):null}const l$=({isOpen:r,onClose:t,companyId:e,onCompanyUpdated:n})=>{const{theme:i}=Vr(),a=i==="dark",[s,l]=fe.useState(!0),[c,o]=fe.useState(!1),[u,d]=fe.useState(!1),[f,h]=fe.useState(null),[y,m]=fe.useState(null),g=fe.useRef(null),[v,b]=fe.useState({id:"",name:"",legal_name:"",tax_number:"",email:"",phone:"",website:"",logo_url:null,address_street:"",address_city:"",address_state:"",address_postal_code:"",address_country:""});fe.useEffect(()=>{r&&e&&w()},[r,e]);const w=async()=>{l(!0);try{const{data:A,error:F}=await $e.from("companies").select("*").eq("id",e).single();if(F)throw F;A&&(b({id:A.id,name:A.name||"",legal_name:A.legal_name||"",tax_number:A.tax_number||"",email:A.email||"",phone:A.phone||"",website:A.website||"",logo_url:A.logo_url||null,address_street:A.address_street||"",address_city:A.address_city||"",address_state:A.address_state||"",address_postal_code:A.address_postal_code||"",address_country:A.address_country||""}),A.logo_url&&m(A.logo_url))}catch(A){console.error("Error loading company data:",A),Oe.error("Failed to load company data")}finally{l(!1)}},_=A=>{var z;const F=(z=A.target.files)==null?void 0:z[0];if(!F)return;if(!F.type.startsWith("image/")){Oe.error("Please upload an image file");return}if(F.size>2*1024*1024){Oe.error("File size should be less than 2MB");return}h(F);const H=new FileReader;H.onloadend=()=>{m(H.result)},H.readAsDataURL(F)},N=async()=>{if(!f)return null;try{d(!0);const A=f.name.split(".").pop(),H=`company-logos/${`${$k()}.${A}`}`,{error:z}=await $e.storage.from("company-logos").upload(H,f,{cacheControl:"3600",upsert:!1});if(z)throw z;const{data:{publicUrl:U}}=$e.storage.from("company-logos").getPublicUrl(H);return U}catch(A){return console.error("Error uploading logo:",A),Oe.error("Failed to upload logo"),null}finally{d(!1)}},P=(A,F)=>{b(H=>({...H,[A]:F}))},M=async A=>{if(A.preventDefault(),!(c||u)){o(!0);try{let F=v.logo_url;if(f){const z=await N();z&&(F=z)}const{error:H}=await $e.from("companies").update({name:v.name,legal_name:v.legal_name,tax_number:v.tax_number,email:v.email,phone:v.phone,website:v.website,logo_url:F,address_street:v.address_street,address_city:v.address_city,address_state:v.address_state,address_postal_code:v.address_postal_code,address_country:v.address_country,updated_at:new Date().toISOString()}).eq("id",e);if(H)throw H;Oe.success("Company updated successfully"),n(),t()}catch(F){console.error("Error updating company:",F),Oe.error(F instanceof Error?F.message:"Failed to update company")}finally{o(!1)}}};return r?p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),p.jsxs("div",{className:`relative w-full max-w-2xl transform rounded-lg ${a?"bg-gray-800":"bg-white"} p-6 shadow-xl transition-all`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ba,{className:"w-6 h-6 mr-2"}),p.jsx("h2",{className:"text-xl font-semibold",children:"Edit Company"})]}),p.jsx("button",{onClick:t,className:`rounded-full p-1 hover:bg-gray-100 ${a?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:p.jsx(Li,{className:"w-5 h-5"})})]}),s?p.jsxs("div",{className:"py-8 text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),p.jsx("p",{className:"mt-4",children:"Loading company data..."})]}):p.jsxs("form",{onSubmit:M,className:"space-y-4",children:[p.jsxs("div",{className:"flex flex-col items-center mb-6",children:[p.jsx("div",{className:"relative w-32 h-32 mb-4 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:y?p.jsx("img",{src:y,alt:"Company logo",className:"w-full h-full object-cover"}):p.jsx("div",{className:"text-gray-400",children:p.jsx(Ba,{className:"w-12 h-12 mx-auto"})})}),p.jsx("input",{type:"file",ref:g,onChange:_,accept:"image/*",className:"hidden"}),p.jsxs(_t,{type:"button",variant:"secondary",size:"sm",onClick:()=>{var A;return(A=g.current)==null?void 0:A.click()},disabled:u,children:[p.jsx(vx,{className:"w-4 h-4 mr-2"}),u?"Uploading...":"Change Logo"]}),p.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"JPG, PNG (max 2MB)"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Company Name *"}),p.jsx("input",{type:"text",value:v.name,onChange:A=>P("name",A.target.value),required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Legal Name"}),p.jsx("input",{type:"text",value:v.legal_name,onChange:A=>P("legal_name",A.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"GST Number"}),p.jsx("input",{type:"text",value:v.tax_number,onChange:A=>P("tax_number",A.target.value),placeholder:"15AABCU9603R1ZX",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Website"}),p.jsx("input",{type:"url",value:v.website,onChange:A=>P("website",A.target.value),placeholder:"https://example.com",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),p.jsx("input",{type:"email",value:v.email,onChange:A=>P("email",A.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),p.jsx("input",{type:"tel",value:v.phone,onChange:A=>P("phone",A.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Street Address"}),p.jsx("input",{type:"text",value:v.address_street,onChange:A=>P("address_street",A.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"City"}),p.jsx("input",{type:"text",value:v.address_city,onChange:A=>P("address_city",A.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"State"}),p.jsx("input",{type:"text",value:v.address_state,onChange:A=>P("address_state",A.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Postal Code"}),p.jsx("input",{type:"text",value:v.address_postal_code,onChange:A=>P("address_postal_code",A.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Country"}),p.jsx("input",{type:"text",value:v.address_country,onChange:A=>P("address_country",A.target.value),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[p.jsx(_t,{variant:"ghost",onClick:t,disabled:c||u,type:"button",children:"Cancel"}),p.jsx(_t,{variant:"primary",type:"submit",disabled:c||u,leftIcon:c||u?void 0:p.jsx(gx,{className:"w-4 h-4"}),children:c||u?p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),u?"Uploading...":"Saving..."]}):"Save Changes"})]})]})]})]})}):null},c$=({isOpen:r,onClose:t,companyId:e,companyName:n,onRemoved:i})=>{const{theme:a}=Vr(),s=a==="dark",[l,c]=fe.useState(!1),[o,u]=fe.useState("");if(!r)return null;const d=async()=>{if(o!==n){Oe.error("Company name does not match");return}c(!0);try{const{error:f}=await $e.from("companies").delete().eq("id",e);if(f)throw f;Oe.success("Company removed successfully"),i(),t()}catch(f){console.error("Error removing company:",f),Oe.error("Failed to remove company")}finally{c(!1)}};return p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),p.jsxs("div",{className:`relative w-full max-w-md transform rounded-lg ${s?"bg-gray-800":"bg-white"} p-6 shadow-xl transition-all`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(dg,{className:"w-6 h-6 text-red-500 mr-2"}),p.jsx("h2",{className:"text-xl font-semibold",children:"Remove Company"})]}),p.jsx("button",{onClick:t,className:`rounded-full p-1 hover:bg-gray-100 ${s?"hover:bg-gray-700":"hover:bg-gray-100"}`,"aria-label":"Close modal",children:p.jsx(Li,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:`p-4 rounded-md ${s?"bg-red-900/20":"bg-red-50"} border border-red-200`,children:p.jsxs("p",{className:"text-red-600 dark:text-red-400",children:["This action cannot be undone. This will permanently delete the company",p.jsxs("span",{className:"font-semibold",children:[" ",n," "]}),"and all associated data."]})}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Please type ",p.jsx("span",{className:"font-semibold",children:n})," to confirm"]}),p.jsx("input",{type:"text",value:o,onChange:f=>u(f.target.value),placeholder:"Enter company name",className:`w-full p-2 rounded-md border ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} ${o&&o!==n?"border-red-500":""}`})]}),p.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[p.jsx(_t,{variant:"ghost",onClick:t,type:"button",children:"Cancel"}),p.jsx(_t,{variant:"danger",onClick:d,isLoading:l,disabled:o!==n,children:"Remove Company"})]})]})]})]})})},mhe=()=>{const{theme:r}=Vr(),{selectedCompany:t,fetchCompanies:e,companies:n}=li(),{userRole:i,isRoleLoading:a}=Ha(),{user:s}=jc(),l=qa(),c=r==="dark",[o,u]=fe.useState(!1),[d,f]=fe.useState(null),[h,y]=fe.useState(new Date),m=fe.useRef(null),[g,v]=fe.useState(!1),[b,w]=fe.useState(!1),[_,N]=fe.useState(!1),[P,M]=fe.useState(null),[A,F]=fe.useState(null),[H,z]=fe.useState([{title:"Company",value:(t==null?void 0:t.name)||"Not Selected",icon:Fl},{title:"Total Users",value:"0",icon:un},{title:"Active Users",value:"0",icon:Kv},{title:"Total Sales",value:"0",icon:ih}]),U=[{title:"Manage Companies",icon:Fl,path:"/companies",color:"bg-blue-500 dark:bg-blue-600"},{title:"User Management",icon:un,path:"/users",color:"bg-green-500 dark:bg-green-600"},{title:"System Settings",icon:tl,path:"/settings",color:"bg-purple-500 dark:bg-purple-600"},{title:"Database Tools",icon:I0,path:"/database",color:"bg-orange-500 dark:bg-orange-600"},{title:"GST Settings",icon:ep,path:"/gst-settings",color:"bg-indigo-500 dark:bg-indigo-600"},{title:"Reports",icon:ih,path:"/reports",color:"bg-red-500 dark:bg-red-600"}],O=async(B=!1)=>{if(u(!0),f(null),!t){f("No company selected. Please select a company to view dashboard data."),u(!1);return}try{const{data:{session:K},error:Z}=await $e.auth.getSession();Z&&console.error("Error getting session:",Z);let ne=0,G=0;if(K)try{const{count:D,error:X}=await $e.from("company_users").select("*",{count:"exact",head:!0}).eq("company_id",t.id);X?console.error("Error fetching company_users:",X):ne=D||0;const{count:Q,error:re}=await $e.from("company_users").select("*",{count:"exact",head:!0}).eq("company_id",t.id).eq("is_active",!0);re?(G=Math.round(ne*.7),console.error("Error fetching active users:",re)):G=Q||0}catch(D){console.error("Error calculating user counts:",D)}let te=0;try{const{data:D,error:X}=await $e.from("sales").select("total_amount").eq("company_id",t.id);!X&&D?te=D.reduce((Q,re)=>Q+(parseFloat(re.total_amount)||0),0):console.error("Error fetching sales data:",X)}catch(D){console.error("Error calculating total sales:",D)}const I=[{title:"Company",value:t.name,icon:Fl},{title:"Total Users",value:String(ne||0),icon:un},{title:"Active Users",value:String(G||0),icon:Kv},{title:"Total Sales",value:`${te.toLocaleString("en-IN",{maximumFractionDigits:2})}`,icon:ih}];z(I),y(new Date),B&&Oe.success(`Dashboard data refreshed for ${t.name}`)}catch(K){console.error("Error fetching dashboard data:",K),f("Failed to load dashboard data"),Oe.error("Failed to load dashboard data")}finally{u(!1)}},L=()=>{O(!0)},C=B=>{switch(B){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"trial":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"expired":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}},k=B=>{switch(B){case"active":return p.jsx(XR,{className:"w-4 h-4"});case"trial":return p.jsx(Km,{className:"w-4 h-4"});case"expired":return p.jsx(ei,{className:"w-4 h-4"});default:return null}},j=async()=>{try{u(!0),Oe.loading("Preparing database backup...",{id:"backup-toast"});const{data:{session:B},error:K}=await $e.auth.getSession();if(K)throw K;if(!B)throw new Error("No active session");const{runBackupSetup:Z}=await Oo(async()=>{const{runBackupSetup:oe}=await import("./setupBackupSystem-BAzLJA9B.js");return{runBackupSetup:oe}},[]),ne=await Z();if(!ne.success)throw console.error("Backup system setup failed:",ne.error),new Error("Failed to set up backup system");ne.partial&&console.warn("Backup system setup was partially successful");let G;try{const{data:oe,error:se}=await $e.from("backups").insert([{created_by:B.user.id,status:"pending",type:"full"}]).select().single();if(se)if(console.error("Error creating backup record:",se),se.message.includes('relation "backups" does not exist'))console.log("Backups table does not exist, using temporary backup ID"),G={id:crypto.randomUUID()};else throw new Error("Failed to create backup record: "+se.message);else G=oe}catch(oe){console.error("Exception creating backup record:",oe),G={id:crypto.randomUUID()},console.log("Using temporary backup ID due to error:",G.id)}if(!G||!G.id)throw new Error("Failed to create or generate backup ID");Oe.loading("Generating backup...",{id:"backup-toast"});let te;try{const{data:oe,error:se}=await $e.rpc("simple_backup",{backup_id:G.id,filter_company_id:(t==null?void 0:t.id)||null});if(se){console.error("Error generating backup using RPC:",se);const he=se.message.toLowerCase();if(he.includes("function")&&(he.includes("does not exist")||he.includes("could not find the function")||he.includes("schema cache"))||he.includes("simple_backup")||se.code==="42883"){console.log("Backup function does not exist, falling back to direct queries");const le=["companies","customers","products","sales","sale_items","purchases","purchase_items","tax_rates","tax_settings"],de={};for(const ve of le)try{let ge=$e.from(ve).select("*").limit(1e3);t&&["customers","products","sales","sale_items","purchases","purchase_items","tax_rates","tax_settings"].includes(ve)&&(ge=ge.eq("company_id",t.id));const{data:ke,error:Pe}=await ge;Pe?(console.warn(`Error fetching ${ve}:`,Pe),de[ve]=[]):de[ve]=ke||[]}catch(ge){console.warn(`Exception fetching ${ve}:`,ge),de[ve]=[]}te={metadata:{version:"1.0",timestamp:new Date().toISOString(),backup_id:G.id,generated_by:"fallback_method",company_id:(t==null?void 0:t.id)||null,company_name:(t==null?void 0:t.name)||null,backup_type:t?"company_specific":"full_system"},...de}}else throw new Error("Failed to generate backup: "+se.message)}else te=oe}catch(oe){throw console.error("Exception generating backup:",oe),new Error("Failed to generate backup: "+(oe instanceof Error?oe.message:String(oe)))}if(!te)throw new Error("No backup data was generated");const I=typeof te=="string"?te:JSON.stringify(te,null,2),D=new Blob([I],{type:"application/json"}),X=URL.createObjectURL(D),Q=document.createElement("a");Q.href=X;const re=t?`${t.name.toLowerCase().replace(/[^a-z0-9]/g,"-")}-backup-${vr(new Date,"yyyy-MM-dd-HH-mm")}.json`:`full-system-backup-${vr(new Date,"yyyy-MM-dd-HH-mm")}.json`;Q.download=re,Oe.dismiss("backup-toast"),Oe.success("Database backup created successfully"),document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(X)}catch(B){console.error("Error creating backup:",B),Oe.dismiss("backup-toast"),Oe.error(B instanceof Error?B.message:"Failed to create database backup")}finally{u(!1)}},E=()=>{m.current&&m.current.click()},T=async B=>{var Z;const K=(Z=B.target.files)==null?void 0:Z[0];if(K)try{u(!0);const{handleBackupFileUpload:ne}=await Oo(async()=>{const{handleBackupFileUpload:G}=await import("./restoreBackup-B97TS6rs.js");return{handleBackupFileUpload:G}},[]);await ne(K),O(!0)}catch(ne){console.error("Error restoring backup:",ne),Oe.error(ne instanceof Error?ne.message:"Failed to restore database backup")}finally{u(!1),m.current&&(m.current.value="")}},R=async()=>{var B,K;if(!(!s||i!=="admin"))try{const Z=(B=s.user_metadata)==null?void 0:B.first_login_completed,ne=(K=s.user_metadata)==null?void 0:K.company_setup_completed,{data:G,error:te}=await $e.from("company_users").select("company_id, companies(*)").eq("user_id",s.id).eq("role","admin");if(te){console.error("Error checking admin companies:",te);return}(!G||G.length===0||!Z||!ne)&&(w(!0),v(!0))}catch(Z){console.error("Error checking first-time admin status:",Z)}},V=async B=>{w(!1),v(!1),await e(),Oe.success(`Welcome to ${B.name}! Your company has been set up successfully.`)};return fe.useEffect(()=>{if(!a&&i!=="admin"&&i!=="owner"){Oe.error("This dashboard is only accessible to administrators"),l("/");return}!a&&i==="admin"&&R(),b||O()},[i,a,l,t,b]),p.jsxs(o$,{lastUpdate:h,onRefresh:L,isLoading:o,children:[p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Super Admin Dashboard"}),i==="admin"&&p.jsx(_t,{variant:"primary",onClick:()=>l("/create-company"),children:"Create New Company"})]}),t&&p.jsx("div",{className:`${c?"bg-blue-900/20":"bg-blue-50"} border-l-4 border-blue-500 p-4 rounded mb-6`,children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx(Fl,{className:"h-5 w-5 text-blue-500"})}),p.jsxs("div",{className:"ml-3",children:[p.jsx("h3",{className:`font-medium ${c?"text-white":"text-gray-900"}`,children:"Welcome to your Super Admin Dashboard!"}),p.jsxs("p",{className:`text-sm mt-1 ${c?"text-gray-300":"text-gray-700"}`,children:["You're now managing ",p.jsx("strong",{children:t.name}),". From here you can manage all aspects of your business including users, companies, and system settings."]})]})]})}),d&&p.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 p-4 rounded",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx(ep,{className:"h-5 w-5 text-red-500"})}),p.jsx("div",{className:"ml-3",children:p.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:d})})]})}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:H.map((B,K)=>p.jsx("div",{className:`${c?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6`,children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:`p-3 rounded-full ${c?"bg-blue-500/20":"bg-blue-100"} mr-4`,children:p.jsx(B.icon,{className:"h-6 w-6 text-blue-500"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:B.title}),B.title==="Company"?p.jsx("p",{className:"text-2xl font-semibold text-green-600 dark:text-green-300",children:B.value}):p.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:B.value})]})]})},K))}),p.jsxs("div",{className:`${c?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6`,children:[p.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"Quick Actions"}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:U.map((B,K)=>p.jsx(Ri,{to:B.path,className:`${B.color} p-4 rounded-lg text-white transition-transform hover:scale-105`,children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx(B.icon,{className:"h-8 w-8 mb-2"}),p.jsx("span",{className:"font-medium text-white",children:B.title})]})},K))})]}),p.jsxs("div",{className:`${c?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Companies Management"}),p.jsx("p",{className:`mt-1 ${c?"text-gray-400":"text-gray-500"}`,children:"Manage all companies in the system"})]}),p.jsx(_t,{variant:"primary",onClick:()=>N(!0),leftIcon:p.jsx(Qs,{className:"w-4 h-4"}),children:"Add Company"})]}),n.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Fl,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),p.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Companies Yet"}),p.jsx("p",{className:`${c?"text-gray-400":"text-gray-500"} max-w-md mx-auto`,children:"Get started by creating your first company to manage inventory, sales, and more."}),p.jsx(_t,{variant:"primary",className:"mt-6",onClick:()=>N(!0),leftIcon:p.jsx(Qs,{className:"w-4 h-4"}),children:"Create Company"})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(B=>p.jsxs("div",{className:`${c?"bg-gray-700":"bg-gray-50"} rounded-lg p-6 hover:shadow-md transition-shadow`,children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-lg font-semibold",children:B.name}),B.legal_name&&p.jsx("p",{className:`text-sm ${c?"text-gray-400":"text-gray-500"}`,children:B.legal_name})]}),p.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 ${C(B.subscription_status)}`,children:[k(B.subscription_status),p.jsx("span",{className:"capitalize",children:B.subscription_status})]})]}),p.jsxs("div",{className:"space-y-3",children:[B.tax_number&&p.jsxs("div",{className:"flex items-center text-sm",children:[p.jsx(F6,{className:"w-4 h-4 mr-2"}),p.jsxs("span",{children:["GST: ",B.tax_number]})]}),(B.address_street||B.address_city||B.address_state)&&p.jsxs("div",{className:"flex items-start text-sm",children:[p.jsx(T8,{className:"w-4 h-4 mr-2 mt-1"}),p.jsxs("div",{children:[B.address_street&&p.jsx("div",{children:B.address_street}),p.jsx("div",{children:[B.address_city,B.address_state,B.address_postal_code].filter(Boolean).join(", ")})]})]}),B.phone&&p.jsxs("div",{className:"flex items-center text-sm",children:[p.jsx(Gv,{className:"w-4 h-4 mr-2"}),p.jsx("span",{children:B.phone})]}),B.email&&p.jsxs("div",{className:"flex items-center text-sm",children:[p.jsx(rp,{className:"w-4 h-4 mr-2"}),p.jsx("span",{children:B.email})]}),B.notes&&p.jsxs("div",{className:"flex items-start text-sm",children:[p.jsx("div",{className:"w-4 h-4 mr-2 mt-1",children:p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:`text-xs ${c?"text-gray-400":"text-gray-500"} mb-1`,children:"Admin Notes:"}),p.jsx("div",{className:"text-sm line-clamp-2",children:B.notes})]})]})]}),p.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[p.jsxs("div",{className:`text-sm ${c?"text-gray-400":"text-gray-500"}`,children:[p.jsx(un,{className:"w-4 h-4 inline-block mr-1"}),B.role||"Admin"]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(_t,{variant:"secondary",size:"sm",leftIcon:p.jsx(gh,{className:"w-4 h-4"}),onClick:()=>{M({id:B.id,name:B.name})},children:"Edit"}),p.jsx(_t,{variant:"danger",size:"sm",onClick:()=>F({id:B.id,name:B.name}),children:p.jsx(Eu,{className:"w-4 h-4"})})]})]})]},B.id))})]}),p.jsxs("div",{className:`${c?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6`,children:[p.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-white",children:"System Overview"}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"border dark:border-gray-700 rounded-lg p-4",children:[p.jsxs("h3",{className:"text-md font-medium mb-2 flex items-center text-gray-800 dark:text-gray-200",children:[p.jsx(ih,{className:"w-5 h-5 mr-2 text-blue-500"}),"System Statistics"]}),p.jsxs("ul",{className:"space-y-2 text-sm",children:[p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"System Version:"}),p.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"1.0.0"})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Database Status:"}),p.jsx("span",{className:"font-medium text-green-500",children:"Healthy"})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Last Backup:"}),p.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:vr(new Date,"MMM d, yyyy")})]}),p.jsxs("li",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Storage Usage:"}),p.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"42%"})]})]})]}),p.jsxs("div",{className:"border dark:border-gray-700 rounded-lg p-4",children:[p.jsxs("h3",{className:"text-md font-medium mb-2 flex items-center text-gray-800 dark:text-gray-200",children:[p.jsx(tl,{className:"w-5 h-5 mr-2 text-blue-500"}),"Admin Tools"]}),p.jsxs("ul",{className:"space-y-2 text-sm",children:[p.jsx("li",{children:p.jsxs("button",{onClick:j,disabled:o,className:"text-blue-500 hover:underline flex items-center w-full text-left",children:[p.jsx(A8,{className:"w-4 h-4 mr-2"}),"Create Database Backup"]})}),p.jsxs("li",{children:[p.jsxs("button",{onClick:E,disabled:o,className:"text-blue-500 hover:underline flex items-center w-full text-left",children:[p.jsx(vx,{className:"w-4 h-4 mr-2"}),"Restore From Backup"]}),p.jsx("input",{type:"file",ref:m,onChange:T,accept:".json",className:"hidden"})]}),p.jsx("li",{children:p.jsxs(Ri,{to:"/users/permissions",className:"text-blue-500 hover:underline flex items-center",children:[p.jsx("span",{className:"mr-2",children:""}),"Manage User Permissions"]})}),p.jsx("li",{children:p.jsxs(Ri,{to:"/system/logs",className:"text-blue-500 hover:underline flex items-center",children:[p.jsx("span",{className:"mr-2",children:""}),"View System Logs"]})}),p.jsx("li",{children:p.jsxs(Ri,{to:"/settings/tax",className:"text-blue-500 hover:underline flex items-center",children:[p.jsx("span",{className:"mr-2",children:""}),"Configure Tax Settings"]})})]})]})]})]})]}),p.jsx(Gb,{isOpen:_,onClose:()=>N(!1),onSuccess:()=>{e()},title:"Create New Company"}),P&&p.jsx(l$,{isOpen:!0,onClose:()=>M(null),companyId:P.id,onCompanyUpdated:()=>{e()}}),A&&p.jsx(c$,{isOpen:!0,onClose:()=>F(null),companyId:A.id,companyName:A.name,onRemoved:e}),p.jsx(phe,{isOpen:g,onClose:()=>v(!1),onCompanyCreated:V})]})},ghe=()=>{const r=qa(),[t,e]=fe.useState(""),[n,i]=fe.useState(""),[a,s]=fe.useState(""),[l,c]=fe.useState(!1),[o,u]=fe.useState(!1),[d,f]=fe.useState(!1),[h,y]=fe.useState(!1),[m,g]=fe.useState("cashier"),[v,b]=fe.useState(!1),w={manager:"Manages inventory, reports, and users",cashier:"Processes sales and payments",salesperson:"Creates orders and manages customers",owner:"Full access to all features",admin:"System administrator with full access"},_=M=>{switch(M){case"manager":return p.jsx(tl,{className:"h-4 w-4 text-blue-500 dark:text-blue-400"});case"cashier":return p.jsx(qi,{className:"h-4 w-4 text-green-500 dark:text-green-400"});case"salesperson":return p.jsx(un,{className:"h-4 w-4 text-purple-500 dark:text-purple-400"});case"owner":return p.jsx(ZR,{className:"h-4 w-4 text-yellow-500 dark:text-yellow-400"});case"admin":return p.jsx(mw,{className:"h-4 w-4 text-red-500 dark:text-red-400"});default:return p.jsx(mw,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})}},N=["manager","cashier","salesperson","admin"];fe.useEffect(()=>{i(""),s("")},[o]),fe.useEffect(()=>{const M=A=>{const F=A.target;v&&!F.closest(".role-dropdown-container")&&b(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[v]);const P=async M=>{M.preventDefault(),c(!0);try{if(!t||!n)throw new Error("Please enter both email and password");if(n.length<6)throw new Error("Password must be at least 6 characters long");if(o){if(n!==a)throw new Error("Passwords do not match");const{data:A,error:F}=await $e.auth.signUp({email:t,password:n,options:{data:{display_name:t.split("@")[0],role:m}}});if(F)throw F;A.user&&(Oe.success("Account created successfully! You can now sign in."),u(!1),i(""),s(""))}else{const{data:A,error:F}=await $e.auth.signInWithPassword({email:t,password:n});if(F)throw F;A.user&&(jV(t),Oe.success("Successfully signed in!"),setTimeout(async()=>{try{const{data:H,error:z}=await $e.from("company_users").select("role, company_id").eq("user_id",A.user.id).eq("is_active",!0);if(z){console.error("Error checking company_users:",z),Oe.error("Failed to check user roles");return}const U=H?H.map(O=>O.role):[];if(U.length===1){switch(U[0]){case"admin":case"owner":r("/super-admin-dashboard");break;case"manager":r("/manager-dashboard");break;case"cashier":r("/cashier-dashboard");break;case"salesperson":r("/salesperson-dashboard");break;case"vendor":r("/vendor-dashboard");break;default:r("/")}return}else if(U.length>1){r("/role-selection");return}else{Oe.error("No role assigned. Please contact your administrator.");return}}catch(H){console.error("Error in post-login navigation:",H),r("/role-selection")}},1e3))}}catch(A){console.error(o?"Signup error:":"Login error:",A),Oe.error(A instanceof Error?A.message:"Authentication failed")}finally{c(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 py-12 px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg",children:[p.jsxs("div",{children:[p.jsx("div",{className:"flex justify-center",children:p.jsx(zV,{className:"w-12 h-12 text-blue-600 dark:text-blue-400"})}),p.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:o?"Create your account":"Sign in to your account"}),p.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:[o?"Already have an account?":"Don't have an account?"," ",p.jsx("button",{onClick:()=>u(!o),className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:o?"Sign in":"Create one"})]})]}),p.jsxs("form",{className:"mt-8 space-y-6",onSubmit:P,children:[p.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(rp,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-t-md relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t,onChange:M=>e(M.target.value)})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Wv,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:o?"new-password":"current-password",required:!0,className:`appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm ${o?"":"rounded-b-md"}`,placeholder:o?"Create password":"Password",value:n,onChange:M=>i(M.target.value),minLength:6}),p.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>f(!d),children:d?p.jsx(Hv,{className:"h-5 w-5 text-gray-400"}):p.jsx(hg,{className:"h-5 w-5 text-gray-400"})})]})]}),o&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Wv,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"confirm-password",name:"confirm-password",type:h?"text":"password",required:!0,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm password",value:a,onChange:M=>s(M.target.value),minLength:6}),p.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>y(!h),children:h?p.jsx(Hv,{className:"h-5 w-5 text-gray-400"}):p.jsx(hg,{className:"h-5 w-5 text-gray-400"})})]})]}),p.jsxs("div",{className:"mt-3",children:[p.jsx("label",{htmlFor:"user-role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select User Role"}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Choose the role that best describes your position in the organization"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute top-3 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(mw,{className:"h-5 w-5 text-gray-400"})}),p.jsxs("div",{className:"relative role-dropdown-container",children:[p.jsxs("button",{type:"button",className:"appearance-none rounded-md relative block w-full px-3 py-3 pl-10 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white bg-white dark:bg-gray-700 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm text-left flex justify-between items-start",onClick:()=>b(!v),children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"mr-2",children:_(m)}),p.jsx("span",{className:"capitalize font-medium",children:m})]}),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-6",children:w[m]})]}),p.jsx(Vf,{className:"h-4 w-4 text-gray-400"})]}),v&&p.jsxs("div",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-gray-700 shadow-lg rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:[p.jsx("div",{className:"px-3 py-2 border-b border-gray-200 dark:border-gray-600",children:p.jsx("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Available Roles"})}),N.map(M=>p.jsx("div",{className:`cursor-pointer select-none relative py-3 pl-10 pr-4 hover:bg-gray-100 dark:hover:bg-gray-600 ${m===M?"bg-blue-50 dark:bg-blue-900 text-blue-600 dark:text-blue-300":"text-gray-900 dark:text-white"}`,onClick:()=>{g(M),b(!1)},children:p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"mr-2",children:_(M)}),p.jsx("span",{className:"block truncate capitalize font-medium",children:M}),m===M&&p.jsx(KR,{className:"ml-2 h-4 w-4 text-blue-500 dark:text-blue-400"})]}),p.jsx("span",{className:"block truncate text-xs text-gray-500 dark:text-gray-400 ml-6",children:w[M]})]})},M))]})]})]})]})]})]}),!o&&p.jsx("div",{className:"flex items-center justify-end",children:p.jsx("div",{className:"text-sm",children:p.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"Forgot your password?"})})}),p.jsx("div",{className:"space-y-4",children:p.jsx(_t,{type:"submit",variant:"primary",className:"w-full",isLoading:l,children:o?"Create account":"Sign in"})})]})]})})},w0=({children:r,action:t,fallback:e})=>{const{hasPermission:n,userRole:i}=Ha(),{theme:a}=Vr(),s=a==="dark";let l=!1;return i==="manager"||i==="admin"||i==="owner"?l=!0:i==="cashier"||i==="salesperson"?l=t==="view":l=n("products",t),l?p.jsx(p.Fragment,{children:r}):e?p.jsx(p.Fragment,{children:e}):p.jsx("div",{className:`rounded-md p-4 ${s?"bg-red-900/20":"bg-red-50"}`,children:p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx(ei,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),p.jsxs("div",{className:"ml-3",children:[p.jsx("h3",{className:`text-sm font-medium ${s?"text-red-300":"text-red-800"}`,children:"Access Restricted"}),p.jsx("div",{className:`mt-2 text-sm ${s?"text-red-200":"text-red-700"}`,children:p.jsx("p",{children:i==="cashier"||i==="salesperson"?`As a ${i}, you only have view access to products.`:"You do not have permission to perform this action."})})]})]})})},l8=({className:r="",label:t="Back",onClick:e,iconOnly:n=!1})=>{const i=qa(),a=nl(),{theme:s}=Vr(),[l,c]=fe.useState(!1),o=window.innerWidth<768;fe.useEffect(()=>{c(window.history.state!==null)},[a]);const u=()=>{e?e():i(-1)};if(!l&&!e)return null;const d=n||o&&n!==!1;return p.jsxs("button",{onClick:u,className:`flex items-center ${d?"p-2":"px-3 py-2 md:py-1.5"} rounded-md text-sm font-medium
        ${s==="dark"?"bg-gray-700 text-white hover:bg-gray-600 active:bg-gray-800":"bg-gray-100 text-gray-700 hover:bg-gray-200 active:bg-gray-300"}
        transition-colors duration-200 android-ripple
        ${r}`,"aria-label":"Go back",children:[p.jsx(WR,{className:`h-5 w-5 ${d?"":"mr-1.5"}`}),!d&&t]})},yhe=({title:r,icon:t,rightContent:e,showBackButton:n=!0,className:i=""})=>p.jsxs("div",{className:`flex justify-between items-center mb-6 ${i}`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[n&&p.jsx(l8,{}),t&&p.jsx("span",{className:"flex items-center",children:t}),p.jsx("h1",{className:"text-2xl font-bold",children:r})]}),e&&p.jsx("div",{children:e})]}),u$=rt.forwardRef(({children:r,label:t,className:e="",variant:n="primary",size:i="md",...a},s)=>{const l=r||t||"Add";return p.jsx(_t,{ref:s,variant:n,size:i,className:`group ${e}`,leftIcon:p.jsx(Qs,{className:"w-4 h-4 transition-transform duration-200 group-hover:scale-110"}),"aria-label":`Add ${l.toString().toLowerCase()}`,...a,children:l})});u$.displayName="AddButton";async function Uk(r){try{console.log("Getting tax settings",r?`for company ${r}`:"for any company");let t=$e.from("tax_settings").select("*");r&&(t=t.eq("company_id",r));const{data:e,error:n}=await t;if(n)throw console.error("Error fetching tax settings:",n),new Error(`Failed to fetch tax settings: ${n.message}`);if(e&&e.length>0)return console.log(`Found ${e.length} tax settings, using the first one:`,e[0]),e[0];console.log("No tax settings found, will create default settings");let i;if(r)i=r;else{const{data:c,error:o}=await $e.from("companies").select("id").limit(1);if(o)throw console.error("Error fetching companies:",o),new Error(`Failed to fetch companies: ${o.message}`);if(c&&c.length>0)i=c[0].id,console.log("Using existing company ID for new settings:",i);else{console.log("No companies found, creating a default company");const{data:u,error:d}=await $e.from("companies").insert({name:"Default Company",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select();if(d)throw console.error("Error creating default company:",d),new Error(`Failed to create default company: ${d.message}`);if(!u||u.length===0)throw console.error("No company data returned after creation"),new Error("Failed to create default company: No data returned");i=u[0].id,console.log("Created default company with ID:",i)}}const a={company_id:i,tax_type:"split",tax_inclusive:!1,cess_enabled:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Creating default tax settings:",a);const{data:s,error:l}=await $e.from("tax_settings").insert(a).select();if(l)throw console.error("Error creating default tax settings:",l),new Error(`Failed to create default tax settings: ${l.message}`);if(!s||s.length===0)throw console.error("No tax settings data returned after creation"),new Error("Failed to create default tax settings: No data returned");return console.log("Created default tax settings:",s[0]),s[0]}catch(t){throw console.error("Error in getTaxSettings:",t),t}}async function e2(r){try{console.log("Getting tax rates",r?`for company ${r}`:"for any company");let t=$e.from("tax_rates").select("*");r&&(t=t.eq("company_id",r));const{data:e,error:n}=await t.order("rate");if(n)return console.error("Error fetching tax rates:",n),[];if(e&&e.length>0)return console.log(`Found ${e.length} tax rates for ${r?`company ${r}`:"any company"}`),e;if(console.warn("No tax rates found, will return default rates"),r){const i=[{rate:28,description:"GST 28%"},{rate:12,description:"GST 12%"},{rate:0,description:"GST Exempt"},{rate:5,description:"GST 5%"},{rate:18,description:"GST 18%"}],{error:a}=await $e.from("tax_rates").insert(i.map(c=>({rate:c.rate,description:c.description,hsn_code:null,company_id:r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})));if(a)return console.error("Error creating default tax rates:",a),[];const{data:s,error:l}=await $e.from("tax_rates").select("*").eq("company_id",r).order("rate");return l?(console.error("Error fetching newly created tax rates:",l),[]):s||[]}return[]}catch(t){return console.error("Error in getTaxRates:",t),[]}}async function vhe(r,t,e,n=!1){const{data:i,error:a}=await $e.rpc("calculate_gst_breakdown",{base_amount:r,tax_rate:t,is_split:e,include_cess:n});if(a)throw console.error("Error calculating GST:",a),a;return i}function bhe(r,t,e){const n=r*100/(100+t);return Number(n.toFixed(2))}function sI(r,t,e){if(e){const n=bhe(r,t),i=r-n;return Number(i.toFixed(2))}else{const n=t/2,i=r*n/100;return Number(i.toFixed(2))}}const xhe=({isOpen:r,onClose:t,onUpdate:e,product:n})=>{const{theme:i}=Vr(),a=i==="dark",[s,l]=fe.useState("basic"),[c,o]=fe.useState(!1),[u,d]=fe.useState([]),[f,h]=fe.useState({name:"",sku:"",price:0,purchasePrice:0,mrp:0,unit:"pcs",stock:0,category:"electronics",hsnCode:"",taxRateId:"",taxInclusive:!1,imageUrl:"",artNo:"",color:"",size:""});fe.useEffect(()=>{y()},[]),fe.useEffect(()=>{n&&h({name:n.name,sku:n.sku,price:n.price,purchasePrice:n.purchasePrice,mrp:n.mrp,unit:n.unit,stock:n.stock,category:n.category,hsnCode:n.hsnCode||"",taxRateId:n.taxRateId||"",taxInclusive:n.taxInclusive||!1,imageUrl:n.imageUrl||"",artNo:n.artNo||"",color:n.color||"",size:n.size||""})},[n]);const y=async()=>{try{const _=await e2();if(_.length===0){const P=[{id:"0a93172b-21a3-42ac-b372-fc16acf44a06",rate:28,description:"GST 28%"},{id:"73fe4609-6047-4e3e-ae44-64e7d68b6df1",rate:12,description:"GST 12%"},{id:"76f65d10-41c4-4b47-92d0-d300bb86e81d",rate:0,description:"GST Exempt"},{id:"b5aa2c3d-fe26-47f3-bd25-7e6b76c36a2d",rate:5,description:"GST 5%"},{id:"ef3d6f7b-9d32-4f5b-8b75-425b6723c122",rate:18,description:"GST 18%"}].map(M=>({...M,hsn_code:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}));d(P)}else d(_)}catch(_){console.error("Error loading tax rates:",_);const P=[{id:"0a93172b-21a3-42ac-b372-fc16acf44a06",rate:28,description:"GST 28%"},{id:"73fe4609-6047-4e3e-ae44-64e7d68b6df1",rate:12,description:"GST 12%"},{id:"76f65d10-41c4-4b47-92d0-d300bb86e81d",rate:0,description:"GST Exempt"},{id:"b5aa2c3d-fe26-47f3-bd25-7e6b76c36a2d",rate:5,description:"GST 5%"},{id:"ef3d6f7b-9d32-4f5b-8b75-425b6723c122",rate:18,description:"GST 18%"}].map(M=>({...M,hsn_code:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}));d(P)}};if(!r)return null;const m=async()=>{if(f.sku===n.sku)return!0;try{const{data:_,error:N}=await $e.from("products").select("id, sku").eq("sku",f.sku.trim()).neq("id",n.id);if(N)throw console.error("Error checking for duplicate SKU:",N),N;return _&&_.length>0?(Oe.error(`A product with SKU "${f.sku}" already exists. Please use a unique SKU.`),l("basic"),!1):!0}catch(_){return console.error("Error checking for duplicate SKU:",_),Oe.error("Error validating SKU. Please try again."),!1}},g=()=>f.name.trim()?f.sku.trim()?f.price<=0?(Oe.error("Valid selling price is required"),l("pricing"),!1):f.purchasePrice<=0?(Oe.error("Valid purchase price is required"),l("pricing"),!1):f.mrp<=0?(Oe.error("Valid MRP is required"),l("pricing"),!1):f.stock<0?(Oe.error("Stock cannot be negative"),l("basic"),!1):f.category?f.taxRateId?!0:(Oe.error("Tax rate is required"),l("tax"),!1):(Oe.error("Category is required"),l("basic"),!1):(Oe.error("SKU is required"),l("basic"),!1):(Oe.error("Product name is required"),l("basic"),!1),v=async _=>{if(_.preventDefault(),!!g()){o(!0);try{if(!await m()){o(!1);return}await e(f),Oe.success("Product updated successfully!"),t()}catch(N){console.error("Error updating product:",N),N instanceof Error&&N.message.includes("duplicate key value violates unique constraint")?Oe.error(`A product with SKU "${f.sku}" already exists. Please use a unique SKU.`):Oe.error("Failed to update product")}finally{o(!1)}}},b=_=>{const{name:N,value:P,type:M}=_.target;h(A=>({...A,[N]:M==="checkbox"?_.target.checked:N==="price"||N==="purchasePrice"||N==="stock"||N==="mrp"?Number(P):P}))},w=()=>{var _;switch(s){case"basic":return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Name*"}),p.jsx("input",{type:"text",name:"name",value:f.name,onChange:b,required:!0,placeholder:"Enter product name",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"SKU*"}),p.jsx("input",{type:"text",name:"sku",value:f.sku,onChange:b,required:!0,placeholder:"Unique identifier",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),f.sku!==n.sku&&p.jsx("p",{className:"mt-1 text-xs text-yellow-500",children:"Warning: Changing SKU will affect existing references"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Stock*"}),p.jsx("input",{type:"number",name:"stock",value:f.stock,onChange:b,required:!0,min:"0",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),(f.category==="garments"||f.category==="footwear"||f.category==="clothing")&&p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"ART No"}),p.jsx("input",{type:"text",name:"artNo",value:f.artNo||"",onChange:b,placeholder:"Article Number",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Color"}),p.jsx("input",{type:"text",name:"color",value:f.color||"",onChange:b,placeholder:"Product Color",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Size"}),p.jsx("input",{type:"text",name:"size",value:f.size||"",onChange:b,placeholder:"Product Size",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category*"}),p.jsxs("select",{name:"category",value:f.category,onChange:b,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"",children:"Select Category"}),p.jsx("option",{value:"electronics",children:"Electronics"}),p.jsx("option",{value:"clothing",children:"Clothing"}),p.jsx("option",{value:"garments",children:"Garments"}),p.jsx("option",{value:"footwear",children:"Footwear"}),p.jsx("option",{value:"food",children:"Food"}),p.jsx("option",{value:"accessories",children:"Accessories"}),p.jsx("option",{value:"other",children:"Other"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unit*"}),p.jsxs("select",{name:"unit",value:f.unit,onChange:b,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"pcs",children:"Pieces"}),p.jsx("option",{value:"kg",children:"Kilograms"}),p.jsx("option",{value:"box",children:"Box"}),p.jsx("option",{value:"liters",children:"Liters"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),p.jsx("input",{type:"url",name:"imageUrl",value:f.imageUrl||"",onChange:b,placeholder:"https://example.com/image.jpg",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx("p",{className:`mt-1 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"Optional: Enter a URL for the product image"})]}),f.imageUrl&&p.jsx("div",{className:`p-4 rounded-md border ${a?"border-gray-700":"border-gray-200"} flex justify-center`,children:p.jsx("img",{src:f.imageUrl,alt:f.name,className:"h-32 object-contain",onError:N=>{N.target.src="https://via.placeholder.com/150?text=Image+Error"}})})]});case"pricing":return p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:`p-3 rounded-md ${a?"bg-blue-900/20":"bg-blue-50"} mb-4`,children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(tp,{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),p.jsx("p",{className:`text-sm ${a?"text-blue-300":"text-blue-700"}`,children:"Update your pricing strategy. MRP is the maximum retail price, purchase price is your cost, and selling price is what customers pay."})]})}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Purchase Price ()*"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Ai,{className:"h-4 w-4 text-gray-400"})}),p.jsx("input",{type:"number",name:"purchasePrice",value:f.purchasePrice,onChange:b,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:`w-full pl-10 p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsx("p",{className:`mt-1 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"Your cost price for this product"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Selling Price ()*"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Ai,{className:"h-4 w-4 text-gray-400"})}),p.jsx("input",{type:"number",name:"price",value:f.price,onChange:b,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:`w-full pl-10 p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsx("p",{className:`mt-1 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"Price at which you'll sell this product"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"MRP ()*"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Ai,{className:"h-4 w-4 text-gray-400"})}),p.jsx("input",{type:"number",name:"mrp",value:f.mrp,onChange:b,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:`w-full pl-10 p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsx("p",{className:`mt-1 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"Maximum Retail Price printed on the product"})]}),f.price>0&&f.purchasePrice>0&&p.jsx("div",{className:`p-3 rounded-md ${a?"bg-green-900/20":"bg-green-50"} mt-4`,children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`text-sm font-medium ${a?"text-green-300":"text-green-700"}`,children:"Profit Margin:"}),p.jsx("span",{className:`text-sm font-bold ${a?"text-green-300":"text-green-700"}`,children:(()=>{const N=f.price,P=f.purchasePrice;return N>0&&P>0?`${((N-P)/N*100).toFixed(2)}%`:"0.00%"})()})]})}),f.price>f.mrp&&p.jsx("div",{className:`p-3 rounded-md ${a?"bg-red-900/20":"bg-red-50"} mt-4`,children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(ei,{className:"w-5 h-5 text-red-500 mt-0.5 mr-2 flex-shrink-0"}),p.jsx("p",{className:`text-sm ${a?"text-red-300":"text-red-700"}`,children:"Warning: Selling price is higher than MRP. This may not be legally compliant."})]})})]});case"tax":return p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:`p-3 rounded-md ${a?"bg-blue-900/20":"bg-blue-50"} mb-4`,children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(tp,{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),p.jsx("p",{className:`text-sm ${a?"text-blue-300":"text-blue-700"}`,children:"Configure GST settings for this product. These details will appear on invoices and tax reports."})]})}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"HSN Code"}),p.jsx("input",{type:"text",name:"hsnCode",value:f.hsnCode||"",onChange:b,placeholder:"e.g., 8471",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx("p",{className:`mt-1 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"Harmonized System Nomenclature code for the product"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tax Rate*"}),p.jsx("div",{className:"grid grid-cols-5 gap-2 mb-2",children:[{id:"76f65d10-41c4-4b47-92d0-d300bb86e81d",rate:0,description:"GST Exempt"},{id:"b5aa2c3d-fe26-47f3-bd25-7e6b76c36a2d",rate:5,description:"GST 5%"},{id:"73fe4609-6047-4e3e-ae44-64e7d68b6df1",rate:12,description:"GST 12%"},{id:"ef3d6f7b-9d32-4f5b-8b75-425b6723c122",rate:18,description:"GST 18%"},{id:"0a93172b-21a3-42ac-b372-fc16acf44a06",rate:28,description:"GST 28%"}].map(P=>p.jsxs("button",{type:"button",onClick:()=>h(M=>({...M,taxRateId:P.id})),className:`flex flex-col items-center justify-center p-2 rounded-md border ${f.taxRateId===P.id?a?"bg-blue-600 border-blue-500 text-white":"bg-blue-100 border-blue-300 text-blue-800":a?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-white border-gray-300 hover:bg-gray-50"}`,children:[p.jsx(Js,{className:"w-4 h-4 mb-1"}),p.jsxs("span",{className:"text-sm font-medium",children:[P.rate,"%"]})]},P.id))}),p.jsxs("select",{name:"taxRateId",value:f.taxRateId||"",onChange:b,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"",children:"Select Tax Rate"}),u.map(N=>p.jsxs("option",{value:N.id,children:[N.description," (",N.rate,"%)"]},N.id))]})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",name:"taxInclusive",checked:f.taxInclusive||!1,onChange:b,className:"rounded border-gray-300"}),p.jsx("span",{className:"text-sm",children:"Tax Inclusive Pricing"})]}),p.jsx("p",{className:`mt-1 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"When enabled, the selling price includes GST"})]}),((_=u.find(N=>N.id===f.taxRateId))==null?void 0:_.rate)===28&&p.jsx("div",{className:`p-3 rounded-md ${a?"bg-yellow-900/20":"bg-yellow-50"} border border-yellow-200`,children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(ei,{className:"w-5 h-5 text-yellow-500 mt-0.5 mr-2 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:"CESS Applicable"}),p.jsx("p",{className:`text-sm ${a?"text-gray-400":"text-gray-500"}`,children:"Additional 15% CESS will be applied as this product falls under 28% GST category"})]})]})})]});default:return null}};return p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),p.jsxs("div",{className:`relative w-full max-w-2xl transform rounded-lg ${a?"bg-gray-800":"bg-white"} p-6 shadow-xl transition-all`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Vn,{className:`w-6 h-6 mr-2 ${a?"text-blue-400":"text-blue-600"}`}),p.jsx("h2",{className:"text-xl font-semibold",children:"Update Product"})]}),p.jsx("button",{onClick:t,className:`rounded-full p-1 hover:bg-gray-100 ${a?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:p.jsx(Li,{className:"w-5 h-5"})})]}),p.jsx("div",{className:`mb-6 p-3 rounded-md ${a?"bg-gray-700":"bg-gray-100"}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium",children:n.name}),p.jsxs("div",{className:"flex items-center text-sm mt-1",children:[p.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs ${a?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-700"}`,children:["SKU: ",n.sku]}),p.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${n.stock>0?a?"bg-green-900/30 text-green-300":"bg-green-100 text-green-800":a?"bg-red-900/30 text-red-300":"bg-red-100 text-red-800"}`,children:n.stock>0?`In Stock: ${n.stock}`:"Out of Stock"})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:`text-sm ${a?"text-gray-300":"text-gray-600"}`,children:["Current Price: ",n.price.toFixed(2)]}),p.jsxs("div",{className:`text-xs ${a?"text-gray-400":"text-gray-500"}`,children:["MRP: ",n.mrp.toFixed(2)]})]})]})}),p.jsxs("div",{className:"flex border-b mb-6",children:[p.jsx("button",{onClick:()=>l("basic"),className:`px-4 py-2 font-medium text-sm ${s==="basic"?a?"border-b-2 border-blue-500 text-blue-400":"border-b-2 border-blue-600 text-blue-600":a?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(C8,{className:"w-4 h-4 mr-2"}),"Basic Info"]})}),p.jsx("button",{onClick:()=>l("pricing"),className:`px-4 py-2 font-medium text-sm ${s==="pricing"?a?"border-b-2 border-blue-500 text-blue-400":"border-b-2 border-blue-600 text-blue-600":a?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ai,{className:"w-4 h-4 mr-2"}),"Pricing"]})}),p.jsx("button",{onClick:()=>l("tax"),className:`px-4 py-2 font-medium text-sm ${s==="tax"?a?"border-b-2 border-blue-500 text-blue-400":"border-b-2 border-blue-600 text-blue-600":a?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(Js,{className:"w-4 h-4 mr-2"}),"Tax Settings"]})})]}),p.jsxs("form",{onSubmit:v,children:[w(),p.jsxs("div",{className:"flex justify-between mt-8 pt-4 border-t",children:[p.jsx("div",{children:s!=="basic"&&p.jsx(_t,{variant:"secondary",type:"button",onClick:()=>l(s==="pricing"?"basic":"pricing"),children:"Previous"})}),p.jsxs("div",{className:"flex space-x-3",children:[p.jsx(_t,{variant:"ghost",onClick:t,type:"button",children:"Cancel"}),s!=="tax"?p.jsx(_t,{variant:"primary",type:"button",onClick:()=>l(s==="basic"?"pricing":"tax"),children:"Next"}):p.jsx(_t,{variant:"primary",type:"submit",isLoading:c,leftIcon:p.jsx(gx,{className:"w-4 h-4"}),children:"Update Product"})]})]})]})]})]})})},whe=({isOpen:r,onClose:t,onAdd:e,companyId:n})=>{const{theme:i}=Vr(),a=i==="dark",[s,l]=fe.useState("basic"),[c,o]=fe.useState([]),[u]=fe.useState(null),[d,f]=fe.useState(!0),[h,y]=fe.useState(!1),[m,g]=fe.useState({name:"",sku:"",barcode:"",price:"",purchase_price:"",mrp:"",unit:"pcs",stock:"",category:"",image_url:"",hsn_code:"",tax_rate_id:"",tax_type:"exclusive",tax_inclusive:!1,companyId:n,art_no:"",color:"",size:""});fe.useEffect(()=>{r&&v()},[r]);const v=async()=>{f(!0);try{const{data:M,error:A}=await $e.from("tax_rates").select("*").order("rate",{ascending:!0});if(A)throw A;o(M||[]);const F=(M==null?void 0:M.find(H=>H.rate===18))||(M==null?void 0:M[0]);F&&g(H=>({...H,tax_rate_id:F.id}))}catch(M){console.error("Error loading tax configuration:",M),Oe.error("Failed to load tax rates")}finally{f(!1)}};if(!r)return null;const b=async M=>{if(M.preventDefault(),!n){Oe.error("No company selected. Please select a company first.");return}const{data:{session:A}}=await $e.auth.getSession();if(!A){Oe.error("You must be logged in to add a product");return}y(!0);try{if(!await N()){y(!1);return}const H={...m,price:parseFloat(m.price),purchasePrice:parseFloat(m.purchase_price),mrp:parseFloat(m.mrp),stock:parseInt(m.stock),companyId:n,artNo:m.art_no,color:m.color,size:m.size};await e(H),Oe.success("Product added successfully!"),t()}catch(F){console.error("Error adding product:",F),F instanceof Error&&F.message.includes("duplicate key value violates unique constraint")?Oe.error(`A product with SKU "${m.sku}" already exists. Please use a unique SKU.`):Oe.error("Failed to add product")}finally{y(!1)}},w=M=>{const{name:A,value:F,type:H}=M.target;g(z=>({...z,[A]:H==="checkbox"?M.target.checked:F}))},_=c.find(M=>M.id===m.tax_rate_id),N=async()=>{if(!m.name.trim())return Oe.error("Product name is required"),l("basic"),!1;if(!m.sku.trim())return Oe.error("SKU is required"),l("basic"),!1;try{const{data:M,error:A}=await $e.from("products").select("id, sku").eq("sku",m.sku.trim()).eq("company_id",n);if(A)throw console.error("Error checking for duplicate SKU:",A),A;if(M&&M.length>0)return Oe.error(`A product with SKU "${m.sku}" already exists. Please use a unique SKU.`),l("basic"),!1}catch(M){return console.error("Error checking for duplicate SKU:",M),Oe.error("Error validating SKU. Please try again."),!1}return!m.price||parseFloat(m.price)<=0?(Oe.error("Valid selling price is required"),l("pricing"),!1):!m.purchase_price||parseFloat(m.purchase_price)<=0?(Oe.error("Valid purchase price is required"),l("pricing"),!1):!m.mrp||parseFloat(m.mrp)<=0?(Oe.error("Valid MRP is required"),l("pricing"),!1):!m.stock||parseInt(m.stock)<0?(Oe.error("Valid stock quantity is required"),l("basic"),!1):m.unit?m.category?m.tax_rate_id?m.tax_type?!0:(Oe.error("Tax type is required"),l("tax"),!1):(Oe.error("Tax rate is required"),l("tax"),!1):(Oe.error("Category is required"),l("basic"),!1):(Oe.error("Unit is required"),l("basic"),!1)},P=()=>{switch(s){case"basic":return p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Name*"}),p.jsx("input",{type:"text",name:"name",value:m.name,onChange:w,required:!0,placeholder:"Enter product name",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"SKU*"}),p.jsx("input",{type:"text",name:"sku",value:m.sku,onChange:w,required:!0,placeholder:"Unique identifier",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Barcode"}),p.jsx("input",{type:"text",name:"barcode",value:m.barcode,onChange:w,placeholder:"Optional",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),(m.category==="garments"||m.category==="footwear"||m.category==="clothing")&&p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"ART No"}),p.jsx("input",{type:"text",name:"art_no",value:m.art_no,onChange:w,placeholder:"Article Number",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Color"}),p.jsx("input",{type:"text",name:"color",value:m.color,onChange:w,placeholder:"Product Color",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Size"}),p.jsx("input",{type:"text",name:"size",value:m.size,onChange:w,placeholder:"Product Size",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category*"}),p.jsxs("select",{name:"category",value:m.category,onChange:w,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"",children:"Select Category"}),p.jsx("option",{value:"electronics",children:"Electronics"}),p.jsx("option",{value:"clothing",children:"Clothing"}),p.jsx("option",{value:"garments",children:"Garments"}),p.jsx("option",{value:"footwear",children:"Footwear"}),p.jsx("option",{value:"food",children:"Food"}),p.jsx("option",{value:"accessories",children:"Accessories"}),p.jsx("option",{value:"other",children:"Other"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unit*"}),p.jsxs("select",{name:"unit",value:m.unit,onChange:w,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"pcs",children:"Pieces"}),p.jsx("option",{value:"kg",children:"Kilograms"}),p.jsx("option",{value:"box",children:"Box"}),p.jsx("option",{value:"liters",children:"Liters"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Initial Stock*"}),p.jsx("input",{type:"number",name:"stock",value:m.stock,onChange:w,required:!0,min:"0",placeholder:"0",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),p.jsx("input",{type:"url",name:"image_url",value:m.image_url,onChange:w,placeholder:"https://example.com/image.jpg",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx("p",{className:`mt-1 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"Optional: Enter a URL for the product image"})]})]});case"pricing":return p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:`p-3 rounded-md ${a?"bg-blue-900/20":"bg-blue-50"} mb-4`,children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(tp,{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),p.jsx("p",{className:`text-sm ${a?"text-blue-300":"text-blue-700"}`,children:"Set your pricing strategy. MRP is the maximum retail price, purchase price is your cost, and selling price is what customers pay."})]})}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Purchase Price ()*"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Ai,{className:"h-4 w-4 text-gray-400"})}),p.jsx("input",{type:"number",name:"purchase_price",value:m.purchase_price,onChange:w,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:`w-full pl-10 p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsx("p",{className:`mt-1 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"Your cost price for this product"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Selling Price ()*"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Ai,{className:"h-4 w-4 text-gray-400"})}),p.jsx("input",{type:"number",name:"price",value:m.price,onChange:w,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:`w-full pl-10 p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsx("p",{className:`mt-1 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"Price at which you'll sell this product"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"MRP ()*"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Ai,{className:"h-4 w-4 text-gray-400"})}),p.jsx("input",{type:"number",name:"mrp",value:m.mrp,onChange:w,required:!0,min:"0",step:"0.01",placeholder:"0.00",className:`w-full pl-10 p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsx("p",{className:`mt-1 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"Maximum Retail Price printed on the product"})]}),parseFloat(m.price)>0&&parseFloat(m.purchase_price)>0&&p.jsx("div",{className:`p-3 rounded-md ${a?"bg-green-900/20":"bg-green-50"} mt-4`,children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`text-sm font-medium ${a?"text-green-300":"text-green-700"}`,children:"Profit Margin:"}),p.jsx("span",{className:`text-sm font-bold ${a?"text-green-300":"text-green-700"}`,children:(()=>{const M=parseFloat(m.price),A=parseFloat(m.purchase_price);return M>0&&A>0?`${((M-A)/M*100).toFixed(2)}%`:"0.00%"})()})]})})]});case"tax":return p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:`p-3 rounded-md ${a?"bg-blue-900/20":"bg-blue-50"} mb-4`,children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(tp,{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),p.jsx("p",{className:`text-sm ${a?"text-blue-300":"text-blue-700"}`,children:"Configure GST settings for this product. These details will appear on invoices and tax reports."})]})}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"HSN Code"}),p.jsx("input",{type:"text",name:"hsn_code",value:m.hsn_code,onChange:w,placeholder:"e.g., 8471",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx("p",{className:`mt-1 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"Harmonized System Nomenclature code for the product"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tax Rate*"}),d?p.jsx("div",{className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:"Loading tax rates..."}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"grid grid-cols-5 gap-2 mb-2",children:[{id:"76f65d10-41c4-4b47-92d0-d300bb86e81d",rate:0,description:"GST Exempt"},{id:"b5aa2c3d-fe26-47f3-bd25-7e6b76c36a2d",rate:5,description:"GST 5%"},{id:"73fe4609-6047-4e3e-ae44-64e7d68b6df1",rate:12,description:"GST 12%"},{id:"ef3d6f7b-9d32-4f5b-8b75-425b6723c122",rate:18,description:"GST 18%"},{id:"0a93172b-21a3-42ac-b372-fc16acf44a06",rate:28,description:"GST 28%"}].map(A=>p.jsxs("button",{type:"button",onClick:()=>g(F=>({...F,tax_rate_id:A.id})),className:`flex flex-col items-center justify-center p-2 rounded-md border ${m.tax_rate_id===A.id?a?"bg-blue-600 border-blue-500 text-white":"bg-blue-100 border-blue-300 text-blue-800":a?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-white border-gray-300 hover:bg-gray-50"}`,children:[p.jsx(Js,{className:"w-4 h-4 mb-1"}),p.jsxs("span",{className:"text-sm font-medium",children:[A.rate,"%"]})]},A.id))}),p.jsxs("select",{name:"tax_rate_id",value:m.tax_rate_id,onChange:w,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"",children:"Select Tax Rate"}),(()=>{const M=[{id:"0a93172b-21a3-42ac-b372-fc16acf44a06",rate:28,description:"GST 28%"},{id:"73fe4609-6047-4e3e-ae44-64e7d68b6df1",rate:12,description:"GST 12%"},{id:"76f65d10-41c4-4b47-92d0-d300bb86e81d",rate:0,description:"GST Exempt"},{id:"b5aa2c3d-fe26-47f3-bd25-7e6b76c36a2d",rate:5,description:"GST 5%"},{id:"ef3d6f7b-9d32-4f5b-8b75-425b6723c122",rate:18,description:"GST 18%"}];return[...c,...M.filter(F=>!c.some(H=>H.id===F.id))].map(F=>p.jsxs("option",{value:F.id,children:[F.description," (",F.rate,"%)"]},F.id))})()]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tax Type*"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[p.jsx("button",{type:"button",onClick:()=>g(M=>({...M,tax_type:"exclusive"})),className:`flex items-center justify-center p-2 rounded-md border ${m.tax_type==="exclusive"?a?"bg-blue-600 border-blue-500 text-white":"bg-blue-100 border-blue-300 text-blue-800":a?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-white border-gray-300 hover:bg-gray-50"}`,children:p.jsx("span",{className:"text-sm font-medium",children:"Exclusive"})}),p.jsx("button",{type:"button",onClick:()=>g(M=>({...M,tax_type:"inclusive"})),className:`flex items-center justify-center p-2 rounded-md border ${m.tax_type==="inclusive"?a?"bg-blue-600 border-blue-500 text-white":"bg-blue-100 border-blue-300 text-blue-800":a?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-white border-gray-300 hover:bg-gray-50"}`,children:p.jsx("span",{className:"text-sm font-medium",children:"Inclusive"})})]}),p.jsx("p",{className:`mt-1 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:m.tax_type==="exclusive"?"Tax will be added on top of the selling price":"Selling price already includes tax"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",name:"tax_inclusive",checked:m.tax_inclusive,onChange:w,className:"rounded border-gray-300"}),p.jsx("span",{className:"text-sm",children:"Tax Inclusive Pricing"})]}),p.jsx("p",{className:`mt-1 text-xs ${a?"text-gray-400":"text-gray-500"}`,children:"When enabled, the selling price includes GST"})]}),(_==null?void 0:_.rate)===28&&(u==null?void 0:u.cess_enabled)&&p.jsx("div",{className:`p-3 rounded-md ${a?"bg-yellow-900/20":"bg-yellow-50"} border border-yellow-200`,children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(ei,{className:"w-5 h-5 text-yellow-500 mt-0.5 mr-2 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:"CESS Applicable"}),p.jsx("p",{className:`text-sm ${a?"text-gray-400":"text-gray-500"}`,children:"Additional 15% CESS will be applied as this product falls under 28% GST category"})]})]})})]});default:return null}};return p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),p.jsxs("div",{className:`relative w-full max-w-2xl transform rounded-lg ${a?"bg-gray-800":"bg-white"} p-6 shadow-xl transition-all`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Vn,{className:`w-6 h-6 mr-2 ${a?"text-blue-400":"text-blue-600"}`}),p.jsx("h2",{className:"text-xl font-semibold",children:"Add New Product"})]}),p.jsx("button",{onClick:t,className:`rounded-full p-1 hover:bg-gray-100 ${a?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:p.jsx(Li,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"flex border-b mb-6",children:[p.jsx("button",{onClick:()=>l("basic"),className:`px-4 py-2 font-medium text-sm ${s==="basic"?a?"border-b-2 border-blue-500 text-blue-400":"border-b-2 border-blue-600 text-blue-600":a?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(C8,{className:"w-4 h-4 mr-2"}),"Basic Info"]})}),p.jsx("button",{onClick:()=>l("pricing"),className:`px-4 py-2 font-medium text-sm ${s==="pricing"?a?"border-b-2 border-blue-500 text-blue-400":"border-b-2 border-blue-600 text-blue-600":a?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ai,{className:"w-4 h-4 mr-2"}),"Pricing"]})}),p.jsx("button",{onClick:()=>l("tax"),className:`px-4 py-2 font-medium text-sm ${s==="tax"?a?"border-b-2 border-blue-500 text-blue-400":"border-b-2 border-blue-600 text-blue-600":a?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(Js,{className:"w-4 h-4 mr-2"}),"Tax Settings"]})})]}),p.jsxs("form",{onSubmit:b,children:[P(),p.jsxs("div",{className:"flex justify-between mt-8 pt-4 border-t",children:[p.jsx("div",{children:s!=="basic"&&p.jsx(_t,{variant:"secondary",type:"button",onClick:()=>l(s==="pricing"?"basic":"pricing"),children:"Previous"})}),p.jsxs("div",{className:"flex space-x-3",children:[p.jsx(_t,{variant:"ghost",onClick:t,type:"button",children:"Cancel"}),s!=="tax"?p.jsx(_t,{variant:"primary",type:"button",onClick:()=>l(s==="basic"?"pricing":"tax"),children:"Next"}):p.jsx(_t,{variant:"primary",type:"submit",isLoading:h,children:"Add Product"})]})]})]})]})]})})};async function _he(r){try{let{data:t,error:e}=await $e.from("barcode_settings").select("*").eq("company_id",r).single();if(e)return console.error("Error fetching barcode settings:",e),null;if(!t){const i={company_id:r,default_paper_type:"a4",default_barcode_width:1.5,default_barcode_height:20,default_font_size_company:10,default_font_size_product:8,default_font_size_price:9,default_show_mrp:!0,default_show_company_name:!0,default_show_art_no:!1,default_show_color:!1,default_show_size:!1,default_barcode_format:"CODE128"},{data:a,error:s}=await $e.from("barcode_settings").insert(i).select().single();if(s)return console.error("Error creating default barcode settings:",s),null;t=a}return{paperType:t.default_paper_type,width:t.default_paper_type==="roll"?100.25:210,height:t.default_paper_type==="roll"?25.25:297,fontSize:{company:t.default_font_size_company,product:t.default_font_size_product,price:t.default_font_size_price},barcodeWidth:t.default_barcode_width,barcodeHeight:t.default_barcode_height,copies:1,showMRP:t.default_show_mrp,showCompanyName:t.default_show_company_name,showArtNo:t.default_show_art_no,showColor:t.default_show_color,showSize:t.default_show_size,columns:5,rows:12}}catch(t){return console.error("Error in getCompanyBarcodeSettings:",t),null}}async function She(r,t,e){try{const{data:{user:n}}=await $e.auth.getUser(),i={company_id:r,product_id:t,user_id:n==null?void 0:n.id,copies:e.copies,paper_type:e.paperType,barcode_width:e.barcodeWidth,barcode_height:e.barcodeHeight,font_size_company:e.fontSize.company,font_size_product:e.fontSize.product,font_size_price:e.fontSize.price,show_mrp:e.showMRP,show_company_name:e.showCompanyName,show_art_no:e.showArtNo,show_color:e.showColor,show_size:e.showSize},{error:a}=await $e.from("barcode_prints").insert(i);return a?(console.error("Error saving barcode print history:",a),!1):!0}catch(n){return console.error("Error in saveBarcodeHistory:",n),!1}}async function khe(r,t){try{const e={company_id:r,default_paper_type:t.paperType,default_barcode_width:t.barcodeWidth,default_barcode_height:t.barcodeHeight,default_font_size_company:t.fontSize.company,default_font_size_product:t.fontSize.product,default_font_size_price:t.fontSize.price,default_show_mrp:t.showMRP,default_show_company_name:t.showCompanyName,default_show_art_no:t.showArtNo,default_show_color:t.showColor,default_show_size:t.showSize},{data:n}=await $e.from("barcode_settings").select("id").eq("company_id",r).single();let i;if(n){const{error:a}=await $e.from("barcode_settings").update(e).eq("company_id",r);i=a}else{const{error:a}=await $e.from("barcode_settings").insert(e);i=a}return i?(console.error("Error saving barcode settings:",i),Oe.error("Failed to save barcode settings"),!1):(Oe.success("Barcode settings saved successfully"),!0)}catch(e){return console.error("Error in saveCompanyBarcodeSettings:",e),Oe.error("Failed to save barcode settings"),!1}}async function Nhe(r){try{const{data:t,error:e}=await $e.from("products").select("id, barcode, sku").eq("id",r).single();if(e)return console.error("Error fetching product:",e),null;if(t.barcode)return t.barcode;const n=`P${t.sku.replace(/[^a-zA-Z0-9]/g,"")}`,{error:i}=await $e.from("products").update({barcode:n}).eq("id",r);return i?(console.error("Error updating product barcode:",i),null):n}catch(t){return console.error("Error in generateProductBarcode:",t),null}}const qm=100.25,Hm=25.25,i6=210,a6=297,Ehe=5,jhe=12,Rm=10,Ahe={paperType:"a4",width:qm,height:Hm,fontSize:{company:10,product:8,price:9},barcodeWidth:1.5,barcodeHeight:20,copies:1,showMRP:!0,showCompanyName:!0,showArtNo:!1,showColor:!1,showSize:!1,columns:Ehe,rows:jhe},f$=({isOpen:r,onClose:t,product:e,companyName:n="Your Company Name"})=>{const{theme:i}=Vr(),a=i==="dark",[s,l]=fe.useState(Ahe),[c,o]=fe.useState(!1),[u,d]=fe.useState(!1),f=Bk(),{selectedCompany:h,operableCompanies:y}=f||{selectedCompany:null,operableCompanies:[]},m=h||(y&&y.length>0?y[0]:null),[g,v]=fe.useState(e.barcode||e.sku);fe.useEffect(()=>{r&&(m!=null&&m.id)&&(b(),w())},[r,m==null?void 0:m.id]);const b=async()=>{if(m!=null&&m.id){o(!0);try{const P=await _he(m.id);P&&l(P)}catch(P){console.error("Error loading company barcode settings:",P)}finally{o(!1)}}},w=async()=>{if(e.barcode){v(e.barcode);return}try{const P=await Nhe(e.id);P?(v(P),Oe.success("Generated barcode for product")):v(e.sku)}catch(P){console.error("Error generating barcode:",P),v(e.sku)}},_=async()=>{if(!(m!=null&&m.id)){Oe.error("Company information not available");return}d(!0);try{await khe(m.id,s)&&Oe.success("Settings saved as company defaults")}catch(P){console.error("Error saving settings:",P),Oe.error("Failed to save settings")}finally{d(!1)}};if(!r)return null;const N=async()=>{const P=window.open("","_blank");if(!P){Oe.error("Please allow popups to print barcodes");return}const M=s.paperType==="a4"?s.columns*s.rows:2,A=Math.ceil(s.copies/M);if(P.document.write(`
      <html>
        <head>
          <title>Print Barcode - ${e.name}</title>
          <style>
            @page {
              size: ${s.paperType==="a4"?"A4":`${qm}mm ${Hm}mm`};
              margin: ${s.paperType==="a4"?`${Rm}mm`:"0mm"};
            }
            @font-face {
              font-family: 'Arial Bold';
              src: local('Arial Bold'), local('Arial-BoldMT');
              font-weight: bold;
            }
            body {
              margin: 0;
              padding: 0;
              font-family: Arial, sans-serif;
            }
            .page {
              ${s.paperType==="a4"?`
                width: ${i6-Rm*2}mm;
                min-height: ${a6-Rm*2}mm;
                display: grid;
                grid-template-columns: repeat(${s.columns}, 1fr);
                grid-template-rows: repeat(${s.rows}, 1fr);
              `:`
                width: ${qm}mm;
                height: ${Hm}mm;
                display: flex;
                justify-content: space-between;
              `}
              gap: 0;
              page-break-after: always;
            }
            .label {
              width: ${s.paperType==="a4"?(i6-Rm*2)/s.columns:qm/2}mm;
              height: ${s.paperType==="a4"?(a6-Rm*2)/s.rows:Hm}mm;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              box-sizing: border-box;
              padding: 1mm;
              ${s.paperType==="a4"?"border: 0.1mm dashed #ccc;":""}
            }
            .company-name {
              font-family: 'Arial Bold', Arial, sans-serif;
              font-weight: bold;
              font-size: ${s.fontSize.company}px;
              color: #000;
              margin: 0.25mm 0;
              text-align: center;
              text-transform: uppercase;
              letter-spacing: 0.2mm;
              line-height: 1;
            }
            .product-name {
              font-size: ${s.fontSize.product}px;
              margin: 0.25mm 0;
              text-align: center;
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
              max-width: 95%;
              line-height: 1.1;
            }
            .mrp {
              font-size: ${s.fontSize.price}px;
              font-weight: bold;
              margin: 0.25mm 0;
              line-height: 1;
            }
            .product-detail {
              font-size: ${s.fontSize.product-1}px;
              margin: 0.25mm 0;
              text-align: center;
              line-height: 1;
            }
            .barcode-container {
              margin: 0.5mm 0;
              display: flex;
              justify-content: center;
              align-items: center;
            }
            .barcode-container svg {
              max-width: 90%;
              height: auto;
            }
            @media print {
              .page {
                page-break-after: always;
              }
              .label {
                break-inside: avoid;
                page-break-inside: avoid;
              }
            }
          </style>
        </head>
        <body>
          ${Array(A).fill(0).map(()=>`
            <div class="page">
              ${Array(Math.min(s.copies,M)).fill(0).map(()=>`
                <div class="label">
                  ${s.showCompanyName?`
                    <div class="company-name">${n}</div>
                  `:""}
                  <div class="product-name">${e.name}</div>
                  ${s.showArtNo&&e.artNo?`
                    <div class="product-detail">Art No: ${e.artNo}</div>
                  `:""}
                  ${s.showColor&&e.color?`
                    <div class="product-detail">Color: ${e.color}</div>
                  `:""}
                  ${s.showSize&&e.size?`
                    <div class="product-detail">Size: ${e.size}</div>
                  `:""}
                  <div class="barcode-container">
                    <svg class="barcode"></svg>
                  </div>
                  ${s.showMRP?`
                    <div class="mrp">MRP: ${e.mrp.toFixed(2)}</div>
                  `:""}
                </div>
              `).join("")}
            </div>
          `).join("")}
          <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"><\/script>
          <script>
            document.querySelectorAll('.barcode').forEach(element => {
              JsBarcode(element, "${g}", {
                width: ${s.barcodeWidth},
                height: ${s.barcodeHeight},
                fontSize: ${s.fontSize.product},
                margin: 1,
                background: "white"
              });
            });
            window.onload = () => {
              window.print();
              window.close();
            };
          <\/script>
        </body>
      </html>
    `),P.document.close(),m!=null&&m.id)try{await She(m.id,e.id,s)}catch(F){console.error("Error saving barcode history:",F)}};return p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),p.jsxs("div",{className:`relative w-full max-w-md transform rounded-lg ${a?"bg-gray-800":"bg-white"} p-6 shadow-xl transition-all`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Print Barcode Labels"}),p.jsx("button",{onClick:t,className:`rounded-full p-1 hover:bg-gray-100 ${a?"hover:bg-gray-700":"hover:bg-gray-100"}`,"aria-label":"Close modal",children:p.jsx(Li,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Paper Type"}),p.jsxs("select",{value:s.paperType,onChange:P=>l(M=>({...M,paperType:P.target.value,width:P.target.value==="roll"?qm:i6,height:P.target.value==="roll"?Hm:a6})),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"a4",children:"A4 Sheet (512 Labels)"}),p.jsx("option",{value:"roll",children:"Roll Paper (100.2525.25mm)"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Number of Labels"}),p.jsx("input",{type:"number",min:"1",max:s.paperType==="a4"?300:100,value:s.copies,onChange:P=>l(M=>({...M,copies:parseInt(P.target.value)})),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),s.paperType==="a4"&&p.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[Math.ceil(s.copies/(s.columns*s.rows))," page(s) needed (",s.columns*s.rows," labels per page)"]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Barcode Width"}),p.jsx("input",{type:"number",min:"1",max:"2",step:"0.1",value:s.barcodeWidth,onChange:P=>l(M=>({...M,barcodeWidth:parseFloat(P.target.value)})),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Barcode Height"}),p.jsx("input",{type:"number",min:"15",max:"25",value:s.barcodeHeight,onChange:P=>l(M=>({...M,barcodeHeight:parseInt(P.target.value)})),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Company Font"}),p.jsx("input",{type:"number",min:"8",max:"12",value:s.fontSize.company,onChange:P=>l(M=>({...M,fontSize:{...M.fontSize,company:parseInt(P.target.value)}})),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Product Font"}),p.jsx("input",{type:"number",min:"6",max:"10",value:s.fontSize.product,onChange:P=>l(M=>({...M,fontSize:{...M.fontSize,product:parseInt(P.target.value)}})),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price Font"}),p.jsx("input",{type:"number",min:"7",max:"11",value:s.fontSize.price,onChange:P=>l(M=>({...M,fontSize:{...M.fontSize,price:parseInt(P.target.value)}})),className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",id:"showCompanyName",checked:s.showCompanyName,onChange:P=>l(M=>({...M,showCompanyName:P.target.checked})),className:"rounded border-gray-300"}),p.jsx("label",{htmlFor:"showCompanyName",className:"ml-2 text-sm",children:"Show Company Name"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",id:"showMRP",checked:s.showMRP,onChange:P=>l(M=>({...M,showMRP:P.target.checked})),className:"rounded border-gray-300"}),p.jsx("label",{htmlFor:"showMRP",className:"ml-2 text-sm",children:"Show MRP"})]}),e.artNo&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",id:"showArtNo",checked:s.showArtNo,onChange:P=>l(M=>({...M,showArtNo:P.target.checked})),className:"rounded border-gray-300"}),p.jsx("label",{htmlFor:"showArtNo",className:"ml-2 text-sm",children:"Show Art No"})]}),e.color&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",id:"showColor",checked:s.showColor,onChange:P=>l(M=>({...M,showColor:P.target.checked})),className:"rounded border-gray-300"}),p.jsx("label",{htmlFor:"showColor",className:"ml-2 text-sm",children:"Show Color"})]}),e.size&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",id:"showSize",checked:s.showSize,onChange:P=>l(M=>({...M,showSize:P.target.checked})),className:"rounded border-gray-300"}),p.jsx("label",{htmlFor:"showSize",className:"ml-2 text-sm",children:"Show Size"})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[p.jsx(_t,{variant:"ghost",onClick:t,type:"button",children:"Cancel"}),p.jsx(_t,{variant:"secondary",onClick:_,type:"button",leftIcon:p.jsx(gx,{className:"w-4 h-4"}),disabled:u||!(m!=null&&m.id),children:u?"Saving...":"Save Settings"}),p.jsx(_t,{variant:"primary",onClick:N,leftIcon:p.jsx(bc,{className:"w-4 h-4"}),disabled:c,children:c?"Loading...":"Print Labels"})]})]})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Xb={};Xb.version="0.20.3";var fu=1200,i1=function(r){fu=r};function The(){i1(1200)}var bv=function(t){return String.fromCharCode(t)},oI=function(t){return String.fromCharCode(t)},ps="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Kb(r){for(var t="",e=0,n=0,i=0,a=0,s=0,l=0,c=0,o=0;o<r.length;)e=r.charCodeAt(o++),a=e>>2,n=r.charCodeAt(o++),s=(e&3)<<4|n>>4,i=r.charCodeAt(o++),l=(n&15)<<2|i>>6,c=i&63,isNaN(n)?l=c=64:isNaN(i)&&(c=64),t+=ps.charAt(a)+ps.charAt(s)+ps.charAt(l)+ps.charAt(c);return t}function Che(r){for(var t="",e=0,n=0,i=0,a=0,s=0,l=0,c=0,o=0;o<r.length;)e=r.charCodeAt(o++),e>255&&(e=95),a=e>>2,n=r.charCodeAt(o++),n>255&&(n=95),s=(e&3)<<4|n>>4,i=r.charCodeAt(o++),i>255&&(i=95),l=(n&15)<<2|i>>6,c=i&63,isNaN(n)?l=c=64:isNaN(i)&&(c=64),t+=ps.charAt(a)+ps.charAt(s)+ps.charAt(l)+ps.charAt(c);return t}function Ohe(r){for(var t="",e=0,n=0,i=0,a=0,s=0,l=0,c=0,o=0;o<r.length;)e=r[o++],a=e>>2,n=r[o++],s=(e&3)<<4|n>>4,i=r[o++],l=(n&15)<<2|i>>6,c=i&63,isNaN(n)?l=c=64:isNaN(i)&&(c=64),t+=ps.charAt(a)+ps.charAt(s)+ps.charAt(l)+ps.charAt(c);return t}function Jf(r){var t="",e=0,n=0,i=0,a=0,s=0,l=0,c=0;if(r.slice(0,5)=="data:"){var o=r.slice(0,1024).indexOf(";base64,");o>-1&&(r=r.slice(o+8))}r=r.replace(/[^\w\+\/\=]/g,"");for(var o=0;o<r.length;)a=ps.indexOf(r.charAt(o++)),s=ps.indexOf(r.charAt(o++)),e=a<<2|s>>4,t+=String.fromCharCode(e),l=ps.indexOf(r.charAt(o++)),n=(s&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=ps.indexOf(r.charAt(o++)),i=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var Sn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Cc=function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}(),Yb=function(){if(typeof Buffer>"u")return!1;var r=Cc([65,0]);if(!r)return!1;var t=r.toString("utf16le");return t.length==1}();function xh(r){return Sn?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function lI(r){return Sn?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var ko=function(t){return Sn?Cc(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)&255})};function t2(r){if(typeof ArrayBuffer>"u")return ko(r);for(var t=new ArrayBuffer(r.length),e=new Uint8Array(t),n=0;n!=r.length;++n)e[n]=r.charCodeAt(n)&255;return t}function wh(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],e=0;e<r.length;++e)t[e]=String.fromCharCode(r[e]);return t.join("")}function Phe(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var zi=Sn?function(r){return Buffer.concat(r.map(function(t){return Buffer.isBuffer(t)?t:Cc(t)}))}:function(r){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<r.length;++t)e+=r[t].length;var n=new Uint8Array(e),i=0;for(t=0,e=0;t<r.length;e+=i,++t)i=r[t].length,r[t]instanceof Uint8Array?n.set(r[t],e):typeof r[t]=="string"?n.set(new Uint8Array(ko(r[t])),e):n.set(new Uint8Array(r[t]),e);return n}return[].concat.apply([],r.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function Mhe(r){for(var t=[],e=0,n=r.length+250,i=xh(r.length+255),a=0;a<r.length;++a){var s=r.charCodeAt(a);if(s<128)i[e++]=s;else if(s<2048)i[e++]=192|s>>6&31,i[e++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var l=r.charCodeAt(++a)&1023;i[e++]=240|s>>8&7,i[e++]=128|s>>2&63,i[e++]=128|l>>6&15|(s&3)<<4,i[e++]=128|l&63}else i[e++]=224|s>>12&15,i[e++]=128|s>>6&63,i[e++]=128|s&63;e>n&&(t.push(i.slice(0,e)),e=0,i=xh(65535),n=65530)}return t.push(i.slice(0,e)),zi(t)}var ig=/\u0000/g,xv=/[\u0001-\u0006]/g;function W0(r){for(var t="",e=r.length-1;e>=0;)t+=r.charAt(e--);return t}function Bl(r,t){var e=""+r;return e.length>=t?e:pi("0",t-e.length)+e}function zk(r,t){var e=""+r;return e.length>=t?e:pi(" ",t-e.length)+e}function Jb(r,t){var e=""+r;return e.length>=t?e:e+pi(" ",t-e.length)}function Ihe(r,t){var e=""+Math.round(r);return e.length>=t?e:pi("0",t-e.length)+e}function Rhe(r,t){var e=""+r;return e.length>=t?e:pi("0",t-e.length)+e}var cI=Math.pow(2,32);function _0(r,t){if(r>cI||r<-cI)return Ihe(r,t);var e=Math.round(r);return Rhe(e,t)}function Zb(r,t){return t=t||0,r.length>=7+t&&(r.charCodeAt(t)|32)===103&&(r.charCodeAt(t+1)|32)===101&&(r.charCodeAt(t+2)|32)===110&&(r.charCodeAt(t+3)|32)===101&&(r.charCodeAt(t+4)|32)===114&&(r.charCodeAt(t+5)|32)===97&&(r.charCodeAt(t+6)|32)===108}var uI=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],s6=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Fhe(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var si={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},fI={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Lhe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Qb(r,t,e){for(var n=r<0?-1:1,i=r*n,a=0,s=1,l=0,c=1,o=0,u=0,d=Math.floor(i);o<t&&(d=Math.floor(i),l=d*s+a,u=d*o+c,!(i-d<5e-8));)i=1/(i-d),a=s,s=l,c=o,o=u;if(u>t&&(o>t?(u=c,l=a):(u=o,l=s)),!e)return[0,n*l,u];var f=Math.floor(n*l/u);return[f,n*l-f*u,u]}function Dhe(r){var t=r.toPrecision(16);if(t.indexOf("e")>-1){var e=t.slice(0,t.indexOf("e"));return e=e.indexOf(".")>-1?e.slice(0,e.slice(0,2)=="0."?17:16):e.slice(0,15)+pi("0",e.length-15),e+t.slice(t.indexOf("e"))}var n=t.indexOf(".")>-1?t.slice(0,t.slice(0,2)=="0."?17:16):t.slice(0,15)+pi("0",t.length-15);return Number(n)}function S0(r,t,e){if(r>2958465||r<0)return null;r=Dhe(r);var n=r|0,i=Math.floor(86400*(r-n)),a=0,s=[],l={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++n,++l.D)),n===60)s=e?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=e?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),e&&(a=qhe(c,s))}return l.y=s[0],l.m=s[1],l.d=s[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=a,l}function qk(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Bhe(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function $he(r){var t=r<0?12:11,e=qk(r.toFixed(12));return e.length<=t||(e=r.toPrecision(10),e.length<=t)?e:r.toExponential(5)}function Uhe(r){var t=qk(r.toFixed(11));return t.length>(r<0?12:11)||t==="0"||t==="-0"?r.toPrecision(6):t}function zhe(r){if(!isFinite(r))return isNaN(r)?"#NUM!":"#DIV/0!";var t=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),e;return t>=-4&&t<=-1?e=r.toPrecision(10+t):Math.abs(t)<=9?e=$he(r):t===10?e=r.toFixed(10).substr(0,12):e=Uhe(r),qk(Bhe(e.toUpperCase()))}function c8(r,t){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):zhe(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return Pu(14,za(r,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+r)}function qhe(r,t){t[0]-=581;var e=r.getDay();return r<60&&(e=(e+6)%7),e}function Hhe(r,t,e,n){var i="",a=0,s=0,l=e.y,c,o=0;switch(r){case 98:l=e.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,o=2;break;default:c=l%1e4,o=4;break}break;case 109:switch(t.length){case 1:case 2:c=e.m,o=t.length;break;case 3:return s6[e.m-1][1];case 5:return s6[e.m-1][0];default:return s6[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=e.d,o=t.length;break;case 3:return uI[e.q][0];default:return uI[e.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(e.H+11)%12,o=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=e.H,o=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=e.M,o=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return e.u===0&&(t=="s"||t=="ss")?Bl(e.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(e.S+e.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=Bl(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=e.D*24+e.H;break;case"[m]":case"[mm]":c=(e.D*24+e.H)*60+e.M;break;case"[s]":case"[ss]":c=((e.D*24+e.H)*60+e.M)*60+(n==0?Math.round(e.S+e.u):e.S);break;default:throw"bad abstime format: "+t}o=t.length===3?1:2;break;case 101:c=l,o=1;break}var u=o>0?Bl(c,o):"";return u}function zf(r){var t=3;if(r.length<=t)return r;for(var e=r.length%t,n=r.substr(0,e);e!=r.length;e+=t)n+=(n.length>0?",":"")+r.substr(e,t);return n}var d$=/%/g;function Whe(r,t,e){var n=t.replace(d$,""),i=t.length-n.length;return _u(r,n,e*Math.pow(10,2*i))+pi("%",i)}function Vhe(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return _u(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function h$(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+h$(r,-t);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),e=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),e.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(s-e.length+a):e+="E+"+(s-a);e.substr(0,2)==="0.";)e=e.charAt(0)+e.substr(2,i)+"."+e.substr(2+i),e=e.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,o,u){return c+o+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var p$=/# (\?+)( ?)\/( ?)(\d+)/;function Ghe(r,t,e){var n=parseInt(r[4],10),i=Math.round(t*n),a=Math.floor(i/n),s=i-a*n,l=n;return e+(a===0?"":""+a)+" "+(s===0?pi(" ",r[1].length+1+r[4].length):zk(s,r[1].length)+r[2]+"/"+r[3]+Bl(l,r[4].length))}function Xhe(r,t,e){return e+(t===0?"":""+t)+pi(" ",r[1].length+2+r[4].length)}var m$=/^#*0*\.([0#]+)/,g$=/\)[^)]*[0#]/,y$=/\(###\) ###\\?-####/;function Ts(r){for(var t="",e,n=0;n!=r.length;++n)switch(e=r.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function dI(r,t){var e=Math.pow(10,t);return""+Math.round(r*e)/e}function hI(r,t){var e=r-Math.floor(r),n=Math.pow(10,t);return t<(""+Math.round(e*n)).length?0:Math.round(e*n)}function Khe(r,t){return t<(""+Math.round((r-Math.floor(r))*Math.pow(10,t))).length?1:0}function Yhe(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function Go(r,t,e){if(r.charCodeAt(0)===40&&!t.match(g$)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Go("n",n,e):"("+Go("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return Vhe(r,t,e);if(t.indexOf("%")!==-1)return Whe(r,t,e);if(t.indexOf("E")!==-1)return h$(t,e);if(t.charCodeAt(0)===36)return"$"+Go(r,t.substr(t.charAt(1)==" "?2:1),e);var i,a,s,l,c=Math.abs(e),o=e<0?"-":"";if(t.match(/^00+$/))return o+_0(c,t.length);if(t.match(/^[#?]+$/))return i=_0(e,0),i==="0"&&(i=""),i.length>t.length?i:Ts(t.substr(0,t.length-i.length))+i;if(a=t.match(p$))return Ghe(a,c,o);if(t.match(/^#+0+$/))return o+_0(c,t.length-t.indexOf("0"));if(a=t.match(m$))return i=dI(e,a[1].length).replace(/^([^\.]+)$/,"$1."+Ts(a[1])).replace(/\.$/,"."+Ts(a[1])).replace(/\.(\d*)$/,function(y,m){return"."+m+pi("0",Ts(a[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return o+dI(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return o+zf(_0(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Go(r,t,-e):zf(""+(Math.floor(e)+Khe(e,a[1].length)))+"."+Bl(hI(e,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Go(r,t.replace(/^#,#*,/,""),e);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=W0(Go(r,t.replace(/[\\-]/g,""),e)),s=0,W0(W0(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<i.length?i.charAt(s++):y==="0"?"0":""}));if(t.match(y$))return i=Go(r,"##########",e),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=Qb(c,Math.pow(10,s)-1,!1),i=""+o,u=_u("n",a[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=Jb(l[2],s),u.length<a[4].length&&(u=Ts(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=Qb(c,Math.pow(10,s)-1,!0),o+(l[0]||(l[1]?"":"0"))+" "+(l[1]?zk(l[1],s)+a[2]+"/"+a[3]+Jb(l[2],s):pi(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=_0(e,0),t.length<=i.length?i:Ts(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var d=t.indexOf(".")-s,f=t.length-i.length-d;return Ts(t.substr(0,d)+i+t.substr(t.length-f))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=hI(e,a[1].length),e<0?"-"+Go(r,t,-e):zf(Yhe(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Bl(0,3-y.length):"")+y})+"."+Bl(s,a[1].length);switch(t){case"###,##0.00":return Go(r,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var h=zf(_0(c,0));return h!=="0"?o+h:"";case"###,###.00":return Go(r,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return Go(r,"#,##0.00",e).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Jhe(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return _u(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function Zhe(r,t,e){var n=t.replace(d$,""),i=t.length-n.length;return _u(r,n,e*Math.pow(10,2*i))+pi("%",i)}function v$(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+v$(r,-t);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),e=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!e.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(s-e.length+a):e+="E+"+(s-a),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,o,u){return c+o+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function cc(r,t,e){if(r.charCodeAt(0)===40&&!t.match(g$)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?cc("n",n,e):"("+cc("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return Jhe(r,t,e);if(t.indexOf("%")!==-1)return Zhe(r,t,e);if(t.indexOf("E")!==-1)return v$(t,e);if(t.charCodeAt(0)===36)return"$"+cc(r,t.substr(t.charAt(1)==" "?2:1),e);var i,a,s,l,c=Math.abs(e),o=e<0?"-":"";if(t.match(/^00+$/))return o+Bl(c,t.length);if(t.match(/^[#?]+$/))return i=""+e,e===0&&(i=""),i.length>t.length?i:Ts(t.substr(0,t.length-i.length))+i;if(a=t.match(p$))return Xhe(a,c,o);if(t.match(/^#+0+$/))return o+Bl(c,t.length-t.indexOf("0"));if(a=t.match(m$))return i=(""+e).replace(/^([^\.]+)$/,"$1."+Ts(a[1])).replace(/\.$/,"."+Ts(a[1])),i=i.replace(/\.(\d*)$/,function(y,m){return"."+m+pi("0",Ts(a[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return o+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return o+zf(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+cc(r,t,-e):zf(""+e)+"."+pi("0",a[1].length);if(a=t.match(/^#,#*,#0/))return cc(r,t.replace(/^#,#*,/,""),e);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=W0(cc(r,t.replace(/[\\-]/g,""),e)),s=0,W0(W0(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<i.length?i.charAt(s++):y==="0"?"0":""}));if(t.match(y$))return i=cc(r,"##########",e),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),l=Qb(c,Math.pow(10,s)-1,!1),i=""+o,u=_u("n",a[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=Jb(l[2],s),u.length<a[4].length&&(u=Ts(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),l=Qb(c,Math.pow(10,s)-1,!0),o+(l[0]||(l[1]?"":"0"))+" "+(l[1]?zk(l[1],s)+a[2]+"/"+a[3]+Jb(l[2],s):pi(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+e,t.length<=i.length?i:Ts(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var d=t.indexOf(".")-s,f=t.length-i.length-d;return Ts(t.substr(0,d)+i+t.substr(t.length-f))}if(a=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+cc(r,t,-e):zf(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Bl(0,3-y.length):"")+y})+"."+Bl(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=zf(""+c);return h!=="0"?o+h:"";default:if(t.match(/\.[0#?]*$/))return cc(r,t.slice(0,t.lastIndexOf(".")),e)+Ts(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function _u(r,t,e){return(e|0)===e?cc(r,t,e):Go(r,t,e)}function Qhe(r){for(var t=[],e=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:e=!e;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=r.substr(i,n-i),i=n+1}if(t[t.length]=r.substr(i),e===!0)throw new Error("Format |"+r+"| unterminated string ");return t}var b$=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function _h(r){for(var t=0,e="",n="";t<r.length;)switch(e=r.charAt(t)){case"G":Zb(r,t)&&(t+=6),t++;break;case'"':for(;r.charCodeAt(++t)!==34&&t<r.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(r.charAt(t+1)==="1"||r.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(t,3).toUpperCase()==="A/P"||r.substr(t,5).toUpperCase()==="AM/PM"||r.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=e;r.charAt(t++)!=="]"&&t<r.length;)n+=r.charAt(t);if(n.match(b$))return!0;break;case".":case"0":case"#":for(;t<r.length&&("0#?.,E+-%".indexOf(e=r.charAt(++t))>-1||e=="\\"&&r.charAt(t+1)=="-"&&"0#".indexOf(r.charAt(t+2))>-1););break;case"?":for(;r.charAt(++t)===e;);break;case"*":++t,(r.charAt(t)==" "||r.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<r.length&&"0123456789".indexOf(r.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function e0e(r,t,e,n){for(var i=[],a="",s=0,l="",c="t",o,u,d,f="H";s<r.length;)switch(l=r.charAt(s)){case"G":if(!Zb(r,s))throw new Error("unrecognized character "+l+" in "+r);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(d=r.charCodeAt(++s))!==34&&s<r.length;)a+=String.fromCharCode(d);i[i.length]={t:"t",v:a},++s;break;case"\\":var h=r.charAt(++s),y=h==="("||h===")"?h:"t";i[i.length]={t:y,v:h},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(r.charAt(s+1)==="1"||r.charAt(s+1)==="2"){if(o==null&&(o=S0(t,e,r.charAt(s+1)==="2"),o==null))return"";i[i.length]={t:"X",v:r.substr(s,2)},c=l,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||o==null&&(o=S0(t,e),o==null))return"";for(a=l;++s<r.length&&r.charAt(s).toLowerCase()===l;)a+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=f),i[i.length]={t:l,v:a},c=l;break;case"A":case"a":case"":var m={t:l,v:l};if(o==null&&(o=S0(t,e)),r.substr(s,3).toUpperCase()==="A/P"?(o!=null&&(m.v=o.H>=12?r.charAt(s+2):l),m.t="T",f="h",s+=3):r.substr(s,5).toUpperCase()==="AM/PM"?(o!=null&&(m.v=o.H>=12?"PM":"AM"),m.t="T",s+=5,f="h"):r.substr(s,5).toUpperCase()==="/"?(o!=null&&(m.v=o.H>=12?"":""),m.t="T",s+=5,f="h"):(m.t="t",++s),o==null&&m.t==="T")return"";i[i.length]=m,c=l;break;case"[":for(a=l;r.charAt(s++)!=="]"&&s<r.length;)a+=r.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(b$)){if(o==null&&(o=S0(t,e),o==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",_h(r)||(i[i.length]={t:"t",v:a}));break;case".":if(o!=null){for(a=l;++s<r.length&&(l=r.charAt(s))==="0";)a+=l;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++s<r.length&&"0#?.,E+-%".indexOf(l=r.charAt(s))>-1;)a+=l;i[i.length]={t:"n",v:a};break;case"?":for(a=l;r.charAt(++s)===l;)a+=l;i[i.length]={t:l,v:a},c=l;break;case"*":++s,(r.charAt(s)==" "||r.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":l,v:l},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;s<r.length&&"0123456789".indexOf(r.charAt(++s))>-1;)a+=r.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:l,v:l},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+r);i[i.length]={t:"t",v:l},++s;break}var g=0,v=0,b;for(s=i.length-1,c="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=f,c="h",g<1&&(g=1);break;case"s":(b=i[s].v.match(/\.0+$/))&&(v=Math.max(v,b[0].length-1),g=4),g<3&&(g=3);case"d":case"y":case"e":c=i[s].t;break;case"M":c=i[s].t,g<2&&(g=2);break;case"m":c==="s"&&(i[s].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&i[s].v.match(/[Hh]/)&&(g=1),g<2&&i[s].v.match(/[Mm]/)&&(g=2),g<3&&i[s].v.match(/[Ss]/)&&(g=3)}var w;switch(g){case 0:break;case 1:case 2:case 3:o.u>=.5&&(o.u=0,++o.S),o.S>=60&&(o.S=0,++o.M),o.M>=60&&(o.M=0,++o.H),o.H>=24&&(o.H=0,++o.D,w=S0(o.D),w.u=o.u,w.S=o.S,w.M=o.M,w.H=o.H,o=w);break;case 4:switch(v){case 1:o.u=Math.round(o.u*10)/10;break;case 2:o.u=Math.round(o.u*100)/100;break;case 3:o.u=Math.round(o.u*1e3)/1e3;break}o.u>=1&&(o.u=0,++o.S),o.S>=60&&(o.S=0,++o.M),o.M>=60&&(o.M=0,++o.H),o.H>=24&&(o.H=0,++o.D,w=S0(o.D),w.u=o.u,w.S=o.S,w.M=o.M,w.H=o.H,o=w);break}var _="",N;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=Hhe(i[s].t.charCodeAt(0),i[s].v,o,v),i[s].t="t";break;case"n":case"?":for(N=s+1;i[N]!=null&&((l=i[N].t)==="?"||l==="D"||(l===" "||l==="t")&&i[N+1]!=null&&(i[N+1].t==="?"||i[N+1].t==="t"&&i[N+1].v==="/")||i[s].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[N].v==="/"||i[N].v===" "&&i[N+1]!=null&&i[N+1].t=="?"));)i[s].v+=i[N].v,i[N]={v:"",t:";"},++N;_+=i[s].v,s=N-1;break;case"G":i[s].t="t",i[s].v=c8(t,e);break}var P="",M,A;if(_.length>0){_.charCodeAt(0)==40?(M=t<0&&_.charCodeAt(0)===45?-t:t,A=_u("n",_,M)):(M=t<0&&n>1?-t:t,A=_u("n",_,M),M<0&&i[0]&&i[0].t=="t"&&(A=A.substr(1),i[0].v="-"+i[0].v)),N=A.length-1;var F=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){F=s;break}var H=i.length;if(F===i.length&&A.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(N>=i[s].v.length-1?(N-=i[s].v.length,i[s].v=A.substr(N+1,i[s].v.length)):N<0?i[s].v="":(i[s].v=A.substr(0,N+1),N=-1),i[s].t="t",H=s);N>=0&&H<i.length&&(i[H].v=A.substr(0,N+1)+i[H].v)}else if(F!==i.length&&A.indexOf("E")===-1){for(N=A.indexOf(".")-1,s=F;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(u=i[s].v.indexOf(".")>-1&&s===F?i[s].v.indexOf(".")-1:i[s].v.length-1,P=i[s].v.substr(u+1);u>=0;--u)N>=0&&(i[s].v.charAt(u)==="0"||i[s].v.charAt(u)==="#")&&(P=A.charAt(N--)+P);i[s].v=P,i[s].t="t",H=s}for(N>=0&&H<i.length&&(i[H].v=A.substr(0,N+1)+i[H].v),N=A.indexOf(".")+1,s=F;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==F)){for(u=i[s].v.indexOf(".")>-1&&s===F?i[s].v.indexOf(".")+1:0,P=i[s].v.substr(0,u);u<i[s].v.length;++u)N<A.length&&(P+=A.charAt(N++));i[s].v=P,i[s].t="t",H=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(M=n>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=_u(i[s].t,i[s].v,M),i[s].t="t");var z="";for(s=0;s!==i.length;++s)i[s]!=null&&(z+=i[s].v);return z}var pI=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function mI(r,t){if(t==null)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(r==e)return!0;break;case">":if(r>e)return!0;break;case"<":if(r<e)return!0;break;case"<>":if(r!=e)return!0;break;case">=":if(r>=e)return!0;break;case"<=":if(r<=e)return!0;break}return!1}function t0e(r,t){var e=Qhe(r),n=e.length,i=e[n-1].indexOf("@");if(n<4&&i>-1&&--n,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if(typeof t!="number")return[4,e.length===4||i>-1?e[e.length-1]:"@"];switch(typeof t=="number"&&!isFinite(t)&&(t=0),e.length){case 1:e=i>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=i>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=i>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"];break}var a=t>0?e[0]:t<0?e[1]:e[2];if(e[0].indexOf("[")===-1&&e[1].indexOf("[")===-1)return[n,a];if(e[0].match(/\[[=<>]/)!=null||e[1].match(/\[[=<>]/)!=null){var s=e[0].match(pI),l=e[1].match(pI);return mI(t,s)?[n,e[0]]:mI(t,l)?[n,e[1]]:[n,e[s!=null&&l!=null?2:1]]}return[n,a]}function Pu(r,t,e){e==null&&(e={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&e.dateNF?n=e.dateNF:n=r;break;case"number":r==14&&e.dateNF?n=e.dateNF:n=(e.table!=null?e.table:si)[r],n==null&&(n=e.table&&e.table[fI[r]]||si[fI[r]]),n==null&&(n=Lhe[r]||"General");break}if(Zb(n,0))return c8(t,e);t instanceof Date&&(t=za(t,e.date1904));var i=t0e(n,t);if(Zb(i[1]))return c8(t,e);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else{if(t===""||t==null)return"";if(isNaN(t)&&i[1].indexOf("0")>-1)return"#NUM!";if(!isFinite(t)&&i[1].indexOf("0")>-1)return"#DIV/0!"}return e0e(i[1],t,e,i[0])}function x$(r,t){if(typeof t!="number"){t=+t||-1;for(var e=0;e<392;++e){if(si[e]==null){t<0&&(t=e);continue}if(si[e]==r){t=e;break}}t<0&&(t=391)}return si[t]=r,t}function r2(r){for(var t=0;t!=392;++t)r[t]!==void 0&&x$(r[t],t)}function n2(){si=Fhe()}var ex=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function r0e(r){var t=typeof r=="number"?si[r]:r;return t=t.replace(ex,"(\\d+)"),ex.lastIndex=0,new RegExp("^"+t+"$")}function n0e(r,t,e){var n=-1,i=-1,a=-1,s=-1,l=-1,c=-1;(t.match(ex)||[]).forEach(function(d,f){var h=parseInt(e[f+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=h;break;case"d":a=h;break;case"h":s=h;break;case"s":c=h;break;case"m":s>=0?l=h:i=h;break}}),ex.lastIndex=0,c>=0&&l==-1&&i>=0&&(l=i,i=-1);var o=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);o.length==7&&(o="0"+o),o.length==8&&(o="20"+o);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&l==-1&&c==-1?o:n==-1&&i==-1&&a==-1?u:o+"T"+u}var i0e={"d.m":"d\\.m"};function a0e(r,t){return x$(i0e[r]||r,t)}var gI=function(){var r={};r.version="1.2.0";function t(){for(var M=0,A=new Array(256),F=0;F!=256;++F)M=F,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,M=M&1?-306674912^M>>>1:M>>>1,A[F]=M;return typeof Int32Array<"u"?new Int32Array(A):A}var e=t();function n(M){var A=0,F=0,H=0,z=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)z[H]=M[H];for(H=0;H!=256;++H)for(F=M[H],A=256+H;A<4096;A+=256)F=z[A]=F>>>8^M[F&255];var U=[];for(H=1;H!=16;++H)U[H-1]=typeof Int32Array<"u"&&typeof z.subarray=="function"?z.subarray(H*256,H*256+256):z.slice(H*256,H*256+256);return U}var i=n(e),a=i[0],s=i[1],l=i[2],c=i[3],o=i[4],u=i[5],d=i[6],f=i[7],h=i[8],y=i[9],m=i[10],g=i[11],v=i[12],b=i[13],w=i[14];function _(M,A){for(var F=A^-1,H=0,z=M.length;H<z;)F=F>>>8^e[(F^M.charCodeAt(H++))&255];return~F}function N(M,A){for(var F=A^-1,H=M.length-15,z=0;z<H;)F=w[M[z++]^F&255]^b[M[z++]^F>>8&255]^v[M[z++]^F>>16&255]^g[M[z++]^F>>>24]^m[M[z++]]^y[M[z++]]^h[M[z++]]^f[M[z++]]^d[M[z++]]^u[M[z++]]^o[M[z++]]^c[M[z++]]^l[M[z++]]^s[M[z++]]^a[M[z++]]^e[M[z++]];for(H+=15;z<H;)F=F>>>8^e[(F^M[z++])&255];return~F}function P(M,A){for(var F=A^-1,H=0,z=M.length,U=0,O=0;H<z;)U=M.charCodeAt(H++),U<128?F=F>>>8^e[(F^U)&255]:U<2048?(F=F>>>8^e[(F^(192|U>>6&31))&255],F=F>>>8^e[(F^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,O=M.charCodeAt(H++)&1023,F=F>>>8^e[(F^(240|U>>8&7))&255],F=F>>>8^e[(F^(128|U>>2&63))&255],F=F>>>8^e[(F^(128|O>>6&15|(U&3)<<4))&255],F=F>>>8^e[(F^(128|O&63))&255]):(F=F>>>8^e[(F^(224|U>>12&15))&255],F=F>>>8^e[(F^(128|U>>6&63))&255],F=F>>>8^e[(F^(128|U&63))&255]);return~F}return r.table=e,r.bstr=_,r.buf=N,r.str=P,r}(),Gn=function(){var t={};t.version="1.2.2";function e(pe,Ce){for(var be=pe.split("/"),Ee=Ce.split("/"),Ae=0,Te=0,He=Math.min(be.length,Ee.length);Ae<He;++Ae){if(Te=be[Ae].length-Ee[Ae].length)return Te;if(be[Ae]!=Ee[Ae])return be[Ae]<Ee[Ae]?-1:1}return be.length-Ee.length}function n(pe){if(pe.charAt(pe.length-1)=="/")return pe.slice(0,-1).indexOf("/")===-1?pe:n(pe.slice(0,-1));var Ce=pe.lastIndexOf("/");return Ce===-1?pe:pe.slice(0,Ce+1)}function i(pe){if(pe.charAt(pe.length-1)=="/")return i(pe.slice(0,-1));var Ce=pe.lastIndexOf("/");return Ce===-1?pe:pe.slice(Ce+1)}function a(pe,Ce){typeof Ce=="string"&&(Ce=new Date(Ce));var be=Ce.getHours();be=be<<6|Ce.getMinutes(),be=be<<5|Ce.getSeconds()>>>1,pe.write_shift(2,be);var Ee=Ce.getFullYear()-1980;Ee=Ee<<4|Ce.getMonth()+1,Ee=Ee<<5|Ce.getDate(),pe.write_shift(2,Ee)}function s(pe){var Ce=pe.read_shift(2)&65535,be=pe.read_shift(2)&65535,Ee=new Date,Ae=be&31;be>>>=5;var Te=be&15;be>>>=4,Ee.setMilliseconds(0),Ee.setFullYear(be+1980),Ee.setMonth(Te-1),Ee.setDate(Ae);var He=Ce&31;Ce>>>=5;var tt=Ce&63;return Ce>>>=6,Ee.setHours(Ce),Ee.setMinutes(tt),Ee.setSeconds(He<<1),Ee}function l(pe){Cs(pe,0);for(var Ce={},be=0;pe.l<=pe.length-4;){var Ee=pe.read_shift(2),Ae=pe.read_shift(2),Te=pe.l+Ae,He={};switch(Ee){case 21589:be=pe.read_shift(1),be&1&&(He.mtime=pe.read_shift(4)),Ae>5&&(be&2&&(He.atime=pe.read_shift(4)),be&4&&(He.ctime=pe.read_shift(4))),He.mtime&&(He.mt=new Date(He.mtime*1e3));break;case 1:{var tt=pe.read_shift(4),We=pe.read_shift(4);He.usz=We*Math.pow(2,32)+tt,tt=pe.read_shift(4),We=pe.read_shift(4),He.csz=We*Math.pow(2,32)+tt}break}pe.l=Te,Ce[Ee]=He}return Ce}var c;function o(){return c||(c=s0e)}function u(pe,Ce){if(pe[0]==80&&pe[1]==75)return zt(pe,Ce);if((pe[0]|32)==109&&(pe[1]|32)==105)return dr(pe,Ce);if(pe.length<512)throw new Error("CFB file size "+pe.length+" < 512");var be=3,Ee=512,Ae=0,Te=0,He=0,tt=0,We=0,it=[],et=pe.slice(0,512);Cs(et,0);var Ct=d(et);switch(be=Ct[0],be){case 3:Ee=512;break;case 4:Ee=4096;break;case 0:if(Ct[1]==0)return zt(pe,Ce);default:throw new Error("Major Version: Expected 3 or 4 saw "+be)}Ee!==512&&(et=pe.slice(0,Ee),Cs(et,28));var Mt=pe.slice(0,Ee);f(et,be);var Gt=et.read_shift(4,"i");if(be===3&&Gt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Gt);et.l+=4,He=et.read_shift(4,"i"),et.l+=4,et.chk("00100000","Mini Stream Cutoff Size: "),tt=et.read_shift(4,"i"),Ae=et.read_shift(4,"i"),We=et.read_shift(4,"i"),Te=et.read_shift(4,"i");for(var Se=-1,Fe=0;Fe<109&&(Se=et.read_shift(4,"i"),!(Se<0));++Fe)it[Fe]=Se;var ct=h(pe,Ee);g(We,Te,ct,Ee,it);var wt=b(ct,He,it,Ee);He<wt.length&&(wt[He].name="!Directory"),Ae>0&&tt!==O&&(wt[tt].name="!MiniFAT"),wt[it[0]].name="!FAT",wt.fat_addrs=it,wt.ssz=Ee;var Wt={},It=[],qt=[],Rr=[];w(He,wt,ct,It,Ae,Wt,qt,tt),y(qt,Rr,It),It.shift();var kr={FileIndex:qt,FullPaths:Rr};return Ce&&Ce.raw&&(kr.raw={header:Mt,sectors:ct}),kr}function d(pe){if(pe[pe.l]==80&&pe[pe.l+1]==75)return[0,0];pe.chk(L,"Header Signature: "),pe.l+=16;var Ce=pe.read_shift(2,"u");return[pe.read_shift(2,"u"),Ce]}function f(pe,Ce){var be=9;switch(pe.l+=2,be=pe.read_shift(2)){case 9:if(Ce!=3)throw new Error("Sector Shift: Expected 9 saw "+be);break;case 12:if(Ce!=4)throw new Error("Sector Shift: Expected 12 saw "+be);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+be)}pe.chk("0600","Mini Sector Shift: "),pe.chk("000000000000","Reserved: ")}function h(pe,Ce){for(var be=Math.ceil(pe.length/Ce)-1,Ee=[],Ae=1;Ae<be;++Ae)Ee[Ae-1]=pe.slice(Ae*Ce,(Ae+1)*Ce);return Ee[be-1]=pe.slice(be*Ce),Ee}function y(pe,Ce,be){for(var Ee=0,Ae=0,Te=0,He=0,tt=0,We=be.length,it=[],et=[];Ee<We;++Ee)it[Ee]=et[Ee]=Ee,Ce[Ee]=be[Ee];for(;tt<et.length;++tt)Ee=et[tt],Ae=pe[Ee].L,Te=pe[Ee].R,He=pe[Ee].C,it[Ee]===Ee&&(Ae!==-1&&it[Ae]!==Ae&&(it[Ee]=it[Ae]),Te!==-1&&it[Te]!==Te&&(it[Ee]=it[Te])),He!==-1&&(it[He]=Ee),Ae!==-1&&Ee!=it[Ee]&&(it[Ae]=it[Ee],et.lastIndexOf(Ae)<tt&&et.push(Ae)),Te!==-1&&Ee!=it[Ee]&&(it[Te]=it[Ee],et.lastIndexOf(Te)<tt&&et.push(Te));for(Ee=1;Ee<We;++Ee)it[Ee]===Ee&&(Te!==-1&&it[Te]!==Te?it[Ee]=it[Te]:Ae!==-1&&it[Ae]!==Ae&&(it[Ee]=it[Ae]));for(Ee=1;Ee<We;++Ee)if(pe[Ee].type!==0){if(tt=Ee,tt!=it[tt])do tt=it[tt],Ce[Ee]=Ce[tt]+"/"+Ce[Ee];while(tt!==0&&it[tt]!==-1&&tt!=it[tt]);it[Ee]=-1}for(Ce[0]+="/",Ee=1;Ee<We;++Ee)pe[Ee].type!==2&&(Ce[Ee]+="/")}function m(pe,Ce,be){for(var Ee=pe.start,Ae=pe.size,Te=[],He=Ee;be&&Ae>0&&He>=0;)Te.push(Ce.slice(He*U,He*U+U)),Ae-=U,He=nh(be,He*4);return Te.length===0?dt(0):zi(Te).slice(0,pe.size)}function g(pe,Ce,be,Ee,Ae){var Te=O;if(pe===O){if(Ce!==0)throw new Error("DIFAT chain shorter than expected")}else if(pe!==-1){var He=be[pe],tt=(Ee>>>2)-1;if(!He)return;for(var We=0;We<tt&&(Te=nh(He,We*4))!==O;++We)Ae.push(Te);Ce>=1&&g(nh(He,Ee-4),Ce-1,be,Ee,Ae)}}function v(pe,Ce,be,Ee,Ae){var Te=[],He=[];Ae||(Ae=[]);var tt=Ee-1,We=0,it=0;for(We=Ce;We>=0;){Ae[We]=!0,Te[Te.length]=We,He.push(pe[We]);var et=be[Math.floor(We*4/Ee)];if(it=We*4&tt,Ee<4+it)throw new Error("FAT boundary crossed: "+We+" 4 "+Ee);if(!pe[et])break;We=nh(pe[et],it)}return{nodes:Te,data:SI([He])}}function b(pe,Ce,be,Ee){var Ae=pe.length,Te=[],He=[],tt=[],We=[],it=Ee-1,et=0,Ct=0,Mt=0,Gt=0;for(et=0;et<Ae;++et)if(tt=[],Mt=et+Ce,Mt>=Ae&&(Mt-=Ae),!He[Mt]){We=[];var Se=[];for(Ct=Mt;Ct>=0;){Se[Ct]=!0,He[Ct]=!0,tt[tt.length]=Ct,We.push(pe[Ct]);var Fe=be[Math.floor(Ct*4/Ee)];if(Gt=Ct*4&it,Ee<4+Gt)throw new Error("FAT boundary crossed: "+Ct+" 4 "+Ee);if(!pe[Fe]||(Ct=nh(pe[Fe],Gt),Se[Ct]))break}Te[Mt]={nodes:tt,data:SI([We])}}return Te}function w(pe,Ce,be,Ee,Ae,Te,He,tt){for(var We=0,it=Ee.length?2:0,et=Ce[pe].data,Ct=0,Mt=0,Gt;Ct<et.length;Ct+=128){var Se=et.slice(Ct,Ct+128);Cs(Se,64),Mt=Se.read_shift(2),Gt=Kk(Se,0,Mt-it),Ee.push(Gt);var Fe={name:Gt,type:Se.read_shift(1),color:Se.read_shift(1),L:Se.read_shift(4,"i"),R:Se.read_shift(4,"i"),C:Se.read_shift(4,"i"),clsid:Se.read_shift(16),state:Se.read_shift(4,"i"),start:0,size:0},ct=Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2);ct!==0&&(Fe.ct=_(Se,Se.l-8));var wt=Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2)+Se.read_shift(2);wt!==0&&(Fe.mt=_(Se,Se.l-8)),Fe.start=Se.read_shift(4,"i"),Fe.size=Se.read_shift(4,"i"),Fe.size<0&&Fe.start<0&&(Fe.size=Fe.type=0,Fe.start=O,Fe.name=""),Fe.type===5?(We=Fe.start,Ae>0&&We!==O&&(Ce[We].name="!StreamData")):Fe.size>=4096?(Fe.storage="fat",Ce[Fe.start]===void 0&&(Ce[Fe.start]=v(be,Fe.start,Ce.fat_addrs,Ce.ssz)),Ce[Fe.start].name=Fe.name,Fe.content=Ce[Fe.start].data.slice(0,Fe.size)):(Fe.storage="minifat",Fe.size<0?Fe.size=0:We!==O&&Fe.start!==O&&Ce[We]&&(Fe.content=m(Fe,Ce[We].data,(Ce[tt]||{}).data))),Fe.content&&Cs(Fe.content,0),Te[Gt]=Fe,He.push(Fe)}}function _(pe,Ce){return new Date((Eo(pe,Ce+4)/1e7*Math.pow(2,32)+Eo(pe,Ce)/1e7-11644473600)*1e3)}function N(pe,Ce){return o(),u(c.readFileSync(pe),Ce)}function P(pe,Ce){var be=Ce&&Ce.type;switch(be||Sn&&Buffer.isBuffer(pe)&&(be="buffer"),be||"base64"){case"file":return N(pe,Ce);case"base64":return u(ko(Jf(pe)),Ce);case"binary":return u(ko(pe),Ce)}return u(pe,Ce)}function M(pe,Ce){var be=Ce||{},Ee=be.root||"Root Entry";if(pe.FullPaths||(pe.FullPaths=[]),pe.FileIndex||(pe.FileIndex=[]),pe.FullPaths.length!==pe.FileIndex.length)throw new Error("inconsistent CFB structure");pe.FullPaths.length===0&&(pe.FullPaths[0]=Ee+"/",pe.FileIndex[0]={name:Ee,type:5}),be.CLSID&&(pe.FileIndex[0].clsid=be.CLSID),A(pe)}function A(pe){var Ce="Sh33tJ5";if(!Gn.find(pe,"/"+Ce)){var be=dt(4);be[0]=55,be[1]=be[3]=50,be[2]=54,pe.FileIndex.push({name:Ce,type:2,content:be,size:4,L:69,R:69,C:69}),pe.FullPaths.push(pe.FullPaths[0]+Ce),F(pe)}}function F(pe,Ce){M(pe);for(var be=!1,Ee=!1,Ae=pe.FullPaths.length-1;Ae>=0;--Ae){var Te=pe.FileIndex[Ae];switch(Te.type){case 0:Ee?be=!0:(pe.FileIndex.pop(),pe.FullPaths.pop());break;case 1:case 2:case 5:Ee=!0,isNaN(Te.R*Te.L*Te.C)&&(be=!0),Te.R>-1&&Te.L>-1&&Te.R==Te.L&&(be=!0);break;default:be=!0;break}}if(!(!be&&!Ce)){var He=new Date(1987,1,19),tt=0,We=Object.create?Object.create(null):{},it=[];for(Ae=0;Ae<pe.FullPaths.length;++Ae)We[pe.FullPaths[Ae]]=!0,pe.FileIndex[Ae].type!==0&&it.push([pe.FullPaths[Ae],pe.FileIndex[Ae]]);for(Ae=0;Ae<it.length;++Ae){var et=n(it[Ae][0]);for(Ee=We[et];!Ee;){for(;n(et)&&!We[n(et)];)et=n(et);it.push([et,{name:i(et).replace("/",""),type:1,clsid:k,ct:He,mt:He,content:null}]),We[et]=!0,et=n(it[Ae][0]),Ee=We[et]}}for(it.sort(function(Gt,Se){return e(Gt[0],Se[0])}),pe.FullPaths=[],pe.FileIndex=[],Ae=0;Ae<it.length;++Ae)pe.FullPaths[Ae]=it[Ae][0],pe.FileIndex[Ae]=it[Ae][1];for(Ae=0;Ae<it.length;++Ae){var Ct=pe.FileIndex[Ae],Mt=pe.FullPaths[Ae];if(Ct.name=i(Mt).replace("/",""),Ct.L=Ct.R=Ct.C=-(Ct.color=1),Ct.size=Ct.content?Ct.content.length:0,Ct.start=0,Ct.clsid=Ct.clsid||k,Ae===0)Ct.C=it.length>1?1:-1,Ct.size=0,Ct.type=5;else if(Mt.slice(-1)=="/"){for(tt=Ae+1;tt<it.length&&n(pe.FullPaths[tt])!=Mt;++tt);for(Ct.C=tt>=it.length?-1:tt,tt=Ae+1;tt<it.length&&n(pe.FullPaths[tt])!=n(Mt);++tt);Ct.R=tt>=it.length?-1:tt,Ct.type=1}else n(pe.FullPaths[Ae+1]||"")==n(Mt)&&(Ct.R=Ae+1),Ct.type=2}}}function H(pe,Ce){var be=Ce||{};if(be.fileType=="mad")return Vt(pe,be);switch(F(pe),be.fileType){case"zip":return br(pe,be)}var Ee=function(Gt){for(var Se=0,Fe=0,ct=0;ct<Gt.FileIndex.length;++ct){var wt=Gt.FileIndex[ct];if(wt.content){var Wt=wt.content.length;Wt>0&&(Wt<4096?Se+=Wt+63>>6:Fe+=Wt+511>>9)}}for(var It=Gt.FullPaths.length+3>>2,qt=Se+7>>3,Rr=Se+127>>7,kr=qt+Fe+It+Rr,mr=kr+127>>7,or=mr<=109?0:Math.ceil((mr-109)/127);kr+mr+or+127>>7>mr;)or=++mr<=109?0:Math.ceil((mr-109)/127);var Er=[1,or,mr,Rr,It,Fe,Se,0];return Gt.FileIndex[0].size=Se<<6,Er[7]=(Gt.FileIndex[0].start=Er[0]+Er[1]+Er[2]+Er[3]+Er[4]+Er[5])+(Er[6]+7>>3),Er}(pe),Ae=dt(Ee[7]<<9),Te=0,He=0;{for(Te=0;Te<8;++Te)Ae.write_shift(1,C[Te]);for(Te=0;Te<8;++Te)Ae.write_shift(2,0);for(Ae.write_shift(2,62),Ae.write_shift(2,3),Ae.write_shift(2,65534),Ae.write_shift(2,9),Ae.write_shift(2,6),Te=0;Te<3;++Te)Ae.write_shift(2,0);for(Ae.write_shift(4,0),Ae.write_shift(4,Ee[2]),Ae.write_shift(4,Ee[0]+Ee[1]+Ee[2]+Ee[3]-1),Ae.write_shift(4,0),Ae.write_shift(4,4096),Ae.write_shift(4,Ee[3]?Ee[0]+Ee[1]+Ee[2]-1:O),Ae.write_shift(4,Ee[3]),Ae.write_shift(-4,Ee[1]?Ee[0]-1:O),Ae.write_shift(4,Ee[1]),Te=0;Te<109;++Te)Ae.write_shift(-4,Te<Ee[2]?Ee[1]+Te:-1)}if(Ee[1])for(He=0;He<Ee[1];++He){for(;Te<236+He*127;++Te)Ae.write_shift(-4,Te<Ee[2]?Ee[1]+Te:-1);Ae.write_shift(-4,He===Ee[1]-1?O:He+1)}var tt=function(Gt){for(He+=Gt;Te<He-1;++Te)Ae.write_shift(-4,Te+1);Gt&&(++Te,Ae.write_shift(-4,O))};for(He=Te=0,He+=Ee[1];Te<He;++Te)Ae.write_shift(-4,j.DIFSECT);for(He+=Ee[2];Te<He;++Te)Ae.write_shift(-4,j.FATSECT);tt(Ee[3]),tt(Ee[4]);for(var We=0,it=0,et=pe.FileIndex[0];We<pe.FileIndex.length;++We)et=pe.FileIndex[We],et.content&&(it=et.content.length,!(it<4096)&&(et.start=He,tt(it+511>>9)));for(tt(Ee[6]+7>>3);Ae.l&511;)Ae.write_shift(-4,j.ENDOFCHAIN);for(He=Te=0,We=0;We<pe.FileIndex.length;++We)et=pe.FileIndex[We],et.content&&(it=et.content.length,!(!it||it>=4096)&&(et.start=He,tt(it+63>>6)));for(;Ae.l&511;)Ae.write_shift(-4,j.ENDOFCHAIN);for(Te=0;Te<Ee[4]<<2;++Te){var Ct=pe.FullPaths[Te];if(!Ct||Ct.length===0){for(We=0;We<17;++We)Ae.write_shift(4,0);for(We=0;We<3;++We)Ae.write_shift(4,-1);for(We=0;We<12;++We)Ae.write_shift(4,0);continue}et=pe.FileIndex[Te],Te===0&&(et.start=et.size?et.start-1:O);var Mt=Te===0&&be.root||et.name;if(Mt.length>31&&(console.error("Name "+Mt+" will be truncated to "+Mt.slice(0,31)),Mt=Mt.slice(0,31)),it=2*(Mt.length+1),Ae.write_shift(64,Mt,"utf16le"),Ae.write_shift(2,it),Ae.write_shift(1,et.type),Ae.write_shift(1,et.color),Ae.write_shift(-4,et.L),Ae.write_shift(-4,et.R),Ae.write_shift(-4,et.C),et.clsid)Ae.write_shift(16,et.clsid,"hex");else for(We=0;We<4;++We)Ae.write_shift(4,0);Ae.write_shift(4,et.state||0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,0),Ae.write_shift(4,et.start),Ae.write_shift(4,et.size),Ae.write_shift(4,0)}for(Te=1;Te<pe.FileIndex.length;++Te)if(et=pe.FileIndex[Te],et.size>=4096)if(Ae.l=et.start+1<<9,Sn&&Buffer.isBuffer(et.content))et.content.copy(Ae,Ae.l,0,et.size),Ae.l+=et.size+511&-512;else{for(We=0;We<et.size;++We)Ae.write_shift(1,et.content[We]);for(;We&511;++We)Ae.write_shift(1,0)}for(Te=1;Te<pe.FileIndex.length;++Te)if(et=pe.FileIndex[Te],et.size>0&&et.size<4096)if(Sn&&Buffer.isBuffer(et.content))et.content.copy(Ae,Ae.l,0,et.size),Ae.l+=et.size+63&-64;else{for(We=0;We<et.size;++We)Ae.write_shift(1,et.content[We]);for(;We&63;++We)Ae.write_shift(1,0)}if(Sn)Ae.l=Ae.length;else for(;Ae.l<Ae.length;)Ae.write_shift(1,0);return Ae}function z(pe,Ce){var be=pe.FullPaths.map(function(We){return We.toUpperCase()}),Ee=be.map(function(We){var it=We.split("/");return it[it.length-(We.slice(-1)=="/"?2:1)]}),Ae=!1;Ce.charCodeAt(0)===47?(Ae=!0,Ce=be[0].slice(0,-1)+Ce):Ae=Ce.indexOf("/")!==-1;var Te=Ce.toUpperCase(),He=Ae===!0?be.indexOf(Te):Ee.indexOf(Te);if(He!==-1)return pe.FileIndex[He];var tt=!Te.match(xv);for(Te=Te.replace(ig,""),tt&&(Te=Te.replace(xv,"!")),He=0;He<be.length;++He)if((tt?be[He].replace(xv,"!"):be[He]).replace(ig,"")==Te||(tt?Ee[He].replace(xv,"!"):Ee[He]).replace(ig,"")==Te)return pe.FileIndex[He];return null}var U=64,O=-2,L="d0cf11e0a1b11ae1",C=[208,207,17,224,161,177,26,225],k="00000000000000000000000000000000",j={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:O,FREESECT:-1,HEADER_SIGNATURE:L,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:k,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function E(pe,Ce,be){o();var Ee=H(pe,be);c.writeFileSync(Ce,Ee)}function T(pe){for(var Ce=new Array(pe.length),be=0;be<pe.length;++be)Ce[be]=String.fromCharCode(pe[be]);return Ce.join("")}function R(pe,Ce){var be=H(pe,Ce);switch(Ce&&Ce.type||"buffer"){case"file":return o(),c.writeFileSync(Ce.filename,be),be;case"binary":return typeof be=="string"?be:T(be);case"base64":return Kb(typeof be=="string"?be:T(be));case"buffer":if(Sn)return Buffer.isBuffer(be)?be:Cc(be);case"array":return typeof be=="string"?ko(be):be}return be}var V;function B(pe){try{var Ce=pe.InflateRaw,be=new Ce;if(be._processChunk(new Uint8Array([3,0]),be._finishFlushFlag),be.bytesRead)V=pe;else throw new Error("zlib does not expose bytesRead")}catch(Ee){console.error("cannot use native zlib: "+(Ee.message||Ee))}}function K(pe,Ce){if(!V)return Lt(pe,Ce);var be=V.InflateRaw,Ee=new be,Ae=Ee._processChunk(pe.slice(pe.l),Ee._finishFlushFlag);return pe.l+=Ee.bytesRead,Ae}function Z(pe){return V?V.deflateRawSync(pe):gt(pe)}var ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function I(pe){var Ce=(pe<<1|pe<<11)&139536|(pe<<5|pe<<15)&558144;return(Ce>>16|Ce>>8|Ce)&255}for(var D=typeof Uint8Array<"u",X=D?new Uint8Array(256):[],Q=0;Q<256;++Q)X[Q]=I(Q);function re(pe,Ce){var be=X[pe&255];return Ce<=8?be>>>8-Ce:(be=be<<8|X[pe>>8&255],Ce<=16?be>>>16-Ce:(be=be<<8|X[pe>>16&255],be>>>24-Ce))}function oe(pe,Ce){var be=Ce&7,Ee=Ce>>>3;return(pe[Ee]|(be<=6?0:pe[Ee+1]<<8))>>>be&3}function se(pe,Ce){var be=Ce&7,Ee=Ce>>>3;return(pe[Ee]|(be<=5?0:pe[Ee+1]<<8))>>>be&7}function he(pe,Ce){var be=Ce&7,Ee=Ce>>>3;return(pe[Ee]|(be<=4?0:pe[Ee+1]<<8))>>>be&15}function le(pe,Ce){var be=Ce&7,Ee=Ce>>>3;return(pe[Ee]|(be<=3?0:pe[Ee+1]<<8))>>>be&31}function de(pe,Ce){var be=Ce&7,Ee=Ce>>>3;return(pe[Ee]|(be<=1?0:pe[Ee+1]<<8))>>>be&127}function ve(pe,Ce,be){var Ee=Ce&7,Ae=Ce>>>3,Te=(1<<be)-1,He=pe[Ae]>>>Ee;return be<8-Ee||(He|=pe[Ae+1]<<8-Ee,be<16-Ee)||(He|=pe[Ae+2]<<16-Ee,be<24-Ee)||(He|=pe[Ae+3]<<24-Ee),He&Te}function ge(pe,Ce,be){var Ee=Ce&7,Ae=Ce>>>3;return Ee<=5?pe[Ae]|=(be&7)<<Ee:(pe[Ae]|=be<<Ee&255,pe[Ae+1]=(be&7)>>8-Ee),Ce+3}function ke(pe,Ce,be){var Ee=Ce&7,Ae=Ce>>>3;return be=(be&1)<<Ee,pe[Ae]|=be,Ce+1}function Pe(pe,Ce,be){var Ee=Ce&7,Ae=Ce>>>3;return be<<=Ee,pe[Ae]|=be&255,be>>>=8,pe[Ae+1]=be,Ce+8}function Re(pe,Ce,be){var Ee=Ce&7,Ae=Ce>>>3;return be<<=Ee,pe[Ae]|=be&255,be>>>=8,pe[Ae+1]=be&255,pe[Ae+2]=be>>>8,Ce+16}function Ie(pe,Ce){var be=pe.length,Ee=2*be>Ce?2*be:Ce+5,Ae=0;if(be>=Ce)return pe;if(Sn){var Te=lI(Ee);if(pe.copy)pe.copy(Te);else for(;Ae<pe.length;++Ae)Te[Ae]=pe[Ae];return Te}else if(D){var He=new Uint8Array(Ee);if(He.set)He.set(pe);else for(;Ae<be;++Ae)He[Ae]=pe[Ae];return He}return pe.length=Ee,pe}function qe(pe){for(var Ce=new Array(pe),be=0;be<pe;++be)Ce[be]=0;return Ce}function Ue(pe,Ce,be){var Ee=1,Ae=0,Te=0,He=0,tt=0,We=pe.length,it=D?new Uint16Array(32):qe(32);for(Te=0;Te<32;++Te)it[Te]=0;for(Te=We;Te<be;++Te)pe[Te]=0;We=pe.length;var et=D?new Uint16Array(We):qe(We);for(Te=0;Te<We;++Te)it[Ae=pe[Te]]++,Ee<Ae&&(Ee=Ae),et[Te]=0;for(it[0]=0,Te=1;Te<=Ee;++Te)it[Te+16]=tt=tt+it[Te-1]<<1;for(Te=0;Te<We;++Te)tt=pe[Te],tt!=0&&(et[Te]=it[tt+16]++);var Ct=0;for(Te=0;Te<We;++Te)if(Ct=pe[Te],Ct!=0)for(tt=re(et[Te],Ee)>>Ee-Ct,He=(1<<Ee+4-Ct)-1;He>=0;--He)Ce[tt|He<<Ct]=Ct&15|Te<<4;return Ee}var vt=D?new Uint16Array(512):qe(512),St=D?new Uint16Array(32):qe(32);if(!D){for(var De=0;De<512;++De)vt[De]=0;for(De=0;De<32;++De)St[De]=0}(function(){for(var pe=[],Ce=0;Ce<32;Ce++)pe.push(5);Ue(pe,St,32);var be=[];for(Ce=0;Ce<=143;Ce++)be.push(8);for(;Ce<=255;Ce++)be.push(9);for(;Ce<=279;Ce++)be.push(7);for(;Ce<=287;Ce++)be.push(8);Ue(be,vt,288)})();var lt=function(){for(var Ce=D?new Uint8Array(32768):[],be=0,Ee=0;be<te.length-1;++be)for(;Ee<te[be+1];++Ee)Ce[Ee]=be;for(;Ee<32768;++Ee)Ce[Ee]=29;var Ae=D?new Uint8Array(259):[];for(be=0,Ee=0;be<G.length-1;++be)for(;Ee<G[be+1];++Ee)Ae[Ee]=be;function Te(tt,We){for(var it=0;it<tt.length;){var et=Math.min(65535,tt.length-it),Ct=it+et==tt.length;for(We.write_shift(1,+Ct),We.write_shift(2,et),We.write_shift(2,~et&65535);et-- >0;)We[We.l++]=tt[it++]}return We.l}function He(tt,We){for(var it=0,et=0,Ct=D?new Uint16Array(32768):[];et<tt.length;){var Mt=Math.min(65535,tt.length-et);if(Mt<10){for(it=ge(We,it,+(et+Mt==tt.length)),it&7&&(it+=8-(it&7)),We.l=it/8|0,We.write_shift(2,Mt),We.write_shift(2,~Mt&65535);Mt-- >0;)We[We.l++]=tt[et++];it=We.l*8;continue}it=ge(We,it,+(et+Mt==tt.length)+2);for(var Gt=0;Mt-- >0;){var Se=tt[et];Gt=(Gt<<5^Se)&32767;var Fe=-1,ct=0;if((Fe=Ct[Gt])&&(Fe|=et&-32768,Fe>et&&(Fe-=32768),Fe<et))for(;tt[Fe+ct]==tt[et+ct]&&ct<250;)++ct;if(ct>2){Se=Ae[ct],Se<=22?it=Pe(We,it,X[Se+1]>>1)-1:(Pe(We,it,3),it+=5,Pe(We,it,X[Se-23]>>5),it+=3);var wt=Se<8?0:Se-4>>2;wt>0&&(Re(We,it,ct-G[Se]),it+=wt),Se=Ce[et-Fe],it=Pe(We,it,X[Se]>>3),it-=3;var Wt=Se<4?0:Se-2>>1;Wt>0&&(Re(We,it,et-Fe-te[Se]),it+=Wt);for(var It=0;It<ct;++It)Ct[Gt]=et&32767,Gt=(Gt<<5^tt[et])&32767,++et;Mt-=ct-1}else Se<=143?Se=Se+48:it=ke(We,it,1),it=Pe(We,it,X[Se]),Ct[Gt]=et&32767,++et}it=Pe(We,it,0)-1}return We.l=(it+7)/8|0,We.l}return function(We,it){return We.length<8?Te(We,it):He(We,it)}}();function gt(pe){var Ce=dt(50+Math.floor(pe.length*1.1)),be=lt(pe,Ce);return Ce.slice(0,be)}var Ve=D?new Uint16Array(32768):qe(32768),Dt=D?new Uint16Array(32768):qe(32768),bt=D?new Uint16Array(128):qe(128),At=1,ft=1;function jt(pe,Ce){var be=le(pe,Ce)+257;Ce+=5;var Ee=le(pe,Ce)+1;Ce+=5;var Ae=he(pe,Ce)+4;Ce+=4;for(var Te=0,He=D?new Uint8Array(19):qe(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],We=1,it=D?new Uint8Array(8):qe(8),et=D?new Uint8Array(8):qe(8),Ct=He.length,Mt=0;Mt<Ae;++Mt)He[ne[Mt]]=Te=se(pe,Ce),We<Te&&(We=Te),it[Te]++,Ce+=3;var Gt=0;for(it[0]=0,Mt=1;Mt<=We;++Mt)et[Mt]=Gt=Gt+it[Mt-1]<<1;for(Mt=0;Mt<Ct;++Mt)(Gt=He[Mt])!=0&&(tt[Mt]=et[Gt]++);var Se=0;for(Mt=0;Mt<Ct;++Mt)if(Se=He[Mt],Se!=0){Gt=X[tt[Mt]]>>8-Se;for(var Fe=(1<<7-Se)-1;Fe>=0;--Fe)bt[Gt|Fe<<Se]=Se&7|Mt<<3}var ct=[];for(We=1;ct.length<be+Ee;)switch(Gt=bt[de(pe,Ce)],Ce+=Gt&7,Gt>>>=3){case 16:for(Te=3+oe(pe,Ce),Ce+=2,Gt=ct[ct.length-1];Te-- >0;)ct.push(Gt);break;case 17:for(Te=3+se(pe,Ce),Ce+=3;Te-- >0;)ct.push(0);break;case 18:for(Te=11+de(pe,Ce),Ce+=7;Te-- >0;)ct.push(0);break;default:ct.push(Gt),We<Gt&&(We=Gt);break}var wt=ct.slice(0,be),Wt=ct.slice(be);for(Mt=be;Mt<286;++Mt)wt[Mt]=0;for(Mt=Ee;Mt<30;++Mt)Wt[Mt]=0;return At=Ue(wt,Ve,286),ft=Ue(Wt,Dt,30),Ce}function ht(pe,Ce){if(pe[0]==3&&!(pe[1]&3))return[xh(Ce),2];for(var be=0,Ee=0,Ae=lI(Ce||1<<18),Te=0,He=Ae.length>>>0,tt=0,We=0;(Ee&1)==0;){if(Ee=se(pe,be),be+=3,Ee>>>1)Ee>>1==1?(tt=9,We=5):(be=jt(pe,be),tt=At,We=ft);else{be&7&&(be+=8-(be&7));var it=pe[be>>>3]|pe[(be>>>3)+1]<<8;if(be+=32,it>0)for(!Ce&&He<Te+it&&(Ae=Ie(Ae,Te+it),He=Ae.length);it-- >0;)Ae[Te++]=pe[be>>>3],be+=8;continue}for(;;){!Ce&&He<Te+32767&&(Ae=Ie(Ae,Te+32767),He=Ae.length);var et=ve(pe,be,tt),Ct=Ee>>>1==1?vt[et]:Ve[et];if(be+=Ct&15,Ct>>>=4,(Ct>>>8&255)===0)Ae[Te++]=Ct;else{if(Ct==256)break;Ct-=257;var Mt=Ct<8?0:Ct-4>>2;Mt>5&&(Mt=0);var Gt=Te+G[Ct];Mt>0&&(Gt+=ve(pe,be,Mt),be+=Mt),et=ve(pe,be,We),Ct=Ee>>>1==1?St[et]:Dt[et],be+=Ct&15,Ct>>>=4;var Se=Ct<4?0:Ct-2>>1,Fe=te[Ct];for(Se>0&&(Fe+=ve(pe,be,Se),be+=Se),!Ce&&He<Gt&&(Ae=Ie(Ae,Gt+100),He=Ae.length);Te<Gt;)Ae[Te]=Ae[Te-Fe],++Te}}}return Ce?[Ae,be+7>>>3]:[Ae.slice(0,Te),be+7>>>3]}function Lt(pe,Ce){var be=pe.slice(pe.l||0),Ee=ht(be,Ce);return pe.l+=Ee[1],Ee[0]}function ur(pe,Ce){if(pe)typeof console<"u"&&console.error(Ce);else throw new Error(Ce)}function zt(pe,Ce){var be=pe;Cs(be,0);var Ee=[],Ae=[],Te={FileIndex:Ee,FullPaths:Ae};M(Te,{root:Ce.root});for(var He=be.length-4;(be[He]!=80||be[He+1]!=75||be[He+2]!=5||be[He+3]!=6)&&He>=0;)--He;be.l=He+4,be.l+=4;var tt=be.read_shift(2);be.l+=6;var We=be.read_shift(4);for(be.l=We,He=0;He<tt;++He){be.l+=20;var it=be.read_shift(4),et=be.read_shift(4),Ct=be.read_shift(2),Mt=be.read_shift(2),Gt=be.read_shift(2);be.l+=8;var Se=be.read_shift(4),Fe=l(be.slice(be.l+Ct,be.l+Ct+Mt));be.l+=Ct+Mt+Gt;var ct=be.l;be.l=Se+4,Fe&&Fe[1]&&((Fe[1]||{}).usz&&(et=Fe[1].usz),(Fe[1]||{}).csz&&(it=Fe[1].csz)),wr(be,it,et,Te,Fe),be.l=ct}return Te}function wr(pe,Ce,be,Ee,Ae){pe.l+=2;var Te=pe.read_shift(2),He=pe.read_shift(2),tt=s(pe);if(Te&8257)throw new Error("Unsupported ZIP encryption");for(var We=pe.read_shift(4),it=pe.read_shift(4),et=pe.read_shift(4),Ct=pe.read_shift(2),Mt=pe.read_shift(2),Gt="",Se=0;Se<Ct;++Se)Gt+=String.fromCharCode(pe[pe.l++]);if(Mt){var Fe=l(pe.slice(pe.l,pe.l+Mt));(Fe[21589]||{}).mt&&(tt=Fe[21589].mt),(Fe[1]||{}).usz&&(et=Fe[1].usz),(Fe[1]||{}).csz&&(it=Fe[1].csz),Ae&&((Ae[21589]||{}).mt&&(tt=Ae[21589].mt),(Ae[1]||{}).usz&&(et=Ae[1].usz),(Ae[1]||{}).csz&&(it=Ae[1].csz))}pe.l+=Mt;var ct=pe.slice(pe.l,pe.l+it);switch(He){case 8:ct=K(pe,et);break;case 0:pe.l+=it;break;default:throw new Error("Unsupported ZIP Compression method "+He)}var wt=!1;Te&8&&(We=pe.read_shift(4),We==134695760&&(We=pe.read_shift(4),wt=!0),it=pe.read_shift(4),et=pe.read_shift(4)),it!=Ce&&ur(wt,"Bad compressed size: "+Ce+" != "+it),et!=be&&ur(wt,"Bad uncompressed size: "+be+" != "+et),sr(Ee,Gt,ct,{unsafe:!0,mt:tt})}function br(pe,Ce){var be=Ce||{},Ee=[],Ae=[],Te=dt(1),He=be.compression?8:0,tt=0,We=0,it=0,et=0,Ct=0,Mt=pe.FullPaths[0],Gt=Mt,Se=pe.FileIndex[0],Fe=[],ct=0;for(We=1;We<pe.FullPaths.length;++We)if(Gt=pe.FullPaths[We].slice(Mt.length),Se=pe.FileIndex[We],!(!Se.size||!Se.content||Array.isArray(Se.content)&&Se.content.length==0||Gt=="Sh33tJ5")){var wt=et,Wt=dt(Gt.length);for(it=0;it<Gt.length;++it)Wt.write_shift(1,Gt.charCodeAt(it)&127);Wt=Wt.slice(0,Wt.l),Fe[Ct]=typeof Se.content=="string"?gI.bstr(Se.content,0):gI.buf(Se.content,0);var It=typeof Se.content=="string"?ko(Se.content):Se.content;He==8&&(It=Z(It)),Te=dt(30),Te.write_shift(4,67324752),Te.write_shift(2,20),Te.write_shift(2,tt),Te.write_shift(2,He),Se.mt?a(Te,Se.mt):Te.write_shift(4,0),Te.write_shift(-4,Fe[Ct]),Te.write_shift(4,It.length),Te.write_shift(4,Se.content.length),Te.write_shift(2,Wt.length),Te.write_shift(2,0),et+=Te.length,Ee.push(Te),et+=Wt.length,Ee.push(Wt),et+=It.length,Ee.push(It),Te=dt(46),Te.write_shift(4,33639248),Te.write_shift(2,0),Te.write_shift(2,20),Te.write_shift(2,tt),Te.write_shift(2,He),Te.write_shift(4,0),Te.write_shift(-4,Fe[Ct]),Te.write_shift(4,It.length),Te.write_shift(4,Se.content.length),Te.write_shift(2,Wt.length),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(4,0),Te.write_shift(4,wt),ct+=Te.l,Ae.push(Te),ct+=Wt.length,Ae.push(Wt),++Ct}return Te=dt(22),Te.write_shift(4,101010256),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,Ct),Te.write_shift(2,Ct),Te.write_shift(4,ct),Te.write_shift(4,et),Te.write_shift(2,0),zi([zi(Ee),zi(Ae),Te])}var er={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Zt(pe,Ce){if(pe.ctype)return pe.ctype;var be=pe.name||"",Ee=be.match(/\.([^\.]+)$/);return Ee&&er[Ee[1]]||Ce&&(Ee=(be=Ce).match(/[\.\\]([^\.\\])+$/),Ee&&er[Ee[1]])?er[Ee[1]]:"application/octet-stream"}function ar(pe){for(var Ce=Kb(pe),be=[],Ee=0;Ee<Ce.length;Ee+=76)be.push(Ce.slice(Ee,Ee+76));return be.join(`\r
`)+`\r
`}function fr(pe){var Ce=pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(it){var et=it.charCodeAt(0).toString(16).toUpperCase();return"="+(et.length==1?"0"+et:et)});Ce=Ce.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ce.charAt(0)==`
`&&(Ce="=0D"+Ce.slice(1)),Ce=Ce.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var be=[],Ee=Ce.split(`\r
`),Ae=0;Ae<Ee.length;++Ae){var Te=Ee[Ae];if(Te.length==0){be.push("");continue}for(var He=0;He<Te.length;){var tt=76,We=Te.slice(He,He+tt);We.charAt(tt-1)=="="?tt--:We.charAt(tt-2)=="="?tt-=2:We.charAt(tt-3)=="="&&(tt-=3),We=Te.slice(He,He+tt),He+=tt,He<Te.length&&(We+="="),be.push(We)}}return be.join(`\r
`)}function Sr(pe){for(var Ce=[],be=0;be<pe.length;++be){for(var Ee=pe[be];be<=pe.length&&Ee.charAt(Ee.length-1)=="=";)Ee=Ee.slice(0,Ee.length-1)+pe[++be];Ce.push(Ee)}for(var Ae=0;Ae<Ce.length;++Ae)Ce[Ae]=Ce[Ae].replace(/[=][0-9A-Fa-f]{2}/g,function(Te){return String.fromCharCode(parseInt(Te.slice(1),16))});return ko(Ce.join(`\r
`))}function Ur(pe,Ce,be){for(var Ee="",Ae="",Te="",He,tt=0;tt<10;++tt){var We=Ce[tt];if(!We||We.match(/^\s*$/))break;var it=We.match(/^([^:]*?):\s*([^\s].*)$/);if(it)switch(it[1].toLowerCase()){case"content-location":Ee=it[2].trim();break;case"content-type":Te=it[2].trim();break;case"content-transfer-encoding":Ae=it[2].trim();break}}switch(++tt,Ae.toLowerCase()){case"base64":He=ko(Jf(Ce.slice(tt).join("")));break;case"quoted-printable":He=Sr(Ce.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ae)}var et=sr(pe,Ee.slice(be.length),He,{unsafe:!0});Te&&(et.ctype=Te)}function dr(pe,Ce){if(T(pe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var be=Ce&&Ce.root||"",Ee=(Sn&&Buffer.isBuffer(pe)?pe.toString("binary"):T(pe)).split(`\r
`),Ae=0,Te="";for(Ae=0;Ae<Ee.length;++Ae)if(Te=Ee[Ae],!!/^Content-Location:/i.test(Te)&&(Te=Te.slice(Te.indexOf("file")),be||(be=Te.slice(0,Te.lastIndexOf("/")+1)),Te.slice(0,be.length)!=be))for(;be.length>0&&(be=be.slice(0,be.length-1),be=be.slice(0,be.lastIndexOf("/")+1),Te.slice(0,be.length)!=be););var He=(Ee[1]||"").match(/boundary="(.*?)"/);if(!He)throw new Error("MAD cannot find boundary");var tt="--"+(He[1]||""),We=[],it=[],et={FileIndex:We,FullPaths:it};M(et);var Ct,Mt=0;for(Ae=0;Ae<Ee.length;++Ae){var Gt=Ee[Ae];Gt!==tt&&Gt!==tt+"--"||(Mt++&&Ur(et,Ee.slice(Ct,Ae),be),Ct=Ae)}return et}function Vt(pe,Ce){var be=Ce||{},Ee=be.boundary||"SheetJS";Ee="------="+Ee;for(var Ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ee.slice(2)+'"',"","",""],Te=pe.FullPaths[0],He=Te,tt=pe.FileIndex[0],We=1;We<pe.FullPaths.length;++We)if(He=pe.FullPaths[We].slice(Te.length),tt=pe.FileIndex[We],!(!tt.size||!tt.content||He=="Sh33tJ5")){He=He.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ct){return"_x"+ct.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ct){return"_u"+ct.charCodeAt(0).toString(16)+"_"});for(var it=tt.content,et=Sn&&Buffer.isBuffer(it)?it.toString("binary"):T(it),Ct=0,Mt=Math.min(1024,et.length),Gt=0,Se=0;Se<=Mt;++Se)(Gt=et.charCodeAt(Se))>=32&&Gt<128&&++Ct;var Fe=Ct>=Mt*4/5;Ae.push(Ee),Ae.push("Content-Location: "+(be.root||"file:///C:/SheetJS/")+He),Ae.push("Content-Transfer-Encoding: "+(Fe?"quoted-printable":"base64")),Ae.push("Content-Type: "+Zt(tt,He)),Ae.push(""),Ae.push(Fe?fr(et):ar(et))}return Ae.push(Ee+`--\r
`),Ae.join(`\r
`)}function Dr(pe){var Ce={};return M(Ce,pe),Ce}function sr(pe,Ce,be,Ee){var Ae=Ee&&Ee.unsafe;Ae||M(pe);var Te=!Ae&&Gn.find(pe,Ce);if(!Te){var He=pe.FullPaths[0];Ce.slice(0,He.length)==He?He=Ce:(He.slice(-1)!="/"&&(He+="/"),He=(He+Ce).replace("//","/")),Te={name:i(Ce),type:2},pe.FileIndex.push(Te),pe.FullPaths.push(He),Ae||Gn.utils.cfb_gc(pe)}return Te.content=be,Te.size=be?be.length:0,Ee&&(Ee.CLSID&&(Te.clsid=Ee.CLSID),Ee.mt&&(Te.mt=Ee.mt),Ee.ct&&(Te.ct=Ee.ct)),Te}function ze(pe,Ce){M(pe);var be=Gn.find(pe,Ce);if(be){for(var Ee=0;Ee<pe.FileIndex.length;++Ee)if(pe.FileIndex[Ee]==be)return pe.FileIndex.splice(Ee,1),pe.FullPaths.splice(Ee,1),!0}return!1}function Ze(pe,Ce,be){M(pe);var Ee=Gn.find(pe,Ce);if(Ee){for(var Ae=0;Ae<pe.FileIndex.length;++Ae)if(pe.FileIndex[Ae]==Ee)return pe.FileIndex[Ae].name=i(be),pe.FullPaths[Ae]=be,!0}return!1}function mt(pe){F(pe,!0)}return t.find=z,t.read=P,t.parse=u,t.write=R,t.writeFile=E,t.utils={cfb_new:Dr,cfb_add:sr,cfb_del:ze,cfb_mov:Ze,cfb_gc:mt,ReadShift:ag,CheckField:L$,prep_blob:Cs,bconcat:zi,use_zlib:B,_deflateRaw:gt,_inflateRaw:Lt,consts:j},t}(),s0e;function yI(r){return typeof r=="string"?t2(r):Array.isArray(r)?Phe(r):r}function A1(r,t,e){if(typeof Deno<"u"){if(e&&typeof t=="string")switch(e){case"utf8":t=new TextEncoder(e).encode(t);break;case"binary":t=t2(t);break;default:throw new Error("Unsupported encoding "+e)}return Deno.writeFileSync(r,t)}var n=e=="utf8"?a1(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var i=new Blob([yI(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,r);if(typeof saveAs<"u")return saveAs(i,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:r,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=r,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}else if(typeof URL<"u"&&!URL.createObjectURL&&typeof chrome=="object"){var l="data:application/octet-stream;base64,"+Ohe(new Uint8Array(yI(n)));return chrome.downloads.download({url:l,filename:r,saveAs:!0})}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(r);return c.open("w"),c.encoding="binary",Array.isArray(t)&&(t=wh(t)),c.write(t),c.close(),t}catch(o){if(!o.message||o.message.indexOf("onstruct")==-1)throw o}throw new Error("cannot save file "+r)}function Hi(r){for(var t=Object.keys(r),e=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(r,t[n])&&e.push(t[n]);return e}function vI(r,t){for(var e=[],n=Hi(r),i=0;i!==n.length;++i)e[r[n[i]][t]]==null&&(e[r[n[i]][t]]=n[i]);return e}function Hk(r){for(var t=[],e=Hi(r),n=0;n!==e.length;++n)t[r[e[n]]]=e[n];return t}function i2(r){for(var t=[],e=Hi(r),n=0;n!==e.length;++n)t[r[e[n]]]=parseInt(e[n],10);return t}function o0e(r){for(var t=[],e=Hi(r),n=0;n!==e.length;++n)t[r[e[n]]]==null&&(t[r[e[n]]]=[]),t[r[e[n]]].push(e[n]);return t}var w$=Date.UTC(1899,11,30,0,0,0),l0e=Date.UTC(1899,11,31,0,0,0),c0e=Date.UTC(1904,0,1,0,0,0);function za(r,t){var e=r.getTime(),n=(e-w$)/(24*60*60*1e3);return t?(n-=1462,n<-1402?n-1:n):n<60?n-1:n}function V0(r){if(r>=60&&r<61)return r;var t=new Date;return t.setTime((r>60?r:r+1)*24*60*60*1e3+w$),t}var u0e=/^(\d+):(\d+)(:\d+)?(\.\d+)?$/,f0e=/^(\d+)-(\d+)-(\d+)$/,_$=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)?(\.\d+)?$/;function eo(r,t){if(r instanceof Date)return r;var e=r.match(u0e);if(e)return new Date((t?c0e:l0e)+((parseInt(e[1],10)*60+parseInt(e[2],10))*60+(e[3]?parseInt(e[3].slice(1),10):0))*1e3+(e[4]?parseInt((e[4]+"000").slice(1,4),10):0));if(e=r.match(f0e),e)return new Date(Date.UTC(+e[1],+e[2]-1,+e[3],0,0,0,0));if(e=r.match(_$),e)return new Date(Date.UTC(+e[1],+e[2]-1,+e[3],+e[4],+e[5],e[6]&&parseInt(e[6].slice(1),10)||0,e[7]&&parseInt((e[7]+"0000").slice(1,4),10)||0));var n=new Date(r);return n}function Wk(r,t){if(Sn&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var e={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(a){return e[a]||a})}catch{}var n=[],i=0;try{for(i=0;i<r.length-65536;i+=65536)n.push(String.fromCharCode.apply(0,r.slice(i,i+65536)));n.push(String.fromCharCode.apply(0,r.slice(i)))}catch{try{for(;i<r.length-16384;i+=16384)n.push(String.fromCharCode.apply(0,r.slice(i,i+16384)));n.push(String.fromCharCode.apply(0,r.slice(i)))}catch{for(;i!=r.length;++i)n.push(String.fromCharCode(r[i]))}}return n.join("")}function ys(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=ys(r[e]));return t}function pi(r,t){for(var e="";e.length<t;)e+=r;return e}function Su(r){var t=Number(r);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(r))return t;var e=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(]([^()]*)[)]/,function(i,a){return e=-e,a}),!isNaN(t=Number(n)))?t/e:t}var d0e=/^(0?\d|1[0-2])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))\s+([ap])m?$/,h0e=/^([01]?\d|2[0-3])(?:|:([0-5]?\d)(?:|(\.\d+)(?:|:([0-5]?\d))|:([0-5]?\d)(|\.\d+)))$/,p0e=/^(\d+)-(\d+)-(\d+)[T ](\d+):(\d+)(:\d+)(\.\d+)?[Z]?$/,m0e=new Date("6/9/69 00:00 UTC").valueOf()==-177984e5;function g0e(r){return r[2]?r[3]?r[4]?new Date(Date.UTC(1899,11,31,+r[1]%12+(r[7]=="p"?12:0),+r[2],+r[4],parseFloat(r[3])*1e3)):new Date(Date.UTC(1899,11,31,r[7]=="p"?12:0,+r[1],+r[2],parseFloat(r[3])*1e3)):r[5]?new Date(Date.UTC(1899,11,31,+r[1]%12+(r[7]=="p"?12:0),+r[2],+r[5],r[6]?parseFloat(r[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+r[1]%12+(r[7]=="p"?12:0),+r[2],0,0)):new Date(Date.UTC(1899,11,31,+r[1]%12+(r[7]=="p"?12:0),0,0,0))}function y0e(r){return r[2]?r[3]?r[4]?new Date(Date.UTC(1899,11,31,+r[1],+r[2],+r[4],parseFloat(r[3])*1e3)):new Date(Date.UTC(1899,11,31,0,+r[1],+r[2],parseFloat(r[3])*1e3)):r[5]?new Date(Date.UTC(1899,11,31,+r[1],+r[2],+r[5],r[6]?parseFloat(r[6])*1e3:0)):new Date(Date.UTC(1899,11,31,+r[1],+r[2],0,0)):new Date(Date.UTC(1899,11,31,+r[1],0,0,0))}var v0e=["january","february","march","april","may","june","july","august","september","october","november","december"];function tx(r){if(p0e.test(r))return r.indexOf("Z")==-1?a2(new Date(r)):new Date(r);var t=r.toLowerCase(),e=t.replace(/\s+/g," ").trim(),n=e.match(d0e);if(n)return g0e(n);if(n=e.match(h0e),n)return y0e(n);if(n=e.match(_$),n)return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],n[6]&&parseInt(n[6].slice(1),10)||0,n[7]&&parseInt((n[7]+"0000").slice(1,4),10)||0));var i=new Date(m0e&&r.indexOf("UTC")==-1?r+" UTC":r),a=new Date(NaN),s=i.getYear();i.getMonth();var l=i.getDate();if(isNaN(l))return a;if(t.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(t=t.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),t.length>3&&v0e.indexOf(t)==-1)return a}else if(t.replace(/[ap]m?/,"").match(/[a-z]/))return a;return s<0||s>8099||r.match(/[^-0-9:,\/\\\ ]/)?a:i}function Np(r){return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds())}function a2(r){return new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()))}function Xr(r,t,e){if(r.FullPaths){if(Array.isArray(e)&&typeof e[0]=="string"&&(e=e.join("")),typeof e=="string"){var n;return Sn?n=Cc(e):n=Mhe(e),Gn.utils.cfb_add(r,t,n)}Gn.utils.cfb_add(r,t,e)}else r.file(t,e)}function Vk(){return Gn.utils.cfb_new()}var Gi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,b0e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Gk=Hk(b0e),Xk=/[&<>'"]/g,x0e=/[\u0000-\u0008\u000b-\u001f\uFFFE-\uFFFF]/g;function Kr(r){var t=r+"";return t.replace(Xk,function(e){return Gk[e]}).replace(x0e,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function bI(r){return Kr(r).replace(/ /g,"_x0020_")}var S$=/[\u0000-\u001f]/g;function o6(r){var t=r+"";return t.replace(Xk,function(e){return Gk[e]}).replace(/\n/g,"<br/>").replace(S$,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function w0e(r){var t=r+"";return t.replace(Xk,function(e){return Gk[e]}).replace(S$,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}function _0e(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function S0e(r){switch(r){case 1:case!0:case"1":case"true":return!0;case 0:case!1:case"0":case"false":return!1}return!1}function l6(r){for(var t="",e=0,n=0,i=0,a=0,s=0,l=0;e<r.length;){if(n=r.charCodeAt(e++),n<128){t+=String.fromCharCode(n);continue}if(i=r.charCodeAt(e++),n>191&&n<224){s=(n&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=r.charCodeAt(e++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=r.charCodeAt(e++),l=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function xI(r){var t=xh(2*r.length),e,n,i=1,a=0,s=0,l;for(n=0;n<r.length;n+=i)i=1,(l=r.charCodeAt(n))<128?e=l:l<224?(e=(l&31)*64+(r.charCodeAt(n+1)&63),i=2):l<240?(e=(l&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,e=(l&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),e-=65536,s=55296+(e>>>10&1023),e=56320+(e&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=e%256,t[a++]=e>>>8;return t.slice(0,a).toString("ucs2")}function wI(r){return Cc(r,"binary").toString("utf8")}var wv="foo bar baz",G0=Sn&&(wI(wv)==l6(wv)&&wI||xI(wv)==l6(wv)&&xI)||l6,a1=Sn?function(r){return Cc(r,"utf8").toString("binary")}:function(r){for(var t=[],e=0,n=0,i=0;e<r.length;)switch(n=r.charCodeAt(e++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(e++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},k0e=function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var n=e.replace(/^[\t\n\r ]+/,"").replace(/(^|[^\t\n\r ])[\t\n\r ]+$/,"$1").replace(/>\s+/g,">").replace(/\b\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^<>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}}(),k$=/(^\s|\s$|\n)/;function Da(r,t){return"<"+r+(t.match(k$)?' xml:space="preserve"':"")+">"+t+"</"+r+">"}function s1(r){return Hi(r).map(function(t){return" "+t+'="'+r[t]+'"'}).join("")}function Xt(r,t,e){return"<"+r+(e!=null?s1(e):"")+(t!=null?(t.match(k$)?' xml:space="preserve"':"")+">"+t+"</"+r:"/")+">"}function u8(r,t){try{return r.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}return""}function N0e(r,t){switch(typeof r){case"string":var e=Xt("vt:lpwstr",Kr(r));return e=e.replace(/&quot;/g,"_x0022_"),e;case"number":return Xt((r|0)==r?"vt:i4":"vt:r8",Kr(String(r)));case"boolean":return Xt("vt:bool",r?"true":"false")}if(r instanceof Date)return Xt("vt:filetime",u8(r));throw new Error("Unable to serialize "+r)}var _a={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Bp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],No={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function E0e(r,t){for(var e=1-2*(r[t+7]>>>7),n=((r[t+7]&127)<<4)+(r[t+6]>>>4&15),i=r[t+6]&15,a=5;a>=0;--a)i=i*256+r[t+a];return n==2047?i==0?e*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),e*Math.pow(2,n-52)*i)}function j0e(r,t,e){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=n?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var l=0;l<=5;++l,a/=256)r[e+l]=a&255;r[e+6]=(i&15)<<4|a&15,r[e+7]=i>>4|n}var _I=function(r){for(var t=[],e=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,a=r[0][n].length;i<a;i+=e)t.push.apply(t,r[0][n].slice(i,i+e));return t},SI=Sn?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(t){return Buffer.isBuffer(t)?t:Cc(t)})):_I(r)}:_I,kI=function(r,t,e){for(var n=[],i=t;i<e;i+=2)n.push(String.fromCharCode(Wm(r,i)));return n.join("").replace(ig,"")},Kk=Sn?function(r,t,e){return!Buffer.isBuffer(r)||!Yb?kI(r,t,e):r.toString("utf16le",t,e).replace(ig,"")}:kI,NI=function(r,t,e){for(var n=[],i=t;i<t+e;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},N$=Sn?function(r,t,e){return Buffer.isBuffer(r)?r.toString("hex",t,t+e):NI(r,t,e)}:NI,EI=function(r,t,e){for(var n=[],i=t;i<e;i++)n.push(String.fromCharCode(A0(r,i)));return n.join("")},T1=Sn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf8",e,n):EI(t,e,n)}:EI,E$=function(r,t){var e=Eo(r,t);return e>0?T1(r,t+4,t+4+e-1):""},j$=E$,A$=function(r,t){var e=Eo(r,t);return e>0?T1(r,t+4,t+4+e-1):""},T$=A$,C$=function(r,t){var e=2*Eo(r,t);return e>0?T1(r,t+4,t+4+e-1):""},O$=C$,P$=function(t,e){var n=Eo(t,e);return n>0?Kk(t,e+4,e+4+n):""},M$=P$,I$=function(r,t){var e=Eo(r,t);return e>0?T1(r,t+4,t+4+e):""},R$=I$,F$=function(r,t){return E0e(r,t)},rx=F$,Yk=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Sn&&(j$=function(t,e){if(!Buffer.isBuffer(t))return E$(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},T$=function(t,e){if(!Buffer.isBuffer(t))return A$(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},O$=function(t,e){if(!Buffer.isBuffer(t)||!Yb)return C$(t,e);var n=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n-1)},M$=function(t,e){if(!Buffer.isBuffer(t)||!Yb)return P$(t,e);var n=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n)},R$=function(t,e){if(!Buffer.isBuffer(t))return I$(t,e);var n=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+n)},rx=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):F$(t,e)},Yk=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var A0=function(r,t){return r[t]},Wm=function(r,t){return r[t+1]*256+r[t]},A0e=function(r,t){var e=r[t+1]*256+r[t];return e<32768?e:(65535-e+1)*-1},Eo=function(r,t){return r[t+3]*(1<<24)+(r[t+2]<<16)+(r[t+1]<<8)+r[t]},nh=function(r,t){return r[t+3]<<24|r[t+2]<<16|r[t+1]<<8|r[t]},T0e=function(r,t){return r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]};function ag(r,t){var e="",n,i,a=[],s,l,c,o;switch(t){case"dbcs":if(o=this.l,Sn&&Buffer.isBuffer(this)&&Yb)e=this.slice(this.l,this.l+2*r).toString("utf16le");else for(c=0;c<r;++c)e+=String.fromCharCode(Wm(this,o)),o+=2;r*=2;break;case"utf8":e=T1(this,this.l,this.l+r);break;case"utf16le":r*=2,e=Kk(this,this.l,this.l+r);break;case"wstr":return ag.call(this,r,"dbcs");case"lpstr-ansi":e=j$(this,this.l),r=4+Eo(this,this.l);break;case"lpstr-cp":e=T$(this,this.l),r=4+Eo(this,this.l);break;case"lpwstr":e=O$(this,this.l),r=4+2*Eo(this,this.l);break;case"lpp4":r=4+Eo(this,this.l),e=M$(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Eo(this,this.l),e=R$(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,e="";(s=A0(this,this.l+r++))!==0;)a.push(bv(s));e=a.join("");break;case"_wstr":for(r=0,e="";(s=Wm(this,this.l+r))!==0;)a.push(bv(s)),r+=2;r+=2,e=a.join("");break;case"dbcs-cont":for(e="",o=this.l,c=0;c<r;++c){if(this.lens&&this.lens.indexOf(o)!==-1)return s=A0(this,o),this.l=o+1,l=ag.call(this,r-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(bv(Wm(this,o))),o+=2}e=a.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(e="",o=this.l,c=0;c!=r;++c){if(this.lens&&this.lens.indexOf(o)!==-1)return s=A0(this,o),this.l=o+1,l=ag.call(this,r-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(bv(A0(this,o))),o+=1}e=a.join("");break;default:switch(r){case 1:return n=A0(this,this.l),this.l++,n;case 2:return n=(t==="i"?A0e:Wm)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(r>0?nh:T0e)(this,this.l),this.l+=4,n):(i=Eo(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return r==8?i=rx(this,this.l):i=rx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:e=N$(this,this.l,r);break}}return this.l+=r,e}var C0e=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24&255},O0e=function(r,t,e){r[e]=t&255,r[e+1]=t>>8&255,r[e+2]=t>>16&255,r[e+3]=t>>24&255},P0e=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255};function M0e(r,t,e){var n=0,i=0;if(e==="dbcs"){for(i=0;i!=t.length;++i)P0e(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(e==="sbcs"||e=="cpstr"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(e==="hex"){for(;i<r;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(e==="utf16le"){var a=Math.min(this.l+r,this.length);for(i=0;i<Math.min(t.length,r);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,C0e(this,t,this.l);break;case 8:if(n=8,e==="f"){j0e(this,t,this.l);break}case 16:break;case-4:n=4,O0e(this,t,this.l);break}return this.l+=n,this}function L$(r,t){var e=N$(this,this.l,r.length>>1);if(e!==r)throw new Error(t+"Expected "+r+" saw "+e);this.l+=r.length>>1}function Cs(r,t){r.l=t,r.read_shift=ag,r.chk=L$,r.write_shift=M0e}function Ec(r,t){r.l+=t}function dt(r){var t=xh(r);return Cs(t,0),t}function ms(){var r=[],t=Sn?16384:2048;Sn&&dt(t).copy;var e=function(u){var d=dt(u);return Cs(d,0),d},n=e(t),i=function(){n&&(n.l&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n)),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=e(Math.max(u+1,t)))},s=function(){return i(),zi(r)},l=function(){return i(),r},c=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:c,end:s,_bufs:r,end2:l}}function Ot(r,t,e,n){var i=+t,a;if(!isNaN(i)){n||(n=$ve[i].p||(e||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=r.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var l=0;l!=4;++l)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&Yk(e)&&r.push(e)}}function sg(r,t,e){var n=ys(r);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!e||e.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function jI(r,t,e){var n=ys(r);return n.s=sg(n.s,t.s,e),n.e=sg(n.e,t.s,e),n}function og(r,t){if(r.cRel&&r.c<0)for(r=ys(r);r.c<0;)r.c+=t>8?16384:256;if(r.rRel&&r.r<0)for(r=ys(r);r.r<0;)r.r+=t>8?1048576:t>5?65536:16384;var e=_i(r);return!r.cRel&&r.cRel!=null&&(e=F0e(e)),!r.rRel&&r.rRel!=null&&(e=I0e(e)),e}function c6(r,t){return r.s.r==0&&!r.s.rRel&&r.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+Fn(r.s.c)+":"+(r.e.cRel?"":"$")+Fn(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(t.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+zn(r.s.r)+":"+(r.e.rRel?"":"$")+zn(r.e.r):og(r.s,t.biff)+":"+og(r.e,t.biff)}function Jk(r){return parseInt(R0e(r),10)-1}function zn(r){return""+(r+1)}function I0e(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function R0e(r){return r.replace(/\$(\d+)$/,"$1")}function Zk(r){for(var t=L0e(r),e=0,n=0;n!==t.length;++n)e=26*e+t.charCodeAt(n)-64;return e-1}function Fn(r){if(r<0)throw new Error("invalid column "+r);var t="";for(++r;r;r=Math.floor((r-1)/26))t=String.fromCharCode((r-1)%26+65)+t;return t}function F0e(r){return r.replace(/^([A-Z])/,"$$$1")}function L0e(r){return r.replace(/^\$([A-Z])/,"$1")}function D0e(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function gi(r){for(var t=0,e=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(e=26*e+(i-64))}return{c:e-1,r:t-1}}function _i(r){for(var t=r.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(r.r+1)}function Ua(r){var t=r.indexOf(":");return t==-1?{s:gi(r),e:gi(r)}:{s:gi(r.slice(0,t)),e:gi(r.slice(t+1))}}function Wi(r,t){return typeof t>"u"||typeof t=="number"?Wi(r.s,r.e):(typeof r!="string"&&(r=_i(r)),typeof t!="string"&&(t=_i(t)),r==t?r:r+":"+t)}function o1(r){var t=Ua(r);return"$"+Fn(t.s.c)+"$"+zn(t.s.r)+":$"+Fn(t.e.c)+"$"+zn(t.e.r)}function l1(r,t){if(!r&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r.replace(/'/g,"''")+"'":r}function oi(r){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,n=0,i=0,a=r.length;for(e=0;n<a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)e=26*e+i;for(t.s.c=--e,e=0;n<a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)e=10*e+i;if(t.s.r=--e,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,e=0;n!=a&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)e=26*e+i;for(t.e.c=--e,e=0;n!=a&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)e=10*e+i;return t.e.r=--e,t}function AI(r,t){var e=r.t=="d"&&t instanceof Date;if(r.z!=null)try{return r.w=Pu(r.z,e?za(t):t)}catch{}try{return r.w=Pu((r.XF||{}).numFmtId||(e?14:0),e?za(t):t)}catch{return""+t}}function Mu(r,t,e){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&e&&e.dateNF&&(r.z=e.dateNF),r.t=="e"?Ms[r.v]||r.v:t==null?AI(r,r.v):AI(r,t))}function $p(r,t){var e=t&&t.sheet?t.sheet:"Sheet1",n={};return n[e]=r,{SheetNames:[e],Sheets:n}}function B0e(r){var t={},e=r||{};return e.dense&&(t["!data"]=[]),t}function D$(r,t,e){var n=e||{},i=r?r["!data"]!=null:n.dense,a=r||(i?{"!data":[]}:{});i&&!a["!data"]&&(a["!data"]=[]);var s=0,l=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?gi(n.origin):n.origin;s=c.r,l=c.c}var o={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=oi(a["!ref"]);o.s.c=u.s.c,o.s.r=u.s.r,o.e.c=Math.max(o.e.c,u.e.c),o.e.r=Math.max(o.e.r,u.e.r),s==-1&&(o.e.r=s=a["!ref"]?u.e.r+1:0)}else o.s.c=o.e.c=o.s.r=o.e.r=0;for(var d=[],f=!1,h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");var y=s+h;i&&(a["!data"][y]||(a["!data"][y]=[]),d=a["!data"][y]);for(var m=t[h],g=0;g!=m.length;++g)if(!(typeof m[g]>"u")){var v={v:m[g],t:""},b=l+g;if(o.s.r>y&&(o.s.r=y),o.s.c>b&&(o.s.c=b),o.e.r<y&&(o.e.r=y),o.e.c<b&&(o.e.c=b),f=!0,m[g]&&typeof m[g]=="object"&&!Array.isArray(m[g])&&!(m[g]instanceof Date))v=m[g];else if(Array.isArray(v.v)&&(v.f=m[g][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?isFinite(v.v)?v.t="n":isNaN(v.v)?(v.t="e",v.v=15):(v.t="e",v.v=7):typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||si[14],n.UTC||(v.v=a2(v.v)),n.cellDates?(v.t="d",v.w=Pu(v.z,za(v.v,n.date1904))):(v.t="n",v.v=za(v.v,n.date1904),v.w=Pu(v.z,v.v))):v.t="s";if(i)d[b]&&d[b].z&&(v.z=d[b].z),d[b]=v;else{var w=Fn(b)+(y+1);a[w]&&a[w].z&&(v.z=a[w].z),a[w]=v}}}return f&&o.s.c<104e5&&(a["!ref"]=Wi(o)),a}function Up(r,t){return D$(null,r,t)}function $0e(r){return r.read_shift(4,"i")}function Ul(r,t){return t||(t=dt(4)),t.write_shift(4,r),t}function gs(r){var t=r.read_shift(4);return t===0?"":r.read_shift(t,"dbcs")}function na(r,t){var e=!1;return t==null&&(e=!0,t=dt(4+2*r.length)),t.write_shift(4,r.length),r.length>0&&t.write_shift(0,r,"dbcs"),e?t.slice(0,t.l):t}function U0e(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function z0e(r,t){return t||(t=dt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Qk(r,t){var e=r.l,n=r.read_shift(1),i=gs(r),a=[],s={t:i,h:i};if((n&1)!==0){for(var l=r.read_shift(4),c=0;c!=l;++c)a.push(U0e(r));s.r=a}else s.r=[{ich:0,ifnt:0}];return r.l=e+t,s}function q0e(r,t){var e=!1;return t==null&&(e=!0,t=dt(15+4*r.t.length)),t.write_shift(1,0),na(r.t,t),e?t.slice(0,t.l):t}var H0e=Qk;function W0e(r,t){var e=!1;return t==null&&(e=!0,t=dt(23+4*r.t.length)),t.write_shift(1,1),na(r.t,t),t.write_shift(4,1),z0e({},t),e?t.slice(0,t.l):t}function sl(r){var t=r.read_shift(4),e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:t,iStyleRef:e}}function Ih(r,t){return t==null&&(t=dt(8)),t.write_shift(-4,r.c),t.write_shift(3,r.iStyleRef||r.s),t.write_shift(1,0),t}function Rh(r){var t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:t}}function Fh(r,t){return t==null&&(t=dt(4)),t.write_shift(3,r.iStyleRef||r.s),t.write_shift(1,0),t}var V0e=gs,B$=na;function s2(r){var t=r.read_shift(4);return t===0||t===4294967295?"":r.read_shift(t,"dbcs")}function c1(r,t){var e=!1;return t==null&&(e=!0,t=dt(127)),t.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&t.write_shift(0,r,"dbcs"),e?t.slice(0,t.l):t}var G0e=gs,f8=s2,eN=c1;function tN(r){var t=r.slice(r.l,r.l+4),e=t[0]&1,n=t[0]&2;r.l+=4;var i=n===0?rx([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):nh(t,0)>>2;return e?i/100:i}function $$(r,t){t==null&&(t=dt(4));var e=0,n=0,i=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,e=1),n)t.write_shift(-4,((e?i:r)<<2)+(e+2));else throw new Error("unsupported RkNumber "+r)}function U$(r){var t={s:{},e:{}};return t.s.r=r.read_shift(4),t.e.r=r.read_shift(4),t.s.c=r.read_shift(4),t.e.c=r.read_shift(4),t}function X0e(r,t){return t||(t=dt(16)),t.write_shift(4,r.s.r),t.write_shift(4,r.e.r),t.write_shift(4,r.s.c),t.write_shift(4,r.e.c),t}var Lh=U$,zp=X0e;function qp(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function Sh(r,t){return(t||dt(8)).write_shift(8,r,"f")}function K0e(r){var t={},e=r.read_shift(1),n=e>>>1,i=r.read_shift(1),a=r.read_shift(2,"i"),s=r.read_shift(1),l=r.read_shift(1),c=r.read_shift(1);switch(r.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var o=ipe[i];o&&(t.rgb=$I(o));break;case 2:t.rgb=$I([s,l,c]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function nx(r,t){if(t||(t=dt(8)),!r||r.auto)return t.write_shift(4,0),t.write_shift(4,0),t;r.index!=null?(t.write_shift(1,2),t.write_shift(1,r.index)):r.theme!=null?(t.write_shift(1,6),t.write_shift(1,r.theme)):(t.write_shift(1,5),t.write_shift(1,0));var e=r.tint||0;if(e>0?e*=32767:e<0&&(e*=32768),t.write_shift(2,e),!r.rgb||r.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Y0e(r){var t=r.read_shift(1);r.l++;var e={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return e}function J0e(r,t){t||(t=dt(2));var e=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return t.write_shift(1,e),t.write_shift(1,0),t}var z$=2,wo=3,_v=11,ix=19,Sv=64,Z0e=65,Q0e=71,epe=4108,tpe=4126,La=80,TI={1:{n:"CodePage",t:z$},2:{n:"Category",t:La},3:{n:"PresentationFormat",t:La},4:{n:"ByteCount",t:wo},5:{n:"LineCount",t:wo},6:{n:"ParagraphCount",t:wo},7:{n:"SlideCount",t:wo},8:{n:"NoteCount",t:wo},9:{n:"HiddenCount",t:wo},10:{n:"MultimediaClipCount",t:wo},11:{n:"ScaleCrop",t:_v},12:{n:"HeadingPairs",t:epe},13:{n:"TitlesOfParts",t:tpe},14:{n:"Manager",t:La},15:{n:"Company",t:La},16:{n:"LinksUpToDate",t:_v},17:{n:"CharacterCount",t:wo},19:{n:"SharedDoc",t:_v},22:{n:"HyperlinksChanged",t:_v},23:{n:"AppVersion",t:wo,p:"version"},24:{n:"DigSig",t:Z0e},26:{n:"ContentType",t:La},27:{n:"ContentStatus",t:La},28:{n:"Language",t:La},29:{n:"Version",t:La},255:{},2147483648:{n:"Locale",t:ix},2147483651:{n:"Behavior",t:ix},1919054434:{}},CI={1:{n:"CodePage",t:z$},2:{n:"Title",t:La},3:{n:"Subject",t:La},4:{n:"Author",t:La},5:{n:"Keywords",t:La},6:{n:"Comments",t:La},7:{n:"Template",t:La},8:{n:"LastAuthor",t:La},9:{n:"RevNumber",t:La},10:{n:"EditTime",t:Sv},11:{n:"LastPrinted",t:Sv},12:{n:"CreatedDate",t:Sv},13:{n:"ModifiedDate",t:Sv},14:{n:"PageCount",t:wo},15:{n:"WordCount",t:wo},16:{n:"CharCount",t:wo},17:{n:"Thumbnail",t:Q0e},18:{n:"Application",t:La},19:{n:"DocSecurity",t:wo},255:{},2147483648:{n:"Locale",t:ix},2147483651:{n:"Behavior",t:ix},1919054434:{}};function rpe(r){return r.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var npe=rpe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,0,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ipe=ys(npe),Ms={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},vc={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ape=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"],spe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},kv={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function q$(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function H$(r,t,e){var n=o0e(spe),i=[],a;i[i.length]=Gi,i[i.length]=Xt("Types",null,{xmlns:_a.CT,"xmlns:xsd":_a.xsd,"xmlns:xsi":_a.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(o){return Xt("Default",null,{Extension:o[0],ContentType:o[1]})}));var s=function(o){r[o]&&r[o].length>0&&(a=r[o][0],i[i.length]=Xt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:kv[o][t.bookType]||kv[o].xlsx}))},l=function(o){(r[o]||[]).forEach(function(u){i[i.length]=Xt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:kv[o][t.bookType]||kv[o].xlsx})})},c=function(o){(r[o]||[]).forEach(function(u){i[i.length]=Xt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:n[o][0]})})};return s("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var cn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function W$(r){var t=r.lastIndexOf("/");return r.slice(0,t+1)+"_rels/"+r.slice(t+1)+".rels"}function X0(r){var t=[Gi,Xt("Relationships",null,{xmlns:_a.RELS})];return Hi(r["!id"]).forEach(function(e){t[t.length]=Xt("Relationship",null,r["!id"][e])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function _n(r,t,e,n,i,a){if(i||(i={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),t<0)for(t=r["!idx"];r["!id"]["rId"+t];++t);if(r["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=e,[cn.HLINK,cn.XPATH,cn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),r["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return r["!id"][i.Id]=i,r[("/"+i.Target).replace("//","/")]=i,t}function ope(r){var t=[Gi];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var e=0;e<r.length;++e)t.push('  <manifest:file-entry manifest:full-path="'+r[e][0]+'" manifest:media-type="'+r[e][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function OI(r,t,e){return['  <rdf:Description rdf:about="'+r+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(e||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function lpe(r,t){return['  <rdf:Description rdf:about="'+r+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function cpe(r){var t=[Gi];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var e=0;e!=r.length;++e)t.push(OI(r[e][0],r[e][1])),t.push(lpe("",r[e][0]));return t.push(OI("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function V$(r,t){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Xb.version+"</meta:generator></office:meta></office:document-meta>"}var mh=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function u6(r,t,e,n,i){i[r]!=null||t==null||t===""||(i[r]=t,t=Kr(t),n[n.length]=e?Xt(r,t,e):Da(r,t))}function G$(r,t){var e=t||{},n=[Gi,Xt("cp:coreProperties",null,{"xmlns:cp":_a.CORE_PROPS,"xmlns:dc":_a.dc,"xmlns:dcterms":_a.dcterms,"xmlns:dcmitype":_a.dcmitype,"xmlns:xsi":_a.xsi})],i={};if(!r&&!e.Props)return n.join("");r&&(r.CreatedDate!=null&&u6("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:u8(r.CreatedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),r.ModifiedDate!=null&&u6("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:u8(r.ModifiedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=mh.length;++a){var s=mh[a],l=e.Props&&e.Props[s[1]]!=null?e.Props[s[1]]:r?r[s[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&u6(s[0],l,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var K0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],X$=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function K$(r){var t=[],e=Xt;return r||(r={}),r.Application="SheetJS",t[t.length]=Gi,t[t.length]=Xt("Properties",null,{xmlns:_a.EXT_PROPS,"xmlns:vt":_a.vt}),K0.forEach(function(n){if(r[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Kr(String(r[n[1]]));break;case"bool":i=r[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=e(n[0],i))}}),t[t.length]=e("HeadingPairs",e("vt:vector",e("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+e("vt:variant",e("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=e("TitlesOfParts",e("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+Kr(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function Y$(r){var t=[Gi,Xt("Properties",null,{xmlns:_a.CUST_PROPS,"xmlns:vt":_a.vt})];if(!r)return t.join("");var e=1;return Hi(r).forEach(function(i){++e,t[t.length]=Xt("property",N0e(r[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e,name:Kr(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var PI={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function upe(r,t){var e=[];return Hi(PI).map(function(n){for(var i=0;i<mh.length;++i)if(mh[i][1]==n)return mh[i];for(i=0;i<K0.length;++i)if(K0[i][1]==n)return K0[i];throw n}).forEach(function(n){if(r[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:r[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),e.push(Da(PI[n[1]]||n[1],i))}}),Xt("DocumentProperties",e.join(""),{xmlns:No.o})}function fpe(r,t){var e=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return r&&Hi(r).forEach(function(a){if(Object.prototype.hasOwnProperty.call(r,a)){for(var s=0;s<mh.length;++s)if(a==mh[s][1])return;for(s=0;s<K0.length;++s)if(a==K0[s][1])return;for(s=0;s<e.length;++s)if(a==e[s])return;var l=r[a],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),i.push(Xt(bI(a),l,{"dt:dt":c}))}}),t&&Hi(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(r&&Object.prototype.hasOwnProperty.call(r,a))){var s=t[a],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s instanceof Date?(l="dateTime.tz",s=s.toISOString()):s=String(s),i.push(Xt(bI(a),s,{"dt:dt":l}))}}),"<"+n+' xmlns="'+No.o+'">'+i.join("")+"</"+n+">"}function dpe(r){var t=typeof r=="string"?new Date(Date.parse(r)):r,e=t.getTime()/1e3+11644473600,n=e%Math.pow(2,32),i=(e-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=dt(8);return s.write_shift(4,n),s.write_shift(4,i),s}function MI(r,t){var e=dt(4),n=dt(4);switch(e.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,t);break;case 5:n=dt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=dpe(t);break;case 31:case 80:for(n=dt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+t)}return zi([e,n])}var J$=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function hpe(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function II(r,t,e){var n=dt(8),i=[],a=[],s=8,l=0,c=dt(8),o=dt(8);if(c.write_shift(4,2),c.write_shift(4,1200),o.write_shift(4,1),a.push(c),i.push(o),s+=8+c.length,!t){o=dt(8),o.write_shift(4,0),i.unshift(o);var u=[dt(4)];for(u[0].write_shift(4,r.length),l=0;l<r.length;++l){var d=r[l][0];for(c=dt(8+2*(d.length+1)+(d.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,d.length+1),c.write_shift(0,d,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=zi(u),a.unshift(c),s+=8+c.length}for(l=0;l<r.length;++l)if(!(t&&!t[r[l][0]])&&!(J$.indexOf(r[l][0])>-1||X$.indexOf(r[l][0])>-1)&&r[l][1]!=null){var f=r[l][1],h=0;if(t){h=+t[r[l][0]];var y=e[h];if(y.p=="version"&&typeof f=="string"){var m=f.split(".");f=(+m[0]<<16)+(+m[1]||0)}c=MI(y.t,f)}else{var g=hpe(f);g==-1&&(g=31,f=String(f)),c=MI(g,f)}a.push(c),o=dt(8),o.write_shift(4,t?h:2+l),i.push(o),s+=8+c.length}var v=8*(a.length+1);for(l=0;l<a.length;++l)i[l].write_shift(4,v),v+=a[l].length;return n.write_shift(4,s),n.write_shift(4,a.length),zi([n].concat(i).concat(a))}function RI(r,t,e,n,i,a){var s=dt(i?68:48),l=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Gn.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,i?68:48);var c=II(r,e,n);if(l.push(c),i){var o=II(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+c.length),l.push(o)}return zi(l)}function ppe(r,t){t||(t=dt(r));for(var e=0;e<r;++e)t.write_shift(1,0);return t}function mpe(r,t){return r.read_shift(t)===1}function cs(r,t){return t||(t=dt(2)),t.write_shift(2,+!!r),t}function Bv(r){return r.read_shift(2,"u")}function Yo(r,t){return t||(t=dt(2)),t.write_shift(2,r),t}function Z$(r,t,e){return e||(e=dt(2)),e.write_shift(1,t=="e"?+r:+!!r),e.write_shift(1,t=="e"?1:0),e}function Q$(r,t,e){var n=r.read_shift(e&&e.biff>=12?2:1),i="sbcs-cont",a=fu;if(e&&e.biff>=8&&(fu=1200),!e||e.biff==8){var s=r.read_shift(1);s&&(i="dbcs-cont")}else e.biff==12&&(i="wstr");e.biff>=2&&e.biff<=5&&(i="cpstr");var l=n?r.read_shift(n,i):"";return fu=a,l}function gpe(r){var t=r.t||"",e=dt(3);e.write_shift(2,t.length),e.write_shift(1,1);var n=dt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[e,n];return zi(i)}function ype(r,t,e){var n;if(e){if(e.biff>=2&&e.biff<=5)return r.read_shift(t,"cpstr");if(e.biff>=12)return r.read_shift(t,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(t,"sbcs-cont"):n=r.read_shift(t,"dbcs-cont"),n}function vpe(r,t,e){var n=r.read_shift(e&&e.biff==2?1:2);return n===0?(r.l++,""):ype(r,n,e)}function bpe(r,t,e){if(e.biff>5)return vpe(r,t,e);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,e.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function eU(r,t,e){return e||(e=dt(3+2*r.length)),e.write_shift(2,r.length),e.write_shift(1,1),e.write_shift(31,r,"utf16le"),e}function FI(r,t){t||(t=dt(6+r.length*2)),t.write_shift(4,1+r.length);for(var e=0;e<r.length;++e)t.write_shift(2,r.charCodeAt(e));return t.write_shift(2,0),t}function xpe(r){var t=dt(512),e=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(e=0;e<s.length;++e)t.write_shift(4,s[e]);if(a==28)n=n.slice(1),FI(n,t);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),e=0;e<s.length;++e)t.write_shift(1,parseInt(s[e],16));var l=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(l.length+1)),e=0;e<l.length;++e)t.write_shift(2,l.charCodeAt(e));t.write_shift(2,0),a&8&&FI(i>-1?n.slice(i+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),e=0;e<s.length;++e)t.write_shift(1,parseInt(s[e],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),e=0;e<n.length-3*c;++e)t.write_shift(1,n.charCodeAt(e+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),e=0;e<6;++e)t.write_shift(4,0)}return t.slice(0,t.l)}function kh(r,t,e,n){return n||(n=dt(6)),n.write_shift(2,r),n.write_shift(2,t),n.write_shift(2,e||0),n}function wpe(r,t,e){var n=e.biff>8?4:2,i=r.read_shift(n),a=r.read_shift(n,"i"),s=r.read_shift(n,"i");return[i,a,s]}function _pe(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:t},e:{c:i,r:e}}}function tU(r,t){return t||(t=dt(8)),t.write_shift(2,r.s.r),t.write_shift(2,r.e.r),t.write_shift(2,r.s.c),t.write_shift(2,r.e.c),t}function rN(r,t,e){var n=1536,i=16;switch(e.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=dt(i);return a.write_shift(2,n),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function Spe(r,t){var e=!t||t.biff==8,n=dt(e?112:54);for(n.write_shift(t.biff==8?2:1,7),e&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(e?0:536870912));n.l<n.length;)n.write_shift(1,e?0:32);return n}function kpe(r,t){var e=!t||t.biff>=8?2:1,n=dt(8+e*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(e*r.name.length,r.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function Npe(r,t){var e=dt(8);e.write_shift(4,r.Count),e.write_shift(4,r.Unique);for(var n=[],i=0;i<r.length;++i)n[i]=gpe(r[i]);var a=zi([e].concat(n));return a.parts=[e.length].concat(n.map(function(s){return s.length})),a}function Epe(){var r=dt(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function jpe(r){var t=dt(18),e=1718;return r&&r.RTL&&(e|=64),t.write_shift(2,e),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Ape(r,t){var e=r.name||"Arial",n=t&&t.biff==5,i=n?15+e.length:16+2*e.length,a=dt(i);return a.write_shift(2,r.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,e.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*e.length,e,n?"sbcs":"utf16le"),a}function Tpe(r,t,e,n){var i=dt(10);return kh(r,t,n,i),i.write_shift(4,e),i}function Cpe(r,t,e,n,i){var a=!i||i.biff==8,s=dt(8+ +a+(1+a)*e.length);return kh(r,t,n,s),s.write_shift(2,e.length),a&&s.write_shift(1,1),s.write_shift((1+a)*e.length,e,a?"utf16le":"sbcs"),s}function Ope(r,t,e,n){var i=e&&e.biff==5;n||(n=dt(i?3+t.length:5+2*t.length)),n.write_shift(2,r),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function Ppe(r){var t=dt(1+r.length);return t.write_shift(1,r.length),t.write_shift(r.length,r,"sbcs"),t}function Mpe(r){var t=dt(3+r.length);return t.l+=2,t.write_shift(1,r.length),t.write_shift(r.length,r,"sbcs"),t}function Ipe(r,t){var e=t.biff==8||!t.biff?4:2,n=dt(2*e+6);return n.write_shift(e,r.s.r),n.write_shift(e,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function LI(r,t,e,n){var i=e&&e.biff==5;n||(n=dt(i?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,t<<4));var a=0;return r.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function Rpe(r){var t=dt(4);return t.l+=2,t.write_shift(1,r.numFmtId),t.l++,t}function rU(r){var t=dt(12);return t.l++,t.write_shift(1,r.numFmtId),t.l+=10,t}var Fpe=rU;function Lpe(r){var t=dt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function f6(r,t,e,n,i,a){var s=dt(8);return kh(r,t,n,s),Z$(e,a,s),s}function Dpe(r,t,e,n){var i=dt(14);return kh(r,t,n,i),Sh(e,i),i}function Bpe(r,t,e){if(e.biff<8||!(e.biff>8)&&t==r[r.l]+(r[r.l+1]==3?1:0)+1)return DI(r,t,e);for(var n=[],i=r.l+t,a=r.read_shift(e.biff>8?4:2);a--!==0;)n.push(wpe(r,e.biff>8?12:6,e));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function DI(r,t,e){r[r.l+1]==3&&r[r.l]++;var n=Q$(r,t,e);return n.charCodeAt(0)==3?n.slice(1):n}function d6(r,t,e,n){var i=dt(6+(n||r.length));return i.write_shift(2,t),i.write_shift(2,e),i.write_shift(2,n||r.length),i.write_shift(r.length,r,"sbcs"),i}function $pe(r){var t=dt(2+r.length*8);t.write_shift(2,r.length);for(var e=0;e<r.length;++e)tU(r[e],t);return t}function Upe(r){var t=dt(24),e=gi(r[0]);t.write_shift(2,e.r),t.write_shift(2,e.r),t.write_shift(2,e.c),t.write_shift(2,e.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return zi([t,xpe(r[1])])}function zpe(r){var t=r[1].Tooltip,e=dt(10+2*(t.length+1));e.write_shift(2,2048);var n=gi(r[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var i=0;i<t.length;++i)e.write_shift(2,t.charCodeAt(i));return e.write_shift(2,0),e}function qpe(r){return r||(r=dt(4)),r.write_shift(2,1),r.write_shift(2,1),r}function Hpe(r,t,e){if(!e.cellStyles)return Ec(r,t);var n=e&&e.biff>=12?4:2,i=r.read_shift(n),a=r.read_shift(n),s=r.read_shift(n),l=r.read_shift(n),c=r.read_shift(2);n==2&&(r.l+=2);var o={s:i,e:a,w:s,ixfe:l,flags:c};return(e.biff>=5||!e.biff)&&(o.level=c>>8&7),o}function Wpe(r,t){var e=dt(12);e.write_shift(2,t),e.write_shift(2,t),e.write_shift(2,r.width*256),e.write_shift(2,0);var n=0;return r.hidden&&(n|=1),e.write_shift(1,n),n=r.level||0,e.write_shift(1,n),e.write_shift(2,0),e}function Vpe(r){for(var t=dt(2*r),e=0;e<r;++e)t.write_shift(2,e+1);return t}function C1(r,t,e,n,i){return r||(r=dt(7)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,n||0),r.write_shift(1,i||0),r.write_shift(1,0),r}function Gpe(r,t,e,n,i){var a=dt(15);return C1(a,r,t,n||0,i||0),a.write_shift(8,e,"f"),a}function Xpe(r,t,e,n,i){var a=dt(9);return C1(a,r,t,n||0,i||0),a.write_shift(2,e),a}var Kpe=function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Hk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function e(l,c){var o=[],u=xh(1);switch(c.type){case"base64":u=ko(Jf(l));break;case"binary":u=ko(l);break;case"buffer":case"array":u=l;break}Cs(u,0);var d=u.read_shift(1),f=!!(d&136),h=!1,y=!1;switch(d){case 2:break;case 3:break;case 48:h=!0,f=!0;break;case 49:h=!0,f=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var m=0,g=521;d==2&&(m=u.read_shift(2)),u.l+=3,d!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),d!=2&&(g=u.read_shift(2));var v=u.read_shift(2);c.codepage,d!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&r[u[u.l]],u.l+=1,u.l+=2),y&&(u.l+=36);for(var b=[],w={},_=Math.min(u.length,d==2?521:g-10-(h?264:0)),N=y?32:11;u.l<_&&u[u.l]!=13;)switch(w={},w.name=wh(u.slice(u.l,u.l+N)).replace(/[\u0000\r\n][\S\s]*$/g,""),u.l+=N,w.type=String.fromCharCode(u.read_shift(1)),d!=2&&!y&&(w.offset=u.read_shift(4)),w.len=u.read_shift(1),d==2&&(w.offset=u.read_shift(2)),w.dec=u.read_shift(1),w.name.length&&b.push(w),d!=2&&(u.l+=y?13:14),w.type){case"B":(!h||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var P=0,M=0;for(o[0]=[],M=0;M!=b.length;++M)o[0][M]=b[M].name;for(;m-- >0;){if(u[u.l]===42){u.l+=v;continue}for(++u.l,o[++P]=[],M=0,M=0;M!=b.length;++M){var A=u.slice(u.l,u.l+b[M].len);u.l+=b[M].len,Cs(A,0);var F=wh(A);switch(b[M].type){case"C":F.trim().length&&(o[P][M]=F.replace(/([^\s])\s+$/,"$1"));break;case"D":F.length===8?(o[P][M]=new Date(Date.UTC(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8),0,0,0,0)),c&&c.UTC||(o[P][M]=Np(o[P][M]))):o[P][M]=F;break;case"F":o[P][M]=parseFloat(F.trim());break;case"+":case"I":o[P][M]=y?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":o[P][M]=!0;break;case"N":case"F":o[P][M]=!1;break;case"":case"\0":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));o[P][M]="##MEMO##"+(y?parseInt(F.trim(),10):A.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(o[P][M]=+F||0);break;case"@":o[P][M]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":{var H=A.read_shift(4),z=A.read_shift(4);if(H==0&&z==0)break;o[P][M]=new Date((H-2440588)*864e5+z),c&&c.UTC||(o[P][M]=Np(o[P][M]))}break;case"Y":o[P][M]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":o[P][M]=-A.read_shift(-8,"f");break;case"B":if(h&&b[M].len==8){o[P][M]=A.read_shift(8,"f");break}case"G":case"P":A.l+=b[M].len;break;case"0":if(b[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[M].type)}}}if(d!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(o=o.slice(0,c.sheetRows)),c.DBF=b,o}function n(l,c){var o=c||{};o.dateNF||(o.dateNF="yyyymmdd");var u=Up(e(l,o),o);return u["!cols"]=o.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete o.DBF,u}function i(l,c){try{var o=$p(n(l,c),c);return o.bookType="dbf",o}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(l,c){if(!l["!ref"])throw new Error("Cannot export empty sheet to DBF");var o=c||{},u=fu;if(+o.codepage>=0&&i1(+o.codepage),o.type=="string")throw new Error("Cannot write DBF to JS string");var d=ms(),f=m8(l,{header:1,raw:!0,cellDates:!0}),h=f[0],y=f.slice(1),m=l["!cols"]||[],g=0,v=0,b=0,w=1;for(g=0;g<h.length;++g){if(((m[g]||{}).DBF||{}).name){h[g]=m[g].DBF.name,++b;continue}if(h[g]!=null){if(++b,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(v=0;v<1024;++v)if(h.indexOf(h[g]+"_"+v)==-1){h[g]+="_"+v;break}}}}var _=oi(l["!ref"]),N=[],P=[],M=[];for(g=0;g<=_.e.c-_.s.c;++g){var A="",F="",H=0,z=[];for(v=0;v<y.length;++v)y[v][g]!=null&&z.push(y[v][g]);if(z.length==0||h[g]==null){N[g]="?";continue}for(v=0;v<z.length;++v){switch(typeof z[v]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=z[v]instanceof Date?"D":"C";break;default:F="C"}H=Math.max(H,String(z[v]).length),A=A&&A!=F?"C":F}H>250&&(H=250),F=((m[g]||{}).DBF||{}).type,F=="C"&&m[g].DBF.len>H&&(H=m[g].DBF.len),A=="B"&&F=="N"&&(A="N",M[g]=m[g].DBF.dec,H=m[g].DBF.len),P[g]=A=="C"||F=="N"?H:a[A]||0,w+=P[g],N[g]=A}var U=d.next(32);for(U.write_shift(4,318902576),U.write_shift(4,y.length),U.write_shift(2,296+32*b),U.write_shift(2,w),g=0;g<4;++g)U.write_shift(4,0);var O=+t[fu]||3;for(U.write_shift(4,0|O<<8),r[O]!=+o.codepage&&(o.codepage&&console.error("DBF Unsupported codepage "+fu+", using 1252"),fu=1252),g=0,v=0;g<h.length;++g)if(h[g]!=null){var L=d.next(32),C=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,C,"sbcs"),L.write_shift(1,N[g]=="?"?"C":N[g],"sbcs"),L.write_shift(4,v),L.write_shift(1,P[g]||a[N[g]]||0),L.write_shift(1,M[g]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),v+=P[g]||a[N[g]]||0}var k=d.next(264);for(k.write_shift(4,13),g=0;g<65;++g)k.write_shift(4,0);for(g=0;g<y.length;++g){var j=d.next(w);for(j.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(N[v]){case"L":j.write_shift(1,y[g][v]==null?63:y[g][v]?84:70);break;case"B":j.write_shift(8,y[g][v]||0,"f");break;case"N":var E="0";for(typeof y[g][v]=="number"&&(E=y[g][v].toFixed(M[v]||0)),E.length>P[v]&&(E=E.slice(0,P[v])),b=0;b<P[v]-E.length;++b)j.write_shift(1,32);j.write_shift(1,E,"sbcs");break;case"D":y[g][v]?(j.write_shift(4,("0000"+y[g][v].getFullYear()).slice(-4),"sbcs"),j.write_shift(2,("00"+(y[g][v].getMonth()+1)).slice(-2),"sbcs"),j.write_shift(2,("00"+y[g][v].getDate()).slice(-2),"sbcs")):j.write_shift(8,"00000000","sbcs");break;case"C":var T=j.l,R=String(y[g][v]!=null?y[g][v]:"").slice(0,P[v]);for(j.write_shift(1,R,"cpstr"),T+=P[v]-j.l,b=0;b<T;++b)j.write_shift(1,32);break}}return fu=u,d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),Ype=function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Hi(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1").replace("{","\\{")+"|\\|)","gm");try{t=new RegExp("\x1BN("+Hi(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm")}catch{}var e=function(h,y){var m=r[y];return typeof m=="number"?oI(m):m},n=function(h,y,m){var g=y.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return g==59?h:oI(g)};r["|"]=254;var i=function(h){return h.replace(/\n/g,"\x1B :").replace(/\r/g,"\x1B =")};function a(h,y){switch(y.type){case"base64":return s(Jf(h),y);case"binary":return s(h,y);case"buffer":return s(Sn&&Buffer.isBuffer(h)?h.toString("binary"):wh(h),y);case"array":return s(Wk(h),y)}throw new Error("Unrecognized type "+y.type)}function s(h,y){var m=h.split(/[\n\r]+/),g=-1,v=-1,b=0,w=0,_=[],N=[],P=null,M={},A=[],F=[],H=[],z=0,U,O={Workbook:{WBProps:{},Names:[]}};for(+y.codepage>=0&&i1(+y.codepage);b!==m.length;++b){z=0;var L=m[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,e),C=L.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),k=C[0],j;if(L.length>0)switch(k){case"ID":break;case"E":break;case"B":break;case"O":for(w=1;w<C.length;++w)switch(C[w].charAt(0)){case"V":{var E=parseInt(C[w].slice(1),10);E>=1&&E<=4&&(O.Workbook.WBProps.date1904=!0)}break}break;case"W":break;case"P":switch(C[1].charAt(0)){case"P":N.push(L.slice(3).replace(/;;/g,";"));break}break;case"NN":{var T={Sheet:0};for(w=1;w<C.length;++w)switch(C[w].charAt(0)){case"N":T.Name=C[w].slice(1);break;case"E":T.Ref=(y&&y.sheet||"Sheet1")+"!"+qI(C[w].slice(1));break}O.Workbook.Names.push(T)}break;case"C":var R=!1,V=!1,B=!1,K=!1,Z=-1,ne=-1,G="",te="z",I="";for(w=1;w<C.length;++w)switch(C[w].charAt(0)){case"A":I=C[w].slice(1);break;case"X":v=parseInt(C[w].slice(1),10)-1,V=!0;break;case"Y":for(g=parseInt(C[w].slice(1),10)-1,V||(v=0),U=_.length;U<=g;++U)_[U]=[];break;case"K":j=C[w].slice(1),j.charAt(0)==='"'?(j=j.slice(1,j.length-1),te="s"):j==="TRUE"||j==="FALSE"?(j=j==="TRUE",te="b"):j.charAt(0)=="#"&&vc[j]!=null?(te="e",j=vc[j]):isNaN(Su(j))||(j=Su(j),te="n",P!==null&&_h(P)&&y.cellDates&&(j=V0(O.Workbook.WBProps.date1904?j+1462:j),te=typeof j=="number"?"n":"d")),R=!0;break;case"E":K=!0,G=qI(C[w].slice(1),{r:g,c:v});break;case"S":B=!0;break;case"G":break;case"R":Z=parseInt(C[w].slice(1),10)-1;break;case"C":ne=parseInt(C[w].slice(1),10)-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+L)}if(R&&(_[g][v]?(_[g][v].t=te,_[g][v].v=j):_[g][v]={t:te,v:j},P&&(_[g][v].z=P),y.cellText!==!1&&P&&(_[g][v].w=Pu(_[g][v].z,_[g][v].v,{date1904:O.Workbook.WBProps.date1904})),P=null),B){if(K)throw new Error("SYLK shared formula cannot have own formula");var D=Z>-1&&_[Z][ne];if(!D||!D[1])throw new Error("SYLK shared formula cannot find base");G=Jme(D[1],{r:g-Z,c:v-ne})}G&&(_[g][v]?_[g][v].f=G:_[g][v]={t:"n",f:G}),I&&(_[g][v]||(_[g][v]={t:"z"}),_[g][v].c=[{a:"SheetJSYLK",t:I}]);break;case"F":var X=0;for(w=1;w<C.length;++w)switch(C[w].charAt(0)){case"X":v=parseInt(C[w].slice(1),10)-1,++X;break;case"Y":for(g=parseInt(C[w].slice(1),10)-1,U=_.length;U<=g;++U)_[U]=[];break;case"M":z=parseInt(C[w].slice(1),10)/20;break;case"F":break;case"G":break;case"P":P=N[parseInt(C[w].slice(1),10)];break;case"S":break;case"D":break;case"N":break;case"W":for(H=C[w].slice(1).split(" "),U=parseInt(H[0],10);U<=parseInt(H[1],10);++U)z=parseInt(H[2],10),F[U-1]=z===0?{hidden:!0}:{wch:z};break;case"C":v=parseInt(C[w].slice(1),10)-1,F[v]||(F[v]={});break;case"R":g=parseInt(C[w].slice(1),10)-1,A[g]||(A[g]={}),z>0?(A[g].hpt=z,A[g].hpx=sU(z)):z===0&&(A[g].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+L)}X<1&&(P=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+L)}}return A.length>0&&(M["!rows"]=A),F.length>0&&(M["!cols"]=F),F.forEach(function(Q){nN(Q)}),y&&y.sheetRows&&(_=_.slice(0,y.sheetRows)),[_,M,O]}function l(h,y){var m=a(h,y),g=m[0],v=m[1],b=m[2],w=ys(y);w.date1904=(((b||{}).Workbook||{}).WBProps||{}).date1904;var _=Up(g,w);Hi(v).forEach(function(P){_[P]=v[P]});var N=$p(_,y);return Hi(b).forEach(function(P){N[P]=b[P]}),N.bookType="sylk",N}function c(h,y,m,g,v,b){var w="C;Y"+(m+1)+";X"+(g+1)+";K";switch(h.t){case"n":w+=isFinite(h.v)?h.v||0:Ms[isNaN(h.v)?36:7],h.f&&!h.F&&(w+=";E"+l2(h.f,{r:m,c:g}));break;case"b":w+=h.v?"TRUE":"FALSE";break;case"e":w+=h.w||Ms[h.v]||h.v;break;case"d":w+=za(eo(h.v,b),b);break;case"s":w+='"'+(h.v==null?"":String(h.v)).replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function o(h,y,m){var g="C;Y"+(y+1)+";X"+(m+1)+";A";return g+=i(h.map(function(v){return v.t}).join("")),g}function u(h,y){y.forEach(function(m,g){var v="F;W"+(g+1)+" "+(g+1)+" ";m.hidden?v+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=ax(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=sx(m.wpx)),typeof m.wch=="number"&&(v+=Math.round(m.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,y){y.forEach(function(m,g){var v="F;";m.hidden?v+="M0;":m.hpt?v+="M"+20*m.hpt+";":m.hpx&&(v+="M"+20*ox(m.hpx)+";"),v.length>2&&h.push(v+"R"+(g+1))})}function f(h,y,m){y||(y={}),y._formats=["General"];var g=["ID;PSheetJS;N;E"],v=[],b=oi(h["!ref"]||"A1"),w,_=h["!data"]!=null,N=`\r
`,P=(((m||{}).Workbook||{}).WBProps||{}).date1904,M="General";g.push("P;PGeneral");var A=b.s.r,F=b.s.c,H=[];if(h["!ref"]){for(A=b.s.r;A<=b.e.r;++A)if(!(_&&!h["!data"][A])){for(H=[],F=b.s.c;F<=b.e.c;++F)w=_?h["!data"][A][F]:h[Fn(F)+zn(A)],!(!w||!w.c)&&H.push(o(w.c,A,F));H.length&&v.push(H.join(N))}}if(h["!ref"]){for(A=b.s.r;A<=b.e.r;++A)if(!(_&&!h["!data"][A])){for(H=[],F=b.s.c;F<=b.e.c;++F)if(w=_?h["!data"][A][F]:h[Fn(F)+zn(A)],!(!w||w.v==null&&(!w.f||w.F))){if((w.z||(w.t=="d"?si[14]:"General"))!=M){var z=y._formats.indexOf(w.z);z==-1&&(y._formats.push(w.z),z=y._formats.length-1,g.push("P;P"+w.z.replace(/;/g,";;"))),H.push("F;P"+z+";Y"+(A+1)+";X"+(F+1))}H.push(c(w,h,A,F,y,P))}v.push(H.join(N))}}return g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),h["!ref"]&&g.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" ")),g.push("O;L;D;B"+(P?";V4":"")+";K47;G100 0.001"),delete y._formats,g.join(N)+N+v.join(N)+N+"E"+N}return{to_workbook:l,from_sheet:f}}(),Jpe=function(){function r(l,c){switch(c.type){case"base64":return t(Jf(l),c);case"binary":return t(l,c);case"buffer":return t(Sn&&Buffer.isBuffer(l)?l.toString("binary"):wh(l),c);case"array":return t(Wk(l),c)}throw new Error("Unrecognized type "+c.type)}function t(l,c){for(var o=l.split(`
`),u=-1,d=-1,f=0,h=[];f!==o.length;++f){if(o[f].trim()==="BOT"){h[++u]=[],d=0;continue}if(!(u<0)){var y=o[f].trim().split(","),m=y[0],g=y[1];++f;for(var v=o[f]||"";(v.match(/["]/g)||[]).length&1&&f<o.length-1;)v+=`
`+o[++f];switch(v=v.trim(),+m){case-1:if(v==="BOT"){h[++u]=[],d=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[u][d]=!0:v==="FALSE"?h[u][d]=!1:isNaN(Su(g))?isNaN(tx(g).getDate())?h[u][d]=g:(h[u][d]=eo(g),c&&c.UTC||(h[u][d]=Np(h[u][d]))):h[u][d]=Su(g),++d;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[u][d++]=v!==""?v:null;break}if(v==="EOD")break}}return c&&c.sheetRows&&(h=h.slice(0,c.sheetRows)),h}function e(l,c){return Up(r(l,c),c)}function n(l,c){var o=$p(e(l,c),c);return o.bookType="dif",o}function i(l,c){return"0,"+String(l)+`\r
`+c}function a(l){return`1,0\r
"`+l.replace(/"/g,'""')+'"'}function s(l){if(!l["!ref"])throw new Error("Cannot export empty sheet to DIF");for(var c=oi(l["!ref"]),o=l["!data"]!=null,u=[`TABLE\r
0,1\r
"sheetjs"\r
`,`VECTORS\r
0,`+(c.e.r-c.s.r+1)+`\r
""\r
`,`TUPLES\r
0,`+(c.e.c-c.s.c+1)+`\r
""\r
`,`DATA\r
0,0\r
""\r
`],d=c.s.r;d<=c.e.r;++d){for(var f=o?l["!data"][d]:[],h=`-1,0\r
BOT\r
`,y=c.s.c;y<=c.e.c;++y){var m=o?f&&f[y]:l[_i({r:d,c:y})];if(m==null){h+=`1,0\r
""\r
`;continue}switch(m.t){case"n":m.w!=null?h+="0,"+m.w+`\r
V`:m.v!=null?h+=i(m.v,"V"):m.f!=null&&!m.F?h+=a("="+m.f):h+=`1,0\r
""`;break;case"b":h+=m.v?i(1,"TRUE"):i(0,"FALSE");break;case"s":h+=a(isNaN(+m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=Pu(m.z||si[14],za(eo(m.v)))),h+=i(m.w,"V");break;default:h+=`1,0\r
""`}h+=`\r
`}u.push(h)}return u.join("")+`-1,0\r
EOD`}return{to_workbook:n,to_sheet:e,from_sheet:s}}(),nU=function(){function r(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function e(d,f){for(var h=d.split(`
`),y=-1,m=-1,g=0,v=[];g!==h.length;++g){var b=h[g].trim().split(":");if(b[0]==="cell"){var w=gi(b[1]);if(v.length<=w.r)for(y=v.length;y<=w.r;++y)v[y]||(v[y]=[]);switch(y=w.r,m=w.c,b[2]){case"t":v[y][m]=r(b[3]);break;case"v":v[y][m]=+b[3];break;case"vtf":var _=b[b.length-1];case"vtc":switch(b[3]){case"nl":v[y][m]=!!+b[4];break;default:v[y][m]=b[b.length-1].charAt(0)=="#"?{t:"e",v:vc[b[b.length-1]]}:+b[4];break}b[2]=="vtf"&&(v[y][m]=[v[y][m],_])}}}return f&&f.sheetRows&&(v=v.slice(0,f.sheetRows)),v}function n(d,f){return Up(e(d,f),f)}function i(d,f){return $p(n(d,f),f)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function o(d){if(!d||!d["!ref"])return"";for(var f=[],h=[],y,m="",g=Ua(d["!ref"]),v=d["!data"]!=null,b=g.s.r;b<=g.e.r;++b)for(var w=g.s.c;w<=g.e.c;++w)if(m=_i({r:b,c:w}),y=v?(d["!data"][b]||[])[w]:d[m],!(!y||y.v==null||y.t==="z")){switch(h=["cell",m,"t"],y.t){case"s":h.push(t(y.v));break;case"b":h[2]="vt"+(y.f?"f":"c"),h[3]="nl",h[4]=y.v?"1":"0",h[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var _=za(eo(y.v));h[2]="vtc",h[3]="nd",h[4]=""+_,h[5]=y.w||Pu(y.z||si[14],_);break;case"n":isFinite(y.v)?y.f?(h[2]="vtf",h[3]="n",h[4]=y.v,h[5]=t(y.f)):(h[2]="v",h[3]=y.v):(h[2]="vt"+(y.f?"f":"c"),h[3]="e"+Ms[isNaN(y.v)?36:7],h[4]="0",h[5]=y.f||h[3].slice(1),h[6]="e",h[7]=h[3].slice(1));break;case"e":continue}f.push(h.join(":"))}return f.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function u(d){return[a,s,l,s,o(d),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}}(),Zpe=function(){function r(u,d,f,h,y){y.raw?d[f][h]=u:u===""||(u==="TRUE"?d[f][h]=!0:u==="FALSE"?d[f][h]=!1:isNaN(Su(u))?isNaN(tx(u).getDate())?u.charCodeAt(0)==35&&vc[u]!=null?d[f][h]={t:"e",v:vc[u],w:u}:d[f][h]=u:d[f][h]=eo(u):d[f][h]=Su(u))}function t(u,d){var f=d||{},h=[];if(!u||u.length===0)return h;for(var y=u.split(/[\r\n]/),m=y.length-1;m>=0&&y[m].length===0;)--m;for(var g=10,v=0,b=0;b<=m;++b)v=y[b].indexOf(" "),v==-1?v=y[b].length:v++,g=Math.max(g,v);for(b=0;b<=m;++b){h[b]=[];var w=0;for(r(y[b].slice(0,g).trim(),h,b,w,f),w=1;w<=(y[b].length-g)/10+1;++w)r(y[b].slice(g+(w-1)*10,g+w*10).trim(),h,b,w,f)}return f.sheetRows&&(h=h.slice(0,f.sheetRows)),h}var e={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var d={},f=!1,h=0,y=0;h<u.length;++h)(y=u.charCodeAt(h))==34?f=!f:!f&&y in e&&(d[y]=(d[y]||0)+1);y=[];for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&y.push([d[h],h]);if(!y.length){d=n;for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&y.push([d[h],h])}return y.sort(function(m,g){return m[0]-g[0]||n[m[1]]-n[g[1]]}),e[y.pop()[1]]||44}function a(u,d){var f=d||{},h="",y={};f.dense&&(y["!data"]=[]);var m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=i(u.slice(0,1024)):f&&f.FS?h=f.FS:h=i(u.slice(0,1024));var g=0,v=0,b=0,w=0,_=0,N=h.charCodeAt(0),P=!1,M=0,A=u.charCodeAt(0),F=f.dateNF!=null?r0e(f.dateNF):null;function H(){var z=u.slice(w,_);z.slice(-1)=="\r"&&(z=z.slice(0,-1));var U={};if(z.charAt(0)=='"'&&z.charAt(z.length-1)=='"'&&(z=z.slice(1,-1).replace(/""/g,'"')),f.cellText!==!1&&(U.w=z),z.length===0)U.t="z";else if(f.raw)U.t="s",U.v=z;else if(z.trim().length===0)U.t="s",U.v=z;else if(z.charCodeAt(0)==61)z.charCodeAt(1)==34&&z.charCodeAt(z.length-1)==34?(U.t="s",U.v=z.slice(2,-1).replace(/""/g,'"')):Zme(z)?(U.t="s",U.f=z.slice(1),U.v=z):(U.t="s",U.v=z);else if(z=="TRUE")U.t="b",U.v=!0;else if(z=="FALSE")U.t="b",U.v=!1;else if(!isNaN(b=Su(z)))U.t="n",U.v=b;else if(!isNaN((b=tx(z)).getDate())||F&&z.match(F)){if(U.z=f.dateNF||si[14],F&&z.match(F)){var O=n0e(z,f.dateNF,z.match(F)||[]);b=eo(O),f&&f.UTC===!1&&(b=Np(b))}else f&&f.UTC===!1?b=Np(b):f.cellText!==!1&&f.dateNF&&(U.w=Pu(U.z,b));f.cellDates?(U.t="d",U.v=b):(U.t="n",U.v=za(b)),f.cellNF||delete U.z}else z.charCodeAt(0)==35&&vc[z]!=null?(U.t="e",U.w=z,U.v=vc[z]):(U.t="s",U.v=z);if(U.t=="z"||(f.dense?(y["!data"][g]||(y["!data"][g]=[]),y["!data"][g][v]=U):y[_i({c:v,r:g})]=U),w=_+1,A=u.charCodeAt(w),m.e.c<v&&(m.e.c=v),m.e.r<g&&(m.e.r=g),M==N)++v;else if(v=0,++g,f.sheetRows&&f.sheetRows<=g)return!0}e:for(;_<u.length;++_)switch(M=u.charCodeAt(_)){case 34:A===34&&(P=!P);break;case 13:if(P)break;u.charCodeAt(_+1)==10&&++_;case N:case 10:if(!P&&H())break e;break}return _-w>0&&H(),y["!ref"]=Wi(m),y}function s(u,d){return!(d&&d.PRN)||d.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?a(u,d):Up(t(u,d),d)}function l(u,d){var f="",h=d.type=="string"?[0,0,0,0]:Nbe(u,d);switch(d.type){case"base64":f=Jf(u);break;case"binary":f=u;break;case"buffer":d.codepage==65001?f=u.toString("utf8"):(d.codepage,f=Sn&&Buffer.isBuffer(u)?u.toString("binary"):wh(u));break;case"array":f=Wk(u);break;case"string":f=u;break;default:throw new Error("Unrecognized type "+d.type)}return h[0]==239&&h[1]==187&&h[2]==191?f=G0(f.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?f=G0(f):d.type=="binary",f.slice(0,19)=="socialcalc:version:"?nU.to_sheet(d.type=="string"?f:G0(f),d):s(f,d)}function c(u,d){return $p(l(u,d),d)}function o(u){var d=[];if(!u["!ref"])return"";for(var f=oi(u["!ref"]),h,y=u["!data"]!=null,m=f.s.r;m<=f.e.r;++m){for(var g=[],v=f.s.c;v<=f.e.c;++v){var b=_i({r:m,c:v});if(h=y?(u["!data"][m]||[])[v]:u[b],!h||h.v==null){g.push("          ");continue}for(var w=(h.w||(Mu(h),h.w)||"").slice(0,10);w.length<10;)w+=" ";g.push(w+(v===0?" ":""))}d.push(g.join(""))}return d.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:o}}(),BI=function(){function r(I,D,X){if(I){Cs(I,I.l||0);for(var Q=X.Enum||K;I.l<I.length;){var re=I.read_shift(2),oe=Q[re]||Q[65535],se=I.read_shift(2),he=I.l+se,le=oe.f&&oe.f(I,se,X);if(I.l=he,D(le,oe,re))return}}}function t(I,D){switch(D.type){case"base64":return n(ko(Jf(I)),D);case"binary":return n(ko(I),D);case"buffer":case"array":return n(I,D)}throw"Unsupported type "+D.type}var e=["mmmm","dd-mmm-yyyy","dd-mmm","mmm-yyyy","@","mm/dd","hh:mm:ss AM/PM","hh:mm AM/PM","mm/dd/yyyy","mm/dd","hh:mm:ss","hh:mm"];function n(I,D){if(!I)return I;var X=D||{},Q={},re="Sheet1",oe="",se=0,he={},le=[],de=[],ve=[];X.dense&&(ve=Q["!data"]=[]);var ge={s:{r:0,c:0},e:{r:0,c:0}},ke=X.sheetRows||0,Pe={};if(I[4]==81&&I[5]==80&&I[6]==87)return te(I,D);if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)X.Enum=K,r(I,function(Ue,vt,St){switch(St){case 0:X.vers=Ue,Ue>=4096&&(X.qpro=!0);break;case 255:X.vers=Ue,X.works=!0;break;case 6:ge=Ue;break;case 204:Ue&&(oe=Ue);break;case 222:oe=Ue;break;case 15:case 51:(!X.qpro&&!X.works||St==51)&&Ue[1].v.charCodeAt(0)<48&&(Ue[1].v=Ue[1].v.slice(1)),(X.works||X.works2)&&(Ue[1].v=Ue[1].v.replace(/\r\n/g,`
`));case 13:case 14:case 16:(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=X.dateNF||e[(Ue[2]&15)-1]||si[14],X.cellDates&&(Ue[1].v=V0(Ue[1].v),Ue[1].t=typeof Ue[1].v=="number"?"n":"d")),X.qpro&&Ue[3]>se&&(Q["!ref"]=Wi(ge),he[re]=Q,le.push(re),Q={},X.dense&&(ve=Q["!data"]=[]),ge={s:{r:0,c:0},e:{r:0,c:0}},se=Ue[3],re=oe||"Sheet"+(se+1),oe="");var De=X.dense?(ve[Ue[0].r]||[])[Ue[0].c]:Q[_i(Ue[0])];if(De){De.t=Ue[1].t,De.v=Ue[1].v,Ue[1].z!=null&&(De.z=Ue[1].z),Ue[1].f!=null&&(De.f=Ue[1].f),Pe=De;break}X.dense?(ve[Ue[0].r]||(ve[Ue[0].r]=[]),ve[Ue[0].r][Ue[0].c]=Ue[1]):Q[_i(Ue[0])]=Ue[1],Pe=Ue[1];break;case 21509:X.works2=!0;break;case 21506:Ue==5281&&(Pe.z="hh:mm:ss",X.cellDates&&Pe.t=="n"&&(Pe.v=V0(Pe.v),Pe.t=typeof Pe.v=="number"?"n":"d"));break}},X);else if(I[2]==26||I[2]==14)X.Enum=Z,I[2]==14&&(X.qpro=!0,I.l=0),r(I,function(Ue,vt,St){switch(St){case 204:re=Ue;break;case 22:Ue[1].v.charCodeAt(0)<48&&(Ue[1].v=Ue[1].v.slice(1)),Ue[1].v=Ue[1].v.replace(/\x0F./g,function(De){return String.fromCharCode(De.charCodeAt(1)-32)}).replace(/\r\n/g,`
`);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>se&&(Q["!ref"]=Wi(ge),he[re]=Q,le.push(re),Q={},X.dense&&(ve=Q["!data"]=[]),ge={s:{r:0,c:0},e:{r:0,c:0}},se=Ue[3],re="Sheet"+(se+1)),ke>0&&Ue[0].r>=ke)break;X.dense?(ve[Ue[0].r]||(ve[Ue[0].r]=[]),ve[Ue[0].r][Ue[0].c]=Ue[1]):Q[_i(Ue[0])]=Ue[1],ge.e.c<Ue[0].c&&(ge.e.c=Ue[0].c),ge.e.r<Ue[0].r&&(ge.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(de[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:de[Ue[0]]=Ue[1],Ue[0]==se&&(re=Ue[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(Q["!ref"]=Wi(ge),he[oe||re]=Q,le.push(oe||re),!de.length)return{SheetNames:le,Sheets:he};for(var Re={},Ie=[],qe=0;qe<de.length;++qe)he[le[qe]]?(Ie.push(de[qe]||le[qe]),Re[de[qe]]=he[de[qe]]||he[le[qe]]):(Ie.push(de[qe]),Re[de[qe]]={"!ref":"A1"});return{SheetNames:Ie,Sheets:Re}}function i(I,D){var X=D||{};if(+X.codepage>=0&&i1(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=ms();if(!I["!ref"])throw new Error("Cannot export empty sheet to WK1");var re=oi(I["!ref"]),oe=I["!data"]!=null,se=[];Ft(Q,0,s(1030)),Ft(Q,6,o(re));for(var he=Math.min(re.e.r,8191),le=re.s.c;le<=re.e.c;++le)se[le]=Fn(le);for(var de=re.s.r;de<=he;++de){var ve=zn(de);for(le=re.s.c;le<=re.e.c;++le){var ge=oe?(I["!data"][de]||[])[le]:I[se[le]+ve];if(!(!ge||ge.t=="z"))switch(ge.t){case"n":(ge.v|0)==ge.v&&ge.v>=-32768&&ge.v<=32767?Ft(Q,13,g(de,le,ge)):Ft(Q,14,b(de,le,ge));break;case"d":var ke=za(ge.v);(ke|0)==ke&&ke>=-32768&&ke<=32767?Ft(Q,13,g(de,le,{v:ke,z:ge.z||si[14]})):Ft(Q,14,b(de,le,{v:ke,z:ge.z||si[14]}));break;default:var Pe=Mu(ge);Ft(Q,15,h(de,le,Pe.slice(0,239)))}}}return Ft(Q,1),Q.end()}function a(I,D){var X=D||{};if(+X.codepage>=0&&i1(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=ms();Ft(Q,0,l(I));for(var re=0,oe=0;re<I.SheetNames.length;++re)(I.Sheets[I.SheetNames[re]]||{})["!ref"]&&Ft(Q,27,B(I.SheetNames[re],oe++));var se=0;for(re=0;re<I.SheetNames.length;++re){var he=I.Sheets[I.SheetNames[re]];if(!(!he||!he["!ref"])){for(var le=oi(he["!ref"]),de=he["!data"]!=null,ve=[],ge=Math.min(le.e.r,8191),ke=le.s.r;ke<=ge;++ke)for(var Pe=zn(ke),Re=le.s.c;Re<=le.e.c;++Re){ke===le.s.r&&(ve[Re]=Fn(Re));var Ie=ve[Re]+Pe,qe=de?(he["!data"][ke]||[])[Re]:he[Ie];if(!(!qe||qe.t=="z"))if(qe.t=="n")Ft(Q,23,O(ke,Re,se,qe.v));else{var Ue=Mu(qe);Ft(Q,22,H(ke,Re,se,Ue.slice(0,239)))}}++se}}return Ft(Q,1),Q.end()}function s(I){var D=dt(2);return D.write_shift(2,I),D}function l(I){var D=dt(26);D.write_shift(2,4096),D.write_shift(2,4),D.write_shift(4,0);for(var X=0,Q=0,re=0,oe=0;oe<I.SheetNames.length;++oe){var se=I.SheetNames[oe],he=I.Sheets[se];if(!(!he||!he["!ref"])){++re;var le=Ua(he["!ref"]);X<le.e.r&&(X=le.e.r),Q<le.e.c&&(Q=le.e.c)}}return X>8191&&(X=8191),D.write_shift(2,X),D.write_shift(1,re),D.write_shift(1,Q),D.write_shift(2,0),D.write_shift(2,0),D.write_shift(1,1),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(4,0),D}function c(I,D,X){var Q={s:{c:0,r:0},e:{c:0,r:0}};return D==8&&X.qpro?(Q.s.c=I.read_shift(1),I.l++,Q.s.r=I.read_shift(2),Q.e.c=I.read_shift(1),I.l++,Q.e.r=I.read_shift(2),Q):(Q.s.c=I.read_shift(2),Q.s.r=I.read_shift(2),D==12&&X.qpro&&(I.l+=2),Q.e.c=I.read_shift(2),Q.e.r=I.read_shift(2),D==12&&X.qpro&&(I.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function o(I){var D=dt(8);return D.write_shift(2,I.s.c),D.write_shift(2,I.s.r),D.write_shift(2,I.e.c),D.write_shift(2,I.e.r),D}function u(I,D,X){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(Q[0].c=I.read_shift(1),Q[3]=I.read_shift(1),Q[0].r=I.read_shift(2),I.l+=2):X.works?(Q[0].c=I.read_shift(2),Q[0].r=I.read_shift(2),Q[2]=I.read_shift(2)):(Q[2]=I.read_shift(1),Q[0].c=I.read_shift(2),Q[0].r=I.read_shift(2)),Q}function d(I){return I.z&&_h(I.z)?240|(e.indexOf(I.z)+1||2):255}function f(I,D,X){var Q=I.l+D,re=u(I,D,X);if(re[1].t="s",(X.vers&65534)==20768){I.l++;var oe=I.read_shift(1);return re[1].v=I.read_shift(oe,"utf8"),re}return X.qpro&&I.l++,re[1].v=I.read_shift(Q-I.l,"cstr"),re}function h(I,D,X){var Q=dt(7+X.length);Q.write_shift(1,255),Q.write_shift(2,D),Q.write_shift(2,I),Q.write_shift(1,39);for(var re=0;re<Q.length;++re){var oe=X.charCodeAt(re);Q.write_shift(1,oe>=128?95:oe)}return Q.write_shift(1,0),Q}function y(I,D,X){var Q=I.l+D,re=u(I,D,X);if(re[1].t="s",X.vers==20768){var oe=I.read_shift(1);return re[1].v=I.read_shift(oe,"utf8"),re}return re[1].v=I.read_shift(Q-I.l,"cstr"),re}function m(I,D,X){var Q=u(I,D,X);return Q[1].v=I.read_shift(2,"i"),Q}function g(I,D,X){var Q=dt(7);return Q.write_shift(1,d(X)),Q.write_shift(2,D),Q.write_shift(2,I),Q.write_shift(2,X.v,"i"),Q}function v(I,D,X){var Q=u(I,D,X);return Q[1].v=I.read_shift(8,"f"),Q}function b(I,D,X){var Q=dt(13);return Q.write_shift(1,d(X)),Q.write_shift(2,D),Q.write_shift(2,I),Q.write_shift(8,X.v,"f"),Q}function w(I,D,X){var Q=I.l+D,re=u(I,D,X);if(re[1].v=I.read_shift(8,"f"),X.qpro)I.l=Q;else{var oe=I.read_shift(2);M(I.slice(I.l,I.l+oe),re),I.l+=oe}return re}function _(I,D,X){var Q=D&32768;return D&=-32769,D=(Q?I:0)+(D>=8192?D-16384:D),(Q?"":"$")+(X?Fn(D):zn(D))}var N={31:["NA",0],33:["ABS",1],34:["TRUNC",1],35:["SQRT",1],36:["LOG",1],37:["LN",1],38:["PI",0],39:["SIN",1],40:["COS",1],41:["TAN",1],42:["ATAN2",2],43:["ATAN",1],44:["ASIN",1],45:["ACOS",1],46:["EXP",1],47:["MOD",2],49:["ISNA",1],50:["ISERR",1],51:["FALSE",0],52:["TRUE",0],53:["RAND",0],54:["DATE",3],63:["ROUND",2],64:["TIME",3],68:["ISNUMBER",1],69:["ISTEXT",1],70:["LEN",1],71:["VALUE",1],73:["MID",3],74:["CHAR",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],102:["UPPER",1],103:["LOWER",1],107:["PROPER",1],109:["TRIM",1],111:["T",1]},P=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function M(I,D){Cs(I,0);for(var X=[],Q=0,re="",oe="",se="",he="";I.l<I.length;){var le=I[I.l++];switch(le){case 0:X.push(I.read_shift(8,"f"));break;case 1:oe=_(D[0].c,I.read_shift(2),!0),re=_(D[0].r,I.read_shift(2),!1),X.push(oe+re);break;case 2:{var de=_(D[0].c,I.read_shift(2),!0),ve=_(D[0].r,I.read_shift(2),!1);oe=_(D[0].c,I.read_shift(2),!0),re=_(D[0].r,I.read_shift(2),!1),X.push(de+ve+":"+oe+re)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(I.read_shift(2));break;case 6:{for(var ge="";le=I[I.l++];)ge+=String.fromCharCode(le);X.push('"'+ge.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:he=X.pop(),se=X.pop(),X.push(["AND","OR"][le-20]+"("+se+","+he+")");break;default:if(le<32&&P[le])he=X.pop(),se=X.pop(),X.push(se+P[le]+he);else if(N[le]){if(Q=N[le][1],Q==69&&(Q=I[I.l++]),Q>X.length){console.error("WK1 bad formula parse 0x"+le.toString(16)+":|"+X.join("|")+"|");return}var ke=X.slice(-Q);X.length-=Q,X.push(N[le][0]+"("+ke.join(",")+")")}else return le<=7?console.error("WK1 invalid opcode "+le.toString(16)):le<=24?console.error("WK1 unsupported op "+le.toString(16)):le<=30?console.error("WK1 invalid opcode "+le.toString(16)):le<=115?console.error("WK1 unsupported function opcode "+le.toString(16)):console.error("WK1 unrecognized opcode "+le.toString(16))}}X.length==1?D[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function A(I){var D=[{c:0,r:0},{t:"n",v:0},0];return D[0].r=I.read_shift(2),D[3]=I[I.l++],D[0].c=I[I.l++],D}function F(I,D){var X=A(I);return X[1].t="s",X[1].v=I.read_shift(D-4,"cstr"),X}function H(I,D,X,Q){var re=dt(6+Q.length);re.write_shift(2,I),re.write_shift(1,X),re.write_shift(1,D),re.write_shift(1,39);for(var oe=0;oe<Q.length;++oe){var se=Q.charCodeAt(oe);re.write_shift(1,se>=128?95:se)}return re.write_shift(1,0),re}function z(I,D){var X=A(I);X[1].v=I.read_shift(2);var Q=X[1].v>>1;if(X[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return X[1].v=Q,X}function U(I,D){var X=A(I),Q=I.read_shift(4),re=I.read_shift(4),oe=I.read_shift(2);if(oe==65535)return Q===0&&re===3221225472?(X[1].t="e",X[1].v=15):Q===0&&re===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var se=oe&32768;return oe=(oe&32767)-16446,X[1].v=(1-se*2)*(re*Math.pow(2,oe+32)+Q*Math.pow(2,oe)),X}function O(I,D,X,Q){var re=dt(14);if(re.write_shift(2,I),re.write_shift(1,X),re.write_shift(1,D),Q==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var oe=0,se=0,he=0,le=0;return Q<0&&(oe=1,Q=-Q),se=Math.log2(Q)|0,Q/=Math.pow(2,se-31),le=Q>>>0,(le&2147483648)==0&&(Q/=2,++se,le=Q>>>0),Q-=le,le|=2147483648,le>>>=0,Q*=Math.pow(2,32),he=Q>>>0,re.write_shift(4,he),re.write_shift(4,le),se+=16383+(oe?32768:0),re.write_shift(2,se),re}function L(I,D){var X=U(I);return I.l+=D-14,X}function C(I,D){var X=A(I),Q=I.read_shift(4);return X[1].v=Q>>6,X}function k(I,D){var X=A(I),Q=I.read_shift(8,"f");return X[1].v=Q,X}function j(I,D){var X=k(I);return I.l+=D-12,X}function E(I,D){return I[I.l+D-1]==0?I.read_shift(D,"cstr"):""}function T(I,D){var X=I[I.l++];X>D-1&&(X=D-1);for(var Q="";Q.length<X;)Q+=String.fromCharCode(I[I.l++]);return Q}function R(I,D,X){if(!(!X.qpro||D<21)){var Q=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var re=I.read_shift(D-21,"cstr");return[Q,re]}}function V(I,D){for(var X={},Q=I.l+D;I.l<Q;){var re=I.read_shift(2);if(re==14e3){for(X[re]=[0,""],X[re][0]=I.read_shift(2);I[I.l];)X[re][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return X}function B(I,D){var X=dt(5+I.length);X.write_shift(2,14e3),X.write_shift(2,D);for(var Q=0;Q<I.length;++Q){var re=I.charCodeAt(Q);X[X.l++]=re>127?95:re}return X[X.l++]=0,X}var K={0:{n:"BOF",f:Bv},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:v},15:{n:"LABEL",f},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:y},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:E},222:{n:"SHEETNAMELP",f:T},255:{n:"BOF",f:Bv},21506:{n:"WKSNF",f:Bv},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:F},23:{n:"NUMBER17",f:U},24:{n:"NUMBER18",f:z},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:k},40:{n:"FORMULA28",f:j},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:E},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:R},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}},ne={5:"dd-mmm-yy",6:"dd-mmm",7:"mmm-yy",8:"mm/dd/yy",10:"hh:mm:ss AM/PM",11:"hh:mm AM/PM",14:"dd-mmm-yyyy",15:"mmm-yyyy",34:"0.00",50:"0.00;[Red]0.00",66:"0.00;(0.00)",82:"0.00;[Red](0.00)",162:'"$"#,##0.00;\\("$"#,##0.00\\)',288:"0%",304:"0E+00",320:"# ?/?"};function G(I){var D=I.read_shift(2),X=I.read_shift(1);if(X!=0)throw"unsupported QPW string type "+X.toString(16);return I.read_shift(D,"sbcs-cont")}function te(I,D){Cs(I,0);var X=D||{},Q={};X.dense&&(Q["!data"]=[]);var re=[],oe="",se={s:{r:-1,c:-1},e:{r:-1,c:-1}},he=0,le=0,de=0,ve=0,ge={SheetNames:[],Sheets:{}},ke=[];e:for(;I.l<I.length;){var Pe=I.read_shift(2),Re=I.read_shift(2),Ie=I.slice(I.l,I.l+Re);switch(Cs(Ie,0),Pe){case 1:if(Ie.read_shift(4)!=962023505)throw"Bad QPW9 BOF!";break;case 2:break e;case 8:break;case 10:for(var qe=Ie.read_shift(4),Ue=(Ie.length-Ie.l)/qe|0,vt=0;vt<qe;++vt){var St=Ie.l+Ue,De={};Ie.l+=2,De.numFmtId=Ie.read_shift(2),ne[De.numFmtId]&&(De.z=ne[De.numFmtId]),Ie.l=St,ke.push(De)}break;case 1025:break;case 1026:break;case 1031:for(Ie.l+=12;Ie.l<Ie.length;)he=Ie.read_shift(2),le=Ie.read_shift(1),re.push(Ie.read_shift(he,"cstr"));break;case 1032:break;case 1537:{var lt=Ie.read_shift(2);Q={},X.dense&&(Q["!data"]=[]),se.s.c=Ie.read_shift(2),se.e.c=Ie.read_shift(2),se.s.r=Ie.read_shift(4),se.e.r=Ie.read_shift(4),Ie.l+=4,Ie.l+2<Ie.length&&(he=Ie.read_shift(2),le=Ie.read_shift(1),oe=he==0?"":Ie.read_shift(he,"cstr")),oe||(oe=Fn(lt))}break;case 1538:{if(se.s.c>255||se.s.r>999999)break;se.e.c<se.s.c&&(se.e.c=se.s.c),se.e.r<se.s.r&&(se.e.r=se.s.r),Q["!ref"]=Wi(se),lN(ge,Q,oe)}break;case 2561:de=Ie.read_shift(2),se.e.c<de&&(se.e.c=de),se.s.c>de&&(se.s.c=de),ve=Ie.read_shift(4),se.s.r>ve&&(se.s.r=ve),ve=Ie.read_shift(4),se.e.r<ve&&(se.e.r=ve);break;case 3073:{ve=Ie.read_shift(4),he=Ie.read_shift(4),se.s.r>ve&&(se.s.r=ve),se.e.r<ve+he-1&&(se.e.r=ve+he-1);for(var gt=Fn(de);Ie.l<Ie.length;){var Ve={t:"z"},Dt=Ie.read_shift(1),bt=-1;Dt&128&&(bt=Ie.read_shift(2));var At=Dt&64?Ie.read_shift(2)-1:0;switch(Dt&31){case 0:break;case 1:break;case 2:Ve={t:"n",v:Ie.read_shift(2)};break;case 3:Ve={t:"n",v:Ie.read_shift(2,"i")};break;case 4:Ve={t:"n",v:tN(Ie)};break;case 5:Ve={t:"n",v:Ie.read_shift(8,"f")};break;case 7:Ve={t:"s",v:re[le=Ie.read_shift(4)-1]};break;case 8:Ve={t:"n",v:Ie.read_shift(8,"f")},Ie.l+=2,Ie.l+=4,isNaN(Ve.v)&&(Ve={t:"e",v:15});break;default:throw"Unrecognized QPW cell type "+(Dt&31)}bt!=-1&&(ke[bt-1]||{}).z&&(Ve.z=ke[bt-1].z);var ft=0;if(Dt&32)switch(Dt&31){case 2:ft=Ie.read_shift(2);break;case 3:ft=Ie.read_shift(2,"i");break;case 7:ft=Ie.read_shift(2);break;default:throw"Unsupported delta for QPW cell type "+(Dt&31)}if(!(!X.sheetStubs&&Ve.t=="z")){var jt=ys(Ve);Ve.t=="n"&&Ve.z&&_h(Ve.z)&&X.cellDates&&(jt.v=V0(Ve.v),jt.t=typeof jt.v=="number"?"n":"d"),Q["!data"]!=null?(Q["!data"][ve]||(Q["!data"][ve]=[]),Q["!data"][ve][de]=jt):Q[gt+zn(ve)]=jt}for(++ve,--he;At-- >0&&he>=0;){if(Dt&32)switch(Dt&31){case 2:Ve={t:"n",v:Ve.v+ft&65535};break;case 3:Ve={t:"n",v:Ve.v+ft&65535},Ve.v>32767&&(Ve.v-=65536);break;case 7:Ve={t:"s",v:re[le=le+ft>>>0]};break;default:throw"Cannot apply delta for QPW cell type "+(Dt&31)}else switch(Dt&31){case 1:Ve={t:"z"};break;case 2:Ve={t:"n",v:Ie.read_shift(2)};break;case 7:Ve={t:"s",v:re[le=Ie.read_shift(4)-1]};break;default:throw"Cannot apply repeat for QPW cell type "+(Dt&31)}!X.sheetStubs&&Ve.t=="z"||(Q["!data"]!=null?(Q["!data"][ve]||(Q["!data"][ve]=[]),Q["!data"][ve][de]=Ve):Q[gt+zn(ve)]=Ve),++ve,--he}}}break;case 3074:{de=Ie.read_shift(2),ve=Ie.read_shift(4);var ht=G(Ie);Q["!data"]!=null?(Q["!data"][ve]||(Q["!data"][ve]=[]),Q["!data"][ve][de]={t:"s",v:ht}):Q[Fn(de)+zn(ve)]={t:"s",v:ht}}break}I.l+=Re}return ge}return{sheet_to_wk1:i,book_to_wk3:a,to_workbook:t}}(),Qpe=/^\s|\s$|[\t\n\r]/;function eme(r,t){if(!t.bookSST)return"";var e=[Gi];e[e.length]=Xt("sst",null,{xmlns:Bp[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var i=r[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),typeof i.t!="string"&&(i.t=String(i.t)),i.t.match(Qpe)&&(a+=' xml:space="preserve"'),a+=">"+Kr(i.t)+"</t>"),a+="</si>",e[e.length]=a}return e.length>2&&(e[e.length]="</sst>",e[1]=e[1].replace("/>",">")),e.join("")}function tme(r){return[r.read_shift(4),r.read_shift(4)]}function rme(r,t){return t||(t=dt(8)),t.write_shift(4,r.Count),t.write_shift(4,r.Unique),t}var nme=q0e;function ime(r){var t=ms();Ot(t,159,rme(r));for(var e=0;e<r.length;++e)Ot(t,19,nme(r[e]));return Ot(t,160),t.end()}function ame(r){for(var t=[],e=r.split(""),n=0;n<e.length;++n)t[n]=e[n].charCodeAt(0);return t}function iU(r){var t=0,e,n=ame(r),i=n.length+1,a,s,l,c,o;for(e=xh(i),e[0]=n.length,a=1;a!=i;++a)e[a]=n[a-1];for(a=i-1;a>=0;--a)s=e[a],l=(t&16384)===0?0:1,c=t<<1&32767,o=l|c,t=o^s;return t^52811}function sme(r,t){var e=["{\\rtf1\\ansi"];if(!r["!ref"])return e[0]+"}";for(var n=oi(r["!ref"]),i,a=r["!data"]!=null,s=[],l=n.s.r;l<=n.e.r;++l){e.push("\\trowd\\trautofit1");for(var c=n.s.c;c<=n.e.c;++c)e.push("\\cellx"+(c+1));for(e.push("\\pard\\intbl"),a&&(s=r["!data"][l]||[]),c=n.s.c;c<=n.e.c;++c){var o=_i({r:l,c});if(i=a?s[c]:r[o],!i||i.v==null&&(!i.f||i.F)){e.push(" \\cell");continue}e.push(" "+(i.w||(Mu(i),i.w)||"").replace(/[\r\n]/g,"\\par ")),e.push("\\cell")}e.push("\\pard\\intbl\\row")}return e.join("")+"}"}function $I(r){for(var t=0,e=1;t!=3;++t)e=e*256+(r[t]>255?255:r[t]<0?0:r[t]);return e.toString(16).toUpperCase().slice(1)}var ome=6,ku=ome;function ax(r){return Math.floor((r+Math.round(128/ku)/256)*ku)}function sx(r){return Math.floor((r-5)/ku*100+.5)/100}function d8(r){return Math.round((r*ku+5)/ku*256)/256}function nN(r){r.width?(r.wpx=ax(r.width),r.wch=sx(r.wpx),r.MDW=ku):r.wpx?(r.wch=sx(r.wpx),r.width=d8(r.wch),r.MDW=ku):typeof r.wch=="number"&&(r.width=d8(r.wch),r.wpx=ax(r.width),r.MDW=ku),r.customWidth&&delete r.customWidth}var lme=96,aU=lme;function ox(r){return r*96/aU}function sU(r){return r*aU/96}function cme(r){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var n=e[0];n<=e[1];++n)r[n]!=null&&(t[t.length]=Xt("numFmt",null,{numFmtId:n,formatCode:Kr(r[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Xt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function ume(r){var t=[];return t[t.length]=Xt("cellXfs",null),r.forEach(function(e){t[t.length]=Xt("xf",null,e)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Xt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function fme(r,t){var e=[Gi,Xt("styleSheet",null,{xmlns:Bp[0],"xmlns:vt":_a.vt})],n;return r.SSF&&(n=cme(r.SSF))!=null&&(e[e.length]=n),e[e.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',e[e.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',e[e.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',e[e.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=ume(t.cellXfs))&&(e[e.length]=n),e[e.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',e[e.length]='<dxfs count="0"/>',e[e.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',e.length>2&&(e[e.length]="</styleSheet>",e[1]=e[1].replace("/>",">")),e.join("")}function dme(r,t){var e=r.read_shift(2),n=gs(r);return[e,n]}function hme(r,t,e){e||(e=dt(6+4*t.length)),e.write_shift(2,r),na(t,e);var n=e.length>e.l?e.slice(0,e.l):e;return e.l==null&&(e.l=e.length),n}function pme(r,t,e){var n={};n.sz=r.read_shift(2)/20;var i=Y0e(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=r.read_shift(2);switch(a===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=r.read_shift(1);s!=0&&(n.underline=s);var l=r.read_shift(1);l>0&&(n.family=l);var c=r.read_shift(1);switch(c>0&&(n.charset=c),r.l++,n.color=K0e(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=gs(r),n}function mme(r,t){t||(t=dt(25+4*32)),t.write_shift(2,r.sz*20),J0e(r,t),t.write_shift(2,r.bold?700:400);var e=0;r.vertAlign=="superscript"?e=1:r.vertAlign=="subscript"&&(e=2),t.write_shift(2,e),t.write_shift(1,r.underline||0),t.write_shift(1,r.family||0),t.write_shift(1,r.charset||0),t.write_shift(1,0),nx(r.color,t);var n=0;return n=2,t.write_shift(1,n),na(r.name,t),t.length>t.l?t.slice(0,t.l):t}var gme=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],h6,yme=Ec;function UI(r,t){t||(t=dt(4*3+8*7+16*1)),h6||(h6=Hk(gme));var e=h6[r.patternType];e==null&&(e=40),t.write_shift(4,e);var n=0;if(e!=40)for(nx({auto:1},t),nx({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function vme(r,t){var e=r.l+t,n=r.read_shift(2),i=r.read_shift(2);return r.l=e,{ixfe:n,numFmtId:i}}function oU(r,t,e){e||(e=dt(16)),e.write_shift(2,t||0),e.write_shift(2,r.numFmtId||0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);var n=0;return e.write_shift(1,n),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e}function Fm(r,t){return t||(t=dt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var bme=Ec;function xme(r,t){return t||(t=dt(51)),t.write_shift(1,0),Fm(null,t),Fm(null,t),Fm(null,t),Fm(null,t),Fm(null,t),t.length>t.l?t.slice(0,t.l):t}function wme(r,t){return t||(t=dt(12+4*10)),t.write_shift(4,r.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),c1(r.name||"",t),t.length>t.l?t.slice(0,t.l):t}function _me(r,t,e){var n=dt(2052);return n.write_shift(4,r),c1(t,n),c1(e,n),n.length>n.l?n.slice(0,n.l):n}function Sme(r,t){if(t){var e=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++e}),e!=0&&(Ot(r,615,Ul(e)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Ot(r,44,hme(i,t[i]))}),Ot(r,616))}}function kme(r){var t=1;Ot(r,611,Ul(t)),Ot(r,43,mme({sz:12,color:{theme:1},name:"Calibri",family:2})),Ot(r,612)}function Nme(r){var t=2;Ot(r,603,Ul(t)),Ot(r,45,UI({patternType:"none"})),Ot(r,45,UI({patternType:"gray125"})),Ot(r,604)}function Eme(r){var t=1;Ot(r,613,Ul(t)),Ot(r,46,xme()),Ot(r,614)}function jme(r){var t=1;Ot(r,626,Ul(t)),Ot(r,47,oU({numFmtId:0},65535)),Ot(r,627)}function Ame(r,t){Ot(r,617,Ul(t.length)),t.forEach(function(e){Ot(r,47,oU(e,0))}),Ot(r,618)}function Tme(r){var t=1;Ot(r,619,Ul(t)),Ot(r,48,wme({xfId:0,name:"Normal"})),Ot(r,620)}function Cme(r){var t=0;Ot(r,505,Ul(t)),Ot(r,506)}function Ome(r){var t=0;Ot(r,508,_me(t,"TableStyleMedium9","PivotStyleMedium4")),Ot(r,509)}function Pme(r,t){var e=ms();return Ot(e,278),Sme(e,r.SSF),kme(e),Nme(e),Eme(e),jme(e),Ame(e,t.cellXfs),Tme(e),Cme(e),Ome(e),Ot(e,279),e.end()}function lU(r,t){if(t&&t.themeXLSX)return t.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var e=[Gi];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function Mme(r,t){return{flags:r.read_shift(4),version:r.read_shift(4),name:gs(r)}}function Ime(r){var t=dt(12+2*r.name.length);return t.write_shift(4,r.flags),t.write_shift(4,r.version),na(r.name,t),t.slice(0,t.l)}function Rme(r){for(var t=[],e=r.read_shift(4);e-- >0;)t.push([r.read_shift(4),r.read_shift(4)]);return t}function Fme(r){var t=dt(4+8*r.length);t.write_shift(4,r.length);for(var e=0;e<r.length;++e)t.write_shift(4,r[e][0]),t.write_shift(4,r[e][1]);return t}function Lme(r,t){var e=dt(8+2*t.length);return e.write_shift(4,r),na(t,e),e.slice(0,e.l)}function Dme(r){return r.l+=4,r.read_shift(4)!=0}function Bme(r,t){var e=dt(8);return e.write_shift(4,r),e.write_shift(4,1),e}function $me(){var r=ms();return Ot(r,332),Ot(r,334,Ul(1)),Ot(r,335,Ime({name:"XLDAPR",version:12e4,flags:3496657072})),Ot(r,336),Ot(r,339,Lme(1,"XLDAPR")),Ot(r,52),Ot(r,35,Ul(514)),Ot(r,4096,Ul(0)),Ot(r,4097,Yo(1)),Ot(r,36),Ot(r,53),Ot(r,340),Ot(r,337,Bme(1)),Ot(r,51,Fme([[1,0]])),Ot(r,338),Ot(r,333),r.end()}function Ume(){var r=[Gi];return r.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),r.join("")}function zme(r){var t={};t.i=r.read_shift(4);var e={};e.r=r.read_shift(4),e.c=r.read_shift(4),t.r=_i(e);var n=r.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function cU(r,t,e){var n=[21600,21600],i=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),a=[Xt("xml",null,{"xmlns:v":No.v,"xmlns:o":No.o,"xmlns:x":No.x,"xmlns:mv":No.mv}).replace(/\/>/,">"),Xt("o:shapelayout",Xt("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"})],s=65536*r,l=t||[];return l.length>0&&a.push(Xt("v:shapetype",[Xt("v:stroke",null,{joinstyle:"miter"}),Xt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202",coordsize:n.join(","),"o:spt":202,path:i})),l.forEach(function(c){++s,a.push(qme(c,s))}),a.push("</xml>"),a.join("")}function qme(r,t,e){var n=gi(r[0]),i={color2:"#BEFF82",type:"gradient"};i.type=="gradient"&&(i.angle="-180");var a=i.type=="gradient"?Xt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,s=Xt("v:fill",a,i),l={on:"t",obscured:"t"};return["<v:shape"+s1({id:"_x0000_s"+t,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(r[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",s,Xt("v:shadow",null,l),Xt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Da("x:Anchor",[n.c+1,0,n.r+1,0,n.c+3,20,n.r+5,20].join(",")),Da("x:AutoFill","False"),Da("x:Row",String(n.r)),Da("x:Column",String(n.c)),r[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"].join("")}function Hme(r){var t=[Gi,Xt("comments",null,{xmlns:Bp[0]})],e=[];return t.push("<authors>"),r.forEach(function(n){n[1].forEach(function(i){var a=Kr(i.a);e.indexOf(a)==-1&&(e.push(a),t.push("<author>"+a+"</author>")),i.T&&i.ID&&e.indexOf("tc="+i.ID)==-1&&(e.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),e.length==0&&(e.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),r.forEach(function(n){var i=0,a=[],s=0;if(n[1][0]&&n[1][0].T&&n[1][0].ID&&(i=e.indexOf("tc="+n[1][0].ID)),n[1].forEach(function(o){o.a&&(i=e.indexOf(Kr(o.a))),o.T&&++s,a.push(o.t==null?"":Kr(o.t))}),s===0)n[1].forEach(function(o){t.push('<comment ref="'+n[0]+'" authorId="'+e.indexOf(Kr(o.a))+'"><text>'),t.push(Da("t",o.t==null?"":Kr(o.t))),t.push("</text></comment>")});else{n[1][0]&&n[1][0].T&&n[1][0].ID&&(i=e.indexOf("tc="+n[1][0].ID)),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>');for(var l=`Comment:
    `+a[0]+`
`,c=1;c<a.length;++c)l+=`Reply:
    `+a[c]+`
`;t.push(Da("t",Kr(l))),t.push("</text></comment>")}}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function uU(r,t,e){var n=[Gi,Xt("ThreadedComments",null,{xmlns:_a.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,l){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+e.tcid++).slice(-12)+"}"};l==0?a=c.id:c.parentId=a,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(Xt("threadedComment",Da("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function fU(r){var t=[Gi,Xt("personList",null,{xmlns:_a.TCMNT,"xmlns:x":Bp[0]}).replace(/[\/]>/,">")];return r.forEach(function(e,n){t.push(Xt("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Wme(r){var t={};t.iauthor=r.read_shift(4);var e=Lh(r);return t.rfx=e.s,t.ref=_i(e.s),r.l+=16,t}function Vme(r,t){return t==null&&(t=dt(36)),t.write_shift(4,r[1].iauthor),zp(r[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Gme=gs;function zI(r){return na(r.slice(0,54))}function Xme(r){var t=ms(),e=[];return Ot(t,628),Ot(t,630),r.forEach(function(n){n[1].forEach(function(i){e.indexOf(i.a)>-1||(e.push(i.a.slice(0,54)),Ot(t,632,zI(i.a)),i.T&&i.ID&&e.indexOf("tc="+i.ID)==-1&&(e.push("tc="+i.ID),Ot(t,632,zI("tc="+i.ID))))})}),Ot(t,631),Ot(t,633),r.forEach(function(n){n[1].forEach(function(i){var a=-1;i.ID&&(a=e.indexOf("tc="+i.ID)),a==-1&&n[1][0].T&&n[1][0].ID&&(a=e.indexOf("tc="+n[1][0].ID)),a==-1&&(a=e.indexOf(i.a)),i.iauthor=a;var s={s:gi(n[0]),e:gi(n[0])};Ot(t,635,Vme([s,i])),i.t&&i.t.length>0&&Ot(t,637,W0e(i)),Ot(t,636),delete i.iauthor})}),Ot(t,634),Ot(t,629),t.end()}function Kme(r,t){t.FullPaths.forEach(function(e,n){if(n!=0){var i=e.replace(/^[\/]*[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Gn.utils.cfb_add(r,i,t.FileIndex[n].content)}})}var Yme=["xlsb","xlsm","xlam","biff8","xla"],qI=function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(n,i,a,s){var l=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1));var o=a.length>0?parseInt(a,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return l?u+=t.c:--u,c?o+=t.r:--o,i+(l?"":"$")+Fn(u)+(c?"":"$")+zn(o)}return function(i,a){return t=a,i.replace(r,e)}}(),o2=/(^|[^._A-Z0-9])(\$?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])(\$?)(\d{1,7})(?![_.\(A-Za-z0-9])/g;try{o2=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g}catch{}var l2=function(){return function(t,e){return t.replace(o2,function(n,i,a,s,l,c){var o=Zk(s)-(a?0:e.c),u=Jk(c)-(l?0:e.r),d=l=="$"?u+1:u==0?"":"["+u+"]",f=a=="$"?o+1:o==0?"":"["+o+"]";return i+"R"+d+"C"+f})}}();function Jme(r,t){return r.replace(o2,function(e,n,i,a,s,l){return n+(i=="$"?i+a:Fn(Zk(a)+t.c))+(s=="$"?s+l:zn(Jk(l)+t.r))})}function Zme(r){return r.length!=1}function $i(r){r.l+=1}function Zf(r,t){var e=r.read_shift(2);return[e&16383,e>>14&1,e>>15&1]}function dU(r,t,e){var n=2;if(e){if(e.biff>=2&&e.biff<=5)return hU(r);e.biff==12&&(n=4)}var i=r.read_shift(n),a=r.read_shift(n),s=Zf(r),l=Zf(r);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function hU(r){var t=Zf(r),e=Zf(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:e[0],c:i,cRel:e[1],rRel:e[2]}}}function Qme(r,t,e){if(e.biff<8)return hU(r);var n=r.read_shift(e.biff==12?4:2),i=r.read_shift(e.biff==12?4:2),a=Zf(r),s=Zf(r);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function pU(r,t,e){if(e&&e.biff>=2&&e.biff<=5)return ege(r);var n=r.read_shift(e&&e.biff==12?4:2),i=Zf(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function ege(r){var t=Zf(r),e=r.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}function tge(r){var t=r.read_shift(2),e=r.read_shift(2);return{r:t,c:e&255,fQuoted:!!(e&16384),cRel:e>>15,rRel:e>>15}}function rge(r,t,e){var n=e&&e.biff?e.biff:8;if(n>=2&&n<=5)return nge(r);var i=r.read_shift(n>=12?4:2),a=r.read_shift(2),s=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:l}}function nge(r){var t=r.read_shift(2),e=r.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&e>=128&&(e=e-256),{r:t,c:e,cRel:i,rRel:n}}function ige(r,t,e){var n=(r[r.l++]&96)>>5,i=dU(r,e.biff>=2&&e.biff<=5?6:8,e);return[n,i]}function age(r,t,e){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),a=8;if(e)switch(e.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}var s=dU(r,a,e);return[n,i,s]}function sge(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e&&e.biff>8?12:e.biff<8?6:8,[n]}function oge(r,t,e){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=8;if(e)switch(e.biff){case 5:r.l+=12,a=6;break;case 12:a=12;break}return r.l+=a,[n,i]}function lge(r,t,e){var n=(r[r.l++]&96)>>5,i=Qme(r,t-1,e);return[n,i]}function cge(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e.biff==2?6:e.biff==12?14:7,[n]}function HI(r){var t=r[r.l+1]&1,e=1;return r.l+=4,[t,e]}function uge(r,t,e){r.l+=2;for(var n=r.read_shift(e&&e.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(r.read_shift(e&&e.biff==2?1:2));return i}function fge(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function dge(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function hge(r){var t=r[r.l+1]&255?1:0;return r.l+=2,[t,r.read_shift(2)]}function pge(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=e&&e.biff==2?3:4,[n]}function mU(r){var t=r.read_shift(1),e=r.read_shift(1);return[t,e]}function mge(r){return r.read_shift(2),mU(r)}function gge(r){return r.read_shift(2),mU(r)}function yge(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=pU(r,0,e);return[n,i]}function vge(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=rge(r,0,e);return[n,i]}function bge(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);e&&e.biff==5&&(r.l+=12);var a=pU(r,0,e);return[n,i,a]}function xge(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(e&&e.biff<=3?1:2);return[O1e[i],vU[i],n]}function wge(r,t,e){var n=r[r.l++],i=r.read_shift(1),a=e&&e.biff<=3?[n==88?-1:0,r.read_shift(1)]:_ge(r);return[i,(a[0]===0?vU:C1e)[a[1]]]}function _ge(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function Sge(r,t,e){r.l+=e&&e.biff==2?3:4}function kge(r,t,e){if(r.l++,e&&e.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(e&&e.biff==2?1:2);return[n,i]}function Nge(r){return r.l++,Ms[r.read_shift(1)]}function Ege(r){return r.l++,r.read_shift(2)}function jge(r){return r.l++,r.read_shift(1)!==0}function Age(r){return r.l++,qp(r)}function Tge(r,t,e){return r.l++,Q$(r,t-1,e)}function Cge(r,t){var e=[r.read_shift(1)];if(t==12)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2;break}switch(e[0]){case 4:e[1]=mpe(r,1)?"TRUE":"FALSE",t!=12&&(r.l+=7);break;case 37:case 16:e[1]=Ms[r[r.l]],r.l+=t==12?4:8;break;case 0:r.l+=8;break;case 1:e[1]=qp(r);break;case 2:e[1]=bpe(r,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function Oge(r,t,e){for(var n=r.read_shift(e.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((e.biff==12?Lh:_pe)(r));return i}function Pge(r,t,e){var n=0,i=0;e.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),e.biff>=2&&e.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var l=0;l!=i;++l)s[a][l]=Cge(r,e.biff);return s}function Mge(r,t,e){var n=r.read_shift(1)>>>5&3,i=!e||e.biff>=8?4:2,a=r.read_shift(i);switch(e.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,a]}function Ige(r,t,e){if(e.biff==5)return Rge(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),a=r.read_shift(4);return[n,i,a]}function Rge(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[t,e,n]}function Fge(r,t,e){var n=r.read_shift(1)>>>5&3;r.l+=e&&e.biff==2?3:4;var i=r.read_shift(e&&e.biff==2?1:2);return[n,i]}function Lge(r,t,e){var n=r.read_shift(1)>>>5&3,i=r.read_shift(e&&e.biff==2?1:2);return[n,i]}function Dge(r,t,e){var n=r.read_shift(1)>>>5&3;return r.l+=4,e.biff<8&&r.l--,e.biff==12&&(r.l+=2),[n]}function Bge(r,t,e){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),a=4;if(e)switch(e.biff){case 5:a=15;break;case 12:a=6;break}return r.l+=a,[n,i]}var $ge=Ec,Uge=Ec,zge=Ec;function O1(r,t,e){return r.l+=2,[tge(r)]}function iN(r){return r.l+=6,[]}var qge=O1,Hge=iN,Wge=iN,Vge=O1;function gU(r){return r.l+=2,[Bv(r),r.read_shift(2)&1]}var Gge=O1,Xge=gU,Kge=iN,Yge=O1,Jge=O1,Zge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Qge(r){r.l+=2;var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),a=r.read_shift(2),s=Zge[e>>2&31];return{ixti:t,coltype:e&3,rt:s,idx:n,c:i,C:a}}function e1e(r){return r.l+=2,[r.read_shift(4)]}function t1e(r,t,e){return r.l+=5,r.l+=2,r.l+=e.biff==2?1:4,["PTGSHEET"]}function r1e(r,t,e){return r.l+=e.biff==2?4:5,["PTGENDSHEET"]}function n1e(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function i1e(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function a1e(r){return r.l+=4,[0,0]}var WI={1:{n:"PtgExp",f:kge},2:{n:"PtgTbl",f:zge},3:{n:"PtgAdd",f:$i},4:{n:"PtgSub",f:$i},5:{n:"PtgMul",f:$i},6:{n:"PtgDiv",f:$i},7:{n:"PtgPower",f:$i},8:{n:"PtgConcat",f:$i},9:{n:"PtgLt",f:$i},10:{n:"PtgLe",f:$i},11:{n:"PtgEq",f:$i},12:{n:"PtgGe",f:$i},13:{n:"PtgGt",f:$i},14:{n:"PtgNe",f:$i},15:{n:"PtgIsect",f:$i},16:{n:"PtgUnion",f:$i},17:{n:"PtgRange",f:$i},18:{n:"PtgUplus",f:$i},19:{n:"PtgUminus",f:$i},20:{n:"PtgPercent",f:$i},21:{n:"PtgParen",f:$i},22:{n:"PtgMissArg",f:$i},23:{n:"PtgStr",f:Tge},26:{n:"PtgSheet",f:t1e},27:{n:"PtgEndSheet",f:r1e},28:{n:"PtgErr",f:Nge},29:{n:"PtgBool",f:jge},30:{n:"PtgInt",f:Ege},31:{n:"PtgNum",f:Age},32:{n:"PtgArray",f:cge},33:{n:"PtgFunc",f:xge},34:{n:"PtgFuncVar",f:wge},35:{n:"PtgName",f:Mge},36:{n:"PtgRef",f:yge},37:{n:"PtgArea",f:ige},38:{n:"PtgMemArea",f:Fge},39:{n:"PtgMemErr",f:$ge},40:{n:"PtgMemNoMem",f:Uge},41:{n:"PtgMemFunc",f:Lge},42:{n:"PtgRefErr",f:Dge},43:{n:"PtgAreaErr",f:sge},44:{n:"PtgRefN",f:vge},45:{n:"PtgAreaN",f:lge},46:{n:"PtgMemAreaN",f:n1e},47:{n:"PtgMemNoMemN",f:i1e},57:{n:"PtgNameX",f:Ige},58:{n:"PtgRef3d",f:bge},59:{n:"PtgArea3d",f:age},60:{n:"PtgRefErr3d",f:Bge},61:{n:"PtgAreaErr3d",f:oge},255:{}},s1e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},o1e={1:{n:"PtgElfLel",f:gU},2:{n:"PtgElfRw",f:Yge},3:{n:"PtgElfCol",f:qge},6:{n:"PtgElfRwV",f:Jge},7:{n:"PtgElfColV",f:Vge},10:{n:"PtgElfRadical",f:Gge},11:{n:"PtgElfRadicalS",f:Kge},13:{n:"PtgElfColS",f:Hge},15:{n:"PtgElfColSV",f:Wge},16:{n:"PtgElfRadicalLel",f:Xge},25:{n:"PtgList",f:Qge},29:{n:"PtgSxName",f:e1e},255:{}},l1e={0:{n:"PtgAttrNoop",f:a1e},1:{n:"PtgAttrSemi",f:pge},2:{n:"PtgAttrIf",f:dge},4:{n:"PtgAttrChoose",f:uge},8:{n:"PtgAttrGoto",f:fge},16:{n:"PtgAttrSum",f:Sge},32:{n:"PtgAttrBaxcel",f:HI},33:{n:"PtgAttrBaxcel",f:HI},64:{n:"PtgAttrSpace",f:mge},65:{n:"PtgAttrSpaceSemi",f:gge},128:{n:"PtgAttrIfError",f:hge},255:{}};function c1e(r,t,e,n){if(n.biff<8)return Ec(r,t);for(var i=r.l+t,a=[],s=0;s!==e.length;++s)switch(e[s][0]){case"PtgArray":e[s][1]=Pge(r,0,n),a.push(e[s][1]);break;case"PtgMemArea":e[s][2]=Oge(r,e[s][1],n),a.push(e[s][2]);break;case"PtgExp":n&&n.biff==12&&(e[s][1][1]=r.read_shift(4),a.push(e[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[s][0]}return t=i-r.l,t!==0&&a.push(Ec(r,t)),a}function u1e(r,t,e){for(var n=r.l+t,i,a,s=[];n!=r.l;)t=n-r.l,a=r[r.l],i=WI[a]||WI[s1e[a]],(a===24||a===25)&&(i=(a===24?o1e:l1e)[r[r.l+1]]),!i||!i.f?Ec(r,t):s.push([i.n,i.f(r,t,e)]);return s}function f1e(r){for(var t=[],e=0;e<r.length;++e){for(var n=r[e],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var d1e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function h1e(r,t){var e=r.lastIndexOf("!"),n=t.lastIndexOf("!");return e==-1&&n==-1?r+":"+t:e>0&&n>0&&r.slice(0,e).toLowerCase()==t.slice(0,n).toLowerCase()?r+":"+t.slice(n+1):(console.error("Cannot hydrate range",r,t),r+":"+t)}function yU(r,t,e){if(!r)return"SH33TJSERR0";if(e.biff>8&&(!r.XTI||!r.XTI[t]))return r.SheetNames[t];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":r.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(e.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return e.SID!=null?r.SheetNames[e.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function VI(r,t,e){var n=yU(r,t,e);return n=="#REF"?n:l1(n,e)}function Ep(r,t,e,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},l=[],c,o,u,d=0,f=0,h,y="";if(!r[0]||!r[0][0])return"";for(var m=-1,g="",v=0,b=r[0].length;v<b;++v){var w=r[0][v];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),o=l.pop(),m>=0){switch(r[0][m][1][0]){case 0:g=pi(" ",r[0][m][1][1]);break;case 1:g=pi("\r",r[0][m][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][m][1][0])}o=o+g,m=-1}l.push(o+d1e[w[0]]+c);break;case"PtgIsect":c=l.pop(),o=l.pop(),l.push(o+" "+c);break;case"PtgUnion":c=l.pop(),o=l.pop(),l.push(o+","+c);break;case"PtgRange":c=l.pop(),o=l.pop(),l.push(h1e(o,c));break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=sg(w[1][1],s,i),l.push(og(u,a));break;case"PtgRefN":u=e?sg(w[1][1],e,i):w[1][1],l.push(og(u,a));break;case"PtgRef3d":d=w[1][1],u=sg(w[1][2],s,i),y=VI(n,d,i),l.push(y+"!"+og(u,a));break;case"PtgFunc":case"PtgFuncVar":var _=w[1][0],N=w[1][1];_||(_=0),_&=127;var P=_==0?[]:l.slice(-_);l.length-=_,N==="User"&&(N=P.shift()),l.push(N+"("+P.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":h=jI(w[1][1],e?{s:e}:s,i),l.push(c6(h,i));break;case"PtgArea":h=jI(w[1][1],s,i),l.push(c6(h,i));break;case"PtgArea3d":d=w[1][1],h=w[1][2],y=VI(n,d,i),l.push(y+"!"+c6(h,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=w[1][2];var M=(n.names||[])[f-1]||(n[0]||[])[f],A=M?M.Name:"SH33TJSNAME"+String(f);A&&A.slice(0,6)=="_xlfn."&&!i.xlfn&&(A=A.slice(6)),l.push(A);break;case"PtgNameX":var F=w[1][1];f=w[1][2];var H;if(i.biff<=5)F<0&&(F=-F),n[F]&&(H=n[F][f]);else{var z="";if(((n[F]||[])[0]||[])[0]==14849||(((n[F]||[])[0]||[])[0]==1025?n[F][f]&&n[F][f].itab>0&&(z=n.SheetNames[n[F][f].itab-1]+"!"):z=n.SheetNames[f-1]+"!"),n[F]&&n[F][f])z+=n[F][f].Name;else if(n[0]&&n[0][f])z+=n[0][f].Name;else{var U=(yU(n,F,i)||"").split(";;");U[f-1]?z=U[f-1]:z+="SH33TJSERRX"}l.push(z);break}H||(H={Name:"SH33TJSERRY"}),l.push(H.Name);break;case"PtgParen":var O="(",L=")";if(m>=0){switch(g="",r[0][m][1][0]){case 2:O=pi(" ",r[0][m][1][1])+O;break;case 3:O=pi("\r",r[0][m][1][1])+O;break;case 4:L=pi(" ",r[0][m][1][1])+L;break;case 5:L=pi("\r",r[0][m][1][1])+L;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][m][1][0])}m=-1}l.push(O+l.pop()+L);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var C={c:e.c,r:e.r};if(n.sharedf[_i(u)]){var k=n.sharedf[_i(u)];l.push(Ep(k,s,C,n,i))}else{var j=!1;for(c=0;c!=n.arrayf.length;++c)if(o=n.arrayf[c],!(u.c<o[0].s.c||u.c>o[0].e.c)&&!(u.r<o[0].s.r||u.r>o[0].e.r)){l.push(Ep(o[1],s,C,n,i)),j=!0;break}j||l.push(w[1])}break;case"PtgArray":l.push("{"+f1e(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var E=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&E.indexOf(r[0][v][0])==-1){w=r[0][m];var T=!0;switch(w[1][0]){case 4:T=!1;case 0:g=pi(" ",w[1][1]);break;case 5:T=!1;case 1:g=pi("\r",w[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((T?g:"")+l.pop()+(T?"":g)),m=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]=="TRUE"?!0:l[0]=="FALSE"?!1:l[0]}function p1e(r){if(r==null){var t=dt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof r=="number")return Sh(r);return Sh(0)}function m1e(r,t,e,n,i){var a=kh(t,e,i),s=p1e(r.v),l=dt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var o=dt(r.bf.length),u=0;u<r.bf.length;++u)o[u]=r.bf[u];var d=zi([a,s,l,o]);return d}function c2(r,t,e){var n=r.read_shift(4),i=u1e(r,n,e),a=r.read_shift(4),s=a>0?c1e(r,a,i,e):null;return[i,s]}var g1e=c2,u2=c2,y1e=c2,v1e=c2;function GI(r){if((r|0)==r&&r<Math.pow(2,16)&&r>=0){var t=dt(11);return t.write_shift(4,3),t.write_shift(1,30),t.write_shift(2,r),t.write_shift(4,0),t}var e=dt(17);return e.write_shift(4,11),e.write_shift(1,31),e.write_shift(8,r),e.write_shift(4,0),e}function b1e(r){var t=dt(10);return t.write_shift(4,2),t.write_shift(1,28),t.write_shift(1,r),t.write_shift(4,0),t}function x1e(r){var t=dt(10);return t.write_shift(4,2),t.write_shift(1,29),t.write_shift(1,r?1:0),t.write_shift(4,0),t}function w1e(r){var t=dt(7);t.write_shift(4,3+2*r.length),t.write_shift(1,23),t.write_shift(2,r.length);var e=dt(2*r.length);e.write_shift(2*r.length,r,"utf16le");var n=dt(4);return n.write_shift(4,0),zi([t,e,n])}function _1e(r){var t=gi(r),e=dt(15);return e.write_shift(4,7),e.write_shift(1,36),e.write_shift(4,t.r),e.write_shift(2,t.c|(r.charAt(0)=="$"?0:1)<<14|(r.match(/\$\d/)?0:1)<<15),e.write_shift(4,0),e}function S1e(r,t){var e=r.lastIndexOf("!"),n=r.slice(0,e);r=r.slice(e+1);var i=gi(r);n.charAt(0)=="'"&&(n=n.slice(1,-1).replace(/''/g,"'"));var a=dt(17);return a.write_shift(4,9),a.write_shift(1,58),a.write_shift(2,2+t.SheetNames.map(function(s){return s.toLowerCase()}).indexOf(n.toLowerCase())),a.write_shift(4,i.r),a.write_shift(2,i.c|(r.charAt(0)=="$"?0:1)<<14|(r.match(/\$\d/)?0:1)<<15),a.write_shift(4,0),a}function k1e(r,t){var e=r.lastIndexOf("!"),n=r.slice(0,e);r=r.slice(e+1),n.charAt(0)=="'"&&(n=n.slice(1,-1).replace(/''/g,"'"));var i=dt(17);return i.write_shift(4,9),i.write_shift(1,60),i.write_shift(2,2+t.SheetNames.map(function(a){return a.toLowerCase()}).indexOf(n.toLowerCase())),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(4,0),i}function N1e(r){var t=r.split(":"),e=t[0],n=dt(23);n.write_shift(4,15),e=t[0];var i=gi(e);return n.write_shift(1,36),n.write_shift(4,i.r),n.write_shift(2,i.c|(e.charAt(0)=="$"?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),e=t[1],i=gi(e),n.write_shift(1,36),n.write_shift(4,i.r),n.write_shift(2,i.c|(e.charAt(0)=="$"?0:1)<<14|(e.match(/\$\d/)?0:1)<<15),n.write_shift(4,0),n.write_shift(1,17),n.write_shift(4,0),n}function E1e(r,t){var e=r.lastIndexOf("!"),n=r.slice(0,e);r=r.slice(e+1),n.charAt(0)=="'"&&(n=n.slice(1,-1).replace(/''/g,"'"));var i=r.split(":"),a=dt(27);a.write_shift(4,19);var s=i[0],l=gi(s);return a.write_shift(1,58),a.write_shift(2,2+t.SheetNames.map(function(c){return c.toLowerCase()}).indexOf(n.toLowerCase())),a.write_shift(4,l.r),a.write_shift(2,l.c|(s.charAt(0)=="$"?0:1)<<14|(s.match(/\$\d/)?0:1)<<15),s=i[1],l=gi(s),a.write_shift(1,58),a.write_shift(2,2+t.SheetNames.map(function(c){return c.toLowerCase()}).indexOf(n.toLowerCase())),a.write_shift(4,l.r),a.write_shift(2,l.c|(s.charAt(0)=="$"?0:1)<<14|(s.match(/\$\d/)?0:1)<<15),a.write_shift(1,17),a.write_shift(4,0),a}function j1e(r,t){var e=r.lastIndexOf("!"),n=r.slice(0,e);r=r.slice(e+1),n.charAt(0)=="'"&&(n=n.slice(1,-1).replace(/''/g,"'"));var i=Ua(r),a=dt(23);return a.write_shift(4,15),a.write_shift(1,59),a.write_shift(2,2+t.SheetNames.map(function(s){return s.toLowerCase()}).indexOf(n.toLowerCase())),a.write_shift(4,i.s.r),a.write_shift(4,i.e.r),a.write_shift(2,i.s.c),a.write_shift(2,i.e.c),a.write_shift(4,0),a}function A1e(r,t){if(typeof r=="number")return GI(r);if(typeof r=="boolean")return x1e(r);if(/^#(DIV\/0!|GETTING_DATA|N\/A|NAME\?|NULL!|NUM!|REF!|VALUE!)$/.test(r))return b1e(+vc[r]);if(r.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return _1e(r);if(r.match(/^\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return N1e(r);if(r.match(/^#REF!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return j1e(r,t);if(r.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return S1e(r,t);if(r.match(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5}):\$?(?:[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D]|[A-Z]{1,2})\$?(?:10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})$/))return E1e(r,t);if(/^(?:'[^\\\/?*\[\]:]*'|[^'][^\\\/?*\[\]:'`~!@#$%^()\-=+{}|;,<.>]*)!#REF!$/.test(r))return k1e(r,t);if(/^".*"$/.test(r))return w1e(r);if(/^[+-]\d+$/.test(r))return GI(parseInt(r,10));throw"Formula |"+r+"| not supported for XLSB"}var T1e=A1e,C1e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},vU={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},O1e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function P1e(r){var t="of:="+r.replace(o2,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function bU(r){return r.replace(/!/,".").replace(/:/,":.")}var lg=typeof Map<"u";function aN(r,t,e){var n=0,i=r.length;if(e){if(lg?e.has(t):Object.prototype.hasOwnProperty.call(e,t)){for(var a=lg?e.get(t):e[t];n<a.length;++n)if(r[a[n]].t===t)return r.Count++,a[n]}}else for(;n<i;++n)if(r[n].t===t)return r.Count++,n;return r[i]={t},r.Count++,r.Unique++,e&&(lg?(e.has(t)||e.set(t,[]),e.get(t).push(i)):(Object.prototype.hasOwnProperty.call(e,t)||(e[t]=[]),e[t].push(i))),i}function f2(r,t){var e={min:r+1,max:r+1},n=-1;return t.MDW&&(ku=t.MDW),t.width!=null?e.customWidth=1:t.wpx!=null?n=sx(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(e.width=d8(n),e.customWidth=1):t.width!=null&&(e.width=t.width),t.hidden&&(e.hidden=!0),t.level!=null&&(e.outlineLevel=e.level=t.level),e}function xU(r,t){if(r){var e=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=e[0]),r.right==null&&(r.right=e[1]),r.top==null&&(r.top=e[2]),r.bottom==null&&(r.bottom=e[3]),r.header==null&&(r.header=e[4]),r.footer==null&&(r.footer=e[5])}}function cd(r,t,e){var n=e.revssf[t.z!=null?t.z:"General"],i=60,a=r.length;if(n==null&&e.ssf){for(;i<392;++i)if(e.ssf[i]==null){a0e(t.z,i),e.ssf[i]=t.z,e.revssf[t.z]=n=i;break}}for(i=0;i!=a;++i)if(r[i].numFmtId===n)return i;return r[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function M1e(r,t,e){if(r&&r["!ref"]){var n=oi(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+e+"): "+r["!ref"])}}function I1e(r){if(r.length===0)return"";for(var t='<mergeCells count="'+r.length+'">',e=0;e!=r.length;++e)t+='<mergeCell ref="'+Wi(r[e])+'"/>';return t+"</mergeCells>"}function R1e(r,t,e,n,i){var a=!1,s={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[e];try{t.Workbook&&(c=t.Workbook.Sheets[e].CodeName||c)}catch{}a=!0,s.codeName=a1(Kr(c))}if(r&&r["!outline"]){var o={summaryBelow:1,summaryRight:1};r["!outline"].above&&(o.summaryBelow=0),r["!outline"].left&&(o.summaryRight=0),l=(l||"")+Xt("outlinePr",null,o)}!a&&!l||(i[i.length]=Xt("sheetPr",l,s))}var F1e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],L1e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function D1e(r){var t={sheet:1};return F1e.forEach(function(e){r[e]!=null&&r[e]&&(t[e]="1")}),L1e.forEach(function(e){r[e]!=null&&!r[e]&&(t[e]="0")}),r.password&&(t.password=iU(r.password).toString(16).toUpperCase()),Xt("sheetProtection",null,t)}function B1e(r){return xU(r),Xt("pageMargins",null,r)}function $1e(r,t){for(var e=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(e[e.length]=Xt("col",null,f2(i,n)));return e[e.length]="</cols>",e.join("")}function U1e(r,t,e,n){var i=typeof r.ref=="string"?r.ref:Wi(r.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var a=e.Workbook.Names,s=Ua(i);s.s.r==s.e.r&&(s.e.r=Ua(t["!ref"]).e.r,i=Wi(s));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref=l1(e.SheetNames[n])+"!"+o1(i);break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+e.SheetNames[n]+"'!"+i}),Xt("autoFilter",null,{ref:i})}function z1e(r,t,e,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Xt("sheetViews",Xt("sheetView",null,i),{})}function q1e(r,t,e,n,i,a,s){if(r.c&&e["!comments"].push([t,r.c]),(r.v===void 0||r.t==="z"&&!(n||{}).sheetStubs)&&typeof r.f!="string"&&typeof r.z>"u")return"";var l="",c=r.t,o=r.v;if(r.t!=="z")switch(r.t){case"b":l=r.v?"1":"0";break;case"n":isNaN(r.v)?(r.t="e",l=Ms[r.v=36]):isFinite(r.v)?l=""+r.v:(r.t="e",l=Ms[r.v=7]);break;case"e":l=Ms[r.v];break;case"d":if(n&&n.cellDates){var u=eo(r.v,s);l=u.toISOString(),u.getUTCFullYear()<1900&&(l=l.slice(l.indexOf("T")+1).replace("Z",""))}else r=ys(r),r.t="n",l=""+(r.v=za(eo(r.v,s),s));typeof r.z>"u"&&(r.z=si[14]);break;default:l=r.v;break}var d=r.t=="z"||r.v==null?"":Da("v",Kr(l)),f={r:t},h=cd(n.cellXfs,r,n);switch(h!==0&&(f.s=h),r.t){case"n":break;case"d":f.t="d";break;case"b":f.t="b";break;case"e":f.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){d=Da("v",""+aN(n.Strings,r.v,n.revStrings)),f.t="s";break}else f.t="str";break}if(r.t!=c&&(r.t=c,r.v=o),typeof r.f=="string"&&r.f){var y=r.F&&r.F.slice(0,t.length)==t?{t:"array",ref:r.F}:null;d=Xt("f",Kr(r.f),y)+(r.v!=null?d:"")}return r.l&&(r.l.display=Kr(l),e["!links"].push([t,r.l])),r.D&&(f.cm=1),Xt("c",d,f)}function H1e(r,t,e,n){var i=[],a=[],s=oi(r["!ref"]),l="",c,o="",u=[],d=0,f=0,h=r["!rows"],y=r["!data"]!=null,m=y?r["!data"]:[],g={r:o},v,b=-1,w=(((n||{}).Workbook||{}).WBProps||{}).date1904;for(f=s.s.c;f<=s.e.c;++f)u[f]=Fn(f);for(d=s.s.r;d<=s.e.r;++d){a=[],o=zn(d);var _=y?m[d]:[];for(f=s.s.c;f<=s.e.c;++f){c=u[f]+o;var N=y?_[f]:r[c];N!==void 0&&(l=q1e(N,c,r,t,e,n,w))!=null&&a.push(l)}(a.length>0||h&&h[d])&&(g={r:o},h&&h[d]&&(v=h[d],v.hidden&&(g.hidden=1),b=-1,v.hpx?b=ox(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(g.ht=b,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),i[i.length]=Xt("row",a.join(""),g))}if(h)for(;d<h.length;++d)h&&h[d]&&(g={r:d+1},v=h[d],v.hidden&&(g.hidden=1),b=-1,v.hpx?b=ox(v.hpx):v.hpt&&(b=v.hpt),b>-1&&(g.ht=b,g.customHeight=1),v.level&&(g.outlineLevel=v.level),i[i.length]=Xt("row","",g));return i.join("")}function W1e(r,t,e,n){var i=[Gi,Xt("worksheet",null,{xmlns:Bp[0],"xmlns:r":_a.r})],a=e.SheetNames[r],s=0,l="",c=e.Sheets[a];c==null&&(c={});var o=c["!ref"]||"A1",u=oi(o);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+o+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),o=Wi(u)}n||(n={}),c["!comments"]=[];var d=[];R1e(c,e,r,t,i),i[i.length]=Xt("dimension",null,{ref:o}),i[i.length]=z1e(c,t,r,e),t.sheetFormat&&(i[i.length]=Xt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=$1e(c,c["!cols"])),i[s=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=H1e(c,t,r,e),l.length>0&&(i[i.length]=l)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),c["!protect"]&&(i[i.length]=D1e(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=U1e(c["!autofilter"],c,e,r)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=I1e(c["!merges"]));var f=-1,h,y=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(h={ref:m[0]},m[1].Target.charAt(0)!="#"&&(y=_n(n,-1,Kr(m[1].Target).replace(/#[\s\S]*$/,""),cn.HLINK),h["r:id"]="rId"+y),(f=m[1].Target.indexOf("#"))>-1&&(h.location=Kr(m[1].Target.slice(f+1))),m[1].Tooltip&&(h.tooltip=Kr(m[1].Tooltip)),h.display=m[1].display,i[i.length]=Xt("hyperlink",null,h))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=B1e(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=Da("ignoredErrors",Xt("ignoredError",null,{numberStoredAsText:1,sqref:o}))),d.length>0&&(y=_n(n,-1,"../drawings/drawing"+(r+1)+".xml",cn.DRAW),i[i.length]=Xt("drawing",null,{"r:id":"rId"+y}),c["!drawing"]=d),c["!comments"].length>0&&(y=_n(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",cn.VML),i[i.length]=Xt("legacyDrawing",null,{"r:id":"rId"+y}),c["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function V1e(r,t){var e={},n=r.l+t;e.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var a=r.read_shift(1);return r.l=n,a&7&&(e.level=a&7),a&16&&(e.hidden=!0),a&32&&(e.hpt=i/20),e}function G1e(r,t,e){var n=dt(145),i=(e["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var a=320;i.hpx?a=ox(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var o={r,c:0},u=e["!data"]!=null,d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,y=d<<10;y<d+1<<10;++y){o.c=y;var m=u?(e["!data"][o.r]||[])[o.c]:e[_i(o)];m&&(f<0&&(f=y),h=y)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function X1e(r,t,e,n){var i=G1e(n,e,t);(i.length>17||(t["!rows"]||[])[n])&&Ot(r,0,i)}var K1e=Lh,Y1e=zp;function J1e(){}function Z1e(r,t){var e={},n=r[r.l];return++r.l,e.above=!(n&64),e.left=!(n&128),r.l+=18,e.name=V0e(r),e}function Q1e(r,t,e){e==null&&(e=dt(84+4*r.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),e.write_shift(1,n);for(var i=1;i<3;++i)e.write_shift(1,0);return nx({auto:1},e),e.write_shift(-4,-1),e.write_shift(-4,-1),B$(r,e),e.slice(0,e.l)}function eye(r){var t=sl(r);return[t]}function tye(r,t,e){return e==null&&(e=dt(8)),Ih(t,e)}function rye(r){var t=Rh(r);return[t]}function nye(r,t,e){return e==null&&(e=dt(4)),Fh(t,e)}function iye(r){var t=sl(r),e=r.read_shift(1);return[t,e,"b"]}function aye(r,t,e){return e==null&&(e=dt(9)),Ih(t,e),e.write_shift(1,r.v?1:0),e}function sye(r){var t=Rh(r),e=r.read_shift(1);return[t,e,"b"]}function oye(r,t,e){return e==null&&(e=dt(5)),Fh(t,e),e.write_shift(1,r.v?1:0),e}function lye(r){var t=sl(r),e=r.read_shift(1);return[t,e,"e"]}function p6(r,t,e){return e==null&&(e=dt(9)),Ih(t,e),e.write_shift(1,r.v),e}function cye(r){var t=Rh(r),e=r.read_shift(1);return[t,e,"e"]}function m6(r,t,e){return e==null&&(e=dt(8)),Fh(t,e),e.write_shift(1,r.v),e.write_shift(2,0),e.write_shift(1,0),e}function uye(r){var t=sl(r),e=r.read_shift(4);return[t,e,"s"]}function fye(r,t,e){return e==null&&(e=dt(12)),Ih(t,e),e.write_shift(4,t.v),e}function dye(r){var t=Rh(r),e=r.read_shift(4);return[t,e,"s"]}function hye(r,t,e){return e==null&&(e=dt(8)),Fh(t,e),e.write_shift(4,t.v),e}function pye(r){var t=sl(r),e=qp(r);return[t,e,"n"]}function mye(r,t,e){return e==null&&(e=dt(16)),Ih(t,e),Sh(r.v,e),e}function gye(r){var t=Rh(r),e=qp(r);return[t,e,"n"]}function yye(r,t,e){return e==null&&(e=dt(12)),Fh(t,e),Sh(r.v,e),e}function vye(r){var t=sl(r),e=tN(r);return[t,e,"n"]}function bye(r,t,e){return e==null&&(e=dt(12)),Ih(t,e),$$(r.v,e),e}function xye(r){var t=Rh(r),e=tN(r);return[t,e,"n"]}function wye(r,t,e){return e==null&&(e=dt(8)),Fh(t,e),$$(r.v,e),e}function _ye(r){var t=sl(r),e=Qk(r);return[t,e,"is"]}function Sye(r){var t=sl(r),e=gs(r);return[t,e,"str"]}function kye(r,t,e){var n=r.v==null?"":String(r.v);return e==null&&(e=dt(12+4*r.v.length)),Ih(t,e),na(n,e),e.length>e.l?e.slice(0,e.l):e}function Nye(r){var t=Rh(r),e=gs(r);return[t,e,"str"]}function Eye(r,t,e){var n=r.v==null?"":String(r.v);return e==null&&(e=dt(8+4*n.length)),Fh(t,e),na(n,e),e.length>e.l?e.slice(0,e.l):e}function jye(r,t,e){var n=r.l+t,i=sl(r);i.r=e["!row"];var a=r.read_shift(1),s=[i,a,"b"];if(e.cellFormula){r.l+=2;var l=u2(r,n-r.l,e);s[3]=Ep(l,null,i,e.supbooks,e)}else r.l=n;return s}function Aye(r,t,e){var n=r.l+t,i=sl(r);i.r=e["!row"];var a=r.read_shift(1),s=[i,a,"e"];if(e.cellFormula){r.l+=2;var l=u2(r,n-r.l,e);s[3]=Ep(l,null,i,e.supbooks,e)}else r.l=n;return s}function Tye(r,t,e){var n=r.l+t,i=sl(r);i.r=e["!row"];var a=qp(r),s=[i,a,"n"];if(e.cellFormula){r.l+=2;var l=u2(r,n-r.l,e);s[3]=Ep(l,null,i,e.supbooks,e)}else r.l=n;return s}function Cye(r,t,e){var n=r.l+t,i=sl(r);i.r=e["!row"];var a=gs(r),s=[i,a,"str"];if(e.cellFormula){r.l+=2;var l=u2(r,n-r.l,e);s[3]=Ep(l,null,i,e.supbooks,e)}else r.l=n;return s}var Oye=Lh,Pye=zp;function Mye(r,t){return t==null&&(t=dt(4)),t.write_shift(4,r),t}function Iye(r,t){var e=r.l+t,n=Lh(r),i=s2(r),a=gs(r),s=gs(r),l=gs(r);r.l=e;var c={rfx:n,relId:i,loc:a,display:l};return s&&(c.Tooltip=s),c}function Rye(r,t){var e=dt(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));zp({s:gi(r[0]),e:gi(r[0])},e),eN("rId"+t,e);var n=r[1].Target.indexOf("#"),i=n==-1?"":r[1].Target.slice(n+1);return na(i||"",e),na(r[1].Tooltip||"",e),na("",e),e.slice(0,e.l)}function Fye(){}function Lye(r,t,e){var n=r.l+t,i=U$(r),a=r.read_shift(1),s=[i];if(s[2]=a,e.cellFormula){var l=g1e(r,n-r.l,e);s[1]=l}else r.l=n;return s}function Dye(r,t,e){var n=r.l+t,i=Lh(r),a=[i];if(e.cellFormula){var s=v1e(r,n-r.l,e);a[1]=s,r.l=n}else r.l=n;return a}function Bye(r,t,e){e==null&&(e=dt(18));var n=f2(r,t);e.write_shift(-4,r),e.write_shift(-4,r),e.write_shift(4,(n.width||10)*256),e.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),e.write_shift(2,i),e}var wU=["left","right","top","bottom","header","footer"];function $ye(r){var t={};return wU.forEach(function(e){t[e]=qp(r)}),t}function Uye(r,t){return t==null&&(t=dt(6*8)),xU(r),wU.forEach(function(e){Sh(r[e],t)}),t}function zye(r){var t=r.read_shift(2);return r.l+=28,{RTL:t&32}}function qye(r,t,e){e==null&&(e=dt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,100),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(4,0),e}function Hye(r){var t=dt(24);return t.write_shift(4,4),t.write_shift(4,1),zp(r,t),t}function Wye(r,t){return t==null&&(t=dt(16*4+2)),t.write_shift(2,r.password?iU(r.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?t.write_shift(4,r[e[0]]!=null&&!r[e[0]]?1:0):t.write_shift(4,r[e[0]]!=null&&r[e[0]]?0:1)}),t}function Vye(){}function Gye(){}function Xye(r,t,e,n,i,a,s,l){var c={r:e,c:n};if(t.c&&a["!comments"].push([_i(c),t.c]),t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=ys(t),t.z=t.z||si[14],t.v=za(eo(t.v,l),l),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}switch(c.s=cd(i.cellXfs,t,i),t.l&&a["!links"].push([_i(c),t.l]),t.t){case"s":case"str":return i.bookSST?(o=aN(i.Strings,t.v==null?"":String(t.v),i.revStrings),c.t="s",c.v=o,s?Ot(r,18,hye(t,c)):Ot(r,7,fye(t,c))):(c.t="str",s?Ot(r,17,Eye(t,c)):Ot(r,6,kye(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?Ot(r,13,wye(t,c)):Ot(r,2,bye(t,c)):isFinite(t.v)?s?Ot(r,16,yye(t,c)):Ot(r,5,mye(t,c)):(c.t="e",isNaN(t.v)?s?Ot(r,14,m6({v:36},c)):Ot(r,3,p6({v:36},c)):s?Ot(r,14,m6({v:7},c)):Ot(r,3,p6({v:7},c))),!0;case"b":return c.t="b",s?Ot(r,15,oye(t,c)):Ot(r,4,aye(t,c)),!0;case"e":return c.t="e",s?Ot(r,14,m6(t,c)):Ot(r,3,p6(t,c)),!0}return s?Ot(r,12,nye(t,c)):Ot(r,1,tye(t,c)),!0}function Kye(r,t,e,n,i){var a=oi(t["!ref"]||"A1"),s="",l=[],c=(((i||{}).Workbook||{}).WBProps||{}).date1904;Ot(r,145);var o=t["!data"]!=null,u=o?t["!data"][a.s.r]:[],d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var f=a.s.r;f<=d;++f)if(s=zn(f),o&&(u=t["!data"][f]),X1e(r,t,a,f),!(o&&!u)){var h=!1;if(f<=a.e.r)for(var y=a.s.c;y<=a.e.c;++y){f===a.s.r&&(l[y]=Fn(y));var m=o?u[y]:t[l[y]+s];if(!m){h=!1;continue}h=Xye(r,m,f,y,n,t,h,c)}}Ot(r,146)}function Yye(r,t){!t||!t["!merges"]||(Ot(r,177,Mye(t["!merges"].length)),t["!merges"].forEach(function(e){Ot(r,176,Pye(e))}),Ot(r,178))}function Jye(r,t){!t||!t["!cols"]||(Ot(r,390),t["!cols"].forEach(function(e,n){e&&Ot(r,60,Bye(n,e))}),Ot(r,391))}function Zye(r,t){!t||!t["!ref"]||(Ot(r,648),Ot(r,649,Hye(oi(t["!ref"]))),Ot(r,650))}function Qye(r,t,e){t["!links"].forEach(function(n){if(n[1].Target){var i=_n(e,-1,n[1].Target.replace(/#[\s\S]*$/,""),cn.HLINK);Ot(r,494,Rye(n,i))}}),delete t["!links"]}function eve(r,t,e,n){if(t["!comments"].length>0){var i=_n(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",cn.VML);Ot(r,551,eN("rId"+i)),t["!legacy"]=i}}function tve(r,t,e,n){if(t["!autofilter"]){var i=t["!autofilter"],a=typeof i.ref=="string"?i.ref:Wi(i.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var s=e.Workbook.Names,l=Ua(a);l.s.r==l.e.r&&(l.e.r=Ua(t["!ref"]).e.r,a=Wi(l));for(var c=0;c<s.length;++c){var o=s[c];if(o.Name=="_xlnm._FilterDatabase"&&o.Sheet==n){o.Ref=l1(e.SheetNames[n])+"!"+o1(a);break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:l1(e.SheetNames[n])+"!"+o1(a)}),Ot(r,161,zp(oi(a))),Ot(r,162)}}function rve(r,t,e){Ot(r,133),Ot(r,137,qye(t,e)),Ot(r,138),Ot(r,134)}function nve(r,t){t["!protect"]&&Ot(r,535,Wye(t["!protect"]))}function ive(r,t,e,n){var i=ms(),a=e.SheetNames[r],s=e.Sheets[a]||{},l=a;try{e&&e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}var c=oi(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Ot(i,129),(e.vbaraw||s["!outline"])&&Ot(i,147,Q1e(l,s["!outline"])),Ot(i,148,Y1e(c)),rve(i,s,e.Workbook),Jye(i,s),Kye(i,s,r,t,e),nve(i,s),tve(i,s,e,r),Yye(i,s),Qye(i,s,n),s["!margins"]&&Ot(i,476,Uye(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Zye(i,s),eve(i,s,r,n),Ot(i,130),i.end()}function ave(r,t){r.l+=10;var e=gs(r);return{name:e}}var sve=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function ove(r){return!r.Workbook||!r.Workbook.WBProps?"false":S0e(r.Workbook.WBProps.date1904)?"true":"false"}var lve=":][*?/\\".split("");function _U(r,t){try{if(r=="")throw new Error("Sheet name cannot be blank");if(r.length>31)throw new Error("Sheet name cannot exceed 31 chars");if(r.charCodeAt(0)==39||r.charCodeAt(r.length-1)==39)throw new Error("Sheet name cannot start or end with apostrophe (')");if(r.toLowerCase()=="history")throw new Error("Sheet name cannot be 'History'");lve.forEach(function(e){if(r.indexOf(e)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})}catch(e){throw e}return!0}function cve(r,t,e){r.forEach(function(n,i){_U(n);for(var a=0;a<i;++a)if(n==r[a])throw new Error("Duplicate Sheet Name: "+n);if(e){var s=t&&t[i]&&t[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function uve(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var t=r.Workbook&&r.Workbook.Sheets||[];cve(r.SheetNames,t,!!r.vbaraw);for(var e=0;e<r.SheetNames.length;++e)M1e(r.Sheets[r.SheetNames[e]],r.SheetNames[e],e);r.SheetNames.forEach(function(n,i){var a=r.Sheets[n];if(!(!a||!a["!autofilter"])){var s;r.Workbook||(r.Workbook={}),r.Workbook.Names||(r.Workbook.Names=[]),r.Workbook.Names.forEach(function(c){c.Name=="_xlnm._FilterDatabase"&&c.Sheet==i&&(s=c)});var l=l1(n)+"!"+o1(a["!autofilter"].ref);s?s.Ref=l:r.Workbook.Names.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:l})}})}function fve(r){var t=[Gi];t[t.length]=Xt("workbook",null,{xmlns:Bp[0],"xmlns:r":_a.r});var e=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(sve.forEach(function(l){r.Workbook.WBProps[l[0]]!=null&&r.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=r.Workbook.WBProps[l[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Xt("workbookPr",null,n);var i=r.Workbook&&r.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=r.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==r.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=r.SheetNames.length;++a){var s={name:Kr(r.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=Xt("sheet",null,s)}return t[t.length]="</sheets>",e&&(t[t.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Xt("definedName",Kr(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function dve(r,t){var e={};return e.Hidden=r.read_shift(4),e.iTabID=r.read_shift(4),e.strRelID=f8(r),e.name=gs(r),e}function hve(r,t){return t||(t=dt(127)),t.write_shift(4,r.Hidden),t.write_shift(4,r.iTabID),eN(r.strRelID,t),na(r.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function pve(r,t){var e={},n=r.read_shift(4);e.defaultThemeVersion=r.read_shift(4);var i=t>8?gs(r):"";return i.length>0&&(e.CodeName=i),e.autoCompressPictures=!!(n&65536),e.backupFile=!!(n&64),e.checkCompatibility=!!(n&4096),e.date1904=!!(n&1),e.filterPrivacy=!!(n&8),e.hidePivotFieldList=!!(n&1024),e.promptedSolutions=!!(n&16),e.publishItems=!!(n&2048),e.refreshAllConnections=!!(n&262144),e.saveExternalLinkValues=!!(n&128),e.showBorderUnselectedTables=!!(n&4),e.showInkAnnotation=!!(n&32),e.showObjects=["all","placeholders","none"][n>>13&3],e.showPivotChartFilter=!!(n&32768),e.updateLinks=["userSet","never","always"][n>>8&3],e}function mve(r,t){t||(t=dt(72));var e=0;return r&&(r.date1904&&(e|=1),r.filterPrivacy&&(e|=8)),t.write_shift(4,e),t.write_shift(4,0),B$(r&&r.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function gve(r,t,e){var n=r.l+t,i=r.read_shift(4);r.l+=1;var a=r.read_shift(4),s=G0e(r),l,c="";try{l=y1e(r,0,e);try{c=s2(r)}catch{}}catch{console.error("Could not parse defined name "+s)}i&32&&(s="_xlnm."+s),r.l=n;var o={Name:s,Ptg:l,Flags:i};return a<268435455&&(o.Sheet=a),c&&(o.Comment=c),o}function yve(r,t){var e=dt(9),n=0,i=r.Name;ape.indexOf(i)>-1&&(n|=32,i=i.slice(6)),e.write_shift(4,n),e.write_shift(1,0),e.write_shift(4,r.Sheet==null?4294967295:r.Sheet);var a=[e,na(i),T1e(r.Ref,t)];if(r.Comment)a.push(c1(r.Comment));else{var s=dt(4);s.write_shift(4,4294967295),a.push(s)}return zi(a)}function vve(r,t){Ot(r,143);for(var e=0;e!=t.SheetNames.length;++e){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[e]&&t.Workbook.Sheets[e].Hidden||0,i={Hidden:n,iTabID:e+1,strRelID:"rId"+(e+1),name:t.SheetNames[e]};Ot(r,156,hve(i))}Ot(r,144)}function bve(r,t){t||(t=dt(127));for(var e=0;e!=4;++e)t.write_shift(4,0);return na("SheetJS",t),na(Xb.version,t),na(Xb.version,t),na("7262",t),t.length>t.l?t.slice(0,t.l):t}function xve(r,t){t||(t=dt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,r),t.write_shift(4,r);var e=120;return t.write_shift(1,e),t.length>t.l?t.slice(0,t.l):t}function wve(r,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var e=t.Workbook.Sheets,n=0,i=-1,a=-1;n<e.length;++n)!e[n]||!e[n].Hidden&&i==-1?i=n:e[n].Hidden==1&&a==-1&&(a=n);a>i||(Ot(r,135),Ot(r,158,xve(i)),Ot(r,136))}}function _ve(r,t){!t.Workbook||!t.Workbook.Names||t.Workbook.Names.forEach(function(e){try{if(e.Flags&14)return;Ot(r,39,yve(e,t))}catch{console.error("Could not serialize defined name "+JSON.stringify(e))}})}function Sve(r){var t=r.SheetNames.length,e=dt(12*t+28);e.write_shift(4,t+2),e.write_shift(4,0),e.write_shift(4,-2),e.write_shift(4,-2),e.write_shift(4,0),e.write_shift(4,-1),e.write_shift(4,-1);for(var n=0;n<t;++n)e.write_shift(4,0),e.write_shift(4,n),e.write_shift(4,n);return e}function kve(r,t){Ot(r,353),Ot(r,357),Ot(r,362,Sve(t)),Ot(r,354)}function Nve(r,t){var e=ms();return Ot(e,131),Ot(e,128,bve()),Ot(e,153,mve(r.Workbook&&r.Workbook.WBProps||null)),wve(e,r),vve(e,r),kve(e,r),(r.Workbook||{}).Names&&_ve(e,r),Ot(e,132),e.end()}function Eve(r,t){var e=[];return r.Props&&e.push(upe(r.Props,t)),r.Custprops&&e.push(fpe(r.Props,r.Custprops)),e.join("")}function jve(r){return(((r||{}).Workbook||{}).WBProps||{}).date1904?'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"><Date1904/></ExcelWorkbook>':""}function Ave(r,t){var e=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var a=[];a.push(Xt("NumberFormat",null,{"ss:Format":Kr(si[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};e.push(Xt("Style",a.join(""),s))}),Xt("Styles",e.join(""))}function SU(r){return Xt("NamedRange",null,{"ss:Name":r.Name.slice(0,6)=="_xlnm."?r.Name.slice(6):r.Name,"ss:RefersTo":"="+l2(r.Ref,{r:0,c:0})})}function Tve(r){if(!((r||{}).Workbook||{}).Names)return"";for(var t=r.Workbook.Names,e=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||e.push(SU(i)))}return Xt("Names",e.join(""))}function Cve(r,t,e,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var l=i[s];l.Sheet==e&&(l.Name.match(/^_xlfn\./)||a.push(SU(l)))}return a.join("")}function Ove(r,t,e,n){if(!r)return"";var i=[];if(r["!margins"]&&(i.push("<PageSetup>"),r["!margins"].header&&i.push(Xt("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&i.push(Xt("Footer",null,{"x:Margin":r["!margins"].footer})),i.push(Xt("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[e])if(n.Workbook.Sheets[e].Hidden)i.push(Xt("Visible",n.Workbook.Sheets[e].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<e&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==e&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),r["!protect"]&&(i.push(Da("ProtectContents","True")),r["!protect"].objects&&i.push(Da("ProtectObjects","True")),r["!protect"].scenarios&&i.push(Da("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?i.push(Da("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&i.push(Da("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){r["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":Xt("WorksheetOptions",i.join(""),{xmlns:No.x})}function Pve(r){return r.map(function(t){var e=_0e(t.t||""),n=Xt("ss:Data",e,{xmlns:"http://www.w3.org/TR/REC-html40"}),i={};return t.a&&(i["ss:Author"]=t.a),r.hidden||(i["ss:ShowAlways"]="1"),Xt("Comment",n,i)}).join("")}function Mve(r,t,e,n,i,a,s){if(!r||r.v==null&&r.f==null)return"";var l={};if(r.f&&(l["ss:Formula"]="="+Kr(l2(r.f,s))),r.F&&r.F.slice(0,t.length)==t){var c=gi(r.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(r.l&&r.l.Target&&(l["ss:HRef"]=Kr(r.l.Target),r.l.Tooltip&&(l["x:HRefScreenTip"]=Kr(r.l.Tooltip))),e["!merges"])for(var o=e["!merges"],u=0;u!=o.length;++u)o[u].s.c!=s.c||o[u].s.r!=s.r||(o[u].e.c>o[u].s.c&&(l["ss:MergeAcross"]=o[u].e.c-o[u].s.c),o[u].e.r>o[u].s.r&&(l["ss:MergeDown"]=o[u].e.r-o[u].s.r));var d="",f="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":isFinite(r.v)?(d="Number",f=String(r.v)):(d="Error",f=Ms[isNaN(r.v)?36:7]);break;case"b":d="Boolean",f=r.v?"1":"0";break;case"e":d="Error",f=Ms[r.v];break;case"d":d="DateTime",f=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||si[14]);break;case"s":d="String",f=w0e(r.v||"");break}var h=cd(n.cellXfs,r,n);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=s.c+1;var y=r.v!=null?f:"",m=r.t=="z"?"":'<Data ss:Type="'+d+'">'+y+"</Data>";return(r.c||[]).length>0&&(m+=Pve(r.c)),Xt("Cell",m,l)}function Ive(r,t){var e='<Row ss:Index="'+(r+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=sU(t.hpt)),t.hpx&&(e+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(e+=' ss:Hidden="1"')),e+">"}function Rve(r,t,e,n){if(!r["!ref"])return"";var i=oi(r["!ref"]),a=r["!merges"]||[],s=0,l=[];r["!cols"]&&r["!cols"].forEach(function(g,v){nN(g);var b=!!g.width,w=f2(v,g),_={"ss:Index":v+1};b&&(_["ss:Width"]=ax(w.width)),g.hidden&&(_["ss:Hidden"]="1"),l.push(Xt("Column",null,_))});for(var c=r["!data"]!=null,o={r:0,c:0},u=i.s.r;u<=i.e.r;++u){var d=[Ive(u,(r["!rows"]||[])[u])];o.r=u;for(var f=i.s.c;f<=i.e.c;++f){o.c=f;var h=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>f)&&!(a[s].s.r>u)&&!(a[s].e.c<f)&&!(a[s].e.r<u)){(a[s].s.c!=f||a[s].s.r!=u)&&(h=!0);break}if(!h){var y=Fn(f)+zn(u),m=c?(r["!data"][u]||[])[f]:r[y];d.push(Mve(m,y,r,t,e,n,o))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function Fve(r,t,e){var n=[],i=e.SheetNames[r],a=e.Sheets[i],s=a?Cve(a,t,r,e):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?Rve(a,t,r,e):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Ove(a,t,r,e)),a&&a["!autofilter"]&&n.push('<AutoFilter x:Range="'+l2(o1(a["!autofilter"].ref),{r:0,c:0})+'" xmlns="urn:schemas-microsoft-com:office:excel"></AutoFilter>'),n.join("")}function Lve(r,t){t||(t={}),r.SSF||(r.SSF=ys(si)),r.SSF&&(n2(),r2(r.SSF),t.revssf=i2(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF,t.cellXfs=[],cd(t.cellXfs,{},{revssf:{General:0}}));var e=[];e.push(Eve(r,t)),e.push(jve(r)),e.push(""),e.push(Tve(r));for(var n=0;n<r.SheetNames.length;++n)e.push(Xt("Worksheet",Fve(n,t,r),{"ss:Name":Kr(r.SheetNames[n])}));return e[2]=Ave(r,t),Gi+Xt("Workbook",e.join(""),{xmlns:No.ss,"xmlns:o":No.o,"xmlns:x":No.x,"xmlns:ss":No.ss,"xmlns:dt":No.dt,"xmlns:html":No.html})}var g6={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Dve(r,t){var e=[],n=[],i=[],a=0,s,l=vI(TI,"n"),c=vI(CI,"n");if(r.Props)for(s=Hi(r.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(l,s[a])?e:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],r.Props[s[a]]]);if(r.Custprops)for(s=Hi(r.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(r.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(l,s[a])?e:Object.prototype.hasOwnProperty.call(c,s[a])?n:i).push([s[a],r.Custprops[s[a]]]);var o=[];for(a=0;a<i.length;++a)J$.indexOf(i[a][0])>-1||X$.indexOf(i[a][0])>-1||i[a][1]!=null&&o.push(i[a]);n.length&&Gn.utils.cfb_add(t,"/SummaryInformation",RI(n,g6.SI,c,CI)),(e.length||o.length)&&Gn.utils.cfb_add(t,"/DocumentSummaryInformation",RI(e,g6.DSI,l,TI,o.length?o:null,g6.UDI))}function Bve(r,t){var e=t||{},n=Gn.utils.cfb_new({root:"R"}),i="/Workbook";switch(e.bookType||"xls"){case"xls":e.bookType="biff8";case"xla":e.bookType||(e.bookType="xla");case"biff8":i="/Workbook",e.biff=8;break;case"biff5":i="/Book",e.biff=5;break;default:throw new Error("invalid type "+e.bookType+" for XLS CFB")}return Gn.utils.cfb_add(n,i,NU(r,e)),e.biff==8&&(r.Props||r.Custprops)&&Dve(r,n),e.biff==8&&r.vbaraw&&Kme(n,Gn.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var $ve={0:{f:V1e},1:{f:eye},2:{f:vye},3:{f:lye},4:{f:iye},5:{f:pye},6:{f:Sye},7:{f:uye},8:{f:Cye},9:{f:Tye},10:{f:jye},11:{f:Aye},12:{f:rye},13:{f:xye},14:{f:cye},15:{f:sye},16:{f:gye},17:{f:Nye},18:{f:dye},19:{f:Qk},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:gve},40:{},42:{},43:{f:pme},44:{f:dme},45:{f:yme},46:{f:bme},47:{f:vme},48:{},49:{f:$0e},50:{},51:{f:Rme},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Hpe},62:{f:_ye},63:{f:zme},64:{f:Vye},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ec,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:zye},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Z1e},148:{f:K1e,p:16},151:{f:Fye},152:{},153:{f:pve},154:{},155:{},156:{f:dve},157:{},158:{},159:{T:1,f:tme},160:{T:-1},161:{T:1,f:Lh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Oye},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Mme},336:{T:-1},337:{f:Dme,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:f8},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Bpe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Lye},427:{f:Dye},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:$ye},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:J1e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Iye},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:f8},551:{f:s2},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Gme},633:{T:1},634:{T:-1},635:{T:1,f:Wme},636:{T:-1},637:{f:H0e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:ave},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Gye},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ft(r,t,e,n){var i=t;if(!isNaN(i)){var a=n||(e||[]).length||0,s=r.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&Yk(e)&&r.push(e)}}function Uve(r,t,e,n){var i=(e||[]).length||0;if(i<=8224)return Ft(r,t,e,i);var a=t;if(!isNaN(a)){for(var s=e.parts||[],l=0,c=0,o=0;o+(s[l]||8224)<=8224;)o+=s[l]||8224,l++;var u=r.next(4);for(u.write_shift(2,a),u.write_shift(2,o),r.push(e.slice(c,c+o)),c+=o;c<i;){for(u=r.next(4),u.write_shift(2,60),o=0;o+(s[l]||8224)<=8224;)o+=s[l]||8224,l++;u.write_shift(2,o),r.push(e.slice(c,c+o)),c+=o}}}function y6(r,t,e,n){var i=dt(9);return C1(i,r,t),Z$(e,n||"b",i),i}function zve(r,t,e){var n=dt(8+2*e.length);return C1(n,r,t),n.write_shift(1,e.length),n.write_shift(e.length,e,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function kU(r,t){t.forEach(function(e){var n=e[0].map(function(a){return a.t}).join("");if(n.length<=2048)return Ft(r,28,d6(n,e[1],e[2]));Ft(r,28,d6(n.slice(0,2048),e[1],e[2],n.length));for(var i=2048;i<n.length;i+=2048)Ft(r,28,d6(n.slice(i,Math.min(i+2048,n.length)),-1,-1,Math.min(2048,n.length-i)))})}function qve(r,t,e,n,i,a){var s=0;t.z!=null&&(s=i._BIFF2FmtTable.indexOf(t.z),s==-1&&(i._BIFF2FmtTable.push(t.z),s=i._BIFF2FmtTable.length-1));var l=0;if(t.z!=null){for(;l<i.cellXfs.length&&i.cellXfs[l].numFmtId!=s;++l);l==i.cellXfs.length&&i.cellXfs.push({numFmtId:s})}if(t.v!=null)switch(t.t){case"d":case"n":var c=t.t=="d"?za(eo(t.v,a),a):t.v;i.biff==2&&c==(c|0)&&c>=0&&c<65536?Ft(r,2,Xpe(e,n,c,l,s)):isNaN(c)?Ft(r,5,y6(e,n,36,"e")):isFinite(c)?Ft(r,3,Gpe(e,n,c,l,s)):Ft(r,5,y6(e,n,7,"e"));return;case"b":case"e":Ft(r,5,y6(e,n,t.v,t.t));return;case"s":case"str":Ft(r,4,zve(e,n,t.v==null?"":String(t.v).slice(0,255)));return}Ft(r,1,C1(null,e,n))}function Hve(r,t,e,n,i){var a=t["!data"]!=null,s=oi(t["!ref"]||"A1"),l="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.r,16383)}for(var o=(((i||{}).Workbook||{}).WBProps||{}).date1904,u=[],d=[],f=s.s.c;f<=s.e.c;++f)c[f]=Fn(f);for(var h=s.s.r;h<=s.e.r;++h)for(a&&(u=t["!data"][h]||[]),l=zn(h),f=s.s.c;f<=s.e.c;++f){var y=a?u[f]:t[c[f]+l];y&&(qve(r,y,h,f,n,o),y.c&&d.push([y.c,h,f]))}kU(r,d)}function Wve(r,t){for(var e=t||{},n=ms(),i=0,a=0;a<r.SheetNames.length;++a)r.SheetNames[a]==e.sheet&&(i=a);if(i==0&&e.sheet&&r.SheetNames[0]!=e.sheet)throw new Error("Sheet not found: "+e.sheet);Ft(n,e.biff==4?1033:e.biff==3?521:9,rN(r,16,e)),((r.Workbook||{}).WBProps||{}).date1904&&Ft(n,34,cs(!0)),e.cellXfs=[{numFmtId:0}],e._BIFF2FmtTable=["General"],e._Fonts=[];var s=ms();return Hve(s,r.Sheets[r.SheetNames[i]],i,e,r),e._BIFF2FmtTable.forEach(function(l){e.biff<=3?Ft(n,30,Ppe(l)):Ft(n,1054,Mpe(l))}),e.cellXfs.forEach(function(l){switch(e.biff){case 2:Ft(n,67,Rpe(l));break;case 3:Ft(n,579,rU(l));break;case 4:Ft(n,1091,Fpe(l));break}}),delete e._BIFF2FmtTable,delete e.cellXfs,delete e._Fonts,n.push(s.end()),Ft(n,10),n.end()}var Pl=1,Xo=[];function Vve(){var r=dt(82+8*Xo.length);r.write_shift(2,15),r.write_shift(2,61440),r.write_shift(4,74+8*Xo.length);{r.write_shift(2,0),r.write_shift(2,61446),r.write_shift(4,16+8*Xo.length);{r.write_shift(4,Pl),r.write_shift(4,Xo.length+1);for(var t=0,e=0;e<Xo.length;++e)t+=Xo[e]&&Xo[e][1]||0;r.write_shift(4,t),r.write_shift(4,Xo.length)}Xo.forEach(function(n){r.write_shift(4,n[0]),r.write_shift(4,n[2])})}return r.write_shift(2,51),r.write_shift(2,61451),r.write_shift(4,18),r.write_shift(2,191),r.write_shift(4,524296),r.write_shift(2,385),r.write_shift(4,134217793),r.write_shift(2,448),r.write_shift(4,134217792),r.write_shift(2,64),r.write_shift(2,61726),r.write_shift(4,16),r.write_shift(4,134217741),r.write_shift(4,134217740),r.write_shift(4,134217751),r.write_shift(4,268435703),r}function Gve(r,t){var e=[],n=0,i=ms(),a=Pl,s;t.forEach(function(c,o){var u="",d=c[0].map(function(w){return w.a&&!u&&(u=w.a),w.t}).join("");++Pl;{var f=dt(150);f.write_shift(2,15),f.write_shift(2,61444),f.write_shift(4,150),f.write_shift(2,3234),f.write_shift(2,61450),f.write_shift(4,8),f.write_shift(4,Pl),f.write_shift(4,2560),f.write_shift(2,227),f.write_shift(2,61451),f.write_shift(4,84),f.write_shift(2,128),f.write_shift(4,0),f.write_shift(2,139),f.write_shift(4,2),f.write_shift(2,191),f.write_shift(4,524296),f.write_shift(2,344),f.l+=4,f.write_shift(2,385),f.write_shift(4,134217808),f.write_shift(2,387),f.write_shift(4,134217808),f.write_shift(2,389),f.write_shift(4,268435700),f.write_shift(2,447),f.write_shift(4,1048592),f.write_shift(2,448),f.write_shift(4,134217809),f.write_shift(2,451),f.write_shift(4,268435700),f.write_shift(2,513),f.write_shift(4,134217809),f.write_shift(2,515),f.write_shift(4,268435700),f.write_shift(2,575),f.write_shift(4,196609),f.write_shift(2,959),f.write_shift(4,131072|(c[0].hidden?2:0)),f.l+=2,f.write_shift(2,61456),f.write_shift(4,18),f.write_shift(2,3),f.write_shift(2,c[2]+2),f.l+=2,f.write_shift(2,c[1]+1),f.l+=2,f.write_shift(2,c[2]+4),f.l+=2,f.write_shift(2,c[1]+5),f.l+=2,f.l+=2,f.write_shift(2,61457),f.l+=4,f.l=150,o==0?s=f:Ft(i,236,f)}n+=150;{var h=dt(52);h.write_shift(2,21),h.write_shift(2,18),h.write_shift(2,25),h.write_shift(2,Pl),h.write_shift(2,0),h.l=22,h.write_shift(2,13),h.write_shift(2,22),h.write_shift(4,1651663474),h.write_shift(4,2503426821),h.write_shift(4,2150634280),h.write_shift(4,1768515844+Pl*256),h.write_shift(2,0),h.write_shift(4,0),h.l+=4,Ft(i,93,h)}{var y=dt(8);y.l+=2,y.write_shift(2,61453),y.l+=4,Ft(i,236,y)}n+=8;{var m=dt(18);m.write_shift(2,18),m.l+=8,m.write_shift(2,d.length),m.write_shift(2,16),m.l+=4,Ft(i,438,m);{var g=dt(1+d.length);g.write_shift(1,0),g.write_shift(d.length,d,"sbcs"),Ft(i,60,g)}{var v=dt(16);v.l+=8,v.write_shift(2,d.length),v.l+=6,Ft(i,60,v)}}{var b=dt(12+u.length);b.write_shift(2,c[1]),b.write_shift(2,c[2]),b.write_shift(2,0|(c[0].hidden?0:2)),b.write_shift(2,Pl),b.write_shift(2,u.length),b.write_shift(1,0),b.write_shift(u.length,u,"sbcs"),b.l++,e.push(b)}});{var l=dt(80);l.write_shift(2,15),l.write_shift(2,61442),l.write_shift(4,n+l.length-8),l.write_shift(2,16),l.write_shift(2,61448),l.write_shift(4,8),l.write_shift(4,t.length+1),l.write_shift(4,Pl),l.write_shift(2,15),l.write_shift(2,61443),l.write_shift(4,n+48),l.write_shift(2,15),l.write_shift(2,61444),l.write_shift(4,40),l.write_shift(2,1),l.write_shift(2,61449),l.write_shift(4,16),l.l+=16,l.write_shift(2,2),l.write_shift(2,61450),l.write_shift(4,8),l.write_shift(4,a),l.write_shift(4,5),Ft(r,236,s?zi([l,s]):l)}r.push(i.end()),e.forEach(function(c){Ft(r,28,c)}),Xo.push([a,t.length+1,Pl]),++Pl}function Xve(r,t,e){Ft(r,49,Ape({sz:12,name:"Arial"},e))}function Kve(r,t,e){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Ft(r,1054,Ope(i,t[i],e))})}function Yve(r,t){var e=dt(19);e.write_shift(4,2151),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,1),e.write_shift(4,0),Ft(r,2151,e),e=dt(39),e.write_shift(4,2152),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(2,1),e.write_shift(4,4),e.write_shift(2,0),tU(oi(t["!ref"]||"A1"),e),e.write_shift(4,4),Ft(r,2152,e)}function Jve(r,t){for(var e=0;e<16;++e)Ft(r,224,LI({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Ft(r,224,LI(n,0,t))})}function Zve(r,t){for(var e=0;e<t["!links"].length;++e){var n=t["!links"][e];Ft(r,440,Upe(n)),n[1].Tooltip&&Ft(r,2048,zpe(n))}delete t["!links"]}function Qve(r,t){if(t){var e=0;t.forEach(function(n,i){++e<=256&&n&&Ft(r,125,Wpe(f2(i,n),i))})}}function ebe(r,t,e,n,i,a){var s=16+cd(i.cellXfs,t,i);if(t.v==null&&!t.bf){Ft(r,513,kh(e,n,s));return}if(t.bf)Ft(r,6,m1e(t,e,n,i,s));else switch(t.t){case"d":case"n":var l=t.t=="d"?za(eo(t.v,a),a):t.v;isNaN(l)?Ft(r,517,f6(e,n,36,s,i,"e")):isFinite(l)?Ft(r,515,Dpe(e,n,l,s)):Ft(r,517,f6(e,n,7,s,i,"e"));break;case"b":case"e":Ft(r,517,f6(e,n,t.v,s,i,t.t));break;case"s":case"str":if(i.bookSST){var c=aN(i.Strings,t.v==null?"":String(t.v),i.revStrings);Ft(r,253,Tpe(e,n,c,s))}else Ft(r,516,Cpe(e,n,(t.v==null?"":String(t.v)).slice(0,255),s,i));break;default:Ft(r,513,kh(e,n,s))}}function tbe(r,t,e){var n=ms(),i=e.SheetNames[r],a=e.Sheets[i]||{},s=(e||{}).Workbook||{},l=(s.Sheets||[])[r]||{},c=a["!data"]!=null,o=t.biff==8,u="",d=[],f=oi(a["!ref"]||"A1"),h=o?65536:16384;if(f.e.c>255||f.e.r>=h){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV"+h);f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.r,h-1)}Ft(n,2057,rN(e,16,t)),Ft(n,13,Yo(1)),Ft(n,12,Yo(100)),Ft(n,15,cs(!0)),Ft(n,17,cs(!1)),Ft(n,16,Sh(.001)),Ft(n,95,cs(!0)),Ft(n,42,cs(!1)),Ft(n,43,cs(!1)),Ft(n,130,Yo(1)),Ft(n,128,Lpe()),Ft(n,131,cs(!1)),Ft(n,132,cs(!1)),o&&Qve(n,a["!cols"]),Ft(n,512,Ipe(f,t));var y=(((e||{}).Workbook||{}).WBProps||{}).date1904;o&&(a["!links"]=[]);for(var m=f.s.c;m<=f.e.c;++m)d[m]=Fn(m);for(var g=[],v=[],b=f.s.r;b<=f.e.r;++b)for(c&&(v=a["!data"][b]||[]),u=zn(b),m=f.s.c;m<=f.e.c;++m){var w=c?v[m]:a[d[m]+u];w&&(ebe(n,w,b,m,t,y),o&&w.l&&a["!links"].push([d[m]+u,w.l]),w.c&&g.push([w.c,b,m]))}var _=l.CodeName||l.name||i;return o?Gve(n,g):kU(n,g),o&&Ft(n,574,jpe((s.Views||[])[0])),o&&(a["!merges"]||[]).length&&Ft(n,229,$pe(a["!merges"])),o&&Zve(n,a),Ft(n,442,eU(_)),o&&Yve(n,a),Ft(n,10),n.end()}function rbe(r,t,e){var n=ms(),i=(r||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},l=e.biff==8,c=e.biff==5;if(Ft(n,2057,rN(r,5,e)),e.bookType=="xla"&&Ft(n,135),Ft(n,225,l?Yo(1200):null),Ft(n,193,ppe(2)),c&&Ft(n,191),c&&Ft(n,192),Ft(n,226),Ft(n,92,Spe("SheetJS",e)),Ft(n,66,Yo(l?1200:1252)),l&&Ft(n,353,Yo(0)),l&&Ft(n,448),Ft(n,317,Vpe(r.SheetNames.length)),l&&r.vbaraw&&Ft(n,211),l&&r.vbaraw){var o=s.CodeName||"ThisWorkbook";Ft(n,442,eU(o))}Ft(n,156,Yo(17)),Ft(n,25,cs(!1)),Ft(n,18,cs(!1)),Ft(n,19,Yo(0)),l&&Ft(n,431,cs(!1)),l&&Ft(n,444,Yo(0)),Ft(n,61,Epe()),Ft(n,64,cs(!1)),Ft(n,141,Yo(0)),Ft(n,34,cs(ove(r)=="true")),Ft(n,14,cs(!0)),l&&Ft(n,439,cs(!1)),Ft(n,218,Yo(0)),Xve(n,r,e),Kve(n,r.SSF,e),Jve(n,e),l&&Ft(n,352,cs(!1));var u=n.end(),d=ms();l&&Ft(d,140,qpe()),l&&Xo.length&&Ft(d,235,Vve()),l&&e.Strings&&Uve(d,252,Npe(e.Strings)),Ft(d,10);var f=d.end(),h=ms(),y=0,m=0;for(m=0;m<r.SheetNames.length;++m)y+=(l?12:11)+(l?2:1)*r.SheetNames[m].length;var g=u.length+y+f.length;for(m=0;m<r.SheetNames.length;++m){var v=a[m]||{};Ft(h,133,kpe({pos:g,hs:v.Hidden||0,dt:0,name:r.SheetNames[m]},e)),g+=t[m].length}var b=h.end();if(y!=b.length)throw new Error("BS8 "+y+" != "+b.length);var w=[];return u.length&&w.push(u),b.length&&w.push(b),f.length&&w.push(f),zi(w)}function nbe(r,t){var e=t||{},n=[];r&&!r.SSF&&(r.SSF=ys(si)),r&&r.SSF&&(n2(),r2(r.SSF),e.revssf=i2(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),Pl=1,Xo=[],e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,sN(e),e.cellXfs=[],cd(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var i=0;i<r.SheetNames.length;++i)n[n.length]=tbe(i,e,r);return n.unshift(rbe(r,n,e)),zi(n)}function NU(r,t){for(var e=0;e<=r.SheetNames.length;++e){var n=r.Sheets[r.SheetNames[e]];if(!(!n||!n["!ref"])){var i=Ua(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[e]+"' extends beyond column IV (255).  Data may be lost."),i.e.r>65535&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[e]+"' extends beyond row 65536.  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return nbe(r,t);case 4:case 3:case 2:return Wve(r,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function ibe(r,t,e,n){for(var i=r["!merges"]||[],a=[],s={},l=r["!data"]!=null,c=t.s.c;c<=t.e.c;++c){for(var o=0,u=0,d=0;d<i.length;++d)if(!(i[d].s.r>e||i[d].s.c>c)&&!(i[d].e.r<e||i[d].e.c<c)){if(i[d].s.r<e||i[d].s.c<c){o=-1;break}o=i[d].e.r-i[d].s.r+1,u=i[d].e.c-i[d].s.c+1;break}if(!(o<0)){var f=Fn(c)+zn(e),h=l?(r["!data"][e]||[])[c]:r[f];h&&h.t=="n"&&h.v!=null&&!isFinite(h.v)&&(isNaN(h.v)?h={t:"e",v:36,w:Ms[36]}:h={t:"e",v:7,w:Ms[7]});var y=h&&h.v!=null&&(h.h||o6(h.w||(Mu(h),h.w)||""))||"";s={},o>1&&(s.rowspan=o),u>1&&(s.colspan=u),n.editable?y='<span contenteditable="true">'+y+"</span>":h&&(s["data-t"]=h&&h.t||"z",h.v!=null&&(s["data-v"]=o6(h.v instanceof Date?h.v.toISOString():h.v)),h.z!=null&&(s["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+o6(h.l.Target)+'">'+y+"</a>")),s.id=(n.id||"sjs")+"-"+f,a.push(Xt("td",y,s))}}var m="<tr>";return m+a.join("")+"</tr>"}var abe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',sbe="</body></html>";function obe(r,t,e){var n=[];return n.join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}function EU(r,t){var e=t||{},n=e.header!=null?e.header:abe,i=e.footer!=null?e.footer:sbe,a=[n],s=Ua(r["!ref"]||"A1");if(a.push(obe(r,s,e)),r["!ref"])for(var l=s.s.r;l<=s.e.r;++l)a.push(ibe(r,s,l,e));return a.push("</table>"+i),a.join("")}function jU(r,t,e){var n=t.rows;if(!n)throw"Unsupported origin when "+t.tagName+" is not a TABLE";var i=e||{},a=r["!data"]!=null,s=0,l=0;if(i.origin!=null)if(typeof i.origin=="number")s=i.origin;else{var c=typeof i.origin=="string"?gi(i.origin):i.origin;s=c.r,l=c.c}var o=Math.min(i.sheetRows||1e7,n.length),u={s:{r:0,c:0},e:{r:s,c:l}};if(r["!ref"]){var d=Ua(r["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),s==-1&&(u.e.r=s=d.e.r+1)}var f=[],h=0,y=r["!rows"]||(r["!rows"]=[]),m=0,g=0,v=0,b=0,w=0,_=0;for(r["!cols"]||(r["!cols"]=[]);m<n.length&&g<o;++m){var N=n[m];if(XI(N)){if(i.display)continue;y[g]={hidden:!0}}var P=N.cells;for(v=b=0;v<P.length;++v){var M=P[v];if(!(i.display&&XI(M))){var A=M.hasAttribute("data-v")?M.getAttribute("data-v"):M.hasAttribute("v")?M.getAttribute("v"):k0e(M.innerHTML),F=M.getAttribute("data-z")||M.getAttribute("z");for(h=0;h<f.length;++h){var H=f[h];H.s.c==b+l&&H.s.r<g+s&&g+s<=H.e.r&&(b=H.e.c+1-l,h=-1)}_=+M.getAttribute("colspan")||1,((w=+M.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:g+s,c:b+l},e:{r:g+s+(w||1)-1,c:b+l+(_||1)-1}});var z={t:"s",v:A},U=M.getAttribute("data-t")||M.getAttribute("t")||"";A!=null&&(A.length==0?z.t=U||"z":i.raw||A.trim().length==0||U=="s"||(U=="e"&&Ms[+A]?z={t:"e",v:+A,w:Ms[+A]}:A==="TRUE"?z={t:"b",v:!0}:A==="FALSE"?z={t:"b",v:!1}:isNaN(Su(A))?isNaN(tx(A).getDate())?A.charCodeAt(0)==35&&vc[A]!=null&&(z={t:"e",v:vc[A],w:A}):(z={t:"d",v:eo(A)},i.UTC&&(z.v=a2(z.v)),i.cellDates||(z={t:"n",v:za(z.v)}),z.z=i.dateNF||si[14]):z={t:"n",v:Su(A)})),z.z===void 0&&F!=null&&(z.z=F);var O="",L=M.getElementsByTagName("A");if(L&&L.length)for(var C=0;C<L.length&&!(L[C].hasAttribute("href")&&(O=L[C].getAttribute("href"),O.charAt(0)!="#"));++C);O&&O.charAt(0)!="#"&&O.slice(0,11).toLowerCase()!="javascript:"&&(z.l={Target:O}),a?(r["!data"][g+s]||(r["!data"][g+s]=[]),r["!data"][g+s][b+l]=z):r[_i({c:b+l,r:g+s})]=z,u.e.c<b+l&&(u.e.c=b+l),b+=_}}++g}return f.length&&(r["!merges"]=(r["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+s),r["!ref"]=Wi(u),g>=o&&(r["!fullref"]=Wi((u.e.r=n.length-m+g-1+s,u))),r}function AU(r,t){var e=t||{},n={};return e.dense&&(n["!data"]=[]),jU(n,r,t)}function lbe(r,t){var e=$p(AU(r,t),t);return e}function XI(r){var t="",e=cbe(r);return e&&(t=e(r).getPropertyValue("display")),t||(t=r.style&&r.style.display),t==="none"}function cbe(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var ube=function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+s1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Gi+t}}();function fbe(r,t){var e="number",n="",i={"style:name":t},a="",s=0;r=r.replace(/"[$]"/g,"$");e:{if(r.indexOf(";")>-1&&(console.error("Unsupported ODS Style Map exported.  Using first branch of "+r),r=r.slice(0,r.indexOf(";"))),r=="@"){e="text",n="<number:text-content/>";break e}if(r.indexOf(/\$/)>-1&&(e="currency"),r[s]=='"'){for(a="";r[++s]!='"'||r[++s]=='"';)a+=r[s];--s,r[s+1]=="*"?(s++,n+="<number:fill-character>"+Kr(a.replace(/""/g,'"'))+"</number:fill-character>"):n+="<number:text>"+Kr(a.replace(/""/g,'"'))+"</number:text>",r=r.slice(s+1),s=0}var l=r.match(/# (\?+)\/(\?+)/);if(l){n+=Xt("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":l[1].length,"number:max-denominator-value":Math.max(+l[1].replace(/./g,"9"),+l[2].replace(/./g,"9"))});break e}if(l=r.match(/# (\?+)\/(\d+)/)){n+=Xt("number:fraction",null,{"number:min-integer-digits":0,"number:min-numerator-digits":l[1].length,"number:denominator-value":+l[2]});break e}if(l=r.match(/\b(\d+)(|\.\d+)%/)){e="percentage",n+=Xt("number:number",null,{"number:decimal-places":l[2]&&l.length-1||0,"number:min-decimal-places":l[2]&&l.length-1||0,"number:min-integer-digits":l[1].length})+"<number:text>%</number:text>";break e}var c=!1;if(["y","m","d"].indexOf(r[0])>-1){e="date";t:for(;s<r.length;++s)switch(a=r[s].toLowerCase()){case"h":case"s":c=!0,--s;break t;case"m":r:for(var o=s+1;o<r.length;++o)switch(r[o]){case"y":case"d":break r;case"h":case"s":c=!0,--s;break t}case"y":case"d":for(;(r[++s]||"").toLowerCase()==a[0];)a+=a[0];switch(--s,a){case"y":case"yy":n+="<number:year/>";break;case"yyy":case"yyyy":n+='<number:year number:style="long"/>';break;case"mmmmm":console.error("ODS has no equivalent of format |mmmmm|");case"m":case"mm":case"mmm":case"mmmm":n+='<number:month number:style="'+(a.length%2?"short":"long")+'" number:textual="'+(a.length>=3?"true":"false")+'"/>';break;case"d":case"dd":n+='<number:day number:style="'+(a.length%2?"short":"long")+'"/>';break;case"ddd":case"dddd":n+='<number:day-of-week number:style="'+(a.length%2?"short":"long")+'"/>';break}break;case'"':for(;r[++s]!='"'||r[++s]=='"';)a+=r[s];--s,n+="<number:text>"+Kr(a.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"\\":a=r[++s],n+="<number:text>"+Kr(a)+"</number:text>";break;case"/":case":":n+="<number:text>"+Kr(a)+"</number:text>";break;default:console.error("unrecognized character "+a+" in ODF format "+r)}if(!c)break e;r=r.slice(s+1),s=0}if(r.match(/^\[?[hms]/)){for(e=="number"&&(e="time"),r.match(/\[/)&&(r=r.replace(/[\[\]]/g,""),i["number:truncate-on-overflow"]="false");s<r.length;++s)switch(a=r[s].toLowerCase()){case"h":case"m":case"s":for(;(r[++s]||"").toLowerCase()==a[0];)a+=a[0];switch(--s,a){case"h":case"hh":n+='<number:hours number:style="'+(a.length%2?"short":"long")+'"/>';break;case"m":case"mm":n+='<number:minutes number:style="'+(a.length%2?"short":"long")+'"/>';break;case"s":case"ss":if(r[s+1]==".")do a+=r[s+1],++s;while(r[s+1]=="0");n+='<number:seconds number:style="'+(a.match("ss")?"long":"short")+'"'+(a.match(/\./)?' number:decimal-places="'+(a.match(/0+/)||[""])[0].length+'"':"")+"/>";break}break;case'"':for(;r[++s]!='"'||r[++s]=='"';)a+=r[s];--s,n+="<number:text>"+Kr(a.slice(1).replace(/""/g,'"'))+"</number:text>";break;case"/":case":":n+="<number:text>"+Kr(a)+"</number:text>";break;case"a":if(r.slice(s,s+3).toLowerCase()=="a/p"){n+="<number:am-pm/>",s+=2;break}if(r.slice(s,s+5).toLowerCase()=="am/pm"){n+="<number:am-pm/>",s+=4;break}default:console.error("unrecognized character "+a+" in ODF format "+r)}break e}if(r.indexOf(/\$/)>-1&&(e="currency"),r[0]=="$"&&(n+='<number:currency-symbol number:language="en" number:country="US">$</number:currency-symbol>',r=r.slice(1),s=0),s=0,r[s]=='"'){for(;r[++s]!='"'||r[++s]=='"';)a+=r[s];--s,r[s+1]=="*"?(s++,n+="<number:fill-character>"+Kr(a.replace(/""/g,'"'))+"</number:fill-character>"):n+="<number:text>"+Kr(a.replace(/""/g,'"'))+"</number:text>",r=r.slice(s+1),s=0}var u=r.match(/([#0][0#,]*)(\.[0#]*|)(E[+]?0*|)/i);if(!u||!u[0])console.error("Could not find numeric part of "+r);else{var d=u[1].replace(/,/g,"");n+="<number:"+(u[3]?"scientific-":"")+'number number:min-integer-digits="'+(d.indexOf("0")==-1?"0":d.length-d.indexOf("0"))+'"'+(u[0].indexOf(",")>-1?' number:grouping="true"':"")+(u[2]&&' number:decimal-places="'+(u[2].length-1)+'"'||' number:decimal-places="0"')+(u[3]&&u[3].indexOf("+")>-1?' number:forced-exponent-sign="true"':"")+(u[3]?' number:min-exponent-digits="'+u[3].match(/0+/)[0].length+'"':"")+"></number:"+(u[3]?"scientific-":"")+"number>",s=u.index+u[0].length}if(r[s]=='"'){for(a="";r[++s]!='"'||r[++s]=='"';)a+=r[s];--s,n+="<number:text>"+Kr(a.replace(/""/g,'"'))+"</number:text>"}}return n?Xt("number:"+e+"-style",n,i):(console.error("Could not generate ODS number format for |"+r+"|"),"")}function KI(r,t,e){for(var n=[],i=0;i<r.length;++i){var a=r[i];a&&a.Sheet==(e==-1?null:e)&&n.push(a)}return n.length?`      <table:named-expressions>
`+n.map(function(s){var l=(e==-1?"$":"")+bU(s.Ref);return"        "+Xt("table:named-range",null,{"table:name":s.Name,"table:cell-range-address":l,"table:base-cell-address":l.replace(/[\.][^\.]*$/,".$A$1")})}).join(`
`)+`
      </table:named-expressions>
`:""}var YI=function(){var r=function(i,a){return Kr(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,e=function(i,a,s,l,c,o){var u=[];u.push('      <table:table table:name="'+Kr(a.SheetNames[s])+`" table:style-name="ta1">
`);var d=0,f=0,h=Ua(i["!ref"]||"A1"),y=i["!merges"]||[],m=0,g=i["!data"]!=null;if(i["!cols"])for(f=0;f<=h.e.c;++f)u.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var v="",b=i["!rows"]||[];for(d=0;d<h.s.r;++d)v=b[d]?' table:style-name="ro'+b[d].ods+'"':"",u.push("        <table:table-row"+v+`></table:table-row>
`);for(;d<=h.e.r;++d){for(v=b[d]?' table:style-name="ro'+b[d].ods+'"':"",u.push("        <table:table-row"+v+`>
`),f=0;f<h.s.c;++f)u.push(t);for(;f<=h.e.c;++f){var w=!1,_={},N="";for(m=0;m!=y.length;++m)if(!(y[m].s.c>f)&&!(y[m].s.r>d)&&!(y[m].e.c<f)&&!(y[m].e.r<d)){(y[m].s.c!=f||y[m].s.r!=d)&&(w=!0),_["table:number-columns-spanned"]=y[m].e.c-y[m].s.c+1,_["table:number-rows-spanned"]=y[m].e.r-y[m].s.r+1;break}if(w){u.push(`          <table:covered-table-cell/>
`);continue}var P=_i({r:d,c:f}),M=g?(i["!data"][d]||[])[f]:i[P];if(M&&M.f&&(_["table:formula"]=Kr(P1e(M.f)),M.F&&M.F.slice(0,P.length)==P)){var A=Ua(M.F);_["table:number-matrix-columns-spanned"]=A.e.c-A.s.c+1,_["table:number-matrix-rows-spanned"]=A.e.r-A.s.r+1}if(!M){u.push(t);continue}switch(M.t){case"b":N=M.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=M.v?"true":"false";break;case"n":isFinite(M.v)?(N=M.w||String(M.v||0),_["office:value-type"]="float",_["office:value"]=M.v||0):(isNaN(M.v)?(N="#NUM!",_["table:formula"]="of:=#NUM!"):(N="#DIV/0!",_["table:formula"]="of:="+(M.v<0?"-":"")+"1/0"),_["office:string-value"]="",_["office:value-type"]="string",_["calcext:value-type"]="error");break;case"s":case"str":N=M.v==null?"":M.v,_["office:value-type"]="string";break;case"d":N=M.w||eo(M.v,o).toISOString(),_["office:value-type"]="date",_["office:date-value"]=eo(M.v,o).toISOString(),_["table:style-name"]="ce1";break;default:u.push(t);continue}var F=r(N);if(M.l&&M.l.Target){var H=M.l.Target;H=H.charAt(0)=="#"?"#"+bU(H.slice(1)):H,H.charAt(0)!="#"&&!H.match(/^\w+:/)&&(H="../"+H),F=Xt("text:a",F,{"xlink:href":H.replace(/&/g,"&amp;")})}c[M.z]&&(_["table:style-name"]="ce"+c[M.z].slice(1));var z=Xt("text:p",F,{});if(M.c){for(var U="",O="",L={},C=0;C<M.c.length;++C)!U&&M.c[C].a&&(U=M.c[C].a),O+="<text:p>"+r(M.c[C].t)+"</text:p>";M.c.hidden||(L["office:display"]=!0),z=Xt("office:annotation",O,L)+z}u.push("          "+Xt("table:table-cell",z,_)+`
`)}u.push(`        </table:table-row>
`)}return(a.Workbook||{}).Names&&u.push(KI(a.Workbook.Names,a.SheetNames,s)),u.push(`      </table:table>
`),u.join("")},n=function(i,a){i.push(` <office:automatic-styles>
`);var s=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;nN(f),f.ods=s;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+s+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++s}}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=l;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var c={},o=69;return a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u){var d=u["!data"]!=null;if(u["!ref"])for(var f=Ua(u["!ref"]),h=0;h<=f.e.r;++h)for(var y=0;y<=f.e.c;++y){var m=d?(u["!data"][h]||[])[y]:u[_i({r:h,c:y})];if(!(!m||!m.z||m.z.toLowerCase()=="general")&&!c[m.z]){var g=fbe(m.z,"N"+o);g&&(c[m.z]="N"+o,++o,i.push(g+`
`))}}}}),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),Hi(c).forEach(function(u){i.push('<style:style style:name="ce'+c[u].slice(1)+'" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="'+c[u]+`"/>
`)}),i.push(` </office:automatic-styles>
`),c};return function(a,s){var l=[Gi],c=s1({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),o=s1({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});s.bookType=="fods"?(l.push("<office:document"+c+o+`>
`),l.push(V$().replace(/<office:document-meta[^<>]*?>/,"").replace(/<\/office:document-meta>/,"")+`
`)):l.push("<office:document-content"+c+`>
`);var u=n(l,a);l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`),((a.Workbook||{}).WBProps||{}).date1904&&l.push(`      <table:calculation-settings table:case-sensitive="false" table:search-criteria-must-apply-to-whole-cell="true" table:use-wildcards="true" table:use-regular-expressions="false" table:automatic-find-labels="false">
        <table:null-date table:date-value="1904-01-01"/>
      </table:calculation-settings>
`);for(var d=0;d!=a.SheetNames.length;++d)l.push(e(a.Sheets[a.SheetNames[d]],a,d,s,u,((a.Workbook||{}).WBProps||{}).date1904));return(a.Workbook||{}).Names&&l.push(KI(a.Workbook.Names,a.SheetNames,-1)),l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),s.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function TU(r,t){if(t.bookType=="fods")return YI(r,t);var e=Vk(),n="",i=[],a=[];return n="mimetype",Xr(e,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Xr(e,n,YI(r,t)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Xr(e,n,ube(r,t)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Xr(e,n,Gi+V$()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Xr(e,n,cpe(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Xr(e,n,ope(i)),e}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */var Ps=function(){try{return typeof Uint8Array>"u"||typeof Uint8Array.prototype.subarray>"u"?"slice":typeof Buffer<"u"?typeof Buffer.prototype.subarray>"u"?"slice":(typeof Buffer.from=="function"?Buffer.from([72,62]):new Buffer([72,62]))instanceof Uint8Array?"subarray":"slice":"subarray"}catch{return"slice"}}();function lx(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function u1(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):G0(wh(r))}function As(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):ko(a1(r))}function Qf(r){for(var t=0,e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0;e<r.length;++e){var a=r[e],s=a.length;if(s<250)for(var l=0;l<s;++l)n[i++]=a[l];else n.set(a,i),i+=s}return n}function dbe(r,t,e){var n=Math.floor(e==0?0:Math.LOG10E*Math.log(Math.abs(e)))+6176-16,i=e/Math.pow(10,n-6176);r[t+15]|=n>>7,r[t+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)r[t+a]=i&255;r[t+15]|=e>=0?0:128}function f1(r,t){var e=t.l,n=r[e]&127;e:if(r[e++]>=128&&(n|=(r[e]&127)<<7,r[e++]<128||(n|=(r[e]&127)<<14,r[e++]<128)||(n|=(r[e]&127)<<21,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,28),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,35),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,42),++e,r[e++]<128)))break e;return t.l=e,n}function yr(r){var t=new Uint8Array(7);t[0]=r&127;var e=1;e:if(r>127){if(t[e-1]|=128,t[e]=r>>7&127,++e,r<=16383||(t[e-1]|=128,t[e]=r>>14&127,++e,r<=2097151)||(t[e-1]|=128,t[e]=r>>21&127,++e,r<=268435455)||(t[e-1]|=128,t[e]=r/256>>>21&127,++e,r<=34359738367)||(t[e-1]|=128,t[e]=r/65536>>>21&127,++e,r<=4398046511103))break e;t[e-1]|=128,t[e]=r/16777216>>>21&127,++e}return t[Ps](0,e)}function CU(r){for(var t={l:0},e=[];t.l<r.length;)e.push(f1(r,t));return e}function OU(r){return Qf(r.map(function(t){return yr(t)}))}function Co(r){var t=0,e=r[t]&127;return r[t++]<128||(e|=(r[t]&127)<<7,r[t++]<128)||(e|=(r[t]&127)<<14,r[t++]<128)||(e|=(r[t]&127)<<21,r[t++]<128)||(e|=(r[t]&15)<<28),e}function Or(r){for(var t=[],e={l:0};e.l<r.length;){var n=e.l,i=f1(r,e),a=i&7;i=i/8|0;var s,l=e.l;switch(a){case 0:{for(;r[l++]>=128;);s=r[Ps](e.l,l),e.l=l}break;case 1:s=r[Ps](l,l+8),e.l=l+8;break;case 2:{var c=f1(r,e);s=r[Ps](e.l,e.l+c),e.l+=c}break;case 5:s=r[Ps](l,l+4),e.l=l+4;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var o={data:s,type:a};t[i]==null&&(t[i]=[]),t[i].push(o)}return t}function _r(r){var t=[];return r.forEach(function(e,n){n!=0&&e.forEach(function(i){i.data&&(t.push(yr(n*8+i.type)),i.type==2&&t.push(yr(i.data.length)),t.push(i.data))})}),Qf(t)}function cx(r,t){return(r==null?void 0:r.map(function(e){return t(e.data)}))||[]}function ux(r){for(var t,e=[],n={l:0};n.l<r.length;){var i=f1(r,n),a=Or(r[Ps](n.l,n.l+i));n.l+=i;var s={id:Co(a[1][0].data),messages:[]};a[2].forEach(function(l){var c=Or(l.data),o=Co(c[3][0].data);s.messages.push({meta:c,data:r[Ps](n.l,n.l+o)}),n.l+=o}),(t=a[3])!=null&&t[0]&&(s.merge=Co(a[3][0].data)>>>0>0),e.push(s)}return e}function Y0(r){var t=[];return r.forEach(function(e){var n=[[],[{data:yr(e.id),type:0}],[]];e.merge!=null&&(n[3]=[{data:yr(+!!e.merge),type:0}]);var i=[];e.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:yr(s.data.length)}],n[2].push({data:_r(s.meta),type:2})});var a=_r(n);t.push(yr(a.length)),t.push(a),i.forEach(function(s){return t.push(s)})}),Qf(t)}function hbe(r,t){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var e={l:0},n=f1(t,e),i=[],a=e.l;a<t.length;){var s=t[a]&3;if(s==0){var l=t[a++]>>2;if(l<60)++l;else{var c=l-59;l=t[a],c>1&&(l|=t[a+1]<<8),c>2&&(l|=t[a+2]<<16),c>3&&(l|=t[a+3]<<24),l>>>=0,l++,a+=c}i.push(t[Ps](a,a+l)),a+=l;continue}else{var o=0,u=0;if(s==1?(u=(t[a]>>2&7)+4,o=(t[a++]&224)<<3,o|=t[a++]):(u=(t[a++]>>2)+1,s==2?(o=t[a]|t[a+1]<<8,a+=2):(o=(t[a]|t[a+1]<<8|t[a+2]<<16|t[a+3]<<24)>>>0,a+=4)),o==0)throw new Error("Invalid offset 0");for(var d=i.length-1,f=o;d>=0&&f>=i[d].length;)f-=i[d].length,--d;if(d<0)if(f==0)f=i[d=0].length;else throw new Error("Invalid offset beyond length");if(u<f)i.push(i[d][Ps](i[d].length-f,i[d].length-f+u));else{for(f>0&&(i.push(i[d][Ps](i[d].length-f)),u-=f),++d;u>=i[d].length;)i.push(i[d]),u-=i[d].length,++d;u&&i.push(i[d][Ps](0,u))}i.length>25&&(i=[Qf(i)])}}for(var h=0,y=0;y<i.length;++y)h+=i[y].length;if(h!=n)throw new Error("Unexpected length: ".concat(h," != ").concat(n));return i}function fx(r){Array.isArray(r)&&(r=new Uint8Array(r));for(var t=[],e=0;e<r.length;){var n=r[e++],i=r[e]|r[e+1]<<8|r[e+2]<<16;e+=3,t.push.apply(t,hbe(n,r[Ps](e,e+i))),e+=i}if(e!==r.length)throw new Error("data is not a valid framed stream!");return t.length==1?t[0]:Qf(t)}function J0(r){for(var t=[],e=0;e<r.length;){var n=Math.min(r.length-e,268435455),i=new Uint8Array(4);t.push(i);var a=yr(n),s=a.length;t.push(a),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(r[Ps](e,e+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,e+=n}return Qf(t)}function v6(r,t){var e=new Uint8Array(32),n=lx(e),i=12,a=0;switch(e[0]=5,r.t){case"n":if(r.z&&_h(r.z)){e[1]=5,n.setFloat64(i,(V0(r.v+1462).getTime()-Date.UTC(2001,0,1))/1e3,!0),a|=4,i+=8;break}else e[1]=2,dbe(e,i,r.v),a|=1,i+=16;break;case"b":e[1]=6,n.setFloat64(i,r.v?1:0,!0),a|=2,i+=8;break;case"s":{var s=r.v==null?"":String(r.v);if(r.l){var l=t.rsst.findIndex(function(o){var u;return o.v==s&&o.l==((u=r.l)==null?void 0:u.Target)});l==-1&&(t.rsst[l=t.rsst.length]={v:s,l:r.l.Target}),e[1]=9,n.setUint32(i,l,!0),a|=16,i+=4}else{var c=t.sst.indexOf(s);c==-1&&(t.sst[c=t.sst.length]=s),e[1]=3,n.setUint32(i,c,!0),a|=8,i+=4}}break;case"d":e[1]=5,n.setFloat64(i,(r.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),a|=4,i+=8;break;case"z":e[1]=0;break;default:throw"unsupported cell type "+r.t}return r.c&&(t.cmnt.push(pbe(r.c)),n.setUint32(i,t.cmnt.length-1,!0),a|=524288,i+=4),n.setUint32(8,a,!0),e[Ps](0,i)}function b6(r,t){var e=new Uint8Array(32),n=lx(e),i=12,a=0,s="";switch(e[0]=4,r.t){case"n":break;case"b":break;case"s":if(s=r.v==null?"":String(r.v),r.l){var l=t.rsst.findIndex(function(o){var u;return o.v==s&&o.l==((u=r.l)==null?void 0:u.Target)});l==-1&&(t.rsst[l=t.rsst.length]={v:s,l:r.l.Target}),e[1]=9,n.setUint32(i,l,!0),a|=512,i+=4}break;case"d":break;case"e":break;case"z":break;default:throw"unsupported cell type "+r.t}switch(r.c&&(n.setUint32(i,t.cmnt.length-1,!0),a|=4096,i+=4),r.t){case"n":e[1]=2,n.setFloat64(i,r.v,!0),a|=32,i+=8;break;case"b":e[1]=6,n.setFloat64(i,r.v?1:0,!0),a|=32,i+=8;break;case"s":if(s=r.v==null?"":String(r.v),!r.l){var c=t.sst.indexOf(s);c==-1&&(t.sst[c=t.sst.length]=s),e[1]=3,n.setUint32(i,c,!0),a|=16,i+=4}break;case"d":e[1]=5,n.setFloat64(i,(r.v.getTime()-Date.UTC(2001,0,1))/1e3,!0),a|=64,i+=8;break;case"z":e[1]=0;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,a,!0),e[Ps](0,i)}function Ui(r){var t=Or(r);return Co(t[1][0].data)}function ls(r){return _r([[],[{type:0,data:yr(r)}]])}function os(r,t){var e,n=(e=r.messages[0].meta[5])!=null&&e[0]?CU(r.messages[0].meta[5][0].data):[],i=n.indexOf(t);i==-1&&(n.push(t),r.messages[0].meta[5]=[{type:2,data:OU(n)}])}function cu(r,t){var e,n=(e=r.messages[0].meta[5])!=null&&e[0]?CU(r.messages[0].meta[5][0].data):[];r.messages[0].meta[5]=[{type:2,data:OU(n.filter(function(i){return i!=t}))}]}function pbe(r){for(var t={a:"",t:"",replies:[]},e=0;e<r.length;++e)e==0?(t.a=r[e].a,t.t=r[e].t):t.replies.push({a:r[e].a,t:r[e].t});return t}function mbe(r,t,e){var n,i,a,s=[[],[{type:0,data:yr(0)}],[{type:0,data:yr(0)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:yr(5)}],[{type:2,data:new Uint8Array([])}],[{type:2,data:new Uint8Array(Array.from({length:510},function(){return 255}))}],[{type:0,data:yr(1)}]];if(!((n=s[6])!=null&&n[0])||!((i=s[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var l=0;if(s[7][0].data.length<2*r.length){var c=new Uint8Array(2*r.length);c.set(s[7][0].data),s[7][0].data=c}if(s[4][0].data.length<2*r.length){var o=new Uint8Array(2*r.length);o.set(s[4][0].data),s[4][0].data=o}for(var u=lx(s[7][0].data),d=0,f=[],h=lx(s[4][0].data),y=0,m=[],g=4,v=0;v<r.length;++v){if(r[v]==null||r[v].t=="z"&&!((a=r[v].c)!=null&&a.length)||r[v].t=="e"){u.setUint16(v*2,65535,!0),h.setUint16(v*2,65535);continue}u.setUint16(v*2,d/g,!0),h.setUint16(v*2,y/g,!0);var b,w;switch(r[v].t){case"d":if(r[v].v instanceof Date){b=v6(r[v],t),w=b6(r[v],t);break}b=v6(r[v],t),w=b6(r[v],t);break;case"s":case"n":case"b":case"z":b=v6(r[v],t),w=b6(r[v],t);break;default:throw new Error("Unsupported value "+r[v])}f.push(b),d+=b.length,m.push(w),y+=w.length,++l}for(s[2][0].data=yr(l),s[5][0].data=yr(5);v<s[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),h.setUint16(v*2,65535,!0);return s[6][0].data=Qf(f),s[3][0].data=Qf(m),s[8]=[{type:0,data:yr(1)}],s}function h8(r,t){return{meta:[[],[{type:0,data:yr(r)}]],data:t}}function fc(r,t){t.last||(t.last=927262);for(var e=t.last;e<2e6;++e)if(!t[e])return t[t.last=e]=r,e;throw new Error("Too many messages")}function gbe(r){var t={},e=[];return r.FileIndex.map(function(n,i){return[n,r.FullPaths[i]]}).forEach(function(n){var i=n[0],a=n[1];i.type==2&&i.name.match(/\.iwa/)&&i.content[0]==0&&ux(fx(i.content)).forEach(function(s){e.push(s.id),t[s.id]={deps:[],location:a,type:Co(s.messages[0].meta[1][0].data)}})}),r.FileIndex.forEach(function(n){n.name.match(/\.iwa/)&&n.content[0]==0&&ux(fx(n.content)).forEach(function(i){i.messages.forEach(function(a){[5,6].forEach(function(s){a.meta[s]&&a.meta[s].forEach(function(l){t[i.id].deps.push(Co(l.data))})})})})}),t}function Nv(r,t,e){return _r([[],[{type:0,data:yr(1)}],[],[{type:5,data:new Uint8Array(Float32Array.from([r/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([t/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([e/255]).buffer)}],[{type:5,data:new Uint8Array(Float32Array.from([1]).buffer)}],[],[],[],[],[],[{type:0,data:yr(1)}]])}function JI(r){switch(r){case 0:return Nv(99,222,171);case 1:return Nv(162,197,240);case 2:return Nv(255,189,189)}return Nv(Math.random()*255,Math.random()*255,Math.random()*255)}function ybe(r,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var e=Gn.read(t.numbers,{type:"base64"}),n=gbe(e),i=dc(e,n,1);if(i==null)throw"Could not find message ".concat(1," in Numbers template");var a=cx(Or(i.messages[0].data)[1],Ui);if(a.length>1)throw new Error("Template NUMBERS file must have exactly one sheet");return r.SheetNames.forEach(function(s,l){l>=1&&(bbe(e,n,l+1),i=dc(e,n,1),a=cx(Or(i.messages[0].data)[1],Ui)),xbe(e,n,r.Sheets[s],s,l,a[l])}),e}function Rn(r,t,e,n){var i=Gn.find(r,t[e].location);if(!i)throw"Could not find ".concat(t[e].location," in Numbers template");var a=ux(fx(i.content)),s=a.find(function(l){return l.id==e});n(s,a),i.content=J0(Y0(a)),i.size=i.content.length}function dc(r,t,e){var n=Gn.find(r,t[e].location);if(!n)throw"Could not find ".concat(t[e].location," in Numbers template");var i=ux(fx(n.content)),a=i.find(function(s){return s.id==e});return a}function p8(r,t,e){r[3].push({type:2,data:_r([[],[{type:0,data:yr(t)}],[{type:2,data:As(e.replace(/-[\s\S]*$/,""))}],[{type:2,data:As(e)}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:yr(0)}],[],[{type:0,data:yr(0)}]])}),r[1]=[{type:0,data:yr(Math.max(t+1,Co(r[1][0].data)))}]}function Xd(r,t,e,n,i,a){a||(a=fc({deps:[],location:"",type:t},i));var s="".concat(n,"-").concat(a,".iwa");i[a].location="Root Entry"+s,Gn.utils.cfb_add(r,s,J0(Y0([{id:a,messages:[h8(t,_r(e))]}])));var l=s.replace(/^[\/]/,"").replace(/^Index\//,"").replace(/\.iwa$/,"");return Rn(r,i,2,function(c){var o=Or(c.messages[0].data);p8(o,a||0,l),c.messages[0].data=_r(o)}),a}function Ys(r,t,e,n){var i=t[e].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),a=r[3].findIndex(function(l){var c,o,u=Or(l.data);return(c=u[3])!=null&&c[0]?u1(u[3][0].data)==i:!!((o=u[2])!=null&&o[0]&&u1(u[2][0].data)==i)}),s=Or(r[3][a].data);s[6]||(s[6]=[]),(Array.isArray(n)?n:[n]).forEach(function(l){s[6].push({type:2,data:_r([[],[{type:0,data:yr(l)}]])})}),r[3][a].data=_r(s)}function vbe(r,t,e,n){var i=t[e].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,""),a=r[3].findIndex(function(l){var c,o,u=Or(l.data);return(c=u[3])!=null&&c[0]?u1(u[3][0].data)==i:!!((o=u[2])!=null&&o[0]&&u1(u[2][0].data)==i)}),s=Or(r[3][a].data);s[6]||(s[6]=[]),s[6]=s[6].filter(function(l){return Co(Or(l.data)[1][0].data)!=n}),r[3][a].data=_r(s)}function bbe(r,t,e){var n=-1,i=-1,a={};Rn(r,t,1,function(c,o){var u=Or(c.messages[0].data);n=Ui(Or(c.messages[0].data)[1][0].data),i=fc({deps:[1],location:t[n].location,type:2},t),a[n]=i,os(c,i),u[1].push({type:2,data:ls(i)});var d=dc(r,t,n);d.id=i,t[1].location==t[i].location?o.push(d):Rn(r,t,i,function(f,h){return h.push(d)}),c.messages[0].data=_r(u)});var s=-1;Rn(r,t,i,function(c,o){for(var u=Or(c.messages[0].data),d=3;d<=69;++d)delete u[d];var f=cx(u[2],Ui);f.forEach(function(y){return cu(c,y)}),s=fc({deps:[i],location:t[f[0]].location,type:t[f[0]].type},t),os(c,s),a[f[0]]=s,u[2]=[{type:2,data:ls(s)}];var h=dc(r,t,f[0]);h.id=s,t[f[0]].location==t[i].location?o.push(h):(Rn(r,t,2,function(y){var m=Or(y.messages[0].data);Ys(m,t,i,s),y.messages[0].data=_r(m)}),Rn(r,t,s,function(y,m){return m.push(h)})),c.messages[0].data=_r(u)});var l=-1;Rn(r,t,s,function(c,o){for(var u=Or(c.messages[0].data),d=Or(u[1][0].data),f=3;f<=69;++f)delete d[f];var h=Ui(d[2][0].data);d[2][0].data=ls(a[h]),u[1][0].data=_r(d);var y=Ui(u[2][0].data);cu(c,y),l=fc({deps:[s],location:t[y].location,type:t[y].type},t),os(c,l),a[y]=l,u[2][0].data=ls(l);var m=dc(r,t,y);m.id=l,t[s].location==t[l].location?o.push(m):Rn(r,t,l,function(g,v){return v.push(m)}),c.messages[0].data=_r(u)}),Rn(r,t,l,function(c,o){var u,d,f=Or(c.messages[0].data),h=u1(f[1][0].data),y=h.replace(/-[A-Z0-9]*/,"-".concat(("0000"+e.toString(16)).slice(-4)));if(f[1][0].data=As(y),[12,13,29,31,32,33,39,44,47,81,82,84].forEach(function(N){return delete f[N]}),f[45]){var m=Or(f[45][0].data),g=Ui(m[1][0].data);cu(c,g),delete f[45]}if(f[70]){var v=Or(f[70][0].data);(u=v[2])==null||u.forEach(function(N){var P=Or(N.data);[2,3].map(function(M){return P[M][0]}).forEach(function(M){var A=Or(M.data);if(A[8]){var F=Ui(A[8][0].data);cu(c,F)}})}),delete f[70]}[46,30,34,35,36,38,48,49,60,61,62,63,64,71,72,73,74,75,85,86,87,88,89].forEach(function(N){if(f[N]){var P=Ui(f[N][0].data);delete f[N],cu(c,P)}});var b=Or(f[4][0].data);{[2,4,5,6,11,12,13,15,16,17,18,19,20,21,22].forEach(function(N){var P;if((P=b[N])!=null&&P[0]){var M=Ui(b[N][0].data),A=fc({deps:[l],location:t[M].location,type:t[M].type},t);cu(c,M),os(c,A),a[M]=A;var F=dc(r,t,M);if(F.id=A,t[M].location==t[l].location)o.push(F);else{t[A].location=t[M].location.replace(M.toString(),A.toString()),t[A].location==t[M].location&&(t[A].location=t[A].location.replace(/\.iwa/,"-".concat(A,".iwa"))),Gn.utils.cfb_add(r,t[A].location,J0(Y0([F])));var H=t[A].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");Rn(r,t,2,function(z){var U=Or(z.messages[0].data);p8(U,A,H),Ys(U,t,l,A),z.messages[0].data=_r(U)})}b[N][0].data=ls(A)}});var w=Or(b[1][0].data);(d=w[2])==null||d.forEach(function(N){var P=Ui(N.data),M=fc({deps:[l],location:t[P].location,type:t[P].type},t);cu(c,P),os(c,M),a[P]=M;var A=dc(r,t,P);if(A.id=M,t[P].location==t[l].location)o.push(A);else{t[M].location=t[P].location.replace(P.toString(),M.toString()),t[M].location==t[P].location&&(t[M].location=t[M].location.replace(/\.iwa/,"-".concat(M,".iwa"))),Gn.utils.cfb_add(r,t[M].location,J0(Y0([A])));var F=t[M].location.replace(/^Root Entry\//,"").replace(/^Index\//,"").replace(/\.iwa$/,"");Rn(r,t,2,function(H){var z=Or(H.messages[0].data);p8(z,M,F),Ys(z,t,l,M),H.messages[0].data=_r(z)})}N.data=ls(M)}),b[1][0].data=_r(w);var _=Or(b[3][0].data);_[1].forEach(function(N){var P=Or(N.data),M=Ui(P[2][0].data),A=a[M];if(!a[M]){A=fc({deps:[l],location:"",type:t[M].type},t),t[A].location="Root Entry/Index/Tables/Tile-".concat(A,".iwa"),a[M]=A;var F=dc(r,t,M);F.id=A,cu(c,M),os(c,A),Gn.utils.cfb_add(r,"/Index/Tables/Tile-".concat(A,".iwa"),J0(Y0([F]))),Rn(r,t,2,function(H){var z=Or(H.messages[0].data);z[3].push({type:2,data:_r([[],[{type:0,data:yr(A)}],[{type:2,data:As("Tables/Tile")}],[{type:2,data:As("Tables/Tile-".concat(A))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:yr(0)}],[],[{type:0,data:yr(0)}]])}),z[1]=[{type:0,data:yr(Math.max(A+1,Co(z[1][0].data)))}],Ys(z,t,l,A),H.messages[0].data=_r(z)})}P[2][0].data=ls(A),N.data=_r(P)}),b[3][0].data=_r(_)}f[4][0].data=_r(b),c.messages[0].data=_r(f)})}function xbe(r,t,e,n,i,a){var s=[];Rn(r,t,a,function(o){var u=Or(o.messages[0].data);u[1]=[{type:2,data:As(n)}],s=cx(u[2],Ui),o.messages[0].data=_r(u)});var l=dc(r,t,s[0]),c=Ui(Or(l.messages[0].data)[2][0].data);Rn(r,t,c,function(o,u){return wbe(r,t,e,o,u,c)})}function wbe(r,t,e,n,i,a){if(!e["!ref"])throw new Error("Cannot export empty sheet to NUMBERS");var s=Ua(e["!ref"]);s.s.r=s.s.c=0;var l=!1;s.e.c>999&&(l=!0,s.e.c=999),s.e.r>999999&&(l=!0,s.e.r=999999),l&&console.error("Truncating to ".concat(Wi(s)));var c=[];if(e["!data"])c=e["!data"];else{for(var o=[],u=0;u<=s.e.c;++u)o[u]=Fn(u);for(var d=0;d<=s.e.r;++d){c[d]=[];var f=""+(d+1);for(u=0;u<=s.e.c;++u){var h=e[o[u]+f];h&&(c[d][u]=h)}}}var y={cmnt:[{a:"~54ee77S~",t:"... the people who are crazy enough to think they can change the world, are the ones who do."}],rsst:[{v:"~54ee77S~",l:"https://sheetjs.com/"}],sst:["~Sh33tJ5~"]},m=Or(n.messages[0].data);{m[6][0].data=yr(s.e.r+1),m[7][0].data=yr(s.e.c+1),delete m[46];var g=Or(m[4][0].data);{var v=Ui(Or(g[1][0].data)[2][0].data);Rn(r,t,v,function(B,K){var Z,ne=Or(B.messages[0].data);if((Z=ne==null?void 0:ne[2])!=null&&Z[0])for(var G=0;G<c.length;++G){var te=Or(ne[2][0].data);te[1][0].data=yr(G),te[4][0].data=yr(c[G].length),ne[2][G]={type:ne[2][0].type,data:_r(te)}}B.messages[0].data=_r(ne)});var b=Ui(g[2][0].data);Rn(r,t,b,function(B,K){for(var Z=Or(B.messages[0].data),ne=0;ne<=s.e.c;++ne){var G=Or(Z[2][0].data);G[1][0].data=yr(ne),G[4][0].data=yr(s.e.r+1),Z[2][ne]={type:Z[2][0].type,data:_r(G)}}B.messages[0].data=_r(Z)});var w=Or(g[9][0].data);w[1]=[];var _=Or(g[3][0].data);{var N=256;_[2]=[{type:0,data:yr(N)}];var P=Ui(Or(_[1][0].data)[2][0].data),M=function(){var B=dc(r,t,2),K=Or(B.messages[0].data),Z=K[3].filter(function(ne){return Co(Or(ne.data)[1][0].data)==P});return Z!=null&&Z.length?Co(Or(Z[0].data)[12][0].data):0}();Gn.utils.cfb_del(r,t[P].location),Rn(r,t,2,function(B){var K=Or(B.messages[0].data);K[3]=K[3].filter(function(Z){return Co(Or(Z.data)[1][0].data)!=P}),vbe(K,t,a,P),B.messages[0].data=_r(K)}),cu(n,P),_[1]=[];for(var A=Math.ceil((s.e.r+1)/N),F=0;F<A;++F){var H=fc({deps:[],location:"",type:6002},t);t[H].location="Root Entry/Index/Tables/Tile-".concat(H,".iwa");for(var z=[[],[{type:0,data:yr(0)}],[{type:0,data:yr(Math.min(s.e.r+1,(F+1)*N))}],[{type:0,data:yr(0)}],[{type:0,data:yr(Math.min((F+1)*N,s.e.r+1)-F*N)}],[],[{type:0,data:yr(5)}],[{type:0,data:yr(1)}],[{type:0,data:yr(1)}]],U=F*N;U<=Math.min(s.e.r,(F+1)*N-1);++U){var O=mbe(c[U],y);O[1][0].data=yr(U-F*N),z[5].push({data:_r(O),type:2})}_[1].push({type:2,data:_r([[],[{type:0,data:yr(F)}],[{type:2,data:ls(H)}]])});var L={id:H,messages:[h8(6002,_r(z))]},C=J0(Y0([L]));Gn.utils.cfb_add(r,"/Index/Tables/Tile-".concat(H,".iwa"),C),Rn(r,t,2,function(B){var K=Or(B.messages[0].data);K[3].push({type:2,data:_r([[],[{type:0,data:yr(H)}],[{type:2,data:As("Tables/Tile")}],[{type:2,data:As("Tables/Tile-".concat(H))}],[{type:2,data:new Uint8Array([2,0,0])}],[{type:2,data:new Uint8Array([2,0,0])}],[],[],[],[],[{type:0,data:yr(0)}],[],[{type:0,data:yr(M)}]])}),K[1]=[{type:0,data:yr(Math.max(H+1,Co(K[1][0].data)))}],Ys(K,t,a,H),B.messages[0].data=_r(K)}),os(n,H),w[1].push({type:2,data:_r([[],[{type:0,data:yr(F*N)}],[{type:0,data:yr(F)}]])})}}if(g[3][0].data=_r(_),g[9][0].data=_r(w),g[10]=[{type:2,data:new Uint8Array([])}],e["!merges"]){var k=fc({type:6144,deps:[a],location:t[a].location},t);i.push({id:k,messages:[h8(6144,_r([[],e["!merges"].map(function(B){return{type:2,data:_r([[],[{type:2,data:_r([[],[{type:5,data:new Uint8Array(new Uint16Array([B.s.r,B.s.c]).buffer)}]])}],[{type:2,data:_r([[],[{type:5,data:new Uint8Array(new Uint16Array([B.e.r-B.s.r+1,B.e.c-B.s.c+1]).buffer)}]])}]])}})]))]}),g[13]=[{type:2,data:ls(k)}],Rn(r,t,2,function(B){var K=Or(B.messages[0].data);Ys(K,t,a,k),B.messages[0].data=_r(K)}),os(n,k)}else delete g[13];var j=Ui(g[4][0].data);Rn(r,t,j,function(B){var K=Or(B.messages[0].data);K[3]=[],y.sst.forEach(function(Z,ne){ne!=0&&K[3].push({type:2,data:_r([[],[{type:0,data:yr(ne)}],[{type:0,data:yr(1)}],[{type:2,data:As(Z)}]])})}),B.messages[0].data=_r(K)});var E=Ui(g[17][0].data);if(Rn(r,t,E,function(B){var K=Or(B.messages[0].data);K[3]=[];var Z=[904980,903835,903815,903845];y.rsst.forEach(function(ne,G){if(G!=0){var te=[[],[{type:0,data:new Uint8Array([5])}],[],[{type:2,data:As(ne.v)}]];te[10]=[{type:0,data:new Uint8Array([1])}],te[19]=[{type:2,data:new Uint8Array([10,6,8,0,18,2,101,110])}],te[5]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,155,149,55])}],te[2]=[{type:2,data:new Uint8Array([8,148,158,55])}],te[6]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],te[7]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,135,149,55])}],te[8]=[{type:2,data:new Uint8Array([10,8,8,0,18,4,8,165,149,55])}],te[14]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}],te[24]=[{type:2,data:new Uint8Array([10,6,8,0,16,0,24,0])}];var I=fc({deps:[],location:"",type:2001},t),D=[];if(ne.l){var X=Xd(r,2032,[[],[],[{type:2,data:As(ne.l)}]],"/Index/Tables/DataList",t);te[11]=[];var Q=[[],[]];Q[1]||(Q[1]=[]),Q[1].push({type:2,data:_r([[],[{type:0,data:yr(0)}],[{type:2,data:ls(X)}]])}),te[11][0]={type:2,data:_r(Q)},D.push(X)}Xd(r,2001,te,"/Index/Tables/DataList",t,I),Rn(r,t,I,function(oe){Z.forEach(function(se){return os(oe,se)}),D.forEach(function(se){return os(oe,se)})});var re=Xd(r,6218,[[],[{type:2,data:ls(I)}],[],[{type:2,data:new Uint8Array([13,255,255,255,0,18,10,16,255,255,1,24,255,255,255,255,7])}]],"/Index/Tables/DataList",t);Rn(r,t,re,function(oe){return os(oe,I)}),K[3].push({type:2,data:_r([[],[{type:0,data:yr(G)}],[{type:0,data:yr(1)}],[],[],[],[],[],[],[{type:2,data:ls(re)}]])}),os(B,re),Rn(r,t,2,function(oe){var se=Or(oe.messages[0].data);Ys(se,t,E,re),Ys(se,t,re,I),Ys(se,t,I,D),Ys(se,t,I,Z),oe.messages[0].data=_r(se)})}}),B.messages[0].data=_r(K)}),y.cmnt.length>1){var T=Ui(g[19][0].data),R={},V=0;Rn(r,t,T,function(B){var K=Or(B.messages[0].data);K[3]=[],y.cmnt.forEach(function(Z,ne){if(ne!=0){var G=[];Z.replies&&Z.replies.forEach(function(D){R[D.a||""]||(R[D.a||""]=Xd(r,212,[[],[{type:2,data:As(D.a||"")}],[{type:2,data:JI(++V)}],[],[{type:0,data:yr(0)}]],"/Index/Tables/DataList",t));var X=R[D.a||""],Q=Xd(r,3056,[[],[{type:2,data:As(D.t||"")}],[{type:2,data:_r([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:ls(X)}]],"/Index/Tables/DataList",t);Rn(r,t,Q,function(re){return os(re,X)}),G.push(Q),Rn(r,t,2,function(re){var oe=Or(re.messages[0].data);Ys(oe,t,Q,X),re.messages[0].data=_r(oe)})}),R[Z.a||""]||(R[Z.a||""]=Xd(r,212,[[],[{type:2,data:As(Z.a||"")}],[{type:2,data:JI(++V)}],[],[{type:0,data:yr(0)}]],"/Index/Tables/DataList",t));var te=R[Z.a||""],I=Xd(r,3056,[[],[{type:2,data:As(Z.t||"")}],[{type:2,data:_r([[],[{type:1,data:new Uint8Array([0,0,0,128,116,109,182,65])}]])}],[{type:2,data:ls(te)}],G.map(function(D){return{type:2,data:ls(D)}}),[{type:2,data:_r([[],[{type:0,data:yr(ne)}],[{type:0,data:yr(0)}]])}]],"/Index/Tables/DataList",t);Rn(r,t,I,function(D){os(D,te),G.forEach(function(X){return os(D,X)})}),K[3].push({type:2,data:_r([[],[{type:0,data:yr(ne)}],[{type:0,data:yr(1)}],[],[],[],[],[],[],[],[{type:2,data:ls(I)}]])}),os(B,I),Rn(r,t,2,function(D){var X=Or(D.messages[0].data);Ys(X,t,T,I),Ys(X,t,I,te),G.length&&Ys(X,t,I,G),D.messages[0].data=_r(X)})}}),K[2][0].data=yr(y.cmnt.length+1),B.messages[0].data=_r(K)})}}m[4][0].data=_r(g)}n.messages[0].data=_r(m)}function _be(r){return function(e){for(var n=0;n!=r.length;++n){var i=r[n];e[i[0]]===void 0&&(e[i[0]]=i[1]),i[2]==="n"&&(e[i[0]]=Number(e[i[0]]))}}}function sN(r){_be([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function Sbe(r,t){r&&!r.SSF&&(r.SSF=ys(si)),r&&r.SSF&&(n2(),r2(r.SSF),t.revssf=i2(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,lg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e="bin",n=!0,i=q$();sN(t=t||{});var a=Vk(),s="",l=0;if(t.cellXfs=[],cd(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),s="docProps/core.xml",Xr(a,s,G$(r.Props,t)),i.coreprops.push(s),_n(t.rels,2,s,cn.CORE_PROPS),s="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],o=0;o<r.SheetNames.length;++o)(r.Workbook.Sheets[o]||{}).Hidden!=2&&c.push(r.SheetNames[o]);r.Props.SheetNames=c}r.Props.Worksheets=r.Props.SheetNames.length,Xr(a,s,K$(r.Props)),i.extprops.push(s),_n(t.rels,3,s,cn.EXT_PROPS),r.Custprops!==r.Props&&Hi(r.Custprops||{}).length>0&&(s="docProps/custom.xml",Xr(a,s,Y$(r.Custprops)),i.custprops.push(s),_n(t.rels,4,s,cn.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=r.SheetNames.length;++l){var d={"!id":{}},f=r.Sheets[r.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+l+"."+e,Xr(a,s,ive(l-1,t,r,d)),i.sheets.push(s),_n(t.wbrels,-1,"worksheets/sheet"+l+"."+e,cn.WS[0])}if(f){var y=f["!comments"],m=!1,g="";if(y&&y.length>0){var v=!1;y.forEach(function(w){w[1].forEach(function(_){_.T==!0&&(v=!0)})}),v&&(g="xl/threadedComments/threadedComment"+l+".xml",Xr(a,g,uU(y,u,t)),i.threadedcomments.push(g),_n(d,-1,"../threadedComments/threadedComment"+l+".xml",cn.TCMNT)),g="xl/comments"+l+"."+e,Xr(a,g,Xme(y)),i.comments.push(g),_n(d,-1,"../comments"+l+"."+e,cn.CMNT),m=!0}f["!legacy"]&&m&&Xr(a,"xl/drawings/vmlDrawing"+l+".vml",cU(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Xr(a,W$(s),X0(d))}t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+e,Xr(a,s,ime(t.Strings)),i.strs.push(s),_n(t.wbrels,-1,"sharedStrings."+e,cn.SST)),s="xl/workbook."+e,Xr(a,s,Nve(r)),i.workbooks.push(s),_n(t.rels,1,s,cn.WB),s="xl/theme/theme1.xml";var b=lU(r.Themes,t);return Xr(a,s,b),i.themes.push(s),_n(t.wbrels,-1,"theme/theme1.xml",cn.THEME),s="xl/styles."+e,Xr(a,s,Pme(r,t)),i.styles.push(s),_n(t.wbrels,-1,"styles."+e,cn.STY),r.vbaraw&&n&&(s="xl/vbaProject.bin",Xr(a,s,r.vbaraw),i.vba.push(s),_n(t.wbrels,-1,"vbaProject.bin",cn.VBA)),s="xl/metadata."+e,Xr(a,s,$me()),i.metadata.push(s),_n(t.wbrels,-1,"metadata."+e,cn.XLMETA),u.length>1&&(s="xl/persons/person.xml",Xr(a,s,fU(u)),i.people.push(s),_n(t.wbrels,-1,"persons/person.xml",cn.PEOPLE)),Xr(a,"[Content_Types].xml",H$(i,t)),Xr(a,"_rels/.rels",X0(t.rels)),Xr(a,"xl/_rels/workbook."+e+".rels",X0(t.wbrels)),delete t.revssf,delete t.ssf,a}function kbe(r,t){r&&!r.SSF&&(r.SSF=ys(si)),r&&r.SSF&&(n2(),r2(r.SSF),t.revssf=i2(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,lg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e="xml",n=Yme.indexOf(t.bookType)>-1,i=q$();sN(t=t||{});var a=Vk(),s="",l=0;if(t.cellXfs=[],cd(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),s="docProps/core.xml",Xr(a,s,G$(r.Props,t)),i.coreprops.push(s),_n(t.rels,2,s,cn.CORE_PROPS),s="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],o=0;o<r.SheetNames.length;++o)(r.Workbook.Sheets[o]||{}).Hidden!=2&&c.push(r.SheetNames[o]);r.Props.SheetNames=c}r.Props.Worksheets=r.Props.SheetNames.length,Xr(a,s,K$(r.Props)),i.extprops.push(s),_n(t.rels,3,s,cn.EXT_PROPS),r.Custprops!==r.Props&&Hi(r.Custprops||{}).length>0&&(s="docProps/custom.xml",Xr(a,s,Y$(r.Custprops)),i.custprops.push(s),_n(t.rels,4,s,cn.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=r.SheetNames.length;++l){var d={"!id":{}},f=r.Sheets[r.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+l+"."+e,Xr(a,s,W1e(l-1,t,r,d)),i.sheets.push(s),_n(t.wbrels,-1,"worksheets/sheet"+l+"."+e,cn.WS[0])}if(f){var y=f["!comments"],m=!1,g="";if(y&&y.length>0){var v=!1;y.forEach(function(b){b[1].forEach(function(w){w.T==!0&&(v=!0)})}),v&&(g="xl/threadedComments/threadedComment"+l+".xml",Xr(a,g,uU(y,u,t)),i.threadedcomments.push(g),_n(d,-1,"../threadedComments/threadedComment"+l+".xml",cn.TCMNT)),g="xl/comments"+l+"."+e,Xr(a,g,Hme(y)),i.comments.push(g),_n(d,-1,"../comments"+l+"."+e,cn.CMNT),m=!0}f["!legacy"]&&m&&Xr(a,"xl/drawings/vmlDrawing"+l+".vml",cU(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Xr(a,W$(s),X0(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+e,Xr(a,s,eme(t.Strings,t)),i.strs.push(s),_n(t.wbrels,-1,"sharedStrings."+e,cn.SST)),s="xl/workbook."+e,Xr(a,s,fve(r)),i.workbooks.push(s),_n(t.rels,1,s,cn.WB),s="xl/theme/theme1.xml",Xr(a,s,lU(r.Themes,t)),i.themes.push(s),_n(t.wbrels,-1,"theme/theme1.xml",cn.THEME),s="xl/styles."+e,Xr(a,s,fme(r,t)),i.styles.push(s),_n(t.wbrels,-1,"styles."+e,cn.STY),r.vbaraw&&n&&(s="xl/vbaProject.bin",Xr(a,s,r.vbaraw),i.vba.push(s),_n(t.wbrels,-1,"vbaProject.bin",cn.VBA)),s="xl/metadata."+e,Xr(a,s,Ume()),i.metadata.push(s),_n(t.wbrels,-1,"metadata."+e,cn.XLMETA),u.length>1&&(s="xl/persons/person.xml",Xr(a,s,fU(u)),i.people.push(s),_n(t.wbrels,-1,"persons/person.xml",cn.PEOPLE)),Xr(a,"[Content_Types].xml",H$(i,t)),Xr(a,"_rels/.rels",X0(t.rels)),Xr(a,"xl/_rels/workbook."+e+".rels",X0(t.wbrels)),delete t.revssf,delete t.ssf,a}function Nbe(r,t){var e="";switch((t||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":e=Jf(r.slice(0,12));break;case"binary":e=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}function PU(r,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return A1(t.file,Gn.write(r,{type:Sn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Gn.write(r,t)}function Ebe(r,t){switch(t.bookType){case"ods":return TU(r,t);case"numbers":return ybe(r,t);case"xlsb":return Sbe(r,t);default:return kbe(r,t)}}function jbe(r,t){var e=ys(t||{}),n=Ebe(r,e);return Abe(n,e)}function Abe(r,t){var e={},n=Sn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(e.compression="DEFLATE"),t.password)e.type=n;else switch(t.type){case"base64":e.type="base64";break;case"binary":e.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":e.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=r.FullPaths?Gn.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[e.type]||e.type,compression:!!t.compression}):r.generate(e);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(t2(i))}return t.password&&typeof encrypt_agile<"u"?PU(encrypt_agile(i,t.password),t):t.type==="file"?A1(t.file,i):t.type=="string"?G0(i):i}function Tbe(r,t){var e=t||{},n=Bve(r,e);return PU(n,e)}function uc(r,t,e){e||(e="");var n=e+r;switch(t.type){case"base64":return Kb(a1(n));case"binary":return a1(n);case"string":return r;case"file":return A1(t.file,n,"utf8");case"buffer":return Sn?Cc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):uc(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Cbe(r,t){switch(t.type){case"base64":return Che(r);case"binary":return r;case"string":return r;case"file":return A1(t.file,r,"binary");case"buffer":return Sn?Cc(r,"binary"):r.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Ev(r,t){switch(t.type){case"string":case"base64":case"binary":for(var e="",n=0;n<r.length;++n)e+=String.fromCharCode(r[n]);return t.type=="base64"?Kb(e):t.type=="string"?G0(e):e;case"file":return A1(t.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+t.type)}}function MU(r,t){The(),uve(r);var e=ys(t||{});if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),e.type=="array"){e.type="binary";var n=MU(r,e);return e.type="array",t2(n)}var i=0;if(e.sheet&&(typeof e.sheet=="number"?i=e.sheet:i=r.SheetNames.indexOf(e.sheet),!r.SheetNames[i]))throw new Error("Sheet not found: "+e.sheet+" : "+typeof e.sheet);switch(e.bookType||"xlsb"){case"xml":case"xlml":return uc(Lve(r,e),e);case"slk":case"sylk":return uc(Ype.from_sheet(r.Sheets[r.SheetNames[i]],e,r),e);case"htm":case"html":return uc(EU(r.Sheets[r.SheetNames[i]],e),e);case"txt":return Cbe(IU(r.Sheets[r.SheetNames[i]],e),e);case"csv":return uc(oN(r.Sheets[r.SheetNames[i]],e),e,"\uFEFF");case"dif":return uc(Jpe.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"dbf":return Ev(Kpe.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"prn":return uc(Zpe.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"rtf":return uc(sme(r.Sheets[r.SheetNames[i]]),e);case"eth":return uc(nU.from_sheet(r.Sheets[r.SheetNames[i]],e),e);case"fods":return uc(TU(r,e),e);case"wk1":return Ev(BI.sheet_to_wk1(r.Sheets[r.SheetNames[i]],e),e);case"wk3":return Ev(BI.book_to_wk3(r,e),e);case"biff2":e.biff||(e.biff=2);case"biff3":e.biff||(e.biff=3);case"biff4":return e.biff||(e.biff=4),Ev(NU(r,e),e);case"biff5":e.biff||(e.biff=5);case"biff8":case"xla":case"xls":return e.biff||(e.biff=8),Tbe(r,e);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return jbe(r,e);default:throw new Error("Unrecognized bookType |"+e.bookType+"|")}}function Obe(r){if(!r.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},e=r.file.slice(r.file.lastIndexOf(".")).toLowerCase();e.match(/^\.[a-z]+$/)&&(r.bookType=e.slice(1)),r.bookType=t[r.bookType]||r.bookType}}function d2(r,t,e){var n=e||{};return n.type="file",n.file=t,Obe(n),MU(r,n)}function Pbe(r,t,e,n,i,a,s){var l=zn(e),c=s.defval,o=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),u=!0,d=r["!data"]!=null,f=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:e,enumerable:!1})}catch{f.__rowNum__=e}else f.__rowNum__=e;if(!d||r["!data"][e])for(var h=t.s.c;h<=t.e.c;++h){var y=d?(r["!data"][e]||[])[h]:r[n[h]+l];if(y==null||y.t===void 0){if(c===void 0)continue;a[h]!=null&&(f[a[h]]=c);continue}var m=y.v;switch(y.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"b":case"n":if(!y.z||!_h(y.z)||(m=V0(m),typeof m=="number"))break;case"d":s&&(s.UTC||s.raw===!1)||(m=Np(new Date(m)));break;default:throw new Error("unrecognized type "+y.t)}if(a[h]!=null){if(m==null)if(y.t=="e"&&m===null)f[a[h]]=null;else if(c!==void 0)f[a[h]]=c;else if(o&&m===null)f[a[h]]=null;else continue;else f[a[h]]=(y.t==="n"&&typeof s.rawNumbers=="boolean"?s.rawNumbers:o)?m:Mu(y,m,s);m!=null&&(u=!1)}}return{row:f,isempty:u}}function m8(r,t){if(r==null||r["!ref"]==null)return[];var e={t:"n",v:0},n=0,i=1,a=[],s=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},o=t||{},u=o.range!=null?o.range:r["!ref"];switch(o.header===1?n=1:o.header==="A"?n=2:Array.isArray(o.header)?n=3:o.header==null&&(n=0),typeof u){case"string":c=oi(u);break;case"number":c=oi(r["!ref"]),c.s.r=u;break;default:c=u}n>0&&(i=0);var d=zn(c.s.r),f=[],h=[],y=0,m=0,g=r["!data"]!=null,v=c.s.r,b=0,w={};g&&!r["!data"][v]&&(r["!data"][v]=[]);var _=o.skipHidden&&r["!cols"]||[],N=o.skipHidden&&r["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(_[b]||{}).hidden)switch(f[b]=Fn(b),e=g?r["!data"][v][b]:r[f[b]+d],n){case 1:a[b]=b-c.s.c;break;case 2:a[b]=f[b];break;case 3:a[b]=o.header[b-c.s.c];break;default:if(e==null&&(e={w:"__EMPTY",t:"s"}),l=s=Mu(e,null,o),m=w[s]||0,!m)w[s]=1;else{do l=s+"_"+m++;while(w[l]);w[s]=m,w[l]=1}a[b]=l}for(v=c.s.r+i;v<=c.e.r;++v)if(!(N[v]||{}).hidden){var P=Pbe(r,c,v,f,n,a,o);(P.isempty===!1||(n===1?o.blankrows!==!1:o.blankrows))&&(h[y++]=P.row)}return h.length=y,h}var ZI=/"/g;function Mbe(r,t,e,n,i,a,s,l,c){for(var o=!0,u=[],d="",f=zn(e),h=r["!data"]!=null,y=h&&r["!data"][e]||[],m=t.s.c;m<=t.e.c;++m)if(n[m]){var g=h?y[m]:r[n[m]+f];if(g==null)d="";else if(g.v!=null){o=!1,d=""+(c.rawNumbers&&g.t=="n"?g.v:Mu(g,null,c));for(var v=0,b=0;v!==d.length;++v)if((b=d.charCodeAt(v))===i||b===a||b===34||c.forceQuotes){d='"'+d.replace(ZI,'""')+'"';break}d=="ID"&&l==0&&u.length==0&&(d='"ID"')}else g.f!=null&&!g.F?(o=!1,d="="+g.f,d.indexOf(",")>=0&&(d='"'+d.replace(ZI,'""')+'"')):d="";u.push(d)}if(c.strip)for(;u[u.length-1]==="";)--u.length;return c.blankrows===!1&&o?null:u.join(s)}function oN(r,t){var e=[],n=t??{};if(r==null||r["!ref"]==null)return"";for(var i=oi(r["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),o="",u=[],d=n.skipHidden&&r["!cols"]||[],f=n.skipHidden&&r["!rows"]||[],h=i.s.c;h<=i.e.c;++h)(d[h]||{}).hidden||(u[h]=Fn(h));for(var y=0,m=i.s.r;m<=i.e.r;++m)(f[m]||{}).hidden||(o=Mbe(r,i,m,u,s,c,a,y,n),o!=null&&(o||n.blankrows!==!1)&&e.push((y++?l:"")+o));return e.join("")}function IU(r,t){t||(t={}),t.FS="	",t.RS=`
`;var e=oN(r,t);return e}function Ibe(r,t){var e="",n,i="";if(r==null||r["!ref"]==null)return[];var a=oi(r["!ref"]),s="",l=[],c,o=[],u=r["!data"]!=null;for(c=a.s.c;c<=a.e.c;++c)l[c]=Fn(c);for(var d=a.s.r;d<=a.e.r;++d)for(s=zn(d),c=a.s.c;c<=a.e.c;++c)if(e=l[c]+s,n=u?(r["!data"][d]||[])[c]:r[e],i="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;i=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)i=n.f;else{if(t&&t.values===!1)continue;if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)i=""+n.v;else if(n.t=="b")i=n.v?"TRUE":"FALSE";else if(n.w!==void 0)i="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?i="'"+n.v:i=""+n.v}}o[o.length]=e+"="+i}return o}function RU(r,t,e){var n=e||{},i=r?r["!data"]!=null:n.dense,a=+!n.skipHeader,s=r||{};!r&&i&&(s["!data"]=[]);var l=0,c=0;if(s&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var o=typeof n.origin=="string"?gi(n.origin):n.origin;l=o.r,c=o.c}var u={s:{c:0,r:0},e:{c,r:l+t.length-1+a}};if(s["!ref"]){var d=oi(s["!ref"]);u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),l==-1&&(l=d.e.r+1,u.e.r=l+t.length-1+a)}else l==-1&&(l=0,u.e.r=t.length-1+a);var f=n.header||[],h=0,y=[];t.forEach(function(g,v){i&&!s["!data"][l+v+a]&&(s["!data"][l+v+a]=[]),i&&(y=s["!data"][l+v+a]),Hi(g).forEach(function(b){(h=f.indexOf(b))==-1&&(f[h=f.length]=b);var w=g[b],_="z",N="",P=i?"":Fn(c+h)+zn(l+v+a),M=i?y[c+h]:s[P];w&&typeof w=="object"&&!(w instanceof Date)?i?y[c+h]=w:s[P]=w:(typeof w=="number"?_="n":typeof w=="boolean"?_="b":typeof w=="string"?_="s":w instanceof Date?(_="d",n.UTC||(w=a2(w)),n.cellDates||(_="n",w=za(w)),N=M!=null&&M.z&&_h(M.z)?M.z:n.dateNF||si[14]):w===null&&n.nullError&&(_="e",w=0),M?(M.t=_,M.v=w,delete M.w,delete M.R,N&&(M.z=N)):i?y[c+h]=M={t:_,v:w}:s[P]=M={t:_,v:w},N&&(M.z=N))})}),u.e.c=Math.max(u.e.c,c+f.length-1);var m=zn(l);if(i&&!s["!data"][l]&&(s["!data"][l]=[]),a)for(h=0;h<f.length;++h)i?s["!data"][l][h+c]={t:"s",v:f[h]}:s[Fn(h+c)+m]={t:"s",v:f[h]};return s["!ref"]=Wi(u),s}function Rbe(r,t){return RU(null,r,t)}function dx(r,t,e){if(typeof t=="string"){if(r["!data"]!=null){var n=gi(t);return r["!data"][n.r]||(r["!data"][n.r]=[]),r["!data"][n.r][n.c]||(r["!data"][n.r][n.c]={t:"z"})}return r[t]||(r[t]={t:"z"})}return typeof t!="number"?dx(r,_i(t)):dx(r,Fn(e||0)+zn(t))}function Fbe(r,t){if(typeof t=="number"){if(t>=0&&r.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var e=r.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function Lbe(r,t){var e={SheetNames:[],Sheets:{}};return r&&lN(e,r,t||"Sheet1"),e}function lN(r,t,e,n){var i=1;if(!e)for(;i<=65535&&r.SheetNames.indexOf(e="Sheet"+i)!=-1;++i,e=void 0);if(!e||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(e)>=0&&e.length<32){var a=e.match(/\d+$/);i=a&&+a[0]||0;var s=a&&e.slice(0,a.index)||e;for(++i;i<=65535&&r.SheetNames.indexOf(e=s+i)!=-1;++i);}if(_U(e),r.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return r.SheetNames.push(e),r.Sheets[e]=t,e}function Dbe(r,t,e){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=Fbe(r,t);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}r.Workbook.Sheets[n].Hidden=e}function Bbe(r,t){return r.z=t,r}function FU(r,t,e){return t?(r.l={Target:t},e&&(r.l.Tooltip=e)):delete r.l,r}function $be(r,t,e){return FU(r,"#"+t,e)}function Ube(r,t,e){r.c||(r.c=[]),r.c.push({t,a:e||"SheetJS"})}function zbe(r,t,e,n){for(var i=typeof t!="string"?t:oi(t),a=typeof t=="string"?t:Wi(t),s=i.s.r;s<=i.e.r;++s)for(var l=i.s.c;l<=i.e.c;++l){var c=dx(r,s,l);c.t="n",c.F=a,delete c.v,s==i.s.r&&l==i.s.c&&(c.f=e,n&&(c.D=!0))}var o=Ua(r["!ref"]);return o.s.r>i.s.r&&(o.s.r=i.s.r),o.s.c>i.s.c&&(o.s.c=i.s.c),o.e.r<i.e.r&&(o.e.r=i.e.r),o.e.c<i.e.c&&(o.e.c=i.e.c),r["!ref"]=Wi(o),r}var us={encode_col:Fn,encode_row:zn,encode_cell:_i,encode_range:Wi,decode_col:Zk,decode_row:Jk,split_cell:D0e,decode_cell:gi,decode_range:Ua,format_cell:Mu,sheet_new:B0e,sheet_add_aoa:D$,sheet_add_json:RU,sheet_add_dom:jU,aoa_to_sheet:Up,json_to_sheet:Rbe,table_to_sheet:AU,table_to_book:lbe,sheet_to_csv:oN,sheet_to_txt:IU,sheet_to_json:m8,sheet_to_html:EU,sheet_to_formulae:Ibe,sheet_to_row_object_array:m8,sheet_get_cell:dx,book_new:Lbe,book_append_sheet:lN,book_set_sheet_visibility:Dbe,cell_set_number_format:Bbe,cell_set_hyperlink:FU,cell_set_internal_link:$be,cell_add_comment:Ube,sheet_set_array_formula:zbe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const qbe=()=>{const{theme:r}=Vr(),t=r==="dark",{selectedCompany:e}=li(),{userRole:n}=Ha(),[i,a]=fe.useState(!1),[s,l]=fe.useState(null),[c,o]=fe.useState(!1),[u,d]=fe.useState(!1),[f,h]=fe.useState(""),[y,m]=fe.useState(""),[g,v]=fe.useState("name"),[b,w]=fe.useState("asc"),[_,N]=fe.useState("grid"),[P,M]=fe.useState([0,1e4]),[A,F]=fe.useState("all"),[H,z]=fe.useState({}),U=fe.useMemo(()=>e?[{column:"company_id",operator:"eq",value:e.id}]:[],[e==null?void 0:e.id]),{data:O=[],loading:L,error:C,add:k,update:j,remove:E}=mg("products",{filters:U});fe.useEffect(()=>{T()},[]);const T=async()=>{try{const{data:re,error:oe}=await $e.from("tax_rates").select("*");if(oe)throw oe;const le={...re.reduce((de,ve)=>({...de,[ve.id]:{rate:ve.rate,description:ve.description}}),{}),...[{id:"0a93172b-21a3-42ac-b372-fc16acf44a06",rate:28,description:"GST 28%"},{id:"73fe4609-6047-4e3e-ae44-64e7d68b6df1",rate:12,description:"GST 12%"},{id:"76f65d10-41c4-4b47-92d0-d300bb86e81d",rate:0,description:"GST Exempt"},{id:"b5aa2c3d-fe26-47f3-bd25-7e6b76c36a2d",rate:5,description:"GST 5%"},{id:"ef3d6f7b-9d32-4f5b-8b75-425b6723c122",rate:18,description:"GST 18%"}].reduce((de,ve)=>({...de,[ve.id]:{rate:ve.rate,description:ve.description}}),{})};z(le)}catch(re){console.error("Error loading tax rates:",re),z([{id:"0a93172b-21a3-42ac-b372-fc16acf44a06",rate:28,description:"GST 28%"},{id:"73fe4609-6047-4e3e-ae44-64e7d68b6df1",rate:12,description:"GST 12%"},{id:"76f65d10-41c4-4b47-92d0-d300bb86e81d",rate:0,description:"GST Exempt"},{id:"b5aa2c3d-fe26-47f3-bd25-7e6b76c36a2d",rate:5,description:"GST 5%"},{id:"ef3d6f7b-9d32-4f5b-8b75-425b6723c122",rate:18,description:"GST 18%"}].reduce((se,he)=>({...se,[he.id]:{rate:he.rate,description:he.description}}),{}))}},R=async re=>{if(window.confirm("Are you sure you want to delete this product?"))try{await E(re),Oe.success("Product deleted successfully")}catch{Oe.error("Failed to delete product")}},V=async re=>{if(!e){Oe.error("No active company selected. Please select a company first.");return}try{await k({...re,companyId:e.id}),Oe.success("Product added successfully"),a(!1)}catch(oe){console.error("Error adding product:",oe),oe instanceof Error?Oe.error(oe.message):Oe.error("Failed to add product")}},B=async re=>{if(s)try{const oe={...re,companyId:s.companyId};await j(s.id,oe),Oe.success("Product updated successfully"),o(!1),l(null)}catch(oe){console.error("Error updating product:",oe),Oe.error("Failed to update product")}},K=re=>{l(re),o(!0)},Z=()=>{o(!1),l(null)},ne=re=>{l(re),d(!0)},G=O.filter(re=>re.name.toLowerCase().includes(f.toLowerCase())||re.sku.toLowerCase().includes(f.toLowerCase())).filter(re=>y?re.category===y:!0).filter(re=>re.price>=P[0]&&re.price<=P[1]).filter(re=>A==="all"?!0:A==="inStock"?re.stock>0:A==="lowStock"?re.stock>0&&re.stock<=10:A==="outOfStock"?re.stock===0:!0).sort((re,oe)=>g==="name"?b==="asc"?re.name.localeCompare(oe.name):oe.name.localeCompare(re.name):g==="price"?b==="asc"?re.price-oe.price:oe.price-re.price:g==="stock"?b==="asc"?re.stock-oe.stock:oe.stock-re.stock:g==="category"?b==="asc"?re.category.localeCompare(oe.category):oe.category.localeCompare(re.category):0),te=re=>`${re.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,I=[...new Set(O.map(re=>re.category))],D=Math.min(...O.map(re=>re.price),0),X=Math.max(...O.map(re=>re.price),1e4),Q=re=>{g===re?w(b==="asc"?"desc":"asc"):(v(re),w("asc"))};return C?p.jsx("div",{className:"text-center py-12",children:p.jsxs("p",{className:"text-red-500",children:["Error loading products: ",C.message]})}):e?p.jsxs("div",{className:"space-y-6",children:[p.jsx(yhe,{title:"Products",rightContent:e&&p.jsxs(p.Fragment,{children:[p.jsx(w0,{action:"create",fallback:p.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:n==="cashier"||n==="salesperson"?`View-only mode (${n})`:"No permission to add products"}),children:p.jsx(u$,{onClick:()=>a(!0),children:"Add Product"})}),(n==="admin"||n==="manager"||n==="owner")&&p.jsx(_t,{variant:"secondary",size:"sm",className:"ml-2",onClick:()=>{const re=G.map(he=>({Name:he.name,SKU:he.sku,"Art No":he.artNo||he.art_no||"",Color:he.color||"",Size:he.size||"",Category:he.category,Stock:he.stock,Unit:he.unit,Price:he.price,MRP:he.mrp})),oe=us.json_to_sheet(re),se=us.book_new();us.book_append_sheet(se,oe,"Stock Report"),d2(se,`stock-report-${new Date().toISOString().slice(0,10)}.xlsx`)},children:"Export Stock Report"})]})}),p.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm`,children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx("input",{type:"text",placeholder:"Search products by name or SKU...",value:f,onChange:re=>h(re.target.value),className:`w-full pl-10 pr-4 py-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx(Iu,{className:`absolute left-3 top-2.5 w-5 h-5 ${t?"text-gray-400":"text-gray-500"}`})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:`flex rounded-md overflow-hidden border ${t?"border-gray-600":"border-gray-300"}`,children:[p.jsx("button",{onClick:()=>N("grid"),className:`p-2 ${_==="grid"?t?"bg-blue-600 text-white":"bg-blue-500 text-white":t?"bg-gray-700 text-gray-300":"bg-white text-gray-700"}`,"aria-label":"Grid view",children:p.jsx(tF,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>N("list"),className:`p-2 ${_==="list"?t?"bg-blue-600 text-white":"bg-blue-500 text-white":t?"bg-gray-700 text-gray-300":"bg-white text-gray-700"}`,"aria-label":"List view",children:p.jsx(rF,{className:"w-5 h-5"})})]}),p.jsx(_t,{variant:"secondary",size:"sm",leftIcon:p.jsx(UV,{className:"w-4 h-4"}),onClick:()=>{},children:"Filter"}),p.jsx(_t,{variant:"secondary",size:"sm",leftIcon:p.jsx(hm,{className:"w-4 h-4"}),onClick:()=>{g==="name"?w(b==="asc"?"desc":"asc"):(v("name"),w("asc"))},children:"Sort"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 content-section",children:[p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Category"}),p.jsxs("select",{value:y,onChange:re=>m(re.target.value),className:`w-full px-3 py-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"",children:"All Categories"}),I.map(re=>p.jsx("option",{value:re,children:re.charAt(0).toUpperCase()+re.slice(1)},re))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Stock Status"}),p.jsxs("select",{value:A,onChange:re=>F(re.target.value),className:`w-full px-3 py-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"all",children:"All Products"}),p.jsx("option",{value:"inStock",children:"In Stock"}),p.jsx("option",{value:"lowStock",children:"Low Stock ( 10)"}),p.jsx("option",{value:"outOfStock",children:"Out of Stock"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Sort By"}),p.jsxs("select",{value:`${g}-${b}`,onChange:re=>{const[oe,se]=re.target.value.split("-");v(oe),w(se)},className:`w-full px-3 py-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),p.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),p.jsx("option",{value:"price-asc",children:"Price (Low to High)"}),p.jsx("option",{value:"price-desc",children:"Price (High to Low)"}),p.jsx("option",{value:"stock-asc",children:"Stock (Low to High)"}),p.jsx("option",{value:"stock-desc",children:"Stock (High to Low)"}),p.jsx("option",{value:"category-asc",children:"Category (A-Z)"}),p.jsx("option",{value:"category-desc",children:"Category (Z-A)"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:"Price Range"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"number",min:"0",value:P[0],onChange:re=>M([Number(re.target.value),P[1]]),className:`w-full px-3 py-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx("span",{className:t?"text-gray-400":"text-gray-500",children:"to"}),p.jsx("input",{type:"number",min:"0",value:P[1],onChange:re=>M([P[0],Number(re.target.value)]),className:`w-full px-3 py-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]})]}),p.jsx("div",{className:"mb-4",children:p.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:["Showing ",G.length," of ",O.length," products"]})}),L?_==="grid"?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4,5,6,7,8].map(re=>p.jsxs("div",{className:`animate-pulse ${t?"bg-gray-700":"bg-gray-100"} p-4 rounded-lg`,children:[p.jsx("div",{className:"h-40 bg-gray-400 rounded-md mb-4"}),p.jsx("div",{className:"h-6 bg-gray-400 rounded w-3/4 mb-2"}),p.jsx("div",{className:"h-4 bg-gray-400 rounded w-1/2 mb-2"}),p.jsx("div",{className:"h-4 bg-gray-400 rounded w-1/4"})]},re))}):p.jsx("div",{className:"grid grid-cols-1 gap-4",children:[1,2,3,4,5].map(re=>p.jsx("div",{className:`animate-pulse ${t?"bg-gray-700":"bg-gray-100"} p-4 rounded-md`,children:p.jsxs("div",{className:"flex",children:[p.jsx("div",{className:"h-16 w-16 bg-gray-400 rounded-md mr-4"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"h-6 bg-gray-400 rounded w-1/4 mb-2"}),p.jsx("div",{className:"h-4 bg-gray-400 rounded w-1/2"})]})]})},re))}):G.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Vn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),p.jsx("h3",{className:`text-xl font-semibold mb-2 ${t?"text-gray-200":"text-gray-700"}`,children:"No products found"}),p.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"} mb-6 max-w-md mx-auto`,children:f||y||A!=="all"||P[0]>D||P[1]<X?"Try adjusting your filters to see more products.":"Start by adding your first product to your inventory."}),p.jsx(w0,{action:"create",fallback:null,children:p.jsx("div",{className:"flex justify-center",children:p.jsx(_t,{onClick:()=>a(!0),leftIcon:p.jsx(Qs,{className:"h-4 w-4"}),size:"lg",children:"Add Product"})})})]}):_==="grid"?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:G.map(re=>{var oe,se;return p.jsxs("div",{className:`rounded-lg overflow-hidden border ${t?"bg-gray-700 border-gray-600":"bg-white border-gray-200"} transition-all duration-200 hover:shadow-md`,children:[p.jsx("div",{className:`h-48 overflow-hidden ${t?"bg-gray-800":"bg-gray-100"} flex items-center justify-center`,children:re.imageUrl?p.jsx("img",{src:re.imageUrl,alt:re.name,className:"w-full h-full object-cover"}):p.jsx(Vn,{className:"w-16 h-16 text-gray-400"})}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("h3",{className:`font-semibold ${t?"text-white":"text-gray-800"} line-clamp-2`,children:re.name}),p.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${re.stock===0?"bg-red-100 text-red-800":re.stock<=10?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:re.stock===0?"Out of Stock":re.stock<=10?"Low Stock":"In Stock"})]}),p.jsxs("div",{className:"flex items-center text-sm mb-2",children:[p.jsx(C8,{className:`w-4 h-4 mr-1 ${t?"text-gray-400":"text-gray-500"}`}),p.jsx("span",{className:t?"text-gray-300":"text-gray-600",children:re.sku})]}),p.jsx("div",{className:"mb-2",children:p.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${t?"bg-gray-600 text-gray-200":"bg-gray-100 text-gray-800"}`,children:re.category.charAt(0).toUpperCase()+re.category.slice(1)})}),(re.category==="garments"||re.category==="footwear"||re.category==="clothing")&&p.jsxs("div",{className:"grid grid-cols-3 gap-1 mb-2 text-xs",children:[re.artNo&&p.jsxs("span",{className:`px-2 py-1 rounded-full ${t?"bg-gray-600 text-gray-200":"bg-gray-100 text-gray-800"}`,children:["ART: ",re.artNo]}),re.color&&p.jsxs("span",{className:`px-2 py-1 rounded-full ${t?"bg-gray-600 text-gray-200":"bg-gray-100 text-gray-800"}`,children:["Color: ",re.color]}),re.size&&p.jsxs("span",{className:`px-2 py-1 rounded-full ${t?"bg-gray-600 text-gray-200":"bg-gray-100 text-gray-800"}`,children:["Size: ",re.size]})]}),p.jsxs("div",{className:"flex justify-between items-center mt-3",children:[p.jsxs("div",{children:[p.jsx("div",{className:`text-lg font-bold ${t?"text-white":"text-gray-900"}`,children:te(re.price)}),p.jsxs("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:["MRP: ",te(re.mrp)]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(LV,{className:`w-4 h-4 mr-1 ${t?"text-gray-400":"text-gray-500"}`}),p.jsxs("span",{className:`${t?"text-gray-300":"text-gray-700"}`,children:[re.stock," ",re.unit]})]})]}),re.taxRateId&&p.jsx("div",{className:"mt-2",children:p.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[p.jsx(Js,{className:"w-3 h-3 mr-1"}),((oe=H[re.taxRateId])==null?void 0:oe.description)||"Tax","(",((se=H[re.taxRateId])==null?void 0:se.rate)||0,"%)"]})}),p.jsxs("div",{className:"flex justify-between mt-4 pt-3 border-t border-gray-200 dark:border-gray-600",children:[p.jsx(w0,{action:"edit",fallback:p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>ne(re),leftIcon:p.jsx(bc,{className:"w-4 h-4"}),children:"Print"}),children:p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>K(re),leftIcon:p.jsx(gh,{className:"w-4 h-4"}),children:"Edit"}),p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>ne(re),leftIcon:p.jsx(bc,{className:"w-4 h-4"}),children:"Print"})]})}),p.jsx(w0,{action:"delete",children:p.jsx(_t,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>R(re.id),children:p.jsx(Eu,{className:"w-4 h-4"})})})]})]})]},re.id)})}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`text-left ${t?"text-gray-300":"text-gray-600"}`,children:[p.jsx("th",{className:"pb-4",children:p.jsxs("button",{className:"flex items-center",onClick:()=>Q("name"),children:["Product",g==="name"&&p.jsx(hm,{className:"ml-1 w-4 h-4"})]})}),p.jsx("th",{className:"pb-4",children:"SKU"}),p.jsx("th",{className:"pb-4",children:p.jsxs("button",{className:"flex items-center",onClick:()=>Q("price"),children:["Price",g==="price"&&p.jsx(hm,{className:"ml-1 w-4 h-4"})]})}),p.jsx("th",{className:"pb-4",children:"MRP"}),p.jsx("th",{className:"pb-4",children:p.jsxs("button",{className:"flex items-center",onClick:()=>Q("stock"),children:["Stock",g==="stock"&&p.jsx(hm,{className:"ml-1 w-4 h-4"})]})}),p.jsx("th",{className:"pb-4",children:p.jsxs("button",{className:"flex items-center",onClick:()=>Q("category"),children:["Category",g==="category"&&p.jsx(hm,{className:"ml-1 w-4 h-4"})]})}),p.jsx("th",{className:"pb-4",children:"Tax"}),p.jsx("th",{className:"pb-4",children:"Actions"})]})}),p.jsx("tbody",{className:t?"text-gray-300":"text-gray-800",children:G.map(re=>{var oe,se;return p.jsxs("tr",{className:`border-t ${t?"border-gray-700":"border-gray-200"} hover:bg-gray-50 dark:hover:bg-gray-750`,children:[p.jsx("td",{className:"py-4",children:p.jsxs("div",{className:"flex items-center",children:[re.imageUrl?p.jsx("img",{src:re.imageUrl,alt:re.name,className:"w-10 h-10 rounded-md object-cover mr-3"}):p.jsx("div",{className:`w-10 h-10 rounded-md ${t?"bg-gray-700":"bg-gray-100"} flex items-center justify-center mr-3`,children:p.jsx(Vn,{className:"w-6 h-6 text-gray-400"})}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:re.name}),p.jsxs("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:["Purchase: ",te(re.purchasePrice)]}),(re.category==="garments"||re.category==="footwear"||re.category==="clothing")&&p.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[re.artNo&&p.jsxs("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${t?"bg-gray-600 text-gray-200":"bg-gray-100 text-gray-800"}`,children:["ART: ",re.artNo]}),re.color&&p.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${t?"bg-gray-600 text-gray-200":"bg-gray-100 text-gray-800"}`,children:re.color}),re.size&&p.jsxs("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${t?"bg-gray-600 text-gray-200":"bg-gray-100 text-gray-800"}`,children:["Size: ",re.size]})]})]})]})}),p.jsx("td",{className:"py-4",children:re.sku}),p.jsx("td",{className:"py-4 font-medium",children:te(re.price)}),p.jsx("td",{className:"py-4",children:te(re.mrp)}),p.jsx("td",{className:"py-4",children:p.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${re.stock===0?"bg-red-100 text-red-800":re.stock<=10?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[re.stock," ",re.unit]})}),p.jsx("td",{className:"py-4 capitalize",children:p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t?"bg-gray-600 text-gray-200":"bg-gray-100 text-gray-800"}`,children:re.category})}),p.jsx("td",{className:"py-4",children:re.taxRateId?p.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[((oe=H[re.taxRateId])==null?void 0:oe.description)||"Unknown"," (",((se=H[re.taxRateId])==null?void 0:se.rate)||0,"%)"]}):p.jsx("span",{className:"text-gray-500",children:"No tax"})}),p.jsx("td",{className:"py-4",children:p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(w0,{action:"edit",children:p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>K(re),leftIcon:p.jsx(gh,{className:"w-4 h-4"}),children:"Edit"})}),p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>ne(re),leftIcon:p.jsx(bc,{className:"w-4 h-4"}),children:"Print"}),p.jsx(w0,{action:"delete",children:p.jsx(_t,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>R(re.id),children:p.jsx(Eu,{className:"w-4 h-4"})})})]})})]},re.id)})})]})})]}),i&&e&&p.jsx(whe,{isOpen:i,onClose:()=>a(!1),onAdd:V,companyId:e.id}),s&&p.jsxs(p.Fragment,{children:[p.jsx(xhe,{isOpen:c,onClose:Z,onUpdate:B,product:s}),p.jsx(f$,{isOpen:u,onClose:()=>{d(!1),l(null)},product:s,companyName:(e==null?void 0:e.name)||"Tallybooks"})]})]}):p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex justify-between items-center",children:p.jsx("h1",{className:"text-2xl font-semibold",children:"Products"})}),p.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm text-center py-12`,children:[p.jsx(Vn,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),p.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"} mb-4`,children:"No company selected"}),p.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"}`,children:"Please select a company to view and manage products"})]})]})},Hbe=({isOpen:r,onClose:t,onConfirm:e})=>{const{theme:n}=Vr(),i=n==="dark";return r?p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),p.jsxs("div",{className:`relative w-full max-w-sm transform rounded-lg ${i?"bg-gray-800":"bg-white"} p-6 shadow-xl transition-all`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Print Purchase Receipt"}),p.jsx("button",{onClick:t,className:`rounded-full p-1 hover:bg-gray-100 ${i?"hover:bg-gray-700":"hover:bg-gray-100"}`,"aria-label":"Close modal",children:p.jsx(Li,{className:"w-5 h-5"})})]}),p.jsx("p",{className:`mb-6 ${i?"text-gray-300":"text-gray-600"}`,children:"Would you like to print the purchase receipt?"}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx(_t,{variant:"ghost",onClick:()=>e(!1),children:"No, Skip"}),p.jsx(_t,{variant:"primary",onClick:()=>e(!0),leftIcon:p.jsx(bc,{className:"w-4 h-4"}),children:"Yes, Print"})]})]})]})}):null},Wbe=()=>{const{theme:r}=Vr(),{selectedCompany:t}=li(),e=r==="dark",[n,i]=fe.useState([]),[a,s]=fe.useState(""),[l,c]=fe.useState(!1),[o,u]=fe.useState(null),[,d]=fe.useState(""),[f,h]=fe.useState(!1),[y,m]=fe.useState(!1),[g,v]=fe.useState({}),[b,w]=fe.useState(null),[_,N]=fe.useState("split"),P=useMemo(()=>t?[{column:"company_id",operator:"eq",value:t.id}]:[],[t==null?void 0:t.id]),M=useMemo(()=>t?[{column:"company_id",operator:"eq",value:t.id}]:[],[t==null?void 0:t.id]),{data:A=[],loading:F}=mg("products",{filters:P}),{data:H=[],loading:z}=mg("customers",{filters:M});fe.useEffect(()=>{(async()=>{if(!t){console.warn("No company selected, cannot load tax configuration");return}try{console.log(`Loading tax configuration for company ${t.id}...`);const he=await Uk(t.id);console.log("Tax settings loaded:",he),he?(w(he),N(he.tax_type)):(console.warn("No tax settings found, using defaults"),w({id:"default",company_id:t.id,tax_inclusive:!1,tax_type:"split",cess_enabled:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}));const le=await e2(t.id);if(console.log("Tax rates loaded:",le),le&&le.length>0){const de=le.reduce((ve,ge)=>(ve[ge.id]={rate:ge.rate,description:ge.description,hsn_code:ge.hsn_code||void 0},ve),{});console.log("Tax rates map created:",de),v(de)}else{console.warn("No tax rates found, using defaults");const de=[{id:"0a93172b-21a3-42ac-b372-fc16acf44a06",rate:28,description:"GST 28%"},{id:"73fe4609-6047-4e3e-ae44-64e7d68b6df1",rate:12,description:"GST 12%"},{id:"76f65d10-41c4-4b47-92d0-d300bb86e81d",rate:0,description:"GST Exempt"},{id:"b5aa2c3d-fe26-47f3-bd25-7e6b76c36a2d",rate:5,description:"GST 5%"},{id:"ef3d6f7b-9d32-4f5b-8b75-425b6723c122",rate:18,description:"GST 18%"}];await $e.from("tax_rates").insert(de.map(ge=>({rate:ge.rate,description:ge.description,hsn_code:null,company_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})));const ve=de.reduce((ge,ke)=>({...ge,[ke.id]:{rate:ke.rate,description:ke.description}}),{});console.log("Using default tax rates:",ve),v(ve)}}catch(he){console.error("Error loading tax configuration:",he),Oe.error("Failed to load tax configuration"),console.warn("Setting default tax configuration due to error");const le=[{id:"0a93172b-21a3-42ac-b372-fc16acf44a06",rate:28,description:"GST 28%"},{id:"73fe4609-6047-4e3e-ae44-64e7d68b6df1",rate:12,description:"GST 12%"},{id:"76f65d10-41c4-4b47-92d0-d300bb86e81d",rate:0,description:"GST Exempt"},{id:"b5aa2c3d-fe26-47f3-bd25-7e6b76c36a2d",rate:5,description:"GST 5%"},{id:"ef3d6f7b-9d32-4f5b-8b75-425b6723c122",rate:18,description:"GST 18%"}];if(t)try{await $e.from("tax_rates").insert(le.map(de=>({rate:de.rate,description:de.description,hsn_code:null,company_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})))}catch(de){console.error("Error inserting default tax rates:",de)}v(le.reduce((de,ve)=>({...de,[ve.id]:{rate:ve.rate,description:ve.description}}),{})),w({id:"default",company_id:t?t.id:"",tax_inclusive:!1,tax_type:"split",cess_enabled:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}})()},[t]);const U=se=>`${se.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,O=H.filter(se=>se.customerType==="creditor"),L=A.filter(se=>se.name.toLowerCase().includes(a.toLowerCase())||se.sku.toLowerCase().includes(a.toLowerCase())),C=fe.useCallback(se=>{if(!o){Oe.error("Please select a creditor first");return}const he=n.findIndex(le=>le.id===se.id);if(he>=0){const le=[...n];le[he].quantity+=1,i(le)}else{const le={...se,quantity:1,company_id:t?t.id:void 0};i([...n,le])}s("")},[n,o,t,s]),k=fe.useCallback(se=>{i(he=>he.filter(le=>le.id!==se))},[]),j=fe.useCallback((se,he)=>{i(le=>le.map(de=>{if(de.id===se){const ve=Math.max(0,de.quantity+he);return ve===0?null:{...de,quantity:ve}}return de}).filter(de=>de!==null))},[]),E=fe.useCallback(()=>{i([]),u(null),d("")},[]),T=se=>{try{if(!se)return console.log("No item provided to calculateItemTax"),0;if(!g||Object.keys(g).length===0)return console.log("No tax rates available, using default 5% for item:",se.name),se.purchasePrice*se.quantity*.05;const he=se.taxRateId;if(!he)return console.log("No tax rate ID for item:",se.name,"using default 5%"),se.purchasePrice*se.quantity*.05;if(!g[he])return console.log("Tax rate ID not found in available rates for item:",se.name,"taxRateId:",he,"using default 5%"),se.purchasePrice*se.quantity*.05;const le=g[he].rate;console.log("Tax rate for item:",se.name,"is",le,"%");const de=(b==null?void 0:b.tax_inclusive)||!1,ve=se.purchasePrice*se.quantity,ge=sI(ve,le,de);return console.log("Calculated tax amount for",se.name,":",ge),ge}catch(he){return console.error("Error calculating tax for item:",se.name,he),se.purchasePrice*se.quantity*.05}},R=()=>{try{if(!n||n.length===0)return console.log("CESS calculation skipped: No items in cart"),0;if(!(b!=null&&b.cess_enabled))return console.log("CESS calculation skipped: CESS not enabled in settings"),0;if(!g||Object.keys(g).length===0){console.log("No tax rates available for CESS calculation, checking for 28% items manually");const le=n.some(ve=>ve.taxRateId==="0a93172b-21a3-42ac-b372-fc16acf44a06"),de=le?B*.01:0;return console.log("CESS calculation result (manual check):",{has28PercentRate:le,cessAmount:de}),de}const se=n.some(le=>{const de=le.taxRateId;if(!de)return console.log("Item has no taxRateId:",le.name),!1;const ve=g[de];if(!ve)return console.log("No tax rate info found for ID:",de,"item:",le.name),de==="0a93172b-21a3-42ac-b372-fc16acf44a06";const ge=ve.rate;return console.log("Tax rate for CESS check:",le.name,ge),ge===28}),he=se?B*.01:0;return console.log("CESS calculation result:",{has28PercentRate:se,cessAmount:he}),he}catch(se){return console.error("Error calculating CESS:",se),0}},V=()=>{try{if(console.log("Calculating GST components with tax type:",_),!n||n.length===0)return console.log("No items in cart, returning zero tax"),{cgst:0,sgst:0,igst:0};const se=n.reduce((he,le)=>{const de=T(le);return console.log(`Tax for ${le.name}: ${de}`),he+de},0);if(console.log("Total tax calculated:",se),_==="split"){const he=se/2;return console.log("Split tax - CGST:",he,"SGST:",he),{cgst:he,sgst:he,igst:0}}else return console.log("Integrated tax - IGST:",se),{cgst:0,sgst:0,igst:se}}catch(se){console.error("Error calculating GST components:",se);const he=B*.05;if(_==="split"){const le=he/2;return{cgst:le,sgst:le,igst:0}}else return{cgst:0,sgst:0,igst:he}}};fe.useEffect(()=>{if(n.length>0&&Object.keys(g).length>0){console.log("Updating cart items with tax rates and amounts");const se="b5aa2c3d-fe26-47f3-bd25-7e6b76c36a2d";i(he=>{const le=he.map(de=>{const ve={...de,taxRateId:de.taxRateId||se},ge=T(ve);return{...ve,taxAmount:ge}});return console.log("Updated cart with tax rates:",le.map(de=>({id:de.id,name:de.name,taxRateId:de.taxRateId,taxAmount:de.taxAmount}))),le})}},[g,_,b]);const B=n.reduce((se,he)=>se+he.purchasePrice*he.quantity,0),{cgst:K,sgst:Z,igst:ne}=V(),G=R(),te=K+Z+ne+G,I=B+te,D=se=>{m(!1),X(se)},X=async se=>{if(!o){Oe.error("Please select a creditor");return}c(!0);try{const he="b5aa2c3d-fe26-47f3-bd25-7e6b76c36a2d",de=n.map(ke=>({...ke,taxRateId:ke.taxRateId||he})).map(ke=>{const Pe=ke.taxRateId,Re=Pe&&g[Pe]?g[Pe].rate:5,Ie=ke.purchasePrice*ke.quantity,qe=(b==null?void 0:b.tax_inclusive)||!1,Ue=sI(Ie,Re,qe);return{...ke,taxAmount:Ue}}),ve={items:de.map(ke=>({id:ke.id,quantity:ke.quantity,name:ke.name,price:ke.purchasePrice,taxRateId:ke.taxRateId,taxAmount:ke.taxAmount||0,companyId:(t==null?void 0:t.id)||""})),subtotal:B,tax:te,total:I,paymentMethod:"credit",taxType:_,cgst:K,sgst:Z,igst:ne,cess:G,creditorId:o.id,companyId:(t==null?void 0:t.id)||""};console.log("Sending purchase data:",JSON.stringify(ve,null,2)),console.log("Tax rates available:",Object.keys(g).length),console.log("Tax settings:",b);const ge=ve.items.filter(ke=>!ke.taxRateId);if(ge.length>0){console.error("Some items are missing tax rate IDs:",ge),Oe.error("Some items are missing tax information. Please try again."),c(!1);return}if(Object.keys(g).length===0){console.error("No tax rates loaded"),Oe.error("Tax rates not loaded. Please try again."),c(!1);return}try{console.log("Calling processPurchase...");const ke=await EV(ve);if(console.log("Purchase completed successfully with ID:",ke),se){console.log("Generating invoice PDF...");const Pe=[{id:ke,items:de.map(Ie=>{var vt;const qe=Ie.taxRateId,Ue=qe?(vt=g[qe])==null?void 0:vt.rate:0;return{name:Ie.name,quantity:Ie.quantity,price:Ie.purchasePrice,total:Ie.purchasePrice*Ie.quantity,tax:Ie.taxAmount||0,taxRate:Ue||0}}),subtotal:B,tax:te,total:I,createdAt:new Date().toISOString(),customer:{name:o.name,email:o.email,phone:o.phone}}];(await sJ([{...Pe[0],taxType:_,cgst:K,sgst:Z,igst:ne,cess:G}],t||void 0)).save(`purchase-${ke}.pdf`),console.log("Invoice PDF generated and saved")}E(),Oe.success("Purchase completed successfully!")}catch(ke){console.error("Error completing purchase:",ke),Oe.error(`Failed to complete purchase: ${ke instanceof Error?ke.message:"Unknown error"}`),c(!1);return}}catch(he){console.error("Purchase error:",he),Oe.error(he instanceof Error?he.message:"Failed to complete purchase")}finally{c(!1)}},Q=()=>{if(n.length===0){Oe.error("Cart is empty");return}if(!o){Oe.error("Please select a creditor");return}m(!0)},re=async()=>{try{Oe.loading("Checking database tables...");const{data:se,error:he}=await $e.from("information_schema.tables").select("table_name").eq("table_schema","public").eq("table_name","purchase_entries");if(he){console.error("Error checking purchase_entries table:",he),Oe.error("Error checking purchase_entries table: "+he.message);return}const le=se&&se.length>0;console.log("purchase_entries table exists:",le);const{data:de,error:ve}=await $e.from("information_schema.tables").select("table_name").eq("table_schema","public").eq("table_name","purchase_items");if(ve){console.error("Error checking purchase_items table:",ve),Oe.error("Error checking purchase_items table: "+ve.message);return}const ge=de&&de.length>0;if(console.log("purchase_items table exists:",ge),!le||!ge){if(Oe.dismiss(),Oe.error(`Tables missing: ${le?"":"purchase_entries "}${ge?"":"purchase_items"}`),!ge){Oe.loading("Creating purchase_items table...");const ft=`
            CREATE TABLE IF NOT EXISTS public.purchase_items (
              id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
              purchase_id UUID,
              product_id UUID,
              quantity INTEGER NOT NULL,
              purchase_price NUMERIC NOT NULL,
              total NUMERIC NOT NULL,
              tax_rate_id UUID,
              created_at TIMESTAMP WITH TIME ZONE DEFAULT now(),
              updated_at TIMESTAMP WITH TIME ZONE DEFAULT now()
            );

            -- Create RLS policy
            ALTER TABLE public.purchase_items ENABLE ROW LEVEL SECURITY;
            CREATE POLICY "Allow all access to authenticated users" ON public.purchase_items
              FOR ALL
              TO authenticated
              USING (true);
          `,{error:jt}=await $e.rpc("exec",{sql:ft});jt?(console.error("Error creating purchase_items table:",jt),Oe.error("Error creating purchase_items table: "+jt.message)):(console.log("purchase_items table created successfully"),Oe.success("purchase_items table created successfully"))}return}const{data:ke,error:Pe}=await $e.from("information_schema.columns").select("column_name, data_type").eq("table_schema","public").eq("table_name","purchase_entries");if(Pe){console.error("Error checking purchase_entries columns:",Pe),Oe.error("Error checking purchase_entries columns: "+Pe.message);return}console.log("purchase_entries columns:",ke.map(ft=>`${ft.column_name} (${ft.data_type})`));const{data:Re,error:Ie}=await $e.from("information_schema.columns").select("column_name, data_type").eq("table_schema","public").eq("table_name","purchase_items");if(Ie){console.error("Error checking purchase_items columns:",Ie),Oe.error("Error checking purchase_items columns: "+Ie.message);return}console.log("purchase_items columns:",Re.map(ft=>`${ft.column_name} (${ft.data_type})`));const Ue=["id","purchase_id","product_id","quantity","purchase_price","total"].filter(ft=>!Re.some(jt=>jt.column_name===ft));if(Ue.length>0){console.error("Missing required columns in purchase_items:",Ue),Oe.error("Missing required columns in purchase_items: "+Ue.join(", "));return}const{data:vt,error:St}=await $e.from("purchase_entries").select("*").order("created_at",{ascending:!1}).limit(5);if(St){console.error("Error fetching purchase entries:",St),Oe.error("Error fetching purchase entries: "+St.message);return}console.log(`Found ${(vt==null?void 0:vt.length)||0} recent records in purchase_entries table`),console.log("Recent entries:",vt);const{data:De,error:lt}=await $e.from("purchase_items").select("*").order("created_at",{ascending:!1}).limit(5);if(lt){console.error("Error fetching purchase items:",lt),Oe.error("Error fetching purchase items: "+lt.message);return}console.log(`Found ${(De==null?void 0:De.length)||0} recent records in purchase_items table`),console.log("Recent items:",De);const{count:gt,error:Ve}=await $e.from("purchase_entries").select("*",{count:"exact",head:!0});Ve&&console.error("Error counting purchase entries:",Ve);const{count:Dt,error:bt}=await $e.from("purchase_items").select("*",{count:"exact",head:!0});bt&&console.error("Error counting purchase items:",bt);let At;if(!vt||vt.length===0){Oe.loading("Creating test purchase entry...");const{data:ft,error:jt}=await $e.from("purchase_entries").insert({subtotal:100,tax:10,total:110,payment_method:"test",status:"test"}).select();if(jt){console.error("Error creating test purchase entry:",jt),Oe.error("Error creating test purchase entry: "+jt.message);return}ft&&ft.length>0&&(At=ft[0].id,console.log("Test purchase entry created:",ft[0]))}else At=vt[0].id;if(At){Oe.loading("Testing direct SQL insertion...");const ft=`
          INSERT INTO public.purchase_items (purchase_id, product_id, quantity, purchase_price, total)
          VALUES ('${At}', '00000000-0000-0000-0000-000000000000', 1, 10, 10)
          RETURNING id;
        `,{data:jt,error:ht}=await $e.rpc("exec",{sql:ft});ht?(console.error("SQL insert error:",ht),Oe.error("SQL insert error: "+ht.message)):(console.log("SQL insert successful:",jt),Oe.success("SQL insert successful"))}if(At){Oe.loading("Testing API insertion...");const ft={purchase_id:At,product_id:"00000000-0000-0000-0000-000000000000",quantity:1,purchase_price:10,total:10},{data:jt,error:ht}=await $e.from("purchase_items").insert(ft).select();ht?(console.error("Error inserting test item via API:",ht),Oe.error("Error inserting test item via API: "+ht.message)):(console.log("Test item inserted successfully via API:",jt),Oe.success("Test item inserted successfully via API"))}Oe.dismiss(),Oe.success(`Database check complete: ${gt||0} purchases with ${Dt||0} items`)}catch(se){console.error("Error checking database tables:",se),Oe.dismiss(),Oe.error("Error checking database tables: "+(se instanceof Error?se.message:"Unknown error"))}},oe=async()=>{try{Oe.loading("Testing purchase item insertion...");const{data:se,error:he}=await $e.from("purchase_entries").insert({subtotal:100,tax:10,total:110,payment_method:"test",status:"test"}).select();if(he){console.error("Error creating test purchase entry:",he),Oe.error("Error creating test purchase entry: "+he.message);return}if(!se||se.length===0){Oe.error("Failed to create test purchase entry");return}const le=se[0].id;console.log("Test purchase entry created with ID:",le);const de={purchase_id:le,product_id:"00000000-0000-0000-0000-000000000000",quantity:1,purchase_price:10,total:10},{data:ve,error:ge}=await $e.from("purchase_items").insert(de).select();if(ge){console.error("Error inserting test item:",ge),Oe.error("Error inserting test item: "+ge.message);const Re=`
          INSERT INTO public.purchase_items (purchase_id, product_id, quantity, purchase_price, total)
          VALUES ('${le}', '00000000-0000-0000-0000-000000000000', 1, 10, 10)
          RETURNING id;
        `,{data:Ie,error:qe}=await $e.rpc("exec",{sql:Re});qe?(console.error("SQL insert error:",qe),Oe.error("SQL insert error: "+qe.message)):(console.log("SQL insert successful:",Ie),Oe.success("SQL insert successful"))}else console.log("Test item inserted successfully:",ve),Oe.success("Test item inserted successfully");const{data:ke,error:Pe}=await $e.from("purchase_items").select("*").eq("purchase_id",le);Pe?console.error("Error fetching inserted items:",Pe):console.log(`Found ${(ke==null?void 0:ke.length)||0} items for purchase ${le}:`,ke),Oe.dismiss()}catch(se){console.error("Error testing purchase item insertion:",se),Oe.dismiss(),Oe.error("Error testing purchase item insertion: "+(se instanceof Error?se.message:"Unknown error"))}};return t?O.length===0&&!z?p.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-200px)]",children:[p.jsx(tp,{className:"w-16 h-16 text-blue-500 mb-4"}),p.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"No Creditors Available"}),p.jsx("p",{className:`text-center max-w-md ${e?"text-gray-400":"text-gray-600"}`,children:"To make purchases, you need to have creditors in your system. Please add creditors through the Customers page first."}),p.jsx(_t,{variant:"primary",className:"mt-6",onClick:()=>window.location.href="/customers",children:"Go to Customers"})]}):p.jsxs("div",{className:"flex gap-6 min-h-full",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[p.jsxs("div",{className:"relative flex-1 mr-4",children:[p.jsx("input",{type:"text",placeholder:"Search products...",value:a,onChange:se=>s(se.target.value),className:`w-full pl-10 pr-4 py-2 rounded-md border ${e?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx(Iu,{className:`absolute left-3 top-2.5 w-5 h-5 ${e?"text-gray-400":"text-gray-500"}`})]}),p.jsx(_t,{variant:"secondary",onClick:()=>h(!0),leftIcon:p.jsx(un,{className:"w-4 h-4"}),children:o?o.name:"Select Creditor"})]}),f?p.jsxs("div",{className:`p-6 rounded-lg ${e?"bg-gray-800":"bg-white"} mb-6`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("span",{className:"font-medium",children:"Select Creditor"}),p.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),p.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:O.map(se=>p.jsxs("button",{onClick:()=>{u(se),h(!1)},className:`w-full text-left p-4 rounded-md ${e?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:[p.jsx("div",{className:"font-medium",children:se.name}),p.jsx("div",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:se.email}),p.jsxs("div",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:["Credit Limit: ",U(se.creditLimit)]})]},se.id))})]}):p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:F?[...Array(8)].map((se,he)=>p.jsxs("div",{className:`animate-pulse ${e?"bg-gray-800":"bg-white"} p-4 rounded-lg shadow-sm`,children:[p.jsx("div",{className:"aspect-square bg-gray-300 rounded-md mb-3"}),p.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),p.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]},he)):L.map(se=>p.jsxs("div",{className:`${e?"bg-gray-800":"bg-white"} p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow`,children:[se.imageUrl?p.jsx("img",{src:se.imageUrl,alt:se.name,className:"aspect-square object-cover rounded-md mb-3"}):p.jsx("div",{className:`aspect-square ${e?"bg-gray-700":"bg-gray-100"} rounded-md mb-3 flex items-center justify-center`,children:p.jsx(Vn,{className:"w-12 h-12 text-gray-400"})}),p.jsx("h3",{className:"font-medium",children:se.name}),p.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:["SKU: ",se.sku]}),p.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[p.jsx("p",{className:"font-semibold",children:U(se.purchasePrice)}),p.jsxs("p",{className:`text-sm ${se.stock<5?"text-red-500":e?"text-gray-400":"text-gray-500"}`,children:["Stock: ",se.stock]})]}),p.jsx(_t,{variant:"primary",size:"sm",className:"w-full mt-3",leftIcon:p.jsx(Qs,{className:"w-4 h-4"}),onClick:()=>C(se),disabled:!o,children:"Add to Cart"})]},se.id))})]}),p.jsxs("div",{className:`w-96 ${e?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm max-h-screen overflow-y-auto`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Current Purchase"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(qi,{className:"w-6 h-6"}),p.jsxs("div",{className:"flex space-x-1",children:[p.jsx(_t,{variant:"ghost",size:"sm",onClick:re,title:"Check Database",className:"text-blue-500 hover:text-blue-600",children:p.jsx(I0,{className:"w-4 h-4"})}),p.jsx(_t,{variant:"ghost",size:"sm",onClick:oe,title:"Test Direct Insertion",className:"text-green-500 hover:text-green-600",children:p.jsx(Qs,{className:"w-4 h-4"})})]}),n.length>0&&p.jsx(_t,{variant:"ghost",size:"sm",onClick:E,className:"text-red-500 hover:text-red-600",children:"Clear"})]})]}),n.length>0&&p.jsxs("div",{className:"mb-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("span",{className:"text-sm font-medium",children:"Tax Type"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("button",{onClick:()=>N("split"),className:`px-2 py-1 text-xs rounded-md ${_==="split"?e?"bg-blue-600 text-white":"bg-blue-100 text-blue-800":e?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-600"}`,children:"CGST + SGST"}),p.jsx("button",{onClick:()=>N("integrated"),className:`px-2 py-1 text-xs rounded-md ${_==="integrated"?e?"bg-blue-600 text-white":"bg-blue-100 text-blue-800":e?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-600"}`,children:"IGST"})]})]}),p.jsx("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:_==="split"?"Use CGST + SGST for intra-state transactions (same state)":"Use IGST for inter-state transactions (different states)"})]}),o?n.length===0?p.jsxs("div",{className:"text-center py-8",children:[p.jsx(qi,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),p.jsx("p",{className:`${e?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"space-y-4 mb-6 max-h-96 overflow-y-auto",children:n.map(se=>p.jsxs("div",{className:`p-4 rounded-md ${e?"bg-gray-700":"bg-gray-50"}`,children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium",children:se.name}),p.jsxs("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:[U(se.purchasePrice)," each"]}),se.taxRateId&&g[se.taxRateId]&&p.jsx("span",{className:"inline-flex items-center px-2 py-0.5 mt-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:g[se.taxRateId].description})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"font-semibold",children:U(se.purchasePrice*se.quantity)}),se.taxAmount!==void 0&&se.taxAmount>0&&p.jsxs("p",{className:`text-xs ${e?"text-gray-400":"text-gray-500"}`,children:["+",U(se.taxAmount)," tax"]})]}),p.jsx(_t,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-600",onClick:()=>k(se.id),"aria-label":"Remove item",children:p.jsx(Eu,{className:"w-4 h-4"})})]})]}),p.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>j(se.id,-1),"aria-label":"Decrease quantity",children:p.jsx(aF,{className:"w-4 h-4"})}),p.jsx("span",{className:"w-8 text-center",children:se.quantity}),p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>j(se.id,1),"aria-label":"Increase quantity",children:p.jsx(Qs,{className:"w-4 h-4"})})]})]},se.id))}),p.jsxs("div",{className:"border-t pt-4 space-y-4",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Subtotal"}),p.jsx("span",{children:U(B)})]}),_==="split"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{className:"flex items-center",children:[p.jsx(Js,{className:"w-4 h-4 mr-1"}),"CGST"]}),p.jsx("span",{children:U(K)})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{className:"flex items-center",children:[p.jsx(Js,{className:"w-4 h-4 mr-1"}),"SGST"]}),p.jsx("span",{children:U(Z)})]})]}):p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{className:"flex items-center",children:[p.jsx(Js,{className:"w-4 h-4 mr-1"}),"IGST"]}),p.jsx("span",{children:U(ne)})]}),G>0&&p.jsxs("div",{className:"flex justify-between",children:[p.jsxs("span",{className:"flex items-center",children:[p.jsx(Js,{className:"w-4 h-4 mr-1"}),"CESS"]}),p.jsx("span",{children:U(G)})]}),p.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[p.jsx("span",{children:"Total"}),p.jsx("span",{children:U(I)})]}),o&&p.jsxs("div",{className:`p-3 rounded-md ${e?"bg-gray-700":"bg-gray-100"}`,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"Credit Limit"}),p.jsx("span",{children:U(o.creditLimit)})]}),p.jsxs("div",{className:"flex justify-between items-center mt-1",children:[p.jsx("span",{children:"Current Balance"}),p.jsx("span",{children:U(o.currentBalance)})]}),p.jsxs("div",{className:"flex justify-between items-center mt-1",children:[p.jsx("span",{children:"Available Credit"}),p.jsx("span",{className:I>o.creditLimit-o.currentBalance?"text-red-500":"text-green-500",children:U(o.creditLimit-o.currentBalance)})]}),I>o.creditLimit-o.currentBalance&&p.jsxs("div",{className:"flex items-center mt-2 text-red-500 text-sm",children:[p.jsx(ei,{className:"w-4 h-4 mr-1"}),p.jsx("span",{children:"Purchase amount exceeds available credit"})]})]})]}),p.jsx(_t,{variant:"primary",size:"lg",className:"w-full mt-6",leftIcon:p.jsx(hc,{className:"w-5 h-5"}),isLoading:l,onClick:Q,disabled:!o||n.length===0||I>o.creditLimit-o.currentBalance,children:"Complete Purchase"})]}):p.jsxs("div",{className:"text-center py-8",children:[p.jsx(un,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),p.jsx("p",{className:`${e?"text-gray-400":"text-gray-500"}`,children:"Please select a creditor first"}),p.jsx(_t,{variant:"primary",size:"sm",className:"mt-4",onClick:()=>h(!0),children:"Select Creditor"})]})]}),p.jsx(Hbe,{isOpen:y,onClose:()=>m(!1),onConfirm:D})]}):p.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-200px)]",children:[p.jsx(ei,{className:"w-16 h-16 text-yellow-500 mb-4"}),p.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Company Selection Required"}),p.jsx("p",{className:`text-center max-w-md ${e?"text-gray-400":"text-gray-600"}`,children:"Please select a company from the company selector to view purchase data."})]})},Vbe=({isOpen:r,onClose:t,onAdd:e})=>{const{theme:n}=Vr(),i=n==="dark",[a,s]=fe.useState(!1),[l,c]=fe.useState({name:"",email:"",phone:"",alternate_phone:"",gst_number:"",customer_type:"regular",credit_limit:0,current_balance:0,address_street:"",address_city:"",address_state:"",address_postal_code:"",address_country:"India"});if(!r)return null;const o=async d=>{d.preventDefault(),s(!0);try{await e(l),Oe.success("Customer added successfully"),t()}catch(f){const h=f instanceof Error?f.message:"Failed to add customer";Oe.error(h),console.error("Error adding customer:",f)}finally{s(!1)}},u=d=>{const{name:f,value:h}=d.target;c(f==="credit_limit"?y=>({...y,[f]:parseFloat(h)||0}):y=>({...y,[f]:h}))};return p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),p.jsxs("div",{className:`relative w-full max-w-md transform rounded-lg ${i?"bg-gray-800":"bg-white"} p-6 shadow-xl transition-all`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Add New Customer"}),p.jsx("button",{onClick:t,className:`rounded-full p-1 hover:bg-gray-100 ${i?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:p.jsx(Li,{className:"w-5 h-5"})})]}),p.jsxs("form",{onSubmit:o,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Customer Name"}),p.jsx("input",{type:"text",name:"name",value:l.name,onChange:u,required:!0,className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Customer Type"}),p.jsxs("select",{name:"customer_type",value:l.customer_type,onChange:u,required:!0,className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"regular",children:"Regular"}),p.jsx("option",{value:"creditor",children:"Creditor"}),p.jsx("option",{value:"debitor",children:"Debitor"})]})]}),l.customer_type!=="regular"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Credit Limit"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"number",name:"credit_limit",value:l.credit_limit,onChange:u,min:"0",step:"0.01",required:!0,className:`w-full p-2 pl-8 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx("span",{className:"absolute left-3 top-2.5",children:""})]}),p.jsxs("p",{className:"mt-1 text-sm text-gray-500 flex items-center",children:[p.jsx(ei,{className:"w-4 h-4 mr-1"}),l.customer_type==="creditor"?"Maximum amount this customer can be credited":"Maximum amount this customer can owe"]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),p.jsx("input",{type:"email",name:"email",value:l.email||"",onChange:u,required:!0,className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),p.jsx("input",{type:"tel",name:"phone",value:l.phone||"",onChange:u,required:!0,className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Alternate Phone"}),p.jsx("input",{type:"tel",name:"alternate_phone",value:l.alternate_phone||"",onChange:u,className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"GST Number"}),p.jsx("input",{type:"text",name:"gst_number",value:l.gst_number||"",onChange:u,placeholder:"15AABCU9603R1ZX",className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Street Address"}),p.jsx("input",{type:"text",name:"address_street",value:l.address_street||"",onChange:u,required:!0,className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"City"}),p.jsx("input",{type:"text",name:"address_city",value:l.address_city||"",onChange:u,required:!0,className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"State"}),p.jsx("input",{type:"text",name:"address_state",value:l.address_state||"",onChange:u,required:!0,className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Postal Code"}),p.jsx("input",{type:"text",name:"address_postal_code",value:l.address_postal_code||"",onChange:u,required:!0,className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Country"}),p.jsx("input",{type:"text",name:"address_country",value:l.address_country||"",onChange:u,required:!0,className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[p.jsx(_t,{variant:"ghost",onClick:t,type:"button",children:"Cancel"}),p.jsx(_t,{variant:"primary",type:"submit",isLoading:a,children:"Add Customer"})]})]})]})]})})},Gbe=({isOpen:r,onClose:t,onUpdate:e,customer:n})=>{const{theme:i}=Vr(),a=i==="dark",[s,l]=fe.useState(!1),[c,o]=fe.useState({name:"",email:"",phone:"",alternate_phone:"",gst_number:"",customer_type:"regular",credit_limit:0,current_balance:0,address_street:"",address_city:"",address_state:"",address_postal_code:"",address_country:"India",company_id:""});if(fe.useEffect(()=>{n&&o({name:n.name,email:n.email||"",phone:n.phone||"",alternate_phone:n.alternate_phone||"",gst_number:n.gst_number||"",customer_type:n.customer_type,credit_limit:n.credit_limit,current_balance:n.current_balance,address_street:n.address_street||"",address_city:n.address_city||"",address_state:n.address_state||"",address_postal_code:n.address_postal_code||"",address_country:n.address_country||"India",company_id:n.company_id})},[n]),!r)return null;const u=async f=>{f.preventDefault(),l(!0);try{await e(n.id,c),t()}finally{l(!1)}},d=f=>{const{name:h,value:y}=f.target;o(h==="credit_limit"?m=>({...m,[h]:parseFloat(y)||0}):m=>({...m,[h]:y}))};return p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),p.jsxs("div",{className:`relative w-full max-w-md transform rounded-lg ${a?"bg-gray-800":"bg-white"} p-6 shadow-xl transition-all`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Update Customer"}),p.jsx("button",{onClick:t,className:`rounded-full p-1 hover:bg-gray-100 ${a?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:p.jsx(Li,{className:"w-5 h-5"})})]}),p.jsxs("form",{onSubmit:u,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Customer Name"}),p.jsx("input",{type:"text",name:"name",value:c.name,onChange:d,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Customer Type"}),p.jsxs("select",{name:"customer_type",value:c.customer_type,onChange:d,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"regular",children:"Regular"}),p.jsx("option",{value:"creditor",children:"Creditor"}),p.jsx("option",{value:"debitor",children:"Debitor"})]})]}),c.customer_type!=="regular"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Credit Limit"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"number",name:"credit_limit",value:c.credit_limit,onChange:d,min:"0",step:"0.01",required:!0,className:`w-full p-2 pl-8 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx("span",{className:"absolute left-3 top-2.5",children:""})]}),p.jsxs("p",{className:"mt-1 text-sm text-gray-500 flex items-center",children:[p.jsx(ei,{className:"w-4 h-4 mr-1"}),c.customer_type==="creditor"?"Maximum amount this customer can be credited":"Maximum amount this customer can owe"]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),p.jsx("input",{type:"email",name:"email",value:c.email||"",onChange:d,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),p.jsx("input",{type:"tel",name:"phone",value:c.phone||"",onChange:d,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Alternate Phone"}),p.jsx("input",{type:"tel",name:"alternate_phone",value:c.alternate_phone||"",onChange:d,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"GST Number"}),p.jsx("input",{type:"text",name:"gst_number",value:c.gst_number||"",onChange:d,placeholder:"15AABCU9603R1ZX",className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Street Address"}),p.jsx("input",{type:"text",name:"address_street",value:c.address_street||"",onChange:d,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"City"}),p.jsx("input",{type:"text",name:"address_city",value:c.address_city||"",onChange:d,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"State"}),p.jsx("input",{type:"text",name:"address_state",value:c.address_state||"",onChange:d,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Postal Code"}),p.jsx("input",{type:"text",name:"address_postal_code",value:c.address_postal_code||"",onChange:d,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Country"}),p.jsx("input",{type:"text",name:"address_country",value:c.address_country||"",onChange:d,required:!0,className:`w-full p-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[p.jsx(_t,{variant:"ghost",onClick:t,type:"button",children:"Cancel"}),p.jsx(_t,{variant:"primary",type:"submit",isLoading:s,children:"Update Customer"})]})]})]})]})})};function Xbe(){const{selectedCompany:r}=li(),[t,e]=fe.useState([]),[n,i]=fe.useState(!0),[a,s]=fe.useState(null);fe.useEffect(()=>{l()},[r]);const l=async()=>{try{const{data:{session:d},error:f}=await $e.auth.getSession();if(f)throw console.error("Authentication error:",f),new Error("Authentication failed");if(!d)throw console.error("No active session"),new Error("No active session");if(!r){console.log("No company selected, clearing customers"),e([]),i(!1);return}console.log("Fetching customers for company:",r.id),console.log("Using direct REST API approach to avoid schema cache issues");try{const h="https://pdxyqlxbucoghoetyzmv.supabase.co",y="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBkeHlxbHhidWNvZ2hvZXR5em12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk0MjMyODAsImV4cCI6MjA1NDk5OTI4MH0.HlFAMTnjM-Uxlxu_VbhmZt_6dLgYsVyGRy_lu1foASc",m=(d==null?void 0:d.access_token)||y,g=`${h}/rest/v1/customers?order=created_at.desc`;console.log("Fetching all customers via REST API (will filter by company_id client-side if needed):",g);const v=await fetch(g,{method:"GET",headers:{"Content-Type":"application/json",apikey:y,Authorization:`Bearer ${m}`}});if(!v.ok){const _=await v.text();console.error("REST API error response:",_);let N=`Failed to fetch customers: ${v.status} ${v.statusText}`;try{const P=JSON.parse(_);(P.message||P.error)&&(N=`Database error: ${P.message||P.error}`,(N.includes("schema cache")||N.includes("column")||N.includes("company_id"))&&(console.error("Schema cache issue detected in REST API response"),N="Database schema issue detected. Please try again later or contact support.")),console.error("REST API error details:",P)}catch{console.error("REST API error (raw):",_),(_.includes("schema cache")||_.includes("column")||_.includes("company_id"))&&(console.error("Schema cache issue detected in REST API response"),N="Database schema issue detected. Please try again later or contact support.")}throw new Error(N)}const b=await v.json();console.log("Fetched all customers with REST API:",(b==null?void 0:b.length)||0);const w=b.filter(_=>_.company_id===r.id);console.log("Filtered customers for company_id:",r.id,"Count:",w.length),e(w||[])}catch(h){throw console.error("Error in REST API approach:",h),h}}catch(d){console.error("Error in fetchCustomers:",d);const f=d instanceof Error?d.message:"Failed to fetch customers";s(new Error(f)),Oe.error(f)}finally{i(!1)}};return{customers:t,loading:n,error:a,addCustomer:async d=>{try{const{data:{session:f},error:h}=await $e.auth.getSession();if(h)throw console.error("Authentication error:",h),new Error("Authentication failed: Please log in again");if(!f)throw console.error("No active session"),new Error("No active session: Please log in");if(!r)throw console.error("No company selected"),new Error("Please select a company first");const m=["name","email","phone","address_street","address_city","address_state","address_postal_code","address_country"].filter(b=>!d[b]);if(m.length>0)throw new Error(`Missing required fields: ${m.join(", ")}`);const g=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(d.email&&!g.test(d.email))throw new Error("Invalid email format");if(d.phone&&d.phone.length<10)throw new Error("Phone number must be at least 10 digits");const v={...d,company_id:r.id,current_balance:d.current_balance||0,credit_limit:d.credit_limit||0,customer_type:d.customer_type||"regular",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Adding customer with data:",v);try{console.log("Using direct REST API approach to avoid schema cache issues");const b="https://pdxyqlxbucoghoetyzmv.supabase.co",w="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBkeHlxbHhidWNvZ2hvZXR5em12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk0MjMyODAsImV4cCI6MjA1NDk5OTI4MH0.HlFAMTnjM-Uxlxu_VbhmZt_6dLgYsVyGRy_lu1foASc",{data:{session:_}}=await $e.auth.getSession(),N=(_==null?void 0:_.access_token)||w,P={name:v.name,email:v.email,phone:v.phone,alternate_phone:v.alternate_phone||null,gst_number:v.gst_number||null,customer_type:v.customer_type||"regular",credit_limit:v.credit_limit||0,current_balance:v.current_balance||0,address_street:v.address_street,address_city:v.address_city,address_state:v.address_state,address_postal_code:v.address_postal_code,address_country:v.address_country,company_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Sending customer data to REST API:",P);const M=await fetch(`${b}/rest/v1/customers`,{method:"POST",headers:{"Content-Type":"application/json",apikey:w,Authorization:`Bearer ${N}`,Prefer:"return=representation"},body:JSON.stringify(P)});if(!M.ok){const H=await M.text();let z="Failed to create customer via REST API";try{const U=JSON.parse(H);z=U.message||U.error||z,console.error("REST API error details:",U)}catch{console.error("REST API error (raw):",H)}throw new Error(`Database error: ${z}`)}const A=await M.json();if(console.log("Customer created successfully via REST API:",A),!A||!Array.isArray(A)||A.length===0)throw console.error("Invalid response format:",A),new Error("Invalid response from server");const F=A[0];return e(H=>[F,...H]),F.id}catch(b){console.error("Database operation error:",b);const w=b instanceof Error?b.message:String(b);throw w.includes("duplicate key")||w.includes("unique constraint")?new Error("A customer with this email already exists"):w.includes("foreign key constraint")||w.includes("violates foreign key")?new Error("Invalid company reference"):w.includes("not-null")||w.includes("violates not-null")?new Error("Missing required field in database"):w.includes("invalid input syntax")||w.includes("invalid format")?new Error("Invalid data format"):b}}catch(f){throw console.error("Error in addCustomer:",f),f}},updateCustomer:async(d,f)=>{try{const{data:{session:h},error:y}=await $e.auth.getSession();if(y)throw console.error("Authentication error:",y),new Error("Authentication failed");if(!h)throw console.error("No active session"),new Error("No active session");console.log("Using direct REST API approach to update customer");try{const m="https://pdxyqlxbucoghoetyzmv.supabase.co",g="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBkeHlxbHhidWNvZ2hvZXR5em12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk0MjMyODAsImV4cCI6MjA1NDk5OTI4MH0.HlFAMTnjM-Uxlxu_VbhmZt_6dLgYsVyGRy_lu1foASc",v=(h==null?void 0:h.access_token)||g,b={...f,updated_at:new Date().toISOString()},w=await fetch(`${m}/rest/v1/customers?id=eq.${d}`,{method:"PATCH",headers:{"Content-Type":"application/json",apikey:g,Authorization:`Bearer ${v}`,Prefer:"return=representation"},body:JSON.stringify(b)});if(!w.ok){const P=await w.text();console.error("REST API error response:",P);let M=`Failed to update customer: ${w.status} ${w.statusText}`;try{const A=JSON.parse(P);(A.message||A.error)&&(M=`Database error: ${A.message||A.error}`,(M.includes("schema cache")||M.includes("column")||M.includes("company_id"))&&(console.error("Schema cache issue detected in REST API response"),M="Database schema issue detected. Please try again later or contact support.")),console.error("REST API error details:",A)}catch{console.error("REST API error (raw):",P),(P.includes("schema cache")||P.includes("column")||P.includes("company_id"))&&(console.error("Schema cache issue detected in REST API response"),M="Database schema issue detected. Please try again later or contact support.")}throw new Error(M)}const _=await w.json();if(console.log("Customer updated successfully via REST API"),!_||!Array.isArray(_)||_.length===0)throw new Error("Invalid response from server");const N=_[0];e(P=>P.map(M=>M.id===d?N:M)),Oe.success("Customer updated successfully")}catch(m){throw console.error("Error in REST API approach:",m),m}}catch(h){console.error("Error in updateCustomer:",h);const y=h instanceof Error?h.message:"Failed to update customer";throw Oe.error(y),h}},deleteCustomer:async d=>{try{const{data:{session:f},error:h}=await $e.auth.getSession();if(h)throw console.error("Authentication error:",h),new Error("Authentication failed");if(!f)throw console.error("No active session"),new Error("No active session");console.log("Using direct REST API approach to delete customer");try{const y="https://pdxyqlxbucoghoetyzmv.supabase.co",m="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBkeHlxbHhidWNvZ2hvZXR5em12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk0MjMyODAsImV4cCI6MjA1NDk5OTI4MH0.HlFAMTnjM-Uxlxu_VbhmZt_6dLgYsVyGRy_lu1foASc",g=(f==null?void 0:f.access_token)||m,v=await fetch(`${y}/rest/v1/customers?id=eq.${d}`,{method:"DELETE",headers:{"Content-Type":"application/json",apikey:m,Authorization:`Bearer ${g}`}});if(!v.ok){const b=await v.text();console.error("REST API error response:",b);let w=`Failed to delete customer: ${v.status} ${v.statusText}`;try{const _=JSON.parse(b);(_.message||_.error)&&(w=`Database error: ${_.message||_.error}`,(w.includes("schema cache")||w.includes("column")||w.includes("company_id"))&&(console.error("Schema cache issue detected in REST API response"),w="Database schema issue detected. Please try again later or contact support.")),console.error("REST API error details:",_)}catch{console.error("REST API error (raw):",b),(b.includes("schema cache")||b.includes("column")||b.includes("company_id"))&&(console.error("Schema cache issue detected in REST API response"),w="Database schema issue detected. Please try again later or contact support.")}throw new Error(w)}console.log("Customer deleted successfully via REST API"),e(b=>b.filter(w=>w.id!==d)),Oe.success("Customer deleted successfully")}catch(y){throw console.error("Error in REST API approach:",y),y}}catch(f){console.error("Error in deleteCustomer:",f);const h=f instanceof Error?f.message:"Failed to delete customer";throw Oe.error(h),f}},refresh:l}}const Kbe=()=>{const{theme:r}=Vr(),t=r==="dark",[e,n]=fe.useState(""),[i,a]=fe.useState(!1),[s,l]=fe.useState(!1),[c,o]=fe.useState(null),{customers:u,loading:d,error:f,addCustomer:h,updateCustomer:y,deleteCustomer:m}=Xbe(),g=async N=>{if(window.confirm("Are you sure you want to delete this customer?"))try{await m(N)}catch(P){console.error("Delete customer error:",P)}},v=async N=>{try{await h(N),a(!1)}catch(P){console.error("Add customer error:",P);const M=P instanceof Error?P.message:"Failed to add customer";Oe.error(M)}},b=async(N,P)=>{try{await y(N,P),l(!1),o(null)}catch(M){throw console.error("Update customer error:",M),M}},w=N=>{o(N),l(!0)},_=u.filter(N=>{var P,M,A;return N.name.toLowerCase().includes(e.toLowerCase())||(((P=N.email)==null?void 0:P.toLowerCase())||"").includes(e.toLowerCase())||(((M=N.phone)==null?void 0:M.toLowerCase())||"").includes(e.toLowerCase())||(((A=N.gst_number)==null?void 0:A.toLowerCase())||"").includes(e.toLowerCase())});return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-2xl font-semibold",children:"Customers"}),p.jsx(_t,{variant:"primary",onClick:()=>a(!0),leftIcon:p.jsx(sF,{className:"w-4 h-4"}),children:"Add Customer"})]}),p.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm`,children:[p.jsx("div",{className:"flex items-center space-x-4 mb-6",children:p.jsxs("div",{className:"flex-1 relative",children:[p.jsx("input",{type:"text",placeholder:"Search customers...",value:e,onChange:N=>n(N.target.value),className:`w-full pl-10 pr-4 py-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx(Iu,{className:`absolute left-3 top-2.5 w-5 h-5 ${t?"text-gray-400":"text-gray-500"}`})]})}),f?p.jsx("div",{className:"text-center py-12",children:p.jsxs("p",{className:"text-red-500",children:["Error loading customers: ",f.message]})}):d?p.jsx("div",{className:"space-y-4",children:[1,2,3].map(N=>p.jsxs("div",{className:`animate-pulse ${t?"bg-gray-700":"bg-gray-100"} p-4 rounded-md`,children:[p.jsx("div",{className:"h-6 bg-gray-400 rounded w-1/4 mb-4"}),p.jsx("div",{className:"h-4 bg-gray-400 rounded w-1/2"})]},N))}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`text-left ${t?"text-gray-300":"text-gray-600"}`,children:[p.jsx("th",{className:"pb-4",children:"Name"}),p.jsx("th",{className:"pb-4",children:"Contact"}),p.jsx("th",{className:"pb-4",children:"GST Number"}),p.jsx("th",{className:"pb-4",children:"Address"}),p.jsx("th",{className:"pb-4",children:"Actions"})]})}),p.jsx("tbody",{className:t?"text-gray-300":"text-gray-800",children:_.map(N=>p.jsxs("tr",{className:"border-t",children:[p.jsx("td",{className:"py-4",children:N.name}),p.jsx("td",{className:"py-4",children:p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(rp,{className:"w-4 h-4 mr-2"}),N.email]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(Gv,{className:"w-4 h-4 mr-2"}),N.phone]}),N.alternate_phone&&p.jsxs("div",{className:"flex items-center text-gray-500",children:[p.jsx(Gv,{className:"w-4 h-4 mr-2"}),N.alternate_phone]})]})}),p.jsx("td",{className:"py-4",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(hc,{className:"w-4 h-4 mr-2"}),N.gst_number||"Not provided"]})}),p.jsx("td",{className:"py-4",children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(T8,{className:"w-4 h-4 mr-2 mt-1"}),p.jsxs("div",{children:[p.jsx("p",{children:N.address_street}),p.jsxs("p",{className:"text-sm text-gray-500",children:[N.address_city,", ",N.address_state," ",N.address_postal_code]})]})]})}),p.jsx("td",{className:"py-4",children:p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>w(N),children:"Edit"}),p.jsx(_t,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>g(N.id),children:p.jsx(Eu,{className:"w-4 h-4"})})]})})]},N.id))})]})})]}),p.jsx(Vbe,{isOpen:i,onClose:()=>a(!1),onAdd:v}),c&&p.jsx(Gbe,{isOpen:s,onClose:()=>{l(!1),o(null)},onUpdate:b,customer:c})]})},Ybe=()=>{const{theme:r}=Vr(),t=r==="dark",{selectedCompany:e}=li(),[,n]=fe.useState(!0),[i,a]=fe.useState(null),[s,l]=fe.useState({totalSales:0,totalOrders:0,averageOrderValue:0,totalCustomers:0}),[c,o]=fe.useState({totalPurchases:0,totalItems:0,averagePurchaseValue:0,monthlyGrowth:0}),[u,d]=fe.useState([]),[f,h]=fe.useState([]),[y,m]=fe.useState("30d"),[g,v]=fe.useState(vr(p0(new Date,30),"yyyy-MM-dd")),[b,w]=fe.useState(vr(new Date,"yyyy-MM-dd"));fe.useEffect(()=>{_()},[y,g,b,e]);const _=async()=>{n(!0),a(null);try{if(!e){a("Please select a company first"),n(!1);return}let A,F=new Date;y==="custom"?(A=pu(ip(g)),F=ah(ip(b))):A=p0(F,y==="7d"?7:y==="30d"?30:90);const{count:H,error:z}=await $e.from("sales").select("customer_id",{count:"exact",head:!0}).eq("company_id",e.id).gte("created_at",A.toISOString()).lte("created_at",F.toISOString());if(z)throw z;const{data:U,error:O}=await $e.from("sales").select("total, created_at").eq("company_id",e.id).gte("created_at",A.toISOString()).lte("created_at",F.toISOString());if(O)throw O;const{data:L,error:C}=await $e.from("purchase_entries").select("total, created_at").eq("company_id",e.id).gte("created_at",A.toISOString()).lte("created_at",F.toISOString());if(C)throw C;const k=(U==null?void 0:U.reduce((I,D)=>I+D.total,0))||0,j=(L==null?void 0:L.reduce((I,D)=>I+D.total,0))||0,E=(U==null?void 0:U.length)||0,T=z7(new Date,1),R=L.filter(I=>new Date(I.created_at)>=T).reduce((I,D)=>I+D.total,0),V=L.filter(I=>new Date(I.created_at)>=z7(T,1)&&new Date(I.created_at)<T).reduce((I,D)=>I+D.total,0),B=V===0?0:(R-V)/V*100;o({totalPurchases:L.length,totalItems:L.length,averagePurchaseValue:L.length>0?j/L.length:0,monthlyGrowth:B}),l({totalSales:k,totalOrders:E,averageOrderValue:E?k/E:0,totalCustomers:H||0});const K=Array.from({length:Math.ceil((F.getTime()-A.getTime())/(1e3*60*60*24))},(I,D)=>{const X=p0(F,D);return{start:pu(X).toISOString(),end:ah(X).toISOString(),date:vr(X,"MMM dd")}}).reverse(),Z=await Promise.all(K.map(async({start:I,end:D,date:X})=>{const Q=U.filter(he=>new Date(he.created_at)>=new Date(I)&&new Date(he.created_at)<=new Date(D)),re=L.filter(he=>new Date(he.created_at)>=new Date(I)&&new Date(he.created_at)<=new Date(D)),oe=Q.reduce((he,le)=>he+le.total,0),se=re.reduce((he,le)=>he+le.total,0);return{date:X,sales:oe,purchases:se,profit:oe-se}}));d(Z);const{data:ne,error:G}=await $e.from("products").select(`
          id,
          name,
          price,
          purchase_price,
          sale_items (
            quantity,
            price
          )
        `).eq("company_id",e.id).order("stock",{ascending:!1}).limit(5);if(G)throw G;const te=ne.map(I=>{const D=I.sale_items.reduce((re,oe)=>re+oe.quantity,0),X=I.sale_items.reduce((re,oe)=>re+oe.price*oe.quantity,0),Q=D*I.purchase_price;return{name:I.name,total_quantity:D,total_sales:X,profit:X-Q}}).sort((I,D)=>D.profit-I.profit);h(te)}catch(A){console.error("Error fetching report data:",A),a(A instanceof Error?A.message:"Failed to fetch report data"),Oe.error("Failed to load report data")}finally{n(!1)}},N=async()=>{try{const A=us.book_new(),F=[["Sales Summary"],["Metric","Value"],["Total Sales",M(s.totalSales)],["Total Orders",s.totalOrders],["Average Order Value",M(s.averageOrderValue)],["Total Customers",s.totalCustomers]],H=us.aoa_to_sheet(F);us.book_append_sheet(A,H,"Sales Summary");const z=[["Daily Sales Report"],["Date","Sales","Purchases","Profit"]];u.forEach(k=>{z.push([k.date,M(k.sales),M(k.purchases),M(k.profit)])});const U=us.aoa_to_sheet(z);us.book_append_sheet(A,U,"Daily Sales");const O=[["Top Products by Profit"],["Product Name","Units Sold","Total Sales","Profit"]];f.forEach(k=>{O.push([k.name,M(k.total_sales),M(k.profit)])});const L=us.aoa_to_sheet(O);us.book_append_sheet(A,L,"Top Products");const C=`sales-report-${vr(new Date,"yyyy-MM-dd")}.xlsx`;d2(A,C),Oe.success("Excel report generated successfully")}catch(A){console.error("Error generating Excel:",A),Oe.error("Failed to generate Excel report")}},P=async()=>{try{const A=new Pr,F=A.internal.pageSize.width;let H=20;A.setFontSize(20),A.text("Sales Report",F/2,H,{align:"center"}),H+=15,A.setFontSize(12),A.text(`Report Period: ${g} to ${b}`,F/2,H,{align:"center"}),H+=20,A.setFontSize(16),A.text("Sales Summary",14,H),H+=10;const z=[["Metric","Value"],["Total Sales",M(s.totalSales)],["Total Orders",s.totalOrders.toString()],["Average Order Value",M(s.averageOrderValue)],["Total Customers",s.totalCustomers.toString()]];U0(A,{startY:H,head:[["Metric","Value"]],body:z.slice(1),theme:"striped",headStyles:{fillColor:[59,130,246]}}),H=A.lastAutoTable.finalY+20,A.setFontSize(16),A.text("Daily Sales",14,H),H+=10;const U=u.map(C=>[C.date,M(C.sales),M(C.purchases),M(C.profit)]);U0(A,{startY:H,head:[["Date","Sales","Purchases","Profit"]],body:U,theme:"striped",headStyles:{fillColor:[59,130,246]}}),A.addPage(),H=20,A.setFontSize(16),A.text("Top Products by Profit",14,H),H+=10;const O=f.map(C=>[C.name,C.total_quantity.toString(),M(C.total_sales),M(C.profit)]);U0(A,{startY:H,head:[["Product Name","Units Sold","Total Sales","Profit"]],body:O,theme:"striped",headStyles:{fillColor:[59,130,246]}});const L=`sales-report-${vr(new Date,"yyyy-MM-dd")}.pdf`;A.save(L),Oe.success("PDF report generated successfully")}catch(A){console.error("Error generating PDF:",A),Oe.error("Failed to generate PDF report")}},M=A=>`${A.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-semibold",children:"Reports"}),p.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(_t,{variant:y==="7d"?"primary":"secondary",size:"sm",onClick:()=>{m("7d"),v(vr(p0(new Date,7),"yyyy-MM-dd")),w(vr(new Date,"yyyy-MM-dd"))},children:"7 Days"}),p.jsx(_t,{variant:y==="30d"?"primary":"secondary",size:"sm",onClick:()=>{m("30d"),v(vr(p0(new Date,30),"yyyy-MM-dd")),w(vr(new Date,"yyyy-MM-dd"))},children:"30 Days"}),p.jsx(_t,{variant:y==="90d"?"primary":"secondary",size:"sm",onClick:()=>{m("90d"),v(vr(p0(new Date,90),"yyyy-MM-dd")),w(vr(new Date,"yyyy-MM-dd"))},children:"90 Days"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(j8,{className:"w-5 h-5"}),p.jsx("input",{type:"date",value:g,onChange:A=>{m("custom"),v(A.target.value)},className:`px-3 py-1 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx("span",{children:"to"}),p.jsx("input",{type:"date",value:b,onChange:A=>{m("custom"),w(A.target.value)},className:`px-3 py-1 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]})]}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx(_t,{variant:"secondary",onClick:N,leftIcon:p.jsx(QR,{className:"w-4 h-4"}),children:"Export to Excel"}),p.jsx(_t,{variant:"secondary",onClick:P,leftIcon:p.jsx(eF,{className:"w-4 h-4"}),children:"Export to PDF"})]})]}),i?p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(ei,{className:"w-5 h-5 mr-2"}),p.jsx("span",{children:i})]})}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsx("div",{className:`${t?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Total Sales"}),p.jsx("p",{className:"mt-2 text-3xl font-semibold",children:M(s.totalSales)})]}),p.jsx(Ai,{className:`w-8 h-8 ${t?"text-gray-400":"text-gray-500"}`})]})}),p.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Total Purchases"}),p.jsx("p",{className:"mt-2 text-3xl font-semibold",children:M(c.totalItems*c.averagePurchaseValue)})]}),p.jsx(yx,{className:`w-8 h-8 ${t?"text-gray-400":"text-gray-500"}`})]}),p.jsxs("div",{className:"mt-2 flex items-center",children:[c.monthlyGrowth>0?p.jsx(R0,{className:"w-4 h-4 text-green-500 mr-1"}):p.jsx(O8,{className:"w-4 h-4 text-red-500 mr-1"}),p.jsxs("span",{className:c.monthlyGrowth>0?"text-green-500":"text-red-500",children:[Math.abs(c.monthlyGrowth).toFixed(1),"% from last month"]})]})]}),p.jsx("div",{className:`${t?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Net Profit"}),p.jsx("p",{className:"mt-2 text-3xl font-semibold",children:M(s.totalSales-c.totalItems*c.averagePurchaseValue)})]}),p.jsx(R0,{className:`w-8 h-8 ${t?"text-gray-400":"text-gray-500"}`})]})}),p.jsx("div",{className:`${t?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Total Customers"}),p.jsx("p",{className:"mt-2 text-3xl font-semibold",children:s.totalCustomers})]}),p.jsx(un,{className:`w-8 h-8 ${t?"text-gray-400":"text-gray-500"}`})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"Sales vs Purchases"}),p.jsx(Q0,{className:"w-6 h-6"})]}),p.jsx("div",{className:"h-80",children:p.jsx(pb,{width:"100%",height:"100%",children:p.jsxs(a$,{data:u,children:[p.jsx(t1,{strokeDasharray:"3 3"}),p.jsx(Kf,{dataKey:"date"}),p.jsx(Yf,{tickFormatter:A=>`${A}`}),p.jsx(So,{contentStyle:{backgroundColor:t?"#1f2937":"white",border:"none",borderRadius:"0.5rem",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},formatter:A=>[`${Number(A).toFixed(2)}`,""]}),p.jsx(up,{}),p.jsx(Nc,{dataKey:"sales",name:"Sales",fill:"#3b82f6",radius:[4,4,0,0]}),p.jsx(Nc,{dataKey:"purchases",name:"Purchases",fill:"#ef4444",radius:[4,4,0,0]})]})})})]}),p.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"Profit Trend"}),p.jsx(R0,{className:"w-6 h-6"})]}),p.jsx("div",{className:"h-80",children:p.jsx(pb,{width:"100%",height:"100%",children:p.jsxs(s$,{data:u,children:[p.jsx(t1,{strokeDasharray:"3 3"}),p.jsx(Kf,{dataKey:"date"}),p.jsx(Yf,{tickFormatter:A=>`${A}`}),p.jsx(So,{contentStyle:{backgroundColor:t?"#1f2937":"white",border:"none",borderRadius:"0.5rem",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},formatter:A=>[`${Number(A).toFixed(2)}`,""]}),p.jsx(Du,{type:"monotone",dataKey:"profit",name:"Profit",stroke:"#22c55e",fill:"#22c55e",fillOpacity:.2})]})})})]})]}),p.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm`,children:[p.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Top Products by Profit"}),p.jsx("div",{className:"space-y-4",children:f.map((A,F)=>p.jsxs("div",{className:`flex items-center justify-between p-4 rounded-md ${t?"bg-gray-700":"bg-gray-50"}`,children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-medium",children:A.name}),p.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[A.total_quantity," units sold"]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"font-semibold",children:["Sales: ",M(A.total_sales)]}),p.jsxs("p",{className:`text-sm ${A.profit>=0?"text-green-500":"text-red-500"}`,children:["Profit: ",M(A.profit)]})]})]},F))})]})]})]})};function jv(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var x6={exports:{}};/*! ExcelJS 19-10-2023 */var QI;function Jbe(){return QI||(QI=1,function(r,t){(function(e){r.exports=e()})(function(){return function e(n,i,a){function s(o,u){if(!i[o]){if(!n[o]){var d=typeof jv=="function"&&jv;if(!u&&d)return d(o,!0);if(l)return l(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[o]={exports:{}};n[o][0].call(h.exports,function(y){return s(n[o][1][y]||y)},h,h.exports,e,n,i,a)}return i[o].exports}for(var l=typeof jv=="function"&&jv,c=0;c<a.length;c++)s(a[c]);return s}({1:[function(e,n,i){const a=e("fs"),s=e("fast-csv"),l=e("dayjs/plugin/customParseFormat"),c=e("dayjs/plugin/utc"),o=e("dayjs").extend(l).extend(c),u=e("../utils/stream-buf"),{fs:{exists:d}}=e("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(h){this.workbook=h,this.worksheet=null}async readFile(h,y){if(y=y||{},!await d(h))throw new Error("File not found: "+h);const m=a.createReadStream(h),g=await this.read(m,y);return m.close(),g}read(h,y){return y=y||{},new Promise((m,g)=>{const v=this.workbook.addWorksheet(y.sheetName),b=y.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],w=y.map||function(N){if(N==="")return null;const P=Number(N);if(!Number.isNaN(P)&&P!==1/0)return P;const M=b.reduce((F,H)=>{if(F)return F;const z=o(N,H,!0);return z.isValid()?z:null},null);if(M)return new Date(M.valueOf());const A=f[N];return A!==void 0?A:N},_=s.parse(y.parserOptions).on("data",N=>{v.addRow(N.map(w))}).on("end",()=>{_.emit("worksheet",v)});_.on("worksheet",m).on("error",g),h.pipe(_)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(h,y){return new Promise((m,g)=>{y=y||{};const v=this.workbook.getWorksheet(y.sheetName||y.sheetId),b=s.format(y.formatterOptions);h.on("finish",()=>{m()}),b.on("error",g),b.pipe(h);const{dateFormat:w,dateUTC:_}=y,N=y.map||(A=>{if(A){if(A.text||A.hyperlink)return A.hyperlink||A.text||"";if(A.formula||A.result)return A.result||"";if(A instanceof Date)return w?_?o.utc(A).format(w):o(A).format(w):_?o.utc(A).format():o(A).format();if(A.error)return A.error;if(typeof A=="object")return JSON.stringify(A)}return A}),P=y.includeEmptyRows===void 0||y.includeEmptyRows;let M=1;v&&v.eachRow((A,F)=>{if(P)for(;M++<F-1;)b.write([]);const{values:H}=A;H.shift(),b.write(H.map(N)),M=F}),b.end()})}writeFile(h,y){const m={encoding:(y=y||{}).encoding||"utf8"},g=a.createWriteStream(h,m);return this.write(g,y)}async writeBuffer(h){const y=new u;return await this.write(y,h),y.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,i){const a=e("../utils/col-cache");class s{constructor(c,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=c,o)if(typeof o=="string"){const d=a.decodeAddress(o);this.nativeCol=d.col+u,this.nativeColOff=0,this.nativeRow=d.row+u,this.nativeRowOff=0}else o.nativeCol!==void 0?(this.nativeCol=o.nativeCol||0,this.nativeColOff=o.nativeColOff||0,this.nativeRow=o.nativeRow||0,this.nativeRowOff=o.nativeRowOff||0):o.col!==void 0?(this.col=o.col+u,this.row=o.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(c){return c instanceof s||c==null?c:new s(c)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(c){this.nativeCol=Math.floor(c),this.nativeColOff=Math.floor((c-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(c){this.nativeRow=Math.floor(c),this.nativeRowOff=Math.floor((c-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(c){this.nativeCol=c.nativeCol,this.nativeColOff=c.nativeColOff,this.nativeRow=c.nativeRow,this.nativeRowOff=c.nativeRowOff}}n.exports=s},{"../utils/col-cache":19}],3:[function(e,n,i){const a=e("../utils/col-cache"),s=e("../utils/under-dash"),l=e("./enums"),{slideFormula:c}=e("../utils/shared-formula"),o=e("./note");class u{constructor(h,y,m){if(!h||!y)throw new Error("A Cell needs a Row");this._row=h,this._column=y,a.validateAddress(m),this._address=m,this._value=d.create(u.Types.Null,this),this.style=this._mergeStyle(h.style,y.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(h){this.style.numFmt=h}get font(){return this.style.font}set font(h){this.style.font=h}get alignment(){return this.style.alignment}set alignment(h){this.style.alignment=h}get border(){return this.style.border}set border(h){this.style.border=h}get fill(){return this.style.fill}set fill(h){this.style.fill=h}get protection(){return this.style.protection}set protection(h){this.style.protection=h}_mergeStyle(h,y,m){const g=h&&h.numFmt||y&&y.numFmt;g&&(m.numFmt=g);const v=h&&h.font||y&&y.font;v&&(m.font=v);const b=h&&h.alignment||y&&y.alignment;b&&(m.alignment=b);const w=h&&h.border||y&&y.border;w&&(m.border=w);const _=h&&h.fill||y&&y.fill;_&&(m.fill=_);const N=h&&h.protection||y&&y.protection;return N&&(m.protection=N),m}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(h,y){this._value.release(),this._value=d.create(u.Types.Merge,this,h),y||(this.style=h.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=d.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(h){return this._value.type===u.Types.Merge&&this._value.isMergedTo(h)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(h){this.type!==u.Types.Merge?(this._value.release(),this._value=d.create(d.getType(h),this,h)):this._value.master.value=h}get note(){return this._comment&&this._comment.note}set note(h){this._comment=new o(h)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(h){this.type===u.Types.String&&(this._value=d.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:h}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:h}=this._row;return{sheetName:h.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(h){this.names=[h]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(h){const{definedNames:y}=this.workbook;y.removeAllNames(this.fullAddress),h.forEach(m=>{y.addEx(this.fullAddress,m)})}addName(h){this.workbook.definedNames.addEx(this.fullAddress,h)}removeName(h){this.workbook.definedNames.removeEx(this.fullAddress,h)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(h){this._dataValidations.add(this.address,h)}get model(){const{model:h}=this._value;return h.style=this.style,this._comment&&(h.comment=this._comment.model),h}set model(h){if(this._value.release(),this._value=d.create(h.type,this),this._value.model=h,h.comment)switch(h.comment.type){case"note":this._comment=o.fromModel(h.comment)}h.style?this.style=h.style:this.style={}}}u.Types=l.ValueType;const d={getType:f=>f==null?u.Types.Null:f instanceof String||typeof f=="string"?u.Types.String:typeof f=="number"?u.Types.Number:typeof f=="boolean"?u.Types.Boolean:f instanceof Date?u.Types.Date:f.text&&f.hyperlink?u.Types.Hyperlink:f.formula||f.sharedFormula?u.Types.Formula:f.richText?u.Types.RichText:f.sharedString?u.Types.SharedString:f.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(f){this.model={address:f.address,type:u.Types.Null}}get value(){return null}set value(f){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(f,h){this.model={address:f.address,type:u.Types.Number,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(f,h){this.model={address:f.address,type:u.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(f,h){this.model={address:f.address,type:u.Types.Date,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(f,h){this.model={address:f.address,type:u.Types.Hyperlink,text:h?h.text:void 0,hyperlink:h?h.hyperlink:void 0},h&&h.tooltip&&(this.model.tooltip=h.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(f,h){this.cell=f,this.model={address:f.address,type:u.Types.Formula,shareType:h?h.shareType:void 0,ref:h?h.ref:void 0,formula:h?h.formula:void 0,sharedFormula:h?h.sharedFormula:void 0,result:h?h.result:void 0}}_copyModel(f){const h={},y=m=>{const g=f[m];g&&(h[m]=g)};return y("formula"),y("result"),y("ref"),y("shareType"),y("sharedFormula"),h}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(d.getType(f)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?l.FormulaType.Master:this.model.sharedFormula?l.FormulaType.Shared:l.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return u.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?l.ValueType.Null:f instanceof String||typeof f=="string"?l.ValueType.String:typeof f=="number"?l.ValueType.Number:f instanceof Date?l.ValueType.Date:f.text&&f.hyperlink?l.ValueType.Hyperlink:f.formula?l.ValueType.Formula:l.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,h=f.findCell(this.model.sharedFormula);this._translatedFormula=h&&c(h.formula,h.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(f,h){this.model={address:f.address,type:u.Types.Merge,master:h?h.address:void 0},this._master=h,h&&h.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof u?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(f,h){this.model={address:f.address,type:u.Types.String,value:JSON.stringify(h),rawValue:h}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(f,h){this.model={address:f.address,type:u.Types.SharedString,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(f,h){this.model={address:f.address,type:u.Types.String,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(f,h){this.model={address:f.address,type:u.Types.Boolean,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(f,h){this.model={address:f.address,type:u.Types.Error,value:h}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,h)=>(f[h.t]=h.f,f),[]),create(f,h,y){const m=this.types[f];if(!m)throw new Error("Could not create Value of type "+f);return new m(h,y)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,i){const a=e("../utils/under-dash"),s=e("./enums"),l=e("../utils/col-cache");class c{constructor(u,d,f){this._worksheet=u,this._number=d,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return l.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((d,f)=>{this._worksheet.getCell(f+1,this.number).value=d})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&a.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,d){const f=this.number;d||(d=u,u=null),this._worksheet.eachRow(u,(h,y)=>{d(h.getCell(f),y)})}get values(){const u=[];return this.eachCell((d,f)=>{d&&d.type!==s.ValueType.Null&&(u[f]=d.value)}),u}set values(u){if(!u)return;const d=this.number;let f=0;u.hasOwnProperty("0")&&(f=1),u.forEach((h,y)=>{this._worksheet.getCell(y+f,d).value=h})}_applyStyle(u,d){return this.style[u]=d,this.eachCell(f=>{f[u]=d}),d}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const d=[];let f=null;return u&&u.forEach((h,y)=>{h.isDefault?f&&(f=null):f&&h.equivalentTo(f)?f.max=y+1:(f={min:y+1,max:y+1,width:h.width!==void 0?h.width:9,style:h.style,isCustomWidth:h.isCustomWidth,hidden:h.hidden,outlineLevel:h.outlineLevel,collapsed:h.collapsed},d.push(f))}),d.length?d:void 0}static fromModel(u,d){const f=[];let h=1,y=0;for(d=(d=d||[]).sort(function(m,g){return m.min-g.min});y<d.length;){const m=d[y++];for(;h<m.min;)f.push(new c(u,h++));for(;h<=m.max;)f.push(new c(u,h++,m))}return f.length?f:null}}n.exports=c},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,i){n.exports=class{constructor(a){this.model=a||{}}add(a,s){return this.model[a]=s}find(a){return this.model[a]}remove(a){this.model[a]=void 0}}},{}],6:[function(e,n,i){const a=e("../utils/under-dash"),s=e("../utils/col-cache"),l=e("../utils/cell-matrix"),c=e("./range"),o=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new l)}add(u,d){const f=s.decodeEx(u);this.addEx(f,d)}addEx(u,d){const f=this.getMatrix(d);if(u.top)for(let h=u.left;h<=u.right;h++)for(let y=u.top;y<=u.bottom;y++){const m={sheetName:u.sheetName,address:s.n2l(h)+y,row:y,col:h};f.addCellEx(m)}else f.addCellEx(u)}remove(u,d){const f=s.decodeEx(u);this.removeEx(f,d)}removeEx(u,d){this.getMatrix(d).removeCellEx(u)}removeAllNames(u){a.each(this.matrixMap,d=>{d.removeCellEx(u)})}forEach(u){a.each(this.matrixMap,(d,f)=>{d.forEach(h=>{u(f,h)})})}getNames(u){return this.getNamesEx(s.decodeEx(u))}getNamesEx(u){return a.map(this.matrixMap,(d,f)=>d.findCellEx(u)&&f).filter(Boolean)}_explore(u,d){d.mark=!1;const{sheetName:f}=d,h=new c(d.row,d.col,d.row,d.col,f);let y,m;function g(b,w){const _=u.findCellAt(f,b,d.col);return!(!_||!_.mark)&&(h[w]=b,_.mark=!1,!0)}for(m=d.row-1;g(m,"top");m--);for(m=d.row+1;g(m,"bottom");m++);function v(b,w){const _=[];for(m=h.top;m<=h.bottom;m++){const N=u.findCellAt(f,m,b);if(!N||!N.mark)return!1;_.push(N)}h[w]=b;for(let N=0;N<_.length;N++)_[N].mark=!1;return!0}for(y=d.col-1;v(y,"left");y--);for(y=d.col+1;v(y,"right");y++);return h}getRanges(u,d){return(d=d||this.matrixMap[u])?(d.forEach(f=>{f.mark=!0}),{name:u,ranges:d.map(f=>f.mark&&this._explore(d,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,d){u.forEachInSheet(d,(f,h,y)=>{f&&(f.row===h&&f.col===y||(f.row=h,f.col=y,f.address=s.n2l(y)+h))})}spliceRows(u,d,f,h){a.each(this.matrixMap,y=>{y.spliceRows(u,d,f,h),this.normaliseMatrix(y,u)})}spliceColumns(u,d,f,h){a.each(this.matrixMap,y=>{y.spliceColumns(u,d,f,h),this.normaliseMatrix(y,u)})}get model(){return a.map(this.matrixMap,(u,d)=>this.getRanges(d,u)).filter(u=>u.ranges.length)}set model(u){const d=this.matrixMap={};u.forEach(f=>{const h=d[f.name]=new l;f.ranges.forEach(y=>{o.test(y.split("!").pop()||"")&&h.addCell(y)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,i){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,i){const a=e("../utils/col-cache"),s=e("./anchor");n.exports=class{constructor(l,c){this.worksheet=l,this.model=c}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(l){let{type:c,imageId:o,range:u,hyperlinks:d}=l;if(this.type=c,this.imageId=o,c==="image")if(typeof u=="string"){const f=a.decode(u);this.range={tl:new s(this.worksheet,{col:f.left,row:f.top},-1),br:new s(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,u.tl,0),br:u.br&&new s(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:d||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,i){const a=e("../utils/under-dash");class s{constructor(c){this.note=c}get model(){let c=null;switch(typeof this.note){case"string":c={type:"note",note:{texts:[{text:this.note}]}};break;default:c={type:"note",note:this.note}}return a.deepMerge({},s.DEFAULT_CONFIGS,c)}set model(c){const{note:o}=c,{texts:u}=o;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=o}static fromModel(c){const o=new s;return o.model=c,o}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=s},{"../utils/under-dash":26}],10:[function(e,n,i){const a=e("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(c,o,u,d,f){if(arguments.length<4){const h=a.decodeAddress(c),y=a.decodeAddress(o);this.model={top:Math.min(h.row,y.row),left:Math.min(h.col,y.col),bottom:Math.max(h.row,y.row),right:Math.max(h.col,y.col),sheetName:u},this.setTLBR(h.row,h.col,y.row,y.col,f)}else this.model={top:Math.min(c,u),left:Math.min(o,d),bottom:Math.max(c,u),right:Math.max(o,d),sheetName:f}}decode(c){switch(c.length){case 5:this.setTLBR(c[0],c[1],c[2],c[3],c[4]);break;case 4:this.setTLBR(c[0],c[1],c[2],c[3]);break;case 3:this.setTLBR(c[0],c[1],c[2]);break;case 2:this.setTLBR(c[0],c[1]);break;case 1:{const o=c[0];if(o instanceof s)this.model={top:o.model.top,left:o.model.left,bottom:o.model.bottom,right:o.model.right,sheetName:o.sheetName};else if(o instanceof Array)this.decode(o);else if(o.top&&o.left&&o.bottom&&o.right)this.model={top:o.top,left:o.left,bottom:o.bottom,right:o.right,sheetName:o.sheetName};else{const u=a.decodeEx(o);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+c.length)}}get top(){return this.model.top||1}set top(c){this.model.top=c}get left(){return this.model.left||1}set left(c){this.model.left=c}get bottom(){return this.model.bottom||1}set bottom(c){this.model.bottom=c}get right(){return this.model.right||1}set right(c){this.model.right=c}get sheetName(){return this.model.sheetName}set sheetName(c){this.model.sheetName=c}get _serialisedSheetName(){const{sheetName:c}=this.model;return c?/^[a-zA-Z0-9]*$/.test(c)?c+"!":`'${c}'!`:""}expand(c,o,u,d){(!this.model.top||c<this.top)&&(this.top=c),(!this.model.left||o<this.left)&&(this.left=o),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||d>this.right)&&(this.right=d)}expandRow(c){if(c){const{dimensions:o,number:u}=c;o&&this.expand(u,o.min,u,o.max)}}expandToAddress(c){const o=a.decodeEx(c);this.expand(o.row,o.col,o.row,o.col)}get tl(){return a.n2l(this.left)+this.top}get $t$l(){return`$${a.n2l(this.left)}$${this.top}`}get br(){return a.n2l(this.right)+this.bottom}get $b$r(){return`$${a.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&!(c.bottom<this.top)&&!(c.top>this.bottom)&&!(c.right<this.left)&&!(c.left>this.right)}contains(c){const o=a.decodeEx(c);return this.containsEx(o)}containsEx(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&c.row>=this.top&&c.row<=this.bottom&&c.col>=this.left&&c.col<=this.right}forEachAddress(c){for(let o=this.left;o<=this.right;o++)for(let u=this.top;u<=this.bottom;u++)c(a.encodeAddress(u,o),u,o)}}n.exports=s},{"../utils/col-cache":19}],11:[function(e,n,i){const a=e("../utils/under-dash"),s=e("./enums"),l=e("../utils/col-cache"),c=e("./cell");n.exports=class{constructor(o,u){this._worksheet=o,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(o){return this._cells[o-1]}getCellEx(o){let u=this._cells[o.col-1];if(!u){const d=this._worksheet.getColumn(o.col);u=new c(this,d,o.address),this._cells[o.col-1]=u}return u}getCell(o){if(typeof o=="string"){const u=this._worksheet.getColumnKey(o);o=u?u.number:l.l2n(o)}return this._cells[o-1]||this.getCellEx({address:l.encodeAddress(this._number,o),row:this._number,col:o})}splice(o,u){const d=o+u;for(var f=arguments.length,h=new Array(f>2?f-2:0),y=2;y<f;y++)h[y-2]=arguments[y];const m=h.length-u,g=this._cells.length;let v,b,w;if(m<0)for(v=o+h.length;v<=g;v++)w=this._cells[v-1],b=this._cells[v-m-1],b?(w=this.getCell(v),w.value=b.value,w.style=b.style,w._comment=b._comment):w&&(w.value=null,w.style={},w._comment=void 0);else if(m>0)for(v=g;v>=d;v--)b=this._cells[v-1],b?(w=this.getCell(v+m),w.value=b.value,w.style=b.style,w._comment=b._comment):this._cells[v+m-1]=void 0;for(v=0;v<h.length;v++)w=this.getCell(o+v),w.value=h[v],w.style={},w._comment=void 0}eachCell(o,u){if(u||(u=o,o=null),o&&o.includeEmpty){const d=this._cells.length;for(let f=1;f<=d;f++)u(this.getCell(f),f)}else this._cells.forEach((d,f)=>{d&&d.type!==s.ValueType.Null&&u(d,f+1)})}addPageBreak(o,u){const d=this._worksheet,f=Math.max(0,o-1)||0,h=Math.max(0,u-1)||16838,y={id:this._number,max:h,man:1};f&&(y.min=f),d.rowBreaks.push(y)}get values(){const o=[];return this._cells.forEach(u=>{u&&u.type!==s.ValueType.Null&&(o[u.col]=u.value)}),o}set values(o){if(this._cells=[],o)if(o instanceof Array){let u=0;o.hasOwnProperty("0")&&(u=1),o.forEach((d,f)=>{d!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,f+u),row:this._number,col:f+u}).value=d)})}else this._worksheet.eachColumnKey((u,d)=>{o[d]!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=o[d])})}get hasValues(){return a.some(this._cells,o=>o&&o.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let o=0;return this.eachCell(()=>{o++}),o}get dimensions(){let o=0,u=0;return this._cells.forEach(d=>{d&&d.type!==s.ValueType.Null&&((!o||o>d.col)&&(o=d.col),u<d.col&&(u=d.col))}),o>0?{min:o,max:u}:null}_applyStyle(o,u){return this.style[o]=u,this._cells.forEach(d=>{d&&(d[o]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(o){this._applyStyle("numFmt",o)}get font(){return this.style.font}set font(o){this._applyStyle("font",o)}get alignment(){return this.style.alignment}set alignment(o){this._applyStyle("alignment",o)}get protection(){return this.style.protection}set protection(o){this._applyStyle("protection",o)}get border(){return this.style.border}set border(o){this._applyStyle("border",o)}get fill(){return this.style.fill}set fill(o){this._applyStyle("fill",o)}get hidden(){return!!this._hidden}set hidden(o){this._hidden=o}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(o){this._outlineLevel=o}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const o=[];let u=0,d=0;return this._cells.forEach(f=>{if(f){const h=f.model;h&&((!u||u>f.col)&&(u=f.col),d<f.col&&(d=f.col),o.push(h))}}),this.height||o.length?{cells:o,number:this.number,min:u,max:d,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(o){if(o.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],o.cells.forEach(d=>{switch(d.type){case c.Types.Merge:break;default:{let f;if(d.address)f=l.decodeAddress(d.address);else if(u){const{row:h}=u,y=u.col+1;f={row:h,col:y,address:l.encodeAddress(h,y),$col$row:`$${l.n2l(y)}$${h}`}}u=f,this.getCellEx(f).model=d;break}}}),o.height?this.height=o.height:delete this.height,this.hidden=o.hidden,this.outlineLevel=o.outlineLevel||0,this.style=o.style&&JSON.parse(JSON.stringify(o.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,i){const a=e("../utils/col-cache");class s{constructor(c,o,u){this.table=c,this.column=o,this.index=u}_set(c,o){this.table.cacheState(),this.column[c]=o}get name(){return this.column.name}set name(c){this._set("name",c)}get filterButton(){return this.column.filterButton}set filterButton(c){this.column.filterButton=c}get style(){return this.column.style}set style(c){this.column.style=c}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(c){this._set("totalsRowLabel",c)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(c){this._set("totalsRowFunction",c)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(c){this._set("totalsRowResult",c)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(c){this._set("totalsRowFormula",c)}}n.exports=class{constructor(l,c){this.worksheet=l,c&&(this.table=c,this.validate(),this.store())}getFormula(l){switch(l.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${l.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${l.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${l.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${l.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${l.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${l.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${l.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${l.name}])`;case"custom":return l.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+l.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:l}=this,c=(m,g,v)=>{m[g]===void 0&&(m[g]=v)};c(l,"headerRow",!0),c(l,"totalsRow",!1),c(l,"style",{}),c(l.style,"theme","TableStyleMedium2"),c(l.style,"showFirstColumn",!1),c(l.style,"showLastColumn",!1),c(l.style,"showRowStripes",!1),c(l.style,"showColumnStripes",!1);const o=(m,g)=>{if(!m)throw new Error(g)};o(l.ref,"Table must have ref"),o(l.columns,"Table must have column definitions"),o(l.rows,"Table must have row definitions"),l.tl=a.decodeAddress(l.ref);const{row:u,col:d}=l.tl;o(u>0,"Table must be on valid row"),o(d>0,"Table must be on valid col");const{width:f,filterHeight:h,tableHeight:y}=this;l.autoFilterRef=a.encode(u,d,u+h-1,d+f-1),l.tableRef=a.encode(u,d,u+y-1,d+f-1),l.columns.forEach((m,g)=>{o(m.name,`Column ${g} must have a name`),g===0?c(m,"totalsRowLabel","Total"):(c(m,"totalsRowFunction","none"),m.totalsRowFormula=this.getFormula(m))})}store(){const l=(h,y)=>{y&&Object.keys(y).forEach(m=>{h[m]=y[m]})},{worksheet:c,table:o}=this,{row:u,col:d}=o.tl;let f=0;if(o.headerRow){const h=c.getRow(u+f++);o.columns.forEach((y,m)=>{const{style:g,name:v}=y,b=h.getCell(d+m);b.value=v,l(b,g)})}if(o.rows.forEach(h=>{const y=c.getRow(u+f++);h.forEach((m,g)=>{const v=y.getCell(d+g);v.value=m,l(v,o.columns[g].style)})}),o.totalsRow){const h=c.getRow(u+f++);o.columns.forEach((y,m)=>{const g=h.getCell(d+m);if(m===0)g.value=y.totalsRowLabel;else{const v=this.getFormula(y);g.value=v?{formula:y.totalsRowFormula,result:y.totalsRowResult}:null}l(g,y.style)})}}load(l){const{table:c}=this,{row:o,col:u}=c.tl;let d=0;if(c.headerRow){const f=l.getRow(o+d++);c.columns.forEach((h,y)=>{f.getCell(u+y).value=h.name})}if(c.rows.forEach(f=>{const h=l.getRow(o+d++);f.forEach((y,m)=>{h.getCell(u+m).value=y})}),c.totalsRow){const f=l.getRow(o+d++);c.columns.forEach((h,y)=>{const m=f.getCell(u+y);y===0?m.value=h.totalsRowLabel:this.getFormula(h)&&(m.value={formula:h.totalsRowFormula,result:h.totalsRowResult})})}}get model(){return this.table}set model(l){this.table=l}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const l=a.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let c=0;c<this._cache.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=0;u<this._cache.width;u++)o.getCell(l.col+u).value=null}else{for(let c=this.tableHeight;c<this._cache.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=0;u<this._cache.width;u++)o.getCell(l.col+u).value=null}for(let c=0;c<this.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=this.width;u<this._cache.width;u++)o.getCell(l.col+u).value=null}}this.store()}addRow(l,c){this.cacheState(),c===void 0?this.table.rows.push(l):this.table.rows.splice(c,0,l)}removeRows(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(l,c)}getColumn(l){const c=this.table.columns[l];return new s(this,c,l)}addColumn(l,c,o){this.cacheState(),o===void 0?(this.table.columns.push(l),this.table.rows.forEach((u,d)=>{u.push(c[d])})):(this.table.columns.splice(o,0,l),this.table.rows.forEach((u,d)=>{u.splice(o,0,c[d])}))}removeColumns(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(l,c),this.table.rows.forEach(o=>{o.splice(l,c)})}_assign(l,c,o){this.cacheState(),l[c]=o}get ref(){return this.table.ref}set ref(l){this._assign(this.table,"ref",l)}get name(){return this.table.name}set name(l){this.table.name=l}get displayName(){return this.table.displyName||this.table.name}set displayNamename(l){this.table.displayName=l}get headerRow(){return this.table.headerRow}set headerRow(l){this._assign(this.table,"headerRow",l)}get totalsRow(){return this.table.totalsRow}set totalsRow(l){this._assign(this.table,"totalsRow",l)}get theme(){return this.table.style.name}set theme(l){this.table.style.name=l}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(l){this.table.style.showFirstColumn=l}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(l){this.table.style.showLastColumn=l}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(l){this.table.style.showRowStripes=l}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(l){this.table.style.showColumnStripes=l}}},{"../utils/col-cache":19}],13:[function(e,n,i){const a=e("./worksheet"),s=e("./defined-names"),l=e("../xlsx/xlsx"),c=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new l(this)),this._xlsx}get csv(){return this._csv||(this._csv=new c(this)),this._csv}get nextId(){for(let o=1;o<this._worksheets.length;o++)if(!this._worksheets[o])return o;return this._worksheets.length||1}addWorksheet(o,u){const d=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const f=this._worksheets.reduce((m,g)=>(g&&g.orderNo)>m?g.orderNo:m,0),h=Object.assign({},u,{id:d,name:o,orderNo:f+1,workbook:this}),y=new a(h);return this._worksheets[d]=y,y}removeWorksheetEx(o){delete this._worksheets[o.id]}removeWorksheet(o){const u=this.getWorksheet(o);u&&u.destroy()}getWorksheet(o){return o===void 0?this._worksheets.find(Boolean):typeof o=="number"?this._worksheets[o]:typeof o=="string"?this._worksheets.find(u=>u&&u.name===o):void 0}get worksheets(){return this._worksheets.slice(1).sort((o,u)=>o.orderNo-u.orderNo).filter(Boolean)}eachSheet(o){this.worksheets.forEach(u=>{o(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(o){const u=this.media.length;return this.media.push(Object.assign({},o,{type:"image"})),u}getImage(o){return this.media[o]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(o=>o.model),sheets:this.worksheets.map(o=>o.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(o){this.creator=o.creator,this.lastModifiedBy=o.lastModifiedBy,this.lastPrinted=o.lastPrinted,this.created=o.created,this.modified=o.modified,this.company=o.company,this.manager=o.manager,this.title=o.title,this.subject=o.subject,this.keywords=o.keywords,this.category=o.category,this.description=o.description,this.language=o.language,this.revision=o.revision,this.contentStatus=o.contentStatus,this.properties=o.properties,this.calcProperties=o.calcProperties,this._worksheets=[],o.worksheets.forEach(u=>{const{id:d,name:f,state:h}=u,y=o.sheets&&o.sheets.findIndex(m=>m.id===d);(this._worksheets[d]=new a({id:d,name:f,orderNo:y,state:h,workbook:this})).model=u}),this._definedNames.model=o.definedNames,this.views=o.views,this._themes=o.themes,this.media=o.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,i){const a=e("../utils/under-dash"),s=e("../utils/col-cache"),l=e("./range"),c=e("./row"),o=e("./column"),u=e("./enums"),d=e("./image"),f=e("./table"),h=e("./data-validations"),y=e("../utils/encryptor"),{copyStyle:m}=e("../utils/copy-style");n.exports=class{constructor(g){g=g||{},this._workbook=g.workbook,this.id=g.id,this.orderNo=g.orderNo,this.name=g.name,this.state=g.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},g.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!g.pageSetup||!g.pageSetup.fitToWidth&&!g.pageSetup.fitToHeight||g.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},g.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},g.headerFooter),this.dataValidations=new h,this.views=g.views||[],this.autoFilter=g.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(g){if(g===void 0&&(g="sheet"+this.id),this._name!==g){if(typeof g!="string")throw new Error("The name has to be a string.");if(g==="")throw new Error("The name can't be empty.");if(g==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(g))throw new Error(`Worksheet name ${g} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(g))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+g);if(g&&g.length>31&&(console.warn(`Worksheet name ${g} exceeds 31 chars. This will be truncated`),g=g.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===g.toLowerCase()))throw new Error("Worksheet name already exists: "+g);this._name=g}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const g=new l;return this._rows.forEach(v=>{if(v){const b=v.dimensions;b&&g.expand(v.number,b.min,v.number,b.max)}}),g}get columns(){return this._columns}set columns(g){this._headerRowCount=g.reduce((w,_)=>{const N=(_.header?1:_.headers&&_.headers.length)||0;return Math.max(w,N)},0);let v=1;const b=this._columns=[];g.forEach(w=>{const _=new o(this,v++,!1);b.push(_),_.defn=w})}getColumnKey(g){return this._keys[g]}setColumnKey(g,v){this._keys[g]=v}deleteColumnKey(g){delete this._keys[g]}eachColumnKey(g){a.each(this._keys,g)}getColumn(g){if(typeof g=="string"){const v=this._keys[g];if(v)return v;g=s.l2n(g)}if(this._columns||(this._columns=[]),g>this._columns.length){let v=this._columns.length+1;for(;v<=g;)this._columns.push(new o(this,v++))}return this._columns[g-1]}spliceColumns(g,v){const b=this._rows.length;for(var w=arguments.length,_=new Array(w>2?w-2:0),N=2;N<w;N++)_[N-2]=arguments[N];if(_.length>0)for(let F=0;F<b;F++){const H=[g,v];_.forEach(U=>{H.push(U[F]||null)});const z=this.getRow(F+1);z.splice.apply(z,H)}else this._rows.forEach(F=>{F&&F.splice(g,v)});const P=_.length-v,M=g+v,A=this._columns.length;if(P<0)for(let F=g+_.length;F<=A;F++)this.getColumn(F).defn=this.getColumn(F-P).defn;else if(P>0)for(let F=A;F>=M;F--)this.getColumn(F+P).defn=this.getColumn(F).defn;for(let F=g;F<g+_.length;F++)this.getColumn(F).defn=null;this.workbook.definedNames.spliceColumns(this.name,g,v,_.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let g=0;return this.eachRow(v=>{g=Math.max(g,v.cellCount)}),g}get actualColumnCount(){const g=[];let v=0;return this.eachRow(b=>{b.eachCell(w=>{let{col:_}=w;g[_]||(g[_]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const g=this._rows;let v=g.length;for(;v>0&&g[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(g){return this._rows[g-1]}findRows(g,v){return this._rows.slice(g-1,g-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let g=0;return this.eachRow(()=>{g++}),g}getRow(g){let v=this._rows[g-1];return v||(v=this._rows[g-1]=new c(this,g)),v}getRows(g,v){if(v<1)return;const b=[];for(let w=g;w<g+v;w++)b.push(this.getRow(w));return b}addRow(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=this._nextRow,w=this.getRow(b);return w.values=g,this._setStyleOption(b,v[0]==="i"?v:"n"),w}addRows(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const b=[];return g.forEach(w=>{b.push(this.addRow(w,v))}),b}insertRow(g,v){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(g,0,v),this._setStyleOption(g,b),this.getRow(g)}insertRows(g,v){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(g,0,...v),b!=="n")for(let w=0;w<v.length;w++)b[0]==="o"&&this.findRow(v.length+g+w)!==void 0?this._copyStyle(v.length+g+w,g+w,b[1]==="+"):b[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g+w,b[1]==="+");return this.getRows(g,v.length)}_setStyleOption(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(g+1)!==void 0?this._copyStyle(g+1,g,v[1]==="+"):v[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g,v[1]==="+")}_copyStyle(g,v){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this.getRow(g),_=this.getRow(v);_.style=m(w.style),w.eachCell({includeEmpty:b},(N,P)=>{_.getCell(P).style=m(N.style)}),_.height=w.height}duplicateRow(g,v){let b=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this._rows[g-1],_=new Array(v).fill(w.values);this.spliceRows(g+1,b?0:v,..._);for(let N=0;N<v;N++){const P=this._rows[g+N];P.style=w.style,P.height=w.height,w.eachCell({includeEmpty:!0},(M,A)=>{P.getCell(A).style=M.style})}}spliceRows(g,v){const b=g+v;for(var w=arguments.length,_=new Array(w>2?w-2:0),N=2;N<w;N++)_[N-2]=arguments[N];const P=_.length,M=P-v,A=this._rows.length;let F,H;if(M<0)for(g===A&&(this._rows[A-1]=void 0),F=b;F<=A;F++)if(H=this._rows[F-1],H){const z=this.getRow(F+M);z.values=H.values,z.style=H.style,z.height=H.height,H.eachCell({includeEmpty:!0},(U,O)=>{z.getCell(O).style=U.style}),this._rows[F-1]=void 0}else this._rows[F+M-1]=void 0;else if(M>0)for(F=A;F>=b;F--)if(H=this._rows[F-1],H){const z=this.getRow(F+M);z.values=H.values,z.style=H.style,z.height=H.height,H.eachCell({includeEmpty:!0},(U,O)=>{if(z.getCell(O).style=U.style,U._value.constructor.name==="MergeValue"){const L=this.getRow(U._row._number+P).getCell(O),C=U._value._master,k=this.getRow(C._row._number+P).getCell(C._column._number);L.merge(k)}})}else this._rows[F+M-1]=void 0;for(F=0;F<P;F++){const z=this.getRow(g+F);z.style={},z.values=_[F]}this.workbook.definedNames.spliceRows(this.name,g,v,P)}eachRow(g,v){if(v||(v=g,g=void 0),g&&g.includeEmpty){const b=this._rows.length;for(let w=1;w<=b;w++)v(this.getRow(w),w)}else this._rows.forEach(b=>{b&&b.hasValues&&v(b,b.number)})}getSheetValues(){const g=[];return this._rows.forEach(v=>{v&&(g[v.number]=v.values)}),g}findCell(g,v){const b=s.getAddress(g,v),w=this._rows[b.row-1];return w?w.findCell(b.col):void 0}getCell(g,v){const b=s.getAddress(g,v);return this.getRow(b.row).getCellEx(b)}mergeCells(){for(var g=arguments.length,v=new Array(g),b=0;b<g;b++)v[b]=arguments[b];const w=new l(v);this._mergeCellsInternal(w)}mergeCellsWithoutStyle(){for(var g=arguments.length,v=new Array(g),b=0;b<g;b++)v[b]=arguments[b];const w=new l(v);this._mergeCellsInternal(w,!0)}_mergeCellsInternal(g,v){a.each(this._merges,w=>{if(w.intersects(g))throw new Error("Cannot merge already merged cells")});const b=this.getCell(g.top,g.left);for(let w=g.top;w<=g.bottom;w++)for(let _=g.left;_<=g.right;_++)(w>g.top||_>g.left)&&this.getCell(w,_).merge(b,v);this._merges[b.address]=g}_unMergeMaster(g){const v=this._merges[g.address];if(v){for(let b=v.top;b<=v.bottom;b++)for(let w=v.left;w<=v.right;w++)this.getCell(b,w).unmerge();delete this._merges[g.address]}}get hasMerges(){return a.some(this._merges,Boolean)}unMergeCells(){for(var g=arguments.length,v=new Array(g),b=0;b<g;b++)v[b]=arguments[b];const w=new l(v);for(let _=w.top;_<=w.bottom;_++)for(let N=w.left;N<=w.right;N++){const P=this.findCell(_,N);P&&(P.type===u.ValueType.Merge?this._unMergeMaster(P.master):this._merges[P.address]&&this._unMergeMaster(P))}}fillFormula(g,v,b){let w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const _=s.decode(g),{top:N,left:P,bottom:M,right:A}=_,F=A-P+1,H=s.encodeAddress(N,P),z=w==="shared";let U;U=typeof b=="function"?b:Array.isArray(b)?Array.isArray(b[0])?(L,C)=>b[L-N][C-P]:(L,C)=>b[(L-N)*F+(C-P)]:()=>{};let O=!0;for(let L=N;L<=M;L++)for(let C=P;C<=A;C++)O?(this.getCell(L,C).value={shareType:w,formula:v,ref:g,result:U(L,C)},O=!1):this.getCell(L,C).value=z?{sharedFormula:H,result:U(L,C)}:U(L,C)}addImage(g,v){const b={type:"image",imageId:g,range:v};this._media.push(new d(this,b))}getImages(){return this._media.filter(g=>g.type==="image")}addBackgroundImage(g){const v={type:"background",imageId:g};this._media.push(new d(this,v))}getBackgroundImageId(){const g=this._media.find(v=>v.type==="background");return g&&g.imageId}protect(g,v){return new Promise(b=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),g&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=y.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=y.convertPasswordToHash(g,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!g&&"spinCount"in v&&delete this.sheetProtection.spinCount),b()})}unprotect(){this.sheetProtection=null}addTable(g){const v=new f(this,g);return this.tables[g.name]=v,v}getTable(g){return this.tables[g]}removeTable(g){delete this.tables[g]}getTables(){return Object.values(this.tables)}addConditionalFormatting(g){this.conditionalFormattings.push(g)}removeConditionalFormatting(g){typeof g=="number"?this.conditionalFormattings.splice(g,1):this.conditionalFormattings=g instanceof Function?this.conditionalFormattings.filter(g):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(g){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=g}get model(){const g={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(w=>w.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(w=>w.model),conditionalFormattings:this.conditionalFormattings};g.cols=o.toModel(this.columns);const v=g.rows=[],b=g.dimensions=new l;return this._rows.forEach(w=>{const _=w&&w.model;_&&(b.expand(_.number,_.min,_.number,_.max),v.push(_))}),g.merges=[],a.each(this._merges,w=>{g.merges.push(w.range)}),g}_parseRows(g){this._rows=[],g.rows.forEach(v=>{const b=new c(this,v.number);this._rows[b.number-1]=b,b.model=v})}_parseMergeCells(g){a.each(g.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(g){this.name=g.name,this._columns=o.fromModel(this,g.cols),this._parseRows(g),this._parseMergeCells(g),this.dataValidations=new h(g.dataValidations),this.properties=g.properties,this.pageSetup=g.pageSetup,this.headerFooter=g.headerFooter,this.views=g.views,this.autoFilter=g.autoFilter,this._media=g.media.map(v=>new d(this,v)),this.sheetProtection=g.sheetProtection,this.tables=g.tables.reduce((v,b)=>{const w=new f;return w.model=b,v[b.name]=w,v},{}),this.conditionalFormattings=g.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,i){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const a={Workbook:e("./doc/workbook")},s=e("./doc/enums");Object.keys(s).forEach(l=>{a[l]=s[l]}),n.exports=a},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,i){const a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(s){return typeof s=="string"?s:a?a.decode(s):s.toString()}},{}],17:[function(e,n,i){const a=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=e("buffer");i.stringToBuffer=function(l){return typeof l!="string"?l:a?s.from(a.encode(l).buffer):s.from(l)}},{buffer:220}],18:[function(e,n,i){const a=e("./under-dash"),s=e("./col-cache");n.exports=class{constructor(l){this.template=l,this.sheets={}}addCell(l){this.addCellEx(s.decodeEx(l))}getCell(l){return this.findCellEx(s.decodeEx(l),!0)}findCell(l){return this.findCellEx(s.decodeEx(l),!1)}findCellAt(l,c,o){const u=this.sheets[l],d=u&&u[c];return d&&d[o]}addCellEx(l){if(l.top)for(let c=l.top;c<=l.bottom;c++)for(let o=l.left;o<=l.right;o++)this.getCellAt(l.sheetName,c,o);else this.findCellEx(l,!0)}getCellEx(l){return this.findCellEx(l,!0)}findCellEx(l,c){const o=this.findSheet(l,c),u=this.findSheetRow(o,l,c);return this.findRowCell(u,l,c)}getCellAt(l,c,o){const u=this.sheets[l]||(this.sheets[l]=[]),d=u[c]||(u[c]=[]);return d[o]||(d[o]={sheetName:l,address:s.n2l(o)+c,row:c,col:o})}removeCellEx(l){const c=this.findSheet(l);if(!c)return;const o=this.findSheetRow(c,l);o&&delete o[l.col]}forEachInSheet(l,c){const o=this.sheets[l];o&&o.forEach((u,d)=>{u&&u.forEach((f,h)=>{f&&c(f,d,h)})})}forEach(l){a.each(this.sheets,(c,o)=>{this.forEachInSheet(o,l)})}map(l){const c=[];return this.forEach(o=>{c.push(l(o))}),c}findSheet(l,c){const o=l.sheetName;return this.sheets[o]?this.sheets[o]:c?this.sheets[o]=[]:void 0}findSheetRow(l,c,o){const{row:u}=c;return l&&l[u]?l[u]:o?l[u]=[]:void 0}findRowCell(l,c,o){const{col:u}=c;return l&&l[u]?l[u]:o?l[u]=this.template?Object.assign(c,JSON.parse(JSON.stringify(this.template))):c:void 0}spliceRows(l,c,o,u){const d=this.sheets[l];if(d){const f=[];for(let h=0;h<u;h++)f.push([]);d.splice(c,o,...f)}}spliceColumns(l,c,o,u){const d=this.sheets[l];if(d){const f=[];for(let h=0;h<u;h++)f.push(null);a.each(d,h=>{h.splice(c,o,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,i){const a=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:l=>l<=26?1:l<=676?2:3,_fill(l){let c,o,u,d,f,h=1;if(l>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&l>=1){for(;h<=26;)c=this._dictionary[h-1],this._n2l[h]=c,this._l2n[c]=h,h++;this._l2nFill=1}if(this._l2nFill<2&&l>=2){for(h=27;h<=702;)o=h-27,u=o%26,d=Math.floor(o/26),c=this._dictionary[d]+this._dictionary[u],this._n2l[h]=c,this._l2n[c]=h,h++;this._l2nFill=2}if(this._l2nFill<3&&l>=3){for(h=703;h<=16384;)o=h-703,u=o%26,d=Math.floor(o/26)%26,f=Math.floor(o/676),c=this._dictionary[f]+this._dictionary[d]+this._dictionary[u],this._n2l[h]=c,this._l2n[c]=h,h++;this._l2nFill=3}},l2n(l){if(this._l2n[l]||this._fill(l.length),!this._l2n[l])throw new Error("Out of bounds. Invalid column letter: "+l);return this._l2n[l]},n2l(l){if(l<1||l>16384)throw new Error(l+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[l]||this._fill(this._level(l)),this._n2l[l]},_hash:{},validateAddress(l){if(!a.test(l))throw new Error("Invalid Address: "+l);return!0},decodeAddress(l){const c=l.length<5&&this._hash[l];if(c)return c;let o=!1,u="",d=0,f=!1,h="",y=0;for(let g,v=0;v<l.length;v++)if(g=l.charCodeAt(v),!f&&g>=65&&g<=90)o=!0,u+=l[v],d=26*d+g-64;else if(g>=48&&g<=57)f=!0,h+=l[v],y=10*y+g-48;else if(f&&o&&g!==36)break;if(o){if(d>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else d=void 0;f||(y=void 0);const m={address:l=u+h,col:d,row:y,$col$row:`$${u}$${h}`};return d<=100&&y<=100&&(this._hash[l]=m,this._hash[m.$col$row]=m),m},getAddress(l,c){if(c){const o=this.n2l(c)+l;return this.decodeAddress(o)}return this.decodeAddress(l)},decode(l){const c=l.split(":");if(c.length===2){const o=this.decodeAddress(c[0]),u=this.decodeAddress(c[1]),d={top:Math.min(o.row,u.row),left:Math.min(o.col,u.col),bottom:Math.max(o.row,u.row),right:Math.max(o.col,u.col)};return d.tl=this.n2l(d.left)+d.top,d.br=this.n2l(d.right)+d.bottom,d.dimensions=`${d.tl}:${d.br}`,d}return this.decodeAddress(l)},decodeEx(l){const c=l.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),o=c[1]||c[2],u=c[3],d=u.split(":");if(d.length>1){let h=this.decodeAddress(d[0]),y=this.decodeAddress(d[1]);const m=Math.min(h.row,y.row),g=Math.min(h.col,y.col),v=Math.max(h.row,y.row),b=Math.max(h.col,y.col);return h=this.n2l(g)+m,y=this.n2l(b)+v,{top:m,left:g,bottom:v,right:b,sheetName:o,tl:{address:h,col:g,row:m,$col$row:`$${this.n2l(g)}$${m}`,sheetName:o},br:{address:y,col:b,row:v,$col$row:`$${this.n2l(b)}$${v}`,sheetName:o},dimensions:`${h}:${y}`}}if(u.startsWith("#"))return o?{sheetName:o,error:u}:{error:u};const f=this.decodeAddress(u);return o?{sheetName:o,...f}:f},encodeAddress:(l,c)=>s.n2l(c)+l,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(l,c){const[o,u,,d,f]=l,[h,y]=c;return h>=o&&h<=d&&y>=u&&y<=f}};n.exports=s},{}],20:[function(e,n,i){const a=(l,c)=>({...l,...c.reduce((o,u)=>(l[u]&&(o[u]={...l[u]}),o),{})}),s=function(l,c,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];l[o]&&(c[o]=a(l[o],u))};i.copyStyle=l=>{if(!l)return l;if(c=l,Object.keys(c).length===0)return{};var c;const o={...l};return s(l,o,"font",["color"]),s(l,o,"alignment"),s(l,o,"protection"),l.border&&(s(l,o,"border"),s(l.border,o.border,"top",["color"]),s(l.border,o.border,"left",["color"]),s(l.border,o.border,"bottom",["color"]),s(l.border,o.border,"right",["color"]),s(l.border,o.border,"diagonal",["color"])),l.fill&&(s(l,o,"fill",["fgColor","bgColor","center"]),l.fill.stops&&(o.fill.stops=l.fill.stops.map(u=>a(u,["color"])))),o}},{}],21:[function(e,n,i){(function(a){(function(){const s=e("crypto"),l={hash(c){const o=s.createHash(c);for(var u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];return o.update(a.concat(d)),o.digest()},convertPasswordToHash(c,o,u,d){if(o=o.toLowerCase(),s.getHashes().indexOf(o)<0)throw new Error(`Hash algorithm '${o}' not supported!`);const f=a.from(c,"utf16le");let h=this.hash(o,a.from(u,"base64"),f);for(let y=0;y<d;y++){const m=a.alloc(4);m.writeUInt32LE(y,0),h=this.hash(o,h,m)}return h.toString("base64")},randomBytes:c=>s.randomBytes(c)};n.exports=l}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,i){const{SaxesParser:a}=e("saxes"),{PassThrough:s}=e("readable-stream"),{bufferToString:l}=e("./browser-buffer-decode");n.exports=async function*(c){c.pipe&&!c[Symbol.asyncIterator]&&(c=c.pipe(new s));const o=new a;let u;o.on("error",f=>{u=f});let d=[];o.on("opentag",f=>d.push({eventType:"opentag",value:f})),o.on("text",f=>d.push({eventType:"text",value:f})),o.on("closetag",f=>d.push({eventType:"closetag",value:f}));for await(const f of c){if(o.write(l(f)),u)throw u;yield d,d=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,i){const a=e("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,l=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(c,o,u){const d=a.decode(o),f=a.decode(u);return c.replace(s,(h,y,m,g,v)=>{if(v)return h;const b=l.exec(g);if(b){const w=b[1],_=b[2].toUpperCase(),N=b[3],P=b[4];if(_.length>3||_.length===3&&_>"XFD")return h;let M=a.l2n(_),A=parseInt(P,10);return w||(M+=f.col-d.col),N||(A+=f.row-d.row),(y||"")+(w||"")+a.n2l(M)+(N||"")+A}return h})}}},{"./col-cache":19}],24:[function(e,n,i){(function(a,s){(function(){const l=e("readable-stream"),c=e("./utils"),o=e("./string-buf");class u{constructor(g,v){this._data=g,this._encoding=v}get length(){return this.toBuffer().length}copy(g,v,b,w){return this.toBuffer().copy(g,v,b,w)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class d{constructor(g){this._data=g}get length(){return this._data.length}copy(g,v,b,w){return this._data._buf.copy(g,v,b,w)}toBuffer(){return this._data.toBuffer()}}class f{constructor(g){this._data=g}get length(){return this._data.length}copy(g,v,b,w){this._data.copy(g,v,b,w)}toBuffer(){return this._data}}class h{constructor(g){this.size=g,this.buffer=s.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const g=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let v;return g===0?null:g===void 0||g>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=s.alloc(g),this.buffer.copy(v,0,this.iRead,g),this.iRead+=g,v)}write(g,v,b){const w=Math.min(b,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,v,v+w),this.iWrite+=w,w}}const y=function(m){m=m||{},this.bufSize=m.bufSize||1048576,this.buffers=[],this.batch=m.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};c.inherits(y,l.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(m=>m.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const g=this.buffers[this.buffers.length-1];if(!g.full)return g}const m=new h(this.bufSize);return this.buffers.push(m),m},async _pipe(m){await Promise.all(this.pipes.map(function(g){return new Promise(v=>{g.write(m.toBuffer(),()=>{v()})})}))},_writeToBuffers(m){let g=0;const v=m.length;for(;g<v;)g+=this._getWritableBuffer().write(m,g,v-g)},async write(m,g,v){let b;if(g instanceof Function&&(v=g,g="utf8"),v=v||c.nop,m instanceof o)b=new d(m);else if(m instanceof s)b=new f(m);else{if(!(typeof m=="string"||m instanceof String||m instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");b=new u(m,g)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(b);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(b),a.nextTick(v)):(await this._pipe(b),v());else this.paused||this.emit("data",b.toBuffer()),this._writeToBuffers(b),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(m,g,v){const b=w=>{w?v(w):(this._flush(),this.pipes.forEach(_=>{_.end()}),this.emit("finish"))};m?this.write(m,g,b):b()},read(m){let g;if(m){for(g=[];m&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],b=v.read(m);m-=b.length,g.push(b),v.eod&&v.full&&this.buffers.shift()}return s.concat(g)}return g=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],s.concat(g)},setEncoding(m){this.encoding=m},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(m){this.pipes.push(m),!this.paused&&this.buffers.length&&this.end()},unpipe(m){this.pipes=this.pipes.filter(g=>g!==m)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=y}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,i){(function(a){(function(){n.exports=class{constructor(s){this._buf=a.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=a.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let l=2*this._buf.length;for(;l<s;)l*=2;const c=a.alloc(l);this._buf.copy(c,0),this._buf=c}addText(s){this._buffer=void 0;let l=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;l>=this._buf.length-4;)this._grow(this._inPos+s.length),l=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=l}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,i){const{toString:a}=Object.prototype,s=/["&<>]/,l={each:function(c,o){c&&(Array.isArray(c)?c.forEach(o):Object.keys(c).forEach(u=>{o(c[u],u)}))},some:function(c,o){return!!c&&(Array.isArray(c)?c.some(o):Object.keys(c).some(u=>o(c[u],u)))},every:function(c,o){return!c||(Array.isArray(c)?c.every(o):Object.keys(c).every(u=>o(c[u],u)))},map:function(c,o){return c?Array.isArray(c)?c.map(o):Object.keys(c).map(u=>o(c[u],u)):[]},keyBy:(c,o)=>c.reduce((u,d)=>(u[d[o]]=d,u),{}),isEqual:function(c,o){const u=typeof c,d=typeof o,f=Array.isArray(c),h=Array.isArray(o);let y;if(u!==d)return!1;switch(typeof c){case"object":if(f||h)return!(!f||!h)&&c.length===o.length&&c.every((m,g)=>{const v=o[g];return l.isEqual(m,v)});if(c===null||o===null)return c===o;if(y=Object.keys(c),Object.keys(o).length!==y.length)return!1;for(const m of y)if(!o.hasOwnProperty(m))return!1;return l.every(c,(m,g)=>{const v=o[g];return l.isEqual(m,v)});default:return c===o}},escapeHtml(c){const o=s.exec(c);if(!o)return c;let u="",d="",f=0,h=o.index;for(;h<c.length;h++){switch(c.charAt(h)){case'"':d="&quot;";break;case"&":d="&amp;";break;case"'":d="&apos;";break;case"<":d="&lt;";break;case">":d="&gt;";break;default:continue}f!==h&&(u+=c.substring(f,h)),f=h+1,u+=d}return f!==h?u+c.substring(f,h):u},strcmp:(c,o)=>c<o?-1:c>o?1:0,isUndefined:c=>a.call(c)==="[object Undefined]",isObject:c=>a.call(c)==="[object Object]",deepMerge(){const c=arguments[0]||{},{length:o}=arguments;let u,d,f;function h(y,m){u=c[m],f=Array.isArray(y),l.isObject(y)||f?(f?(f=!1,d=u&&Array.isArray(u)?u:[]):d=u&&l.isObject(u)?u:{},c[m]=l.deepMerge(d,y)):l.isUndefined(y)||(c[m]=y)}for(let y=0;y<o;y++)l.each(arguments[y],h);return c}};n.exports=l},{}],27:[function(e,n,i){(function(a,s){(function(){const l=e("fs"),c=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,o={nop(){},promiseImmediate:u=>new Promise(d=>{a.setImmediate?s(()=>{d(u)}):setTimeout(()=>{d(u)},1)}),inherits:function(u,d,f,h){u.super_=d,h||(h=f,f=null),f&&Object.keys(f).forEach(m=>{Object.defineProperty(u,m,Object.getOwnPropertyDescriptor(f,m))});const y={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};h&&Object.keys(h).forEach(m=>{y[m]=Object.getOwnPropertyDescriptor(h,m)}),u.prototype=Object.create(d.prototype,y)},dateToExcel:(u,d)=>25569+u.getTime()/864e5-(d?1462:0),excelToDate(u,d){const f=Math.round(24*(u-25569+(d?1462:0))*3600*1e3);return new Date(f)},parsePath(u){const d=u.lastIndexOf("/");return{path:u.substring(0,d),name:u.substring(d+1)}},getRelsPath(u){const d=o.parsePath(u);return`${d.path}/_rels/${d.name}.rels`},xmlEncode(u){const d=c.exec(u);if(!d)return u;let f="",h="",y=0,m=d.index;for(;m<u.length;m++){const g=u.charCodeAt(m);switch(g){case 34:h="&quot;";break;case 38:h="&amp;";break;case 39:h="&apos;";break;case 60:h="&lt;";break;case 62:h="&gt;";break;case 127:h="";break;default:if(g<=31&&(g<=8||g>=11&&g!==13)){h="";break}continue}y!==m&&(f+=u.substring(y,m)),y=m+1,h&&(f+=h)}return y!==m?f+u.substring(y,m):f},xmlDecode:u=>u.replace(/&([a-z]*);/g,d=>{switch(d){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return d}}),validInt(u){const d=parseInt(u,10);return Number.isNaN(d)?0:d},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(d=>{l.access(u,l.constants.F_OK,f=>{d(!f)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=o}).call(this)}).call(this,typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,i){const a=e("./under-dash"),s=e("./utils");function l(u,d,f){u.push(` ${d}="${s.xmlEncode(f.toString())}"`)}function c(u,d){if(d){const f=[];a.each(d,(h,y)=>{h!==void 0&&l(f,y,h)}),u.push(f.join(""))}}class o{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(d){const f=this._xml;f.push("<?xml"),c(f,d),f.push(`?>
`)}openNode(d,f){const h=this.tos,y=this._xml;h&&this.open&&y.push(">"),this._stack.push(d),y.push("<"),y.push(d),c(y,f),this.leaf=!0,this.open=!0}addAttribute(d,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&l(this._xml,d,f)}addAttributes(d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c(this._xml,d)}writeText(d){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(s.xmlEncode(d.toString()))}writeXml(d){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(d)}closeNode(){const d=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(d),f.push(">")),this.open=!1,this.leaf=!1}leafNode(d,f,h){this.openNode(d,f),h!==void 0&&this.writeText(h),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const d=this._rollbacks.pop();this._xml.length>d.xml&&this._xml.splice(d.xml,this._xml.length-d.xml),this._stack.length>d.stack&&this._stack.splice(d.stack,this._stack.length-d.stack),this.leaf=d.leaf,this.open=d.open}get xml(){return this.closeAll(),this._xml.join("")}}o.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=o},{"./under-dash":26,"./utils":27}],29:[function(e,n,i){(function(a){(function(){const s=e("events"),l=e("jszip"),c=e("./stream-buf"),{stringToBuffer:o}=e("./browser-buffer-encode");class u extends s.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new l,this.stream=new c}append(f,h){h.hasOwnProperty("base64")&&h.base64?this.zip.file(h.name,f,{base64:!0}):(a.browser&&typeof f=="string"&&(f=o(f)),this.zip.file(h.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,h){return this.stream.pipe(f,h)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}n.exports={ZipWriter:u}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,i){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,i){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,i){const a=e("../../utils/parse-sax"),s=e("../../utils/xml-stream");class l{prepare(){}render(){}parseOpen(o){}parseText(o){}parseClose(o){}reconcile(o,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(o=>{o instanceof l?o.reset():o.xform&&o.xform.reset()})}mergeModel(o){this.model=Object.assign(this.model||{},o)}async parse(o){for await(const u of o)for(const{eventType:d,value:f}of u)if(d==="opentag")this.parseOpen(f);else if(d==="text")this.parseText(f);else if(d==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(o){return this.parse(a(o))}get xml(){return this.toXml(this.model)}toXml(o){const u=new s;return this.render(u,o),u.xml}static toAttribute(o,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(d)return u}else if(d||o!==u)return o.toString()}static toStringAttribute(o,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,d)}static toStringValue(o,u){return o===void 0?u:o}static toBoolAttribute(o,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(d)return u}else if(d||o!==u)return o?"1":"0"}static toBoolValue(o,u){return o===void 0?u:o==="1"}static toIntAttribute(o,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,d)}static toIntValue(o,u){return o===void 0?u:parseInt(o,10)}static toFloatAttribute(o,u){let d=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,d)}static toFloatValue(o,u){return o===void 0?u:parseFloat(o)}}n.exports=l},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,i){const a=e("../base-xform"),s=e("../../../utils/col-cache");function l(o){try{return s.decodeEx(o),!0}catch{return!1}}function c(o){const u=[];let d=!1,f="";return o.split(",").forEach(h=>{if(!h)return;const y=(h.match(/'/g)||[]).length;if(!y)return void(d?f+=h+",":l(h)&&u.push(h));const m=y%2==0;!d&&m&&l(h)?u.push(h):d&&!m?(d=!1,l(f+h)&&u.push(f+h),f=""):(d=!0,f+=h+",")}),u}n.exports=class extends a{render(o,u){o.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),o.writeText(u.ranges.join(",")),o.closeNode()}parseOpen(o){switch(o.name){case"definedName":return this._parsedName=o.attributes.name,this._parsedLocalSheetId=o.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(o){this._parsedText.push(o)}parseClose(){return this.model={name:this._parsedName,ranges:c(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,i){const a=e("../../../utils/utils"),s=e("../base-xform");n.exports=class extends s{render(l,c){l.leafNode("sheet",{sheetId:c.id,name:c.name,state:c.state,"r:id":c.rId})}parseOpen(l){return l.name==="sheet"&&(this.model={name:a.xmlDecode(l.attributes.name),id:parseInt(l.attributes.sheetId,10),state:l.attributes.state,rId:l.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{render(s,l){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:l.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{render(s,l){s.leafNode("workbookPr",{date1904:l.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{render(s,l){const c={xWindow:l.x||0,yWindow:l.y||0,windowWidth:l.width||12e3,windowHeight:l.height||24e3,firstSheet:l.firstSheet,activeTab:l.activeTab};l.visibility&&l.visibility!=="visible"&&(c.visibility=l.visibility),s.leafNode("workbookView",c)}parseOpen(s){if(s.name==="workbookView"){const l=this.model={},c=function(u,d,f){const h=d!==void 0?l[u]=d:f;h!==void 0&&(l[u]=h)},o=function(u,d,f){const h=d!==void 0?l[u]=parseInt(d,10):f;h!==void 0&&(l[u]=h)};return o("x",s.attributes.xWindow,0),o("y",s.attributes.yWindow,0),o("width",s.attributes.windowWidth,25e3),o("height",s.attributes.windowHeight,1e4),c("visibility",s.attributes.visibility,"visible"),o("activeTab",s.attributes.activeTab,void 0),o("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../../../utils/col-cache"),l=e("../../../utils/xml-stream"),c=e("../base-xform"),o=e("../static-xform"),u=e("../list-xform"),d=e("./defined-name-xform"),f=e("./sheet-xform"),h=e("./workbook-view-xform"),y=e("./workbook-properties-xform"),m=e("./workbook-calc-properties-xform");class g extends c{constructor(){super(),this.map={fileVersion:g.STATIC_XFORMS.fileVersion,workbookPr:new y,bookViews:new u({tag:"bookViews",count:!1,childXform:new h}),sheets:new u({tag:"sheets",count:!1,childXform:new f}),definedNames:new u({tag:"definedNames",count:!1,childXform:new d}),calcPr:new m}}prepare(b){b.sheets=b.worksheets;const w=[];let _=0;b.sheets.forEach(N=>{if(N.pageSetup&&N.pageSetup.printArea&&N.pageSetup.printArea.split("&&").forEach(P=>{const M=P.split(":"),A={name:"_xlnm.Print_Area",ranges:[`'${N.name}'!$${M[0]}:$${M[1]}`],localSheetId:_};w.push(A)}),N.pageSetup&&(N.pageSetup.printTitlesRow||N.pageSetup.printTitlesColumn)){const P=[];if(N.pageSetup.printTitlesColumn){const A=N.pageSetup.printTitlesColumn.split(":");P.push(`'${N.name}'!$${A[0]}:$${A[1]}`)}if(N.pageSetup.printTitlesRow){const A=N.pageSetup.printTitlesRow.split(":");P.push(`'${N.name}'!$${A[0]}:$${A[1]}`)}const M={name:"_xlnm.Print_Titles",ranges:P,localSheetId:_};w.push(M)}_++}),w.length&&(b.definedNames=b.definedNames.concat(w)),(b.media||[]).forEach((N,P)=>{N.name=N.type+(P+1)})}render(b,w){b.openXml(l.StdDocAttributes),b.openNode("workbook",g.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(b),this.map.workbookPr.render(b,w.properties),this.map.bookViews.render(b,w.views),this.map.sheets.render(b,w.sheets),this.map.definedNames.render(b,w.definedNames),this.map.calcPr.render(b,w.calcProperties),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"workbook":return!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(b){const w=(b.workbookRels||[]).reduce((A,F)=>(A[F.Id]=F,A),{}),_=[];let N,P=0;(b.sheets||[]).forEach(A=>{const F=w[A.rId];F&&(N=b.worksheetHash["xl/"+F.Target.replace(/^(\s|\/xl\/)+/,"")],N&&(N.name=A.name,N.id=A.id,N.state=A.state,_[P++]=N))});const M=[];a.each(b.definedNames,A=>{if(A.name==="_xlnm.Print_Area"){if(N=_[A.localSheetId],N){N.pageSetup||(N.pageSetup={});const F=s.decodeEx(A.ranges[0]);N.pageSetup.printArea=N.pageSetup.printArea?`${N.pageSetup.printArea}&&${F.dimensions}`:F.dimensions}}else if(A.name==="_xlnm.Print_Titles"){if(N=_[A.localSheetId],N){N.pageSetup||(N.pageSetup={});const F=A.ranges.join(","),H=/\$/g,z=/\$\d+:\$\d+/,U=F.match(z);if(U&&U.length){const C=U[0];N.pageSetup.printTitlesRow=C.replace(H,"")}const O=/\$[A-Z]+:\$[A-Z]+/,L=F.match(O);if(L&&L.length){const C=L[0];N.pageSetup.printTitlesColumn=C.replace(H,"")}}}else M.push(A)}),b.definedNames=M,b.media.forEach((A,F)=>{A.index=F})}}g.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},g.STATIC_XFORMS={fileVersion:new o({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=g},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,i){const a=e("../strings/rich-text-xform"),s=e("../../../utils/utils"),l=e("../base-xform"),c=n.exports=function(o){this.model=o};s.inherits(c,l,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new a),this._richTextXform},render(o,u){u=u||this.model,o.openNode("comment",{ref:u.ref,authorId:0}),o.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(d=>{this.richTextXform.render(o,d)}),o.closeNode(),o.closeNode()},parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"comment":return this.model={type:"note",note:{texts:[]},...o.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(o),!0;default:return!1}},parseText(o){this.parser&&this.parser.parseText(o)},parseClose(o){switch(o){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(o),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../../../utils/utils"),l=e("../base-xform"),c=e("./comment-xform"),o=n.exports=function(){this.map={comment:new c}};s.inherits(o,l,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,d){d=d||this.model,u.openXml(a.StdDocAttributes),u.openNode("comments",o.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),d.comments.forEach(f=>{this.map.comment.render(u,f)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,l,c){(l===c[2]||this.tag==="x:SizeWithCells"&&l===c[1])&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,l){s.leafNode(this.tag,null,l)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"x:Anchor"}getAnchorRect(s){const l=Math.floor(s.left),c=Math.floor(68*(s.left-l)),o=Math.floor(s.top),u=Math.floor(18*(s.top-o)),d=Math.floor(s.right),f=Math.floor(68*(s.right-d)),h=Math.floor(s.bottom);return[l,c,o,u,d,f,h,Math.floor(18*(s.bottom-h))]}getDefaultRect(s){const l=s.col,c=Math.max(s.row-2,0);return[l,6,c,14,l+2,2,c+4,16]}render(s,l){const c=l.anchor?this.getAnchorRect(l.anchor):this.getDefaultRect(l.refAddress);s.leafNode("x:Anchor",null,c.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,i){const a=e("../base-xform"),s=e("./vml-anchor-xform"),l=e("./style/vml-protection-xform"),c=e("./style/vml-position-xform"),o=["twoCells","oneCells","absolute"];n.exports=class extends a{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new l({tag:"x:Locked"}),"x:LockText":new l({tag:"x:LockText"}),"x:SizeWithCells":new c({tag:"x:SizeWithCells"}),"x:MoveWithCells":new c({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,d){const{protection:f,editAs:h}=d.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,h,o),this.map["x:SizeWithCells"].render(u,h,o),this.map["x:Anchor"].render(u,d),this.map["x:Locked"].render(u,f.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,f.lockText),u.leafNode("x:Row",null,d.refAddress.row-1),u.leafNode("x:Column",null,d.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),d=Object.keys(u).length;this.model.editAs=o[d],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform"),l=e("./vml-shape-xform");class c extends s{constructor(){super(),this.map={"v:shape":new l}}get tag(){return"xml"}render(u,d){u.openXml(a.StdDocAttributes),u.openNode(this.tag,c.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),d.comments.forEach((f,h)=>{this.map["v:shape"].render(u,f,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,d){u.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,d):this.map["xdr:oneCellAnchor"].reconcile(f,d)})}}c.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,i){const a=e("../base-xform"),s=e("./vml-textbox-xform"),l=e("./vml-client-data-xform");class c extends a{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new l}}get tag(){return"v:shape"}render(u,d,f){u.openNode("v:shape",c.V_SHAPE_ATTRIBUTES(d,f)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,d),this.map["x:ClientData"].render(u,d),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}c.V_SHAPE_ATTRIBUTES=(o,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":o.note.margins&&o.note.margins.insetmode}),n.exports=c},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"v:textbox"}conversionUnit(s,l,c){return`${parseFloat(s)*l.toFixed(2)}${c}`}reverseConversionUnit(s){return(s||"").split(",").map(l=>Number(parseFloat(this.conversionUnit(parseFloat(l),.1,"")).toFixed(2)))}render(s,l){const c={style:"mso-direction-alt:auto"};if(l&&l.note){let{inset:o}=l.note&&l.note.margins;Array.isArray(o)&&(o=o.map(u=>this.conversionUnit(u,10,"mm")).join(",")),o&&(c.inset=o)}s.openNode("v:textbox",c),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,i){const a=e("./base-xform");n.exports=class extends a{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,l){this.model[s]=l.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{render(s,l){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,l.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{render(s,l){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:l.length,baseType:"lpstr"}),l.forEach(c=>{s.leafNode("vt:lpstr",void 0,c.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform"),l=e("../simple/string-xform"),c=e("./app-heading-pairs-xform"),o=e("./app-titles-of-parts-xform");class u extends s{constructor(){super(),this.map={Company:new l({tag:"Company"}),Manager:new l({tag:"Manager"}),HeadingPairs:new c,TitleOfParts:new o}}render(f,h){f.openXml(a.StdDocAttributes),f.openNode("Properties",u.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,h.worksheets),this.map.TitleOfParts.render(f,h.worksheets),this.map.Company.render(f,h.company||""),this.map.Manager.render(f,h.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"Properties":return!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform");class l extends s{render(o,u){o.openXml(a.StdDocAttributes),o.openNode("Types",l.PROPERTY_ATTRIBUTES);const d={};(u.media||[]).forEach(f=>{if(f.type==="image"){const h=f.extension;d[h]||(d[h]=!0,o.leafNode("Default",{Extension:h,ContentType:"image/"+h}))}}),o.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),o.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),o.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(f=>{const h=`/xl/worksheets/sheet${f.id}.xml`;o.leafNode("Override",{PartName:h,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),o.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),o.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&o.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(f=>{o.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(f=>{o.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(o.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(f=>{let{commentName:h}=f;o.leafNode("Override",{PartName:`/xl/${h}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),o.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),o.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),o.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform"),l=e("../simple/date-xform"),c=e("../simple/string-xform"),o=e("../simple/integer-xform");class u extends s{constructor(){super(),this.map={"dc:creator":new c({tag:"dc:creator"}),"dc:title":new c({tag:"dc:title"}),"dc:subject":new c({tag:"dc:subject"}),"dc:description":new c({tag:"dc:description"}),"dc:identifier":new c({tag:"dc:identifier"}),"dc:language":new c({tag:"dc:language"}),"cp:keywords":new c({tag:"cp:keywords"}),"cp:category":new c({tag:"cp:category"}),"cp:lastModifiedBy":new c({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new l({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new o({tag:"cp:revision"}),"cp:version":new c({tag:"cp:version"}),"cp:contentStatus":new c({tag:"cp:contentStatus"}),"cp:contentType":new c({tag:"cp:contentType"}),"dcterms:created":new l({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new l({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(f,h){f.openXml(a.StdDocAttributes),f.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,h.creator),this.map["dc:title"].render(f,h.title),this.map["dc:subject"].render(f,h.subject),this.map["dc:description"].render(f,h.description),this.map["dc:identifier"].render(f,h.identifier),this.map["dc:language"].render(f,h.language),this.map["cp:keywords"].render(f,h.keywords),this.map["cp:category"].render(f,h.category),this.map["cp:lastModifiedBy"].render(f,h.lastModifiedBy),this.map["cp:lastPrinted"].render(f,h.lastPrinted),this.map["cp:revision"].render(f,h.revision),this.map["cp:version"].render(f,h.version),this.map["cp:contentStatus"].render(f,h.contentStatus),this.map["cp:contentType"].render(f,h.contentType),this.map["dcterms:created"].render(f,h.created),this.map["dcterms:modified"].render(f,h.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}u.DateFormat=function(d){return d.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{render(s,l){s.leafNode("Relationship",l)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform"),l=e("./relationship-xform");class c extends s{constructor(){super(),this.map={Relationship:new l}}render(u,d){d=d||this._values,u.openXml(a.StdDocAttributes),u.openNode("Relationships",c.RELATIONSHIPS_ATTRIBUTES),d.forEach(f=>{this.map.Relationship.render(u,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}c.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,l){if(s&&s.rId){const c=l.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(c){const o=c[1],u=l.mediaIndex[o];return l.media[u]}}}}},{"../base-xform":32}],57:[function(e,n,i){const a=e("../base-xform"),s=e("./blip-xform");n.exports=class extends a{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(l,c){l.openNode(this.tag),this.map["a:blip"].render(l,c),l.openNode("a:stretch"),l.leafNode("a:fillRect"),l.closeNode(),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"a:blip"}render(s,l){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":l.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,i){const a=e("../base-xform"),s=e("./hlink-click-xform"),l=e("./ext-lst-xform");n.exports=class extends a{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new l}}get tag(){return"xdr:cNvPr"}render(c,o){c.openNode(this.tag,{id:o.index,name:"Picture "+o.index}),this.map["a:hlinkClick"].render(c,o),this.map["a:extLst"].render(c,o),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,i){const a=e("../base-xform"),s=e("../simple/integer-xform");n.exports=class extends a{constructor(l){super(),this.tag=l.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(l,c){l.openNode(this.tag),this.map["xdr:col"].render(l,c.nativeCol),this.map["xdr:colOff"].render(l,c.nativeColOff),this.map["xdr:row"].render(l,c.nativeRow),this.map["xdr:rowOff"].render(l,c.nativeRowOff),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,i){const a=e("../../../utils/col-cache"),s=e("../../../utils/xml-stream"),l=e("../base-xform"),c=e("./two-cell-anchor-xform"),o=e("./one-cell-anchor-xform");class u extends l{constructor(){super(),this.map={"xdr:twoCellAnchor":new c,"xdr:oneCellAnchor":new o}}prepare(f){f.anchors.forEach((h,y)=>{h.anchorType=function(m){return(typeof m.range=="string"?a.decode(m.range):m.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(h),this.map[h.anchorType].prepare(h,{index:y})})}get tag(){return"xdr:wsDr"}render(f,h){f.openXml(s.StdDocAttributes),f.openNode(this.tag,u.DRAWING_ATTRIBUTES),h.anchors.forEach(y=>{this.map[y.anchorType].render(f,y)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(f){case this.tag:return!1;default:return!0}}reconcile(f,h){f.anchors.forEach(y=>{y.br?this.map["xdr:twoCellAnchor"].reconcile(y,h):this.map["xdr:oneCellAnchor"].reconcile(y,h)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,l){s.openNode(this.tag);const c=Math.floor(9525*l.width),o=Math.floor(9525*l.height);s.addAttribute("cx",c),s.addAttribute("cy",o),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"a:hlinkClick"}render(s,l){l.hyperlinks&&l.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":l.hyperlinks.rId,tooltip:l.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,i){const a=e("../base-xform"),s=e("./c-nv-pr-xform"),l=e("./c-nv-pic-pr-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new l}}get tag(){return"xdr:nvPicPr"}render(c,o){c.openNode(this.tag),this.map["xdr:cNvPr"].render(c,o),this.map["xdr:cNvPicPr"].render(c,o),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,i){const a=e("./base-cell-anchor-xform"),s=e("../static-xform"),l=e("./cell-position-xform"),c=e("./ext-xform"),o=e("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:ext":new c({tag:"xdr:ext"}),"xdr:pic":new o,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,d){this.map["xdr:pic"].prepare(u.picture,d)}render(u,d){u.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,d.range.tl),this.map["xdr:ext"].render(u,d.range.ext),this.map["xdr:pic"].render(u,d.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,d){u.medium=this.reconcilePicture(u.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,i){const a=e("../base-xform"),s=e("../static-xform"),l=e("./blip-fill-xform"),c=e("./nv-pic-pr-xform"),o=e("./sp-pr");n.exports=class extends a{constructor(){super(),this.map={"xdr:nvPicPr":new c,"xdr:blipFill":new l,"xdr:spPr":new s(o)}}get tag(){return"xdr:pic"}prepare(u,d){u.index=d.index+1}render(u,d){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,d),this.map["xdr:blipFill"].render(u,d),this.map["xdr:spPr"].render(u,d),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,i){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,i){const a=e("./base-cell-anchor-xform"),s=e("../static-xform"),l=e("./cell-position-xform"),c=e("./pic-xform");n.exports=class extends a{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:to":new l({tag:"xdr:to"}),"xdr:pic":new c,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(o,u){this.map["xdr:pic"].prepare(o.picture,u)}render(o,u){o.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(o,u.range.tl),this.map["xdr:to"].render(o,u.range.br),this.map["xdr:pic"].render(o,u.picture),this.map["xdr:clientData"].render(o,{}),o.closeNode()}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(o,u){o.medium=this.reconcilePicture(o.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,i){const a=e("./base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,l){const{childXform:c}=this;s&&s.forEach((o,u)=>{l.index=u,c.prepare(o,l)})}render(s,l){if(this.always||l&&l.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,l&&l.length||0);const{childXform:c}=this;(l||[]).forEach((o,u)=>{c.render(s,o,u)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,l){if(s){const{childXform:c}=this;s.forEach(o=>{c.reconcile(o,l)})}}}},{"./base-xform":32}],72:[function(e,n,i){const a=e("../../../utils/col-cache"),s=e("../base-xform");n.exports=class extends s{get tag(){return"autoFilter"}render(l,c){if(c)if(typeof c=="string")l.leafNode("autoFilter",{ref:c});else{const o=function(f){return typeof f=="string"?f:a.getAddress(f.row,f.column).address},u=o(c.from),d=o(c.to);u&&d&&l.leafNode("autoFilter",{ref:`${u}:${d}`})}}parseOpen(l){l.name==="autoFilter"&&(this.model=l.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,i){const a=e("../../../utils/utils"),s=e("../base-xform"),l=e("../../../doc/range"),c=e("../../../doc/enums"),o=e("../strings/rich-text-xform");function u(d){if(d==null)return c.ValueType.Null;if(d instanceof String||typeof d=="string")return c.ValueType.String;if(typeof d=="number")return c.ValueType.Number;if(typeof d=="boolean")return c.ValueType.Boolean;if(d instanceof Date)return c.ValueType.Date;if(d.text&&d.hyperlink)return c.ValueType.Hyperlink;if(d.formula)return c.ValueType.Formula;if(d.error)return c.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends s{constructor(){super(),this.richTextXForm=new o}get tag(){return"c"}prepare(d,f){const h=f.styles.addStyleModel(d.style||{},function(y){switch(y.type){case c.ValueType.Formula:return u(y.result);default:return y.type}}(d));switch(h&&(d.styleId=h),d.comment&&f.comments.push({...d.comment,ref:d.address}),d.type){case c.ValueType.String:case c.ValueType.RichText:f.sharedStrings&&(d.ssId=f.sharedStrings.add(d.value));break;case c.ValueType.Date:f.date1904&&(d.date1904=!0);break;case c.ValueType.Hyperlink:f.sharedStrings&&d.text!==void 0&&d.text!==null&&(d.ssId=f.sharedStrings.add(d.text)),f.hyperlinks.push({address:d.address,target:d.hyperlink,tooltip:d.tooltip});break;case c.ValueType.Merge:f.merges.add(d);break;case c.ValueType.Formula:if(f.date1904&&(d.date1904=!0),d.shareType==="shared"&&(d.si=f.siFormulae++),d.formula)f.formulae[d.address]=d;else if(d.sharedFormula){const y=f.formulae[d.sharedFormula];if(!y)throw new Error("Shared Formula master must exist above and or left of clone for cell "+d.address);y.si===void 0?(y.shareType="shared",y.si=f.siFormulae++,y.range=new l(y.address,d.address)):y.range&&y.range.expandToAddress(d.address),d.si=y.si}}}renderFormula(d,f){let h=null;switch(f.shareType){case"shared":h={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":h={t:"array",ref:f.ref};break;default:f.si!==void 0&&(h={t:"shared",si:f.si})}switch(u(f.result)){case c.ValueType.Null:d.leafNode("f",h,f.formula);break;case c.ValueType.String:d.addAttribute("t","str"),d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result);break;case c.ValueType.Number:d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result);break;case c.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result?1:0);break;case c.ValueType.Error:d.addAttribute("t","e"),d.leafNode("f",h,f.formula),d.leafNode("v",null,f.result.error);break;case c.ValueType.Date:d.leafNode("f",h,f.formula),d.leafNode("v",null,a.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(d,f){if(f.type!==c.ValueType.Null||f.styleId){switch(d.openNode("c"),d.addAttribute("r",f.address),f.styleId&&d.addAttribute("s",f.styleId),f.type){case c.ValueType.Null:break;case c.ValueType.Number:d.leafNode("v",null,f.value);break;case c.ValueType.Boolean:d.addAttribute("t","b"),d.leafNode("v",null,f.value?"1":"0");break;case c.ValueType.Error:d.addAttribute("t","e"),d.leafNode("v",null,f.value.error);break;case c.ValueType.String:case c.ValueType.RichText:f.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(d.addAttribute("t","inlineStr"),d.openNode("is"),f.value.richText.forEach(h=>{this.richTextXForm.render(d,h)}),d.closeNode("is")):(d.addAttribute("t","str"),d.leafNode("v",null,f.value));break;case c.ValueType.Date:d.leafNode("v",null,a.dateToExcel(f.value,f.date1904));break;case c.ValueType.Hyperlink:f.ssId!==void 0?(d.addAttribute("t","s"),d.leafNode("v",null,f.ssId)):(d.addAttribute("t","str"),d.leafNode("v",null,f.text));break;case c.ValueType.Formula:this.renderFormula(d,f);break;case c.ValueType.Merge:}d.closeNode()}}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"c":return this.model={address:d.attributes.r},this.t=d.attributes.t,d.attributes.s&&(this.model.styleId=parseInt(d.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=d.attributes.si,this.model.shareType=d.attributes.t,this.model.ref=d.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){if(this.parser)this.parser.parseText(d);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+d:d;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+d:d:this.model.value=this.model.value?this.model.value+d:d}}parseClose(d){switch(d){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=c.ValueType.Formula,f.value&&(this.t==="str"?f.result=a.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=c.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=c.ValueType.String,f.value=a.xmlDecode(f.value);break;case"inlineStr":f.type=c.ValueType.String;break;case"b":f.type=c.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=c.ValueType.Error,f.value={error:f.value};break;default:f.type=c.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=c.ValueType.Null:f.type=c.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(d),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(d),!0)}}reconcile(d,f){const h=d.styleId&&f.styles&&f.styles.getStyleModel(d.styleId);switch(h&&(d.style=h),d.styleId!==void 0&&(d.styleId=void 0),d.type){case c.ValueType.String:typeof d.value=="number"&&f.sharedStrings&&(d.value=f.sharedStrings.getString(d.value)),d.value.richText&&(d.type=c.ValueType.RichText);break;case c.ValueType.Number:h&&a.isDateFmt(h.numFmt)&&(d.type=c.ValueType.Date,d.value=a.excelToDate(d.value,f.date1904));break;case c.ValueType.Formula:d.result!==void 0&&h&&a.isDateFmt(h.numFmt)&&(d.result=a.excelToDate(d.result,f.date1904)),d.shareType==="shared"&&(d.ref?f.formulae[d.si]=d.address:(d.sharedFormula=f.formulae[d.si],delete d.shareType),delete d.si)}const y=f.hyperlinkMap[d.address];y&&(d.type===c.ValueType.Formula?(d.text=d.result,d.result=void 0):(d.text=d.value,d.value=void 0),d.type=c.ValueType.Hyperlink,d.hyperlink=y);const m=f.commentsMap&&f.commentsMap[d.address];m&&(d.comment=m)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"x14:cfIcon"}render(s,l){s.leafNode(this.tag,{iconSet:l.iconSet,iconId:l.iconId})}parseOpen(s){let{attributes:l}=s;this.model={iconSet:l.iconSet,iconId:a.toIntValue(l.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,i){const{v4:a}=e("uuid"),s=e("../../base-xform"),l=e("../../composite-xform"),c=e("./databar-ext-xform"),o=e("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class d extends l{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new c,"x14:iconSet":this.iconSetXform=new o}}get tag(){return"x14:cfRule"}static isExt(h){return h.type==="dataBar"?c.isExt(h):!(h.type!=="iconSet"||!h.custom&&!u[h.iconSet])}prepare(h){d.isExt(h)&&(h.x14Id=`{${a()}}`.toUpperCase())}render(h,y){if(d.isExt(y))switch(y.type){case"dataBar":this.renderDataBar(h,y);break;case"iconSet":this.renderIconSet(h,y)}}renderDataBar(h,y){h.openNode(this.tag,{type:"dataBar",id:y.x14Id}),this.databarXform.render(h,y),h.closeNode()}renderIconSet(h,y){h.openNode(this.tag,{type:"iconSet",priority:y.priority,id:y.x14Id||`{${a()}}`}),this.iconSetXform.render(h,y),h.closeNode()}createNewModel(h){let{attributes:y}=h;return{type:y.type,x14Id:y.id,priority:s.toIntValue(y.priority)}}onParserClose(h,y){Object.assign(this.model,y.model)}}n.exports=d},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,i){const a=e("../../composite-xform"),s=e("./f-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(l,c){l.openNode(this.tag,{type:c.type}),c.value!==void 0&&this.fExtXform.render(l,c.value),l.closeNode()}createNewModel(l){return{type:l.attributes.type}}onParserClose(l,c){switch(l){case"xm:f":this.model.value=c.model?parseFloat(c.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,i){const a=e("../../composite-xform"),s=e("./sqref-ext-xform"),l=e("./cf-rule-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new l}}get tag(){return"x14:conditionalFormatting"}prepare(c,o){c.rules.forEach(u=>{this.cfRule.prepare(u,o)})}render(c,o){o.rules.some(l.isExt)&&(c.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),o.rules.filter(l.isExt).forEach(u=>this.cfRule.render(c,u)),this.sqRef.render(c,o.ref),c.closeNode())}createNewModel(){return{rules:[]}}onParserClose(c,o){switch(c){case"xm:sqref":this.model.ref=o.model;break;case"x14:cfRule":this.model.rules.push(o.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,i){const a=e("../../composite-xform"),s=e("./cf-rule-ext-xform"),l=e("./conditional-formatting-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new l}}get tag(){return"x14:conditionalFormattings"}hasContent(c){return c.hasExtContent===void 0&&(c.hasExtContent=c.some(o=>o.rules.some(s.isExt))),c.hasExtContent}prepare(c,o){c.forEach(u=>{this.cfXform.prepare(u,o)})}render(c,o){this.hasContent(o)&&(c.openNode(this.tag),o.forEach(u=>this.cfXform.render(c,u)),c.closeNode())}createNewModel(){return[]}onParserClose(c,o){this.model.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,i){const a=e("../../base-xform"),s=e("../../composite-xform"),l=e("../../style/color-xform"),c=e("./cfvo-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:borderColor":this.borderColorXform=new l("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new l("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new l("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new l("x14:axisColor")}}static isExt(o){return!o.gradient}get tag(){return"x14:dataBar"}render(o,u){o.openNode(this.tag,{minLength:a.toIntAttribute(u.minLength,0,!0),maxLength:a.toIntAttribute(u.maxLength,100,!0),border:a.toBoolAttribute(u.border,!1),gradient:a.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:a.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toAttribute(u.axisPosition,"auto"),direction:a.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(d=>{this.cfvoXform.render(o,d)}),this.borderColorXform.render(o,u.borderColor),this.negativeBorderColorXform.render(o,u.negativeBorderColor),this.negativeFillColorXform.render(o,u.negativeFillColor),this.axisColorXform.render(o,u.axisColor),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],minLength:a.toIntValue(u.minLength,0),maxLength:a.toIntValue(u.maxLength,100),border:a.toBoolValue(u.border,!1),gradient:a.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:a.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toStringValue(u.axisPosition,"auto"),direction:a.toStringValue(u.direction,"leftToRight")}}onParserClose(o,u){const[,d]=o.split(":");switch(d){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[d]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"xm:f"}render(s,l){s.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,i){const a=e("../../base-xform"),s=e("../../composite-xform"),l=e("./cfvo-ext-xform"),c=e("./cf-icon-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:cfIcon":this.cfIconXform=new c}}get tag(){return"x14:iconSet"}render(o,u){o.openNode(this.tag,{iconSet:a.toStringAttribute(u.iconSet),reverse:a.toBoolAttribute(u.reverse,!1),showValue:a.toBoolAttribute(u.showValue,!0),custom:a.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(d=>{this.cfvoXform.render(o,d)}),u.icons&&u.icons.forEach((d,f)=>{d.iconId=f,this.cfIconXform.render(o,d)}),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],iconSet:a.toStringValue(u.iconSet,"3TrafficLights"),reverse:a.toBoolValue(u.reverse,!1),showValue:a.toBoolValue(u.showValue,!0)}}onParserClose(o,u){const[,d]=o.split(":");switch(d){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[d]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"xm:sqref"}render(s,l){s.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,i){const a=e("../../base-xform"),s=e("../../composite-xform"),l=e("../../../../doc/range"),c=e("./databar-xform"),o=e("./ext-lst-ref-xform"),u=e("./formula-xform"),d=e("./color-scale-xform"),f=e("./icon-set-xform"),h={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},y=g=>{const{type:v,operator:b}=g;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:b}}};class m extends s{constructor(){super(),this.map={dataBar:this.databarXform=new c,extLst:this.extLstRefXform=new o,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new d,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!h[v.iconSet]}render(v,b){switch(b.type){case"expression":this.renderExpression(v,b);break;case"cellIs":this.renderCellIs(v,b);break;case"top10":this.renderTop10(v,b);break;case"aboveAverage":this.renderAboveAverage(v,b);break;case"dataBar":this.renderDataBar(v,b);break;case"colorScale":this.renderColorScale(v,b);break;case"iconSet":this.renderIconSet(v,b);break;case"containsText":this.renderText(v,b);break;case"timePeriod":this.renderTimePeriod(v,b)}}renderExpression(v,b){v.openNode(this.tag,{type:"expression",dxfId:b.dxfId,priority:b.priority}),this.formulaXform.render(v,b.formulae[0]),v.closeNode()}renderCellIs(v,b){v.openNode(this.tag,{type:"cellIs",dxfId:b.dxfId,priority:b.priority,operator:b.operator}),b.formulae.forEach(w=>{this.formulaXform.render(v,w)}),v.closeNode()}renderTop10(v,b){v.leafNode(this.tag,{type:"top10",dxfId:b.dxfId,priority:b.priority,percent:a.toBoolAttribute(b.percent,!1),bottom:a.toBoolAttribute(b.bottom,!1),rank:a.toIntValue(b.rank,10,!0)})}renderAboveAverage(v,b){v.leafNode(this.tag,{type:"aboveAverage",dxfId:b.dxfId,priority:b.priority,aboveAverage:a.toBoolAttribute(b.aboveAverage,!0)})}renderDataBar(v,b){v.openNode(this.tag,{type:"dataBar",priority:b.priority}),this.databarXform.render(v,b),this.extLstRefXform.render(v,b),v.closeNode()}renderColorScale(v,b){v.openNode(this.tag,{type:"colorScale",priority:b.priority}),this.colorScaleXform.render(v,b),v.closeNode()}renderIconSet(v,b){m.isPrimitive(b)&&(v.openNode(this.tag,{type:"iconSet",priority:b.priority}),this.iconSetXform.render(v,b),v.closeNode())}renderText(v,b){v.openNode(this.tag,{type:b.operator,dxfId:b.dxfId,priority:b.priority,operator:a.toStringAttribute(b.operator,"containsText")});const w=(_=>{if(_.formulae&&_.formulae[0])return _.formulae[0];const N=new l(_.ref),{tl:P}=N;switch(_.operator){case"containsText":return`NOT(ISERROR(SEARCH("${_.text}",${P})))`;case"containsBlanks":return`LEN(TRIM(${P}))=0`;case"notContainsBlanks":return`LEN(TRIM(${P}))>0`;case"containsErrors":return`ISERROR(${P})`;case"notContainsErrors":return`NOT(ISERROR(${P}))`;default:return}})(b);w&&this.formulaXform.render(v,w),v.closeNode()}renderTimePeriod(v,b){v.openNode(this.tag,{type:"timePeriod",dxfId:b.dxfId,priority:b.priority,timePeriod:b.timePeriod});const w=(_=>{if(_.formulae&&_.formulae[0])return _.formulae[0];const N=new l(_.ref),{tl:P}=N;switch(_.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${P},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${P},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${P},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${P},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${P},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${P},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${P},1)=TODAY()-1`;case"today":return`FLOOR(${P},1)=TODAY()`;case"tomorrow":return`FLOOR(${P},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${P},1)<=6,FLOOR(${P},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${P})=MONTH(EDATE(TODAY(),0-1)),YEAR(${P})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${P})=MONTH(TODAY()),YEAR(${P})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${P})=MONTH(EDATE(TODAY(),0+1)),YEAR(${P})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(b);w&&this.formulaXform.render(v,w),v.closeNode()}createNewModel(v){let{attributes:b}=v;return{...y(b),dxfId:a.toIntValue(b.dxfId),priority:a.toIntValue(b.priority),timePeriod:b.timePeriod,percent:a.toBoolValue(b.percent),bottom:a.toBoolValue(b.bottom),rank:a.toIntValue(b.rank),aboveAverage:a.toBoolValue(b.aboveAverage)}}onParserClose(v,b){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,b.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(b.model)}}}n.exports=m},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"cfvo"}render(s,l){s.leafNode(this.tag,{type:l.type,val:l.value})}parseOpen(s){this.model={type:s.attributes.type,value:a.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,i){const a=e("../../composite-xform"),s=e("../../style/color-xform"),l=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new s}}get tag(){return"colorScale"}render(c,o){c.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),o.color.forEach(u=>{this.colorXform.render(c,u)}),c.closeNode()}createNewModel(c){return{cfvo:[],color:[]}}onParserClose(c,o){this.model[c].push(o.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,i){const a=e("../../composite-xform"),s=e("./cf-rule-xform");n.exports=class extends a{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(l,c){c.rules.some(s.isPrimitive)&&(l.openNode(this.tag,{sqref:c.ref}),c.rules.forEach(o=>{s.isPrimitive(o)&&(o.ref=c.ref,this.map.cfRule.render(l,o))}),l.closeNode())}createNewModel(l){let{attributes:c}=l;return{ref:c.sqref,rules:[]}}onParserClose(l,c){this.model.rules.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,i){const a=e("../../base-xform"),s=e("./conditional-formatting-xform");n.exports=class extends a{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(l,c){let o=l.reduce((u,d)=>Math.max(u,...d.rules.map(f=>f.priority||0)),1);l.forEach(u=>{u.rules.forEach(d=>{d.priority||(d.priority=o++),d.style&&(d.dxfId=c.styles.addDxfStyle(d.style))})})}render(l,c){c.forEach(o=>{this.cfXform.render(l,o)})}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(!!this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(l,c){l.forEach(o=>{o.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=c.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,i){const a=e("../../composite-xform"),s=e("../../style/color-xform"),l=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new s}}get tag(){return"dataBar"}render(c,o){c.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),this.colorXform.render(c,o.color),c.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(c,o){switch(c){case"cfvo":this.model.cfvo.push(o.model);break;case"color":this.model.color=o.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,i){const a=e("../../base-xform"),s=e("../../composite-xform");class l extends a{get tag(){return"x14:id"}render(u,d){u.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class c extends s{constructor(){super(),this.map={"x14:id":this.idXform=new l}}get tag(){return"ext"}render(u,d){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,d.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,d){this.model.x14Id=d.model}}n.exports=class extends s{constructor(){super(),this.map={ext:new c}}get tag(){return"extLst"}render(o,u){o.openNode(this.tag),this.map.ext.render(o,u),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,i){const a=e("../../base-xform");n.exports=class extends a{get tag(){return"formula"}render(s,l){s.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,i){const a=e("../../base-xform"),s=e("../../composite-xform"),l=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new l}}get tag(){return"iconSet"}render(c,o){c.openNode(this.tag,{iconSet:a.toStringAttribute(o.iconSet,"3TrafficLights"),reverse:a.toBoolAttribute(o.reverse,!1),showValue:a.toBoolAttribute(o.showValue,!0)}),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),c.closeNode()}createNewModel(c){let{attributes:o}=c;return{iconSet:a.toStringValue(o.iconSet,"3TrafficLights"),reverse:a.toBoolValue(o.reverse),showValue:a.toBoolValue(o.showValue),cfvo:[]}}onParserClose(c,o){this.model[c].push(o.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,i){const a=e("../../../utils/utils"),s=e("../base-xform");n.exports=class extends s{get tag(){return"col"}prepare(l,c){const o=c.styles.addStyleModel(l.style||{});o&&(l.styleId=o)}render(l,c){l.openNode("col"),l.addAttribute("min",c.min),l.addAttribute("max",c.max),c.width&&l.addAttribute("width",c.width),c.styleId&&l.addAttribute("style",c.styleId),c.hidden&&l.addAttribute("hidden","1"),c.bestFit&&l.addAttribute("bestFit","1"),c.outlineLevel&&l.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&l.addAttribute("collapsed","1"),l.addAttribute("customWidth","1"),l.closeNode()}parseOpen(l){if(l.name==="col"){const c=this.model={min:parseInt(l.attributes.min||"0",10),max:parseInt(l.attributes.max||"0",10),width:l.attributes.width===void 0?void 0:parseFloat(l.attributes.width||"0")};return l.attributes.style&&(c.styleId=parseInt(l.attributes.style,10)),a.parseBoolean(l.attributes.hidden)&&(c.hidden=!0),a.parseBoolean(l.attributes.bestFit)&&(c.bestFit=!0),l.attributes.outlineLevel&&(c.outlineLevel=parseInt(l.attributes.outlineLevel,10)),a.parseBoolean(l.attributes.collapsed)&&(c.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(l,c){l.styleId&&(l.style=c.styles.getStyleModel(l.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../../../utils/utils"),l=e("../../../utils/col-cache"),c=e("../base-xform"),o=e("../../../doc/range");function u(f,h,y,m){const g=h[y];g!==void 0?f[y]=g:m!==void 0&&(f[y]=m)}function d(f,h,y,m){const g=h[y];g!==void 0&&(f[y]=s.parseBoolean(g))}n.exports=class extends c{get tag(){return"dataValidations"}render(f,h){const y=function(m){const g=a.map(m,(w,_)=>({address:_,dataValidation:w,marked:!1})).sort((w,_)=>a.strcmp(w.address,_.address)),v=a.keyBy(g,"address"),b=(w,_,N)=>{for(let P=0;P<_;P++){const M=l.encodeAddress(w.row+P,N);if(!m[M]||!a.isEqual(m[w.address],m[M]))return!1}return!0};return g.map(w=>{if(!w.marked){const _=l.decodeEx(w.address);if(_.dimensions)return v[_.dimensions].marked=!0,{...w.dataValidation,sqref:w.address};let N=1,P=l.encodeAddress(_.row+N,_.col);for(;m[P]&&a.isEqual(w.dataValidation,m[P]);)N++,P=l.encodeAddress(_.row+N,_.col);let M=1;for(;b(_,N,_.col+M);)M++;for(let A=0;A<N;A++)for(let F=0;F<M;F++)P=l.encodeAddress(_.row+A,_.col+F),v[P].marked=!0;if(N>1||M>1){const A=_.row+(N-1),F=_.col+(M-1);return{...w.dataValidation,sqref:`${w.address}:${l.encodeAddress(A,F)}`}}return{...w.dataValidation,sqref:w.address}}return null}).filter(Boolean)}(h);y.length&&(f.openNode("dataValidations",{count:y.length}),y.forEach(m=>{f.openNode("dataValidation"),m.type!=="any"&&(f.addAttribute("type",m.type),m.operator&&m.type!=="list"&&m.operator!=="between"&&f.addAttribute("operator",m.operator),m.allowBlank&&f.addAttribute("allowBlank","1")),m.showInputMessage&&f.addAttribute("showInputMessage","1"),m.promptTitle&&f.addAttribute("promptTitle",m.promptTitle),m.prompt&&f.addAttribute("prompt",m.prompt),m.showErrorMessage&&f.addAttribute("showErrorMessage","1"),m.errorStyle&&f.addAttribute("errorStyle",m.errorStyle),m.errorTitle&&f.addAttribute("errorTitle",m.errorTitle),m.error&&f.addAttribute("error",m.error),f.addAttribute("sqref",m.sqref),(m.formulae||[]).forEach((g,v)=>{f.openNode("formula"+(v+1)),m.type==="date"?f.writeText(s.dateToExcel(new Date(g))):f.writeText(g),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const h={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&d(h,f.attributes,"allowBlank"),d(h,f.attributes,"showInputMessage"),d(h,f.attributes,"showErrorMessage"),h.type){case"any":case"list":case"custom":break;default:u(h,f.attributes,"operator","between")}return u(h,f.attributes,"promptTitle"),u(h,f.attributes,"prompt"),u(h,f.attributes,"errorStyle"),u(h,f.attributes,"errorTitle"),u(h,f.attributes,"error"),this._dataValidation=h,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(h=>{h.includes(":")?new o(h).forEachAddress(y=>{this.model[y]=this._dataValidation}):this.model[h]=this._dataValidation}),!0;case"formula1":case"formula2":{let h=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":h=parseInt(h,10);break;case"decimal":h=parseFloat(h);break;case"date":h=s.excelToDate(parseFloat(h))}return this._dataValidation.formulae.push(h),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"dimension"}render(s,l){l&&s.leafNode("dimension",{ref:l})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"drawing"}render(s,l){l&&s.leafNode(this.tag,{"r:id":l.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,i){const a=e("../composite-xform"),s=e("./cf-ext/conditional-formattings-ext-xform");class l extends a{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(o){return this.conditionalFormattings.hasContent(o.conditionalFormattings)}prepare(o,u){this.conditionalFormattings.prepare(o.conditionalFormattings,u)}render(o,u){o.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(o,u.conditionalFormattings),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){this.model[o]=u.model}}n.exports=class extends a{constructor(){super(),this.map={ext:this.ext=new l}}get tag(){return"extLst"}prepare(c,o){this.ext.prepare(c,o)}hasContent(c){return this.ext.hasContent(c)}render(c,o){this.hasContent(o)&&(c.openNode("extLst"),this.ext.render(c,o),c.closeNode())}createNewModel(){return{}}onParserClose(c,o){Object.assign(this.model,o.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"headerFooter"}render(s,l){if(l){s.addRollback();let c=!1;s.openNode("headerFooter"),l.differentFirst&&(s.addAttribute("differentFirst","1"),c=!0),l.differentOddEven&&(s.addAttribute("differentOddEven","1"),c=!0),l.oddHeader&&typeof l.oddHeader=="string"&&(s.leafNode("oddHeader",null,l.oddHeader),c=!0),l.oddFooter&&typeof l.oddFooter=="string"&&(s.leafNode("oddFooter",null,l.oddFooter),c=!0),l.evenHeader&&typeof l.evenHeader=="string"&&(s.leafNode("evenHeader",null,l.evenHeader),c=!0),l.evenFooter&&typeof l.evenFooter=="string"&&(s.leafNode("evenFooter",null,l.evenFooter),c=!0),l.firstHeader&&typeof l.firstHeader=="string"&&(s.leafNode("firstHeader",null,l.firstHeader),c=!0),l.firstFooter&&typeof l.firstFooter=="string"&&(s.leafNode("firstFooter",null,l.firstFooter),c=!0),c?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"hyperlink"}render(s,l){this.isInternalLink(l)?s.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip,location:l.target}):s.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"mergeCell"}render(s,l){s.leafNode("mergeCell",{ref:l})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../../../doc/range"),l=e("../../../utils/col-cache"),c=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(o){if(this.merges[o.master])this.merges[o.master].expandToAddress(o.address);else{const u=`${o.master}:${o.address}`;this.merges[o.master]=new s(u)}}get mergeCells(){return a.map(this.merges,o=>o.range)}reconcile(o,u){a.each(o,d=>{const f=l.decode(d);for(let h=f.top;h<=f.bottom;h++){const y=u[h-1];for(let m=f.left;m<=f.right;m++){const g=y.cells[m-1];g?g.type===c.ValueType.Merge&&(g.master=f.tl):y.cells[m]={type:c.ValueType.Null,address:l.encodeAddress(h,m)}}}})}getMasterAddress(o){const u=this.hash[o];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,i){const a=e("../base-xform"),s=l=>l!==void 0;n.exports=class extends a{get tag(){return"outlinePr"}render(l,c){return!(!c||!s(c.summaryBelow)&&!s(c.summaryRight))&&(l.leafNode(this.tag,{summaryBelow:s(c.summaryBelow)?Number(c.summaryBelow):void 0,summaryRight:s(c.summaryRight)?Number(c.summaryRight):void 0}),!0)}parseOpen(l){return l.name===this.tag&&(this.model={summaryBelow:s(l.attributes.summaryBelow)?!!Number(l.attributes.summaryBelow):void 0,summaryRight:s(l.attributes.summaryRight)?!!Number(l.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"brk"}render(s,l){s.leafNode("brk",l)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../base-xform");n.exports=class extends s{get tag(){return"pageMargins"}render(l,c){if(c){const o={left:c.left,right:c.right,top:c.top,bottom:c.bottom,header:c.header,footer:c.footer};a.some(o,u=>u!==void 0)&&l.leafNode(this.tag,o)}}parseOpen(l){switch(l.name){case this.tag:return this.model={left:parseFloat(l.attributes.left||.7),right:parseFloat(l.attributes.right||.7),top:parseFloat(l.attributes.top||.75),bottom:parseFloat(l.attributes.bottom||.75),header:parseFloat(l.attributes.header||.3),footer:parseFloat(l.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"pageSetUpPr"}render(s,l){return!(!l||!l.fitToPage)&&(s.leafNode(this.tag,{fitToPage:l.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../base-xform");function l(d){return d?"1":void 0}function c(d){switch(d){case"overThenDown":return d;default:return}}function o(d){switch(d){case"atEnd":case"asDisplyed":return d;default:return}}function u(d){switch(d){case"dash":case"blank":case"NA":return d;default:return}}n.exports=class extends s{get tag(){return"pageSetup"}render(d,f){if(f){const h={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:c(f.pageOrder),blackAndWhite:l(f.blackAndWhite),draft:l(f.draft),cellComments:o(f.cellComments),errors:u(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:l(f.firstPageNumber),usePrinterDefaults:l(f.usePrinterDefaults),copies:f.copies};a.some(h,y=>y!==void 0)&&d.leafNode(this.tag,h)}}parseOpen(d){switch(d.name){case this.tag:return this.model={paperSize:(f=d.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:d.attributes.orientation||"portrait",horizontalDpi:parseInt(d.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(d.attributes.verticalDpi||"4294967295",10),pageOrder:d.attributes.pageOrder||"downThenOver",blackAndWhite:d.attributes.blackAndWhite==="1",draft:d.attributes.draft==="1",cellComments:d.attributes.cellComments||"None",errors:d.attributes.errors||"displayed",scale:parseInt(d.attributes.scale||"100",10),fitToWidth:parseInt(d.attributes.fitToWidth||"1",10),fitToHeight:parseInt(d.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(d.attributes.firstPageNumber||"1",10),useFirstPageNumber:d.attributes.useFirstPageNumber==="1",usePrinterDefaults:d.attributes.usePrinterDefaults==="1",copies:parseInt(d.attributes.copies||"1",10)},!0;default:return!1}var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"picture"}render(s,l){l&&s.leafNode(this.tag,{"r:id":l.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../base-xform");function l(c){return c?"1":void 0}n.exports=class extends s{get tag(){return"printOptions"}render(c,o){if(o){const u={headings:l(o.showRowColHeaders),gridLines:l(o.showGridLines),horizontalCentered:l(o.horizontalCentered),verticalCentered:l(o.verticalCentered)};a.some(u,d=>d!==void 0)&&c.leafNode(this.tag,u)}}parseOpen(c){switch(c.name){case this.tag:return this.model={showRowColHeaders:c.attributes.headings==="1",showGridLines:c.attributes.gridLines==="1",horizontalCentered:c.attributes.horizontalCentered==="1",verticalCentered:c.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,i){const a=e("./page-breaks-xform"),s=e("../list-xform");n.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new a})}render(l,c){if(c&&c.length){l.openNode(this.tag,this.$),this.count&&(l.addAttribute(this.$count,c.length),l.addAttribute("manualBreakCount",c.length));const{childXform:o}=this;c.forEach(u=>{o.render(l,u)}),l.closeNode()}else this.empty&&l.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,i){const a=e("../base-xform"),s=e("../../../utils/utils"),l=e("./cell-xform");n.exports=class extends a{constructor(c){super(),this.maxItems=c&&c.maxItems,this.map={c:new l}}get tag(){return"row"}prepare(c,o){const u=o.styles.addStyleModel(c.style);u&&(c.styleId=u);const d=this.map.c;c.cells.forEach(f=>{d.prepare(f,o)})}render(c,o,u){c.openNode("row"),c.addAttribute("r",o.number),o.height&&(c.addAttribute("ht",o.height),c.addAttribute("customHeight","1")),o.hidden&&c.addAttribute("hidden","1"),o.min>0&&o.max>0&&o.min<=o.max&&c.addAttribute("spans",`${o.min}:${o.max}`),o.styleId&&(c.addAttribute("s",o.styleId),c.addAttribute("customFormat","1")),c.addAttribute("x14ac:dyDescent","0.25"),o.outlineLevel&&c.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&c.addAttribute("collapsed","1");const d=this.map.c;o.cells.forEach(f=>{d.render(c,f,u)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;if(c.name==="row"){this.numRowsSeen+=1;const o=c.attributes.spans?c.attributes.spans.split(":").map(d=>parseInt(d,10)):[void 0,void 0],u=this.model={number:parseInt(c.attributes.r,10),min:o[0],max:o[1],cells:[]};return c.attributes.s&&(u.styleId=parseInt(c.attributes.s,10)),s.parseBoolean(c.attributes.hidden)&&(u.hidden=!0),s.parseBoolean(c.attributes.bestFit)&&(u.bestFit=!0),c.attributes.ht&&(u.height=parseFloat(c.attributes.ht)),c.attributes.outlineLevel&&(u.outlineLevel=parseInt(c.attributes.outlineLevel,10)),s.parseBoolean(c.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(c,o){c.style=c.styleId?o.styles.getStyleModel(c.styleId):{},c.styleId!==void 0&&(c.styleId=void 0);const u=this.map.c;c.cells.forEach(d=>{u.reconcile(d,o)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../base-xform");n.exports=class extends s{get tag(){return"sheetFormatPr"}render(l,c){if(c){const o={defaultRowHeight:c.defaultRowHeight,outlineLevelRow:c.outlineLevelRow,outlineLevelCol:c.outlineLevelCol,"x14ac:dyDescent":c.dyDescent};c.defaultColWidth&&(o.defaultColWidth=c.defaultColWidth),c.defaultRowHeight&&c.defaultRowHeight===15||(o.customHeight="1"),a.some(o,u=>u!==void 0)&&l.leafNode("sheetFormatPr",o)}}parseOpen(l){return l.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(l.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(l.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(l.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(l.attributes.outlineLevelCol||"0",10)},l.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(l.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,i){const a=e("../base-xform"),s=e("../style/color-xform"),l=e("./page-setup-properties-xform"),c=e("./outline-properties-xform");n.exports=class extends a{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new l,outlinePr:new c}}get tag(){return"sheetPr"}render(o,u){if(u){o.addRollback(),o.openNode("sheetPr");let d=!1;d=this.map.tabColor.render(o,u.tabColor)||d,d=this.map.pageSetUpPr.render(o,u.pageSetup)||d,d=this.map.outlinePr.render(o,u.outlineProperties)||d,d?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag?(this.reset(),!0):!!this.map[o.name]&&(this.parser=this.map[o.name],this.parser.parseOpen(o),!0)}parseText(o){return!!this.parser&&(this.parser.parseText(o),!0)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../base-xform");function l(o,u){return o?u:void 0}function c(o,u){return o===u||void 0}n.exports=class extends s{get tag(){return"sheetProtection"}render(o,u){if(u){const d={sheet:l(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:l(u.formatCells,"0"),formatColumns:l(u.formatColumns,"0"),formatRows:l(u.formatRows,"0"),insertColumns:l(u.insertColumns,"0"),insertRows:l(u.insertRows,"0"),insertHyperlinks:l(u.insertHyperlinks,"0"),deleteColumns:l(u.deleteColumns,"0"),deleteRows:l(u.deleteRows,"0"),sort:l(u.sort,"0"),autoFilter:l(u.autoFilter,"0"),pivotTables:l(u.pivotTables,"0")};u.sheet&&(d.algorithmName=u.algorithmName,d.hashValue=u.hashValue,d.saltValue=u.saltValue,d.spinCount=u.spinCount,d.objects=l(u.objects===!1,"1"),d.scenarios=l(u.scenarios===!1,"1")),a.some(d,f=>f!==void 0)&&o.leafNode(this.tag,d)}}parseOpen(o){switch(o.name){case this.tag:return this.model={sheet:c(o.attributes.sheet,"1"),objects:o.attributes.objects!=="1"&&void 0,scenarios:o.attributes.scenarios!=="1"&&void 0,selectLockedCells:o.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:o.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:c(o.attributes.formatCells,"0"),formatColumns:c(o.attributes.formatColumns,"0"),formatRows:c(o.attributes.formatRows,"0"),insertColumns:c(o.attributes.insertColumns,"0"),insertRows:c(o.attributes.insertRows,"0"),insertHyperlinks:c(o.attributes.insertHyperlinks,"0"),deleteColumns:c(o.attributes.deleteColumns,"0"),deleteRows:c(o.attributes.deleteRows,"0"),sort:c(o.attributes.sort,"0"),autoFilter:c(o.attributes.autoFilter,"0"),pivotTables:c(o.attributes.pivotTables,"0")},o.attributes.algorithmName&&(this.model.algorithmName=o.attributes.algorithmName,this.model.hashValue=o.attributes.hashValue,this.model.saltValue=o.attributes.saltValue,this.model.spinCount=parseInt(o.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,i){const a=e("../../../utils/col-cache"),s=e("../base-xform"),l={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends s{get tag(){return"sheetView"}prepare(c){switch(c.state){case"frozen":case"split":break;default:c.state="normal"}}render(c,o){c.openNode("sheetView",{workbookViewId:o.workbookViewId||0});const u=function(m,g,v){v&&c.addAttribute(m,g)};let d,f,h,y;switch(u("rightToLeft","1",o.rightToLeft===!0),u("tabSelected","1",o.tabSelected),u("showRuler","0",o.showRuler===!1),u("showRowColHeaders","0",o.showRowColHeaders===!1),u("showGridLines","0",o.showGridLines===!1),u("zoomScale",o.zoomScale,o.zoomScale),u("zoomScaleNormal",o.zoomScaleNormal,o.zoomScaleNormal),u("view",o.style,o.style),o.state){case"frozen":f=o.xSplit||0,h=o.ySplit||0,d=o.topLeftCell||a.getAddress(h+1,f+1).address,y=(o.xSplit&&o.ySplit?"bottomRight":o.xSplit&&"topRight")||"bottomLeft",c.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:d,activePane:y,state:"frozen"}),c.leafNode("selection",{pane:y,activeCell:o.activeCell,sqref:o.activeCell});break;case"split":o.activePane==="topLeft"&&(o.activePane=void 0),c.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:o.topLeftCell,activePane:o.activePane}),c.leafNode("selection",{pane:o.activePane,activeCell:o.activeCell,sqref:o.activeCell});break;case"normal":o.activeCell&&c.leafNode("selection",{activeCell:o.activeCell,sqref:o.activeCell})}c.closeNode()}parseOpen(c){switch(c.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(c.attributes.workbookViewId,10),rightToLeft:c.attributes.rightToLeft==="1",tabSelected:c.attributes.tabSelected==="1",showRuler:c.attributes.showRuler!=="0",showRowColHeaders:c.attributes.showRowColHeaders!=="0",showGridLines:c.attributes.showGridLines!=="0",zoomScale:parseInt(c.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(c.attributes.zoomScaleNormal||"100",10),style:c.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(c.attributes.xSplit||"0",10),ySplit:parseInt(c.attributes.ySplit||"0",10),topLeftCell:c.attributes.topLeftCell,activePane:c.attributes.activePane||"topLeft",state:c.attributes.state},!0;case"selection":{const o=c.attributes.pane||"topLeft";return this.selections[o]={pane:o,activeCell:c.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(c){let o,u;switch(c){case"sheetView":return this.sheetView&&this.pane?(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:l[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(o.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)):(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"tablePart"}render(s,l){l&&s.leafNode(this.tag,{"r:id":l.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../../../utils/col-cache"),l=e("../../../utils/xml-stream"),c=e("../../rel-type"),o=e("./merges"),u=e("../base-xform"),d=e("../list-xform"),f=e("./row-xform"),h=e("./col-xform"),y=e("./dimension-xform"),m=e("./hyperlink-xform"),g=e("./merge-cell-xform"),v=e("./data-validations-xform"),b=e("./sheet-properties-xform"),w=e("./sheet-format-properties-xform"),_=e("./sheet-view-xform"),N=e("./sheet-protection-xform"),P=e("./page-margins-xform"),M=e("./page-setup-xform"),A=e("./print-options-xform"),F=e("./auto-filter-xform"),H=e("./picture-xform"),z=e("./drawing-xform"),U=e("./table-part-xform"),O=e("./row-breaks-xform"),L=e("./header-footer-xform"),C=e("./cf/conditional-formattings-xform"),k=e("./ext-lst-xform"),j=(T,R)=>{if(!R||!R.length)return T;if(!T||!T.length)return R;const V={},B={};return T.forEach(K=>{V[K.ref]=K,K.rules.forEach(Z=>{const{x14Id:ne}=Z;ne&&(B[ne]=Z)})}),R.forEach(K=>{K.rules.forEach(Z=>{const ne=B[Z.x14Id];ne?((G,te)=>{Object.keys(te).forEach(I=>{const D=G[I],X=te[I];D===void 0&&X!==void 0&&(G[I]=X)})})(ne,Z):V[K.ref]?V[K.ref].rules.push(Z):T.push({ref:K.ref,rules:[Z]})})}),T};class E extends u{constructor(R){super();const{maxRows:V,maxCols:B,ignoreNodes:K}=R||{};this.ignoreNodes=K||[],this.map={sheetPr:new b,dimension:new y,sheetViews:new d({tag:"sheetViews",count:!1,childXform:new _}),sheetFormatPr:new w,cols:new d({tag:"cols",count:!1,childXform:new h}),sheetData:new d({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:B}),maxItems:V}),autoFilter:new F,mergeCells:new d({tag:"mergeCells",count:!0,childXform:new g}),rowBreaks:new O,hyperlinks:new d({tag:"hyperlinks",count:!1,childXform:new m}),pageMargins:new P,dataValidations:new v,pageSetup:new M,headerFooter:new L,printOptions:new A,picture:new H,drawing:new z,sheetProtection:new N,tableParts:new d({tag:"tableParts",count:!0,childXform:new U}),conditionalFormatting:new C,extLst:new k}}prepare(R,V){V.merges=new o,R.hyperlinks=V.hyperlinks=[],R.comments=V.comments=[],V.formulae={},V.siFormulae=0,this.map.cols.prepare(R.cols,V),this.map.sheetData.prepare(R.rows,V),this.map.conditionalFormatting.prepare(R.conditionalFormattings,V),R.mergeCells=V.merges.mergeCells;const B=R.rels=[];function K(G){return"rId"+(G.length+1)}if(R.hyperlinks.forEach(G=>{const te=K(B);G.rId=te,B.push({Id:te,Type:c.Hyperlink,Target:G.target,TargetMode:"External"})}),R.comments.length>0){const G={Id:K(B),Type:c.Comments,Target:`../comments${R.id}.xml`};B.push(G);const te={Id:K(B),Type:c.VmlDrawing,Target:`../drawings/vmlDrawing${R.id}.vml`};B.push(te),R.comments.forEach(I=>{I.refAddress=s.decodeAddress(I.ref)}),V.commentRefs.push({commentName:"comments"+R.id,vmlDrawing:"vmlDrawing"+R.id})}const Z=[];let ne;R.media.forEach(G=>{if(G.type==="background"){const te=K(B);ne=V.media[G.imageId],B.push({Id:te,Type:c.Image,Target:`../media/${ne.name}.${ne.extension}`}),R.background={rId:te},R.image=V.media[G.imageId]}else if(G.type==="image"){let{drawing:te}=R;ne=V.media[G.imageId],te||(te=R.drawing={rId:K(B),name:"drawing"+ ++V.drawingsCount,anchors:[],rels:[]},V.drawings.push(te),B.push({Id:te.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${te.name}.xml`}));let I=this.preImageId===G.imageId?Z[G.imageId]:Z[te.rels.length];I||(I=K(te.rels),Z[te.rels.length]=I,te.rels.push({Id:I,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${ne.name}.${ne.extension}`}));const D={picture:{rId:I},range:G.range};if(G.hyperlinks&&G.hyperlinks.hyperlink){const X=K(te.rels);Z[te.rels.length]=X,D.picture.hyperlinks={tooltip:G.hyperlinks.tooltip,rId:X},te.rels.push({Id:X,Type:c.Hyperlink,Target:G.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=G.imageId,te.anchors.push(D)}}),R.tables.forEach(G=>{const te=K(B);G.rId=te,B.push({Id:te,Type:c.Table,Target:"../tables/"+G.target}),G.columns.forEach(I=>{const{style:D}=I;D&&(I.dxfId=V.styles.addDxfStyle(D))})}),this.map.extLst.prepare(R,V)}render(R,V){R.openXml(l.StdDocAttributes),R.openNode("worksheet",E.WORKSHEET_ATTRIBUTES);const B=V.properties?{defaultRowHeight:V.properties.defaultRowHeight,dyDescent:V.properties.dyDescent,outlineLevelCol:V.properties.outlineLevelCol,outlineLevelRow:V.properties.outlineLevelRow}:void 0;V.properties&&V.properties.defaultColWidth&&(B.defaultColWidth=V.properties.defaultColWidth);const K={outlineProperties:V.properties&&V.properties.outlineProperties,tabColor:V.properties&&V.properties.tabColor,pageSetup:V.pageSetup&&V.pageSetup.fitToPage?{fitToPage:V.pageSetup.fitToPage}:void 0},Z=V.pageSetup&&V.pageSetup.margins,ne={showRowColHeaders:V.pageSetup&&V.pageSetup.showRowColHeaders,showGridLines:V.pageSetup&&V.pageSetup.showGridLines,horizontalCentered:V.pageSetup&&V.pageSetup.horizontalCentered,verticalCentered:V.pageSetup&&V.pageSetup.verticalCentered},G=V.sheetProtection;this.map.sheetPr.render(R,K),this.map.dimension.render(R,V.dimensions),this.map.sheetViews.render(R,V.views),this.map.sheetFormatPr.render(R,B),this.map.cols.render(R,V.cols),this.map.sheetData.render(R,V.rows),this.map.sheetProtection.render(R,G),this.map.autoFilter.render(R,V.autoFilter),this.map.mergeCells.render(R,V.mergeCells),this.map.conditionalFormatting.render(R,V.conditionalFormattings),this.map.dataValidations.render(R,V.dataValidations),this.map.hyperlinks.render(R,V.hyperlinks),this.map.printOptions.render(R,ne),this.map.pageMargins.render(R,Z),this.map.pageSetup.render(R,V.pageSetup),this.map.headerFooter.render(R,V.headerFooter),this.map.rowBreaks.render(R,V.rowBreaks),this.map.drawing.render(R,V.drawing),this.map.picture.render(R,V.background),this.map.tableParts.render(R,V.tables),this.map.extLst.render(R,V),V.rels&&V.rels.forEach(te=>{te.Type===c.VmlDrawing&&R.leafNode("legacyDrawing",{"r:id":te.Id})}),R.closeNode()}parseOpen(R){return this.parser?(this.parser.parseOpen(R),!0):R.name==="worksheet"?(a.each(this.map,V=>{V.reset()}),!0):(this.map[R.name]&&!this.ignoreNodes.includes(R.name)&&(this.parser=this.map[R.name],this.parser.parseOpen(R)),!0)}parseText(R){this.parser&&this.parser.parseText(R)}parseClose(R){if(this.parser)return this.parser.parseClose(R)||(this.parser=void 0),!0;switch(R){case"worksheet":{const V=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(V.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(V.outlineProperties=this.map.sheetPr.model.outlineProperties);const B={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},K=Object.assign(B,this.map.pageSetup.model,this.map.printOptions.model),Z=j(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:V,views:this.map.sheetViews.model,pageSetup:K,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(R,V){const B=(R.relationships||[]).reduce((Z,ne)=>{if(Z[ne.Id]=ne,ne.Type===c.Comments&&(R.comments=V.comments[ne.Target].comments),ne.Type===c.VmlDrawing&&R.comments&&R.comments.length){const G=V.vmlDrawings[ne.Target].comments;R.comments.forEach((te,I)=>{te.note=Object.assign({},te.note,G[I])})}return Z},{});if(V.commentsMap=(R.comments||[]).reduce((Z,ne)=>(ne.ref&&(Z[ne.ref]=ne),Z),{}),V.hyperlinkMap=(R.hyperlinks||[]).reduce((Z,ne)=>(ne.rId&&(Z[ne.address]=B[ne.rId].Target),Z),{}),V.formulae={},R.rows=R.rows&&R.rows.filter(Boolean)||[],R.rows.forEach(Z=>{Z.cells=Z.cells&&Z.cells.filter(Boolean)||[]}),this.map.cols.reconcile(R.cols,V),this.map.sheetData.reconcile(R.rows,V),this.map.conditionalFormatting.reconcile(R.conditionalFormattings,V),R.media=[],R.drawing){const Z=B[R.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Z){const ne=Z[1];V.drawings[ne].anchors.forEach(G=>{if(G.medium){const te={type:"image",imageId:G.medium.index,range:G.range,hyperlinks:G.picture.hyperlinks};R.media.push(te)}})}}const K=R.background&&B[R.background.rId];if(K){const Z=K.Target.split("/media/")[1],ne=V.mediaIndex&&V.mediaIndex[Z];ne!==void 0&&R.media.push({type:"background",imageId:ne})}R.tables=(R.tables||[]).map(Z=>{const ne=B[Z.rId];return V.tables[ne.Target]}),delete R.relationships,delete R.hyperlinks,delete R.comments}}E.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=E},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,l){l&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(l){try{return Number.isNaN(l.getTime())?"":l.toISOString()}catch{return""}},this._parse=s.parse||function(l){return new Date(l)}}render(s,l){l&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(l)):s.writeText(this._format(l)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,l){(l||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,l):s.writeText(l),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,l){l!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,l):s.writeText(l),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,i){const a=e("./base-xform"),s=e("../../utils/xml-stream");n.exports=class extends a{constructor(l){super(),this._model=l}render(l){if(!this._xml){const c=new s;(function o(u,d){u.openNode(d.tag,d.$),d.c&&d.c.forEach(f=>{o(u,f)}),d.t&&u.writeText(d.t),u.closeNode()})(c,this._model),this._xml=c.xml}l.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(l){switch(l){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,i){const a=e("./text-xform"),s=e("./rich-text-xform"),l=e("../base-xform");n.exports=class extends l{constructor(){super(),this.map={r:new s,t:new a}}get tag(){return"rPh"}render(c,o){if(c.openNode(this.tag,{sb:o.sb||0,eb:o.eb||0}),o&&o.hasOwnProperty("richText")&&o.richText){const{r:u}=this.map;o.richText.forEach(d=>{u.render(c,d)})}else o&&this.map.t.render(c,o.text);c.closeNode()}parseOpen(c){const{name:o}=c;return this.parser?(this.parser.parseOpen(c),!0):o===this.tag?(this.model={sb:parseInt(c.attributes.sb,10),eb:parseInt(c.attributes.eb,10)},!0):(this.parser=this.map[o],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let o=this.model.richText;o||(o=this.model.richText=[]),o.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,i){const a=e("./text-xform"),s=e("../style/font-xform"),l=e("../base-xform");class c extends l{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new a)}get fontXform(){return this._fontXform||(this._fontXform=new s(c.FONT_OPTIONS))}render(u,d){d=d||this.model,u.openNode("r"),d.font&&this.fontXform.render(u,d.font),this.textXform.render(u,d.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}c.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=c},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,i){const a=e("./text-xform"),s=e("./rich-text-xform"),l=e("./phonetic-text-xform"),c=e("../base-xform");n.exports=class extends c{constructor(o){super(),this.model=o,this.map={r:new s,t:new a,rPh:new l}}get tag(){return"si"}render(o,u){o.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(d=>{this.map.r.render(o,d)}):this.map.t.render(o,""):u!=null&&this.map.t.render(o,u),o.closeNode()}parseOpen(o){const{name:u}=o;return this.parser?(this.parser.parseOpen(o),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform"),l=e("./shared-string-xform");n.exports=class extends s{constructor(c){super(),this.model=c||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new l)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(c){return this.model.values[c]}add(c){return c.richText?this.addRichText(c):this.addText(c)}addText(c){let o=this.hash[c];return o===void 0&&(o=this.hash[c]=this.model.values.length,this.model.values.push(c)),this.model.count++,o}addRichText(c){const o=this.sharedStringXform.toXml(c);let u=this.rich[o];return u===void 0&&(u=this.rich[o]=this.model.values.length,this.model.values.push(c)),this.model.count++,u}render(c,o){o=o||this._values,c.openXml(a.StdDocAttributes),c.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:o.count,uniqueCount:o.values.length});const u=this.sharedStringXform;o.values.forEach(d=>{u.render(c,d)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(c),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(c){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"t"}render(s,l){s.openNode("t"),/^\s|\n|\s$/.test(l)&&s.addAttribute("xml:space","preserve"),s.writeText(l),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,l)=>String.fromCharCode(parseInt(l,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,i){const a=e("../../../doc/enums"),s=e("../../../utils/utils"),l=e("../base-xform"),c={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,d)=>(u[d]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,d)=>(u[d]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=s.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=s.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return a.ReadingOrder.LeftToRight;case"rtl":return a.ReadingOrder.RightToLeft;default:return}}},o={toXml(u){if(u=c.textRotation(u)){if(u==="vertical")return 255;const d=Math.round(u);if(d>=0&&d<=90)return d;if(d<0&&d>=-90)return 90-d}},toModel(u){const d=s.validInt(u);if(d!==void 0){if(d===255)return"vertical";if(d>=0&&d<=90)return d;if(d>90&&d<=180)return 90-d}}};n.exports=class extends l{get tag(){return"alignment"}render(u,d){u.addRollback(),u.openNode("alignment");let f=!1;function h(y,m){m&&(u.addAttribute(y,m),f=!0)}h("horizontal",c.horizontal(d.horizontal)),h("vertical",c.vertical(d.vertical)),h("wrapText",!!c.wrapText(d.wrapText)&&"1"),h("shrinkToFit",!!c.shrinkToFit(d.shrinkToFit)&&"1"),h("indent",c.indent(d.indent)),h("textRotation",o.toXml(d.textRotation)),h("readingOrder",c.readingOrder(d.readingOrder)),u.closeNode(),f?u.commit():u.rollback()}parseOpen(u){const d={};let f=!1;function h(y,m,g){y&&(d[m]=g,f=!0)}h(u.attributes.horizontal,"horizontal",u.attributes.horizontal),h(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),h(u.attributes.wrapText,"wrapText",s.parseBoolean(u.attributes.wrapText)),h(u.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(u.attributes.shrinkToFit)),h(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),h(u.attributes.textRotation,"textRotation",o.toModel(u.attributes.textRotation)),h(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?d:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,i){const a=e("../base-xform"),s=e("../../../utils/utils"),l=e("./color-xform");class c extends a{constructor(u){super(),this.name=u,this.map={color:new l}}get tag(){return this.name}render(u,d,f){const h=d&&d.color||f||this.defaultColor;u.openNode(this.name),d&&d.style&&(u.addAttribute("style",d.style),h&&this.map.color.render(u,h)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:d}=u.attributes;return this.model=d?{style:d}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return c.validStyleValues[u]}}c.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((o,u)=>(o[u]=!0,o),{}),n.exports=class extends a{constructor(){super(),this.map={top:new c("top"),left:new c("left"),bottom:new c("bottom"),right:new c("right"),diagonal:new c("diagonal")}}render(o,u){const{color:d}=u;function f(h,y){h&&!h.color&&u.color&&(h={...h,color:u.color}),y.render(o,h,d)}o.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&o.addAttribute("diagonalUp","1"),u.diagonal.down&&o.addAttribute("diagonalDown","1")),f(u.left,this.map.left),f(u.right,this.map.right),f(u.top,this.map.top),f(u.bottom,this.map.bottom),f(u.diagonal,this.map.diagonal),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"border":return this.reset(),this.diagonalUp=s.parseBoolean(o.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(o.attributes.diagonalDown),!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;if(o==="border"){const u=this.model={},d=function(f,h,y){h&&(y&&Object.assign(h,y),u[f]=h)};d("left",this.map.left.model),d("right",this.map.right.model),d("top",this.map.top.model),d("bottom",this.map.bottom.model),d("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,l){return!!l&&(s.openNode(this.name),l.argb?s.addAttribute("rgb",l.argb):l.theme!==void 0?(s.addAttribute("theme",l.theme),l.tint!==void 0&&s.addAttribute("tint",l.tint)):l.indexed!==void 0?s.addAttribute("indexed",l.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,i){const a=e("../base-xform"),s=e("./alignment-xform"),l=e("./border-xform"),c=e("./fill-xform"),o=e("./font-xform"),u=e("./numfmt-xform"),d=e("./protection-xform");n.exports=class extends a{constructor(){super(),this.map={alignment:new s,border:new l,fill:new c,font:new o,numFmt:new u,protection:new d}}get tag(){return"dxf"}render(f,h){if(f.openNode(this.tag),h.font&&this.map.font.render(f,h.font),h.numFmt&&h.numFmtId){const y={id:h.numFmtId,formatCode:h.numFmt};this.map.numFmt.render(f,y)}h.fill&&this.map.fill.render(f,h.fill),h.alignment&&this.map.alignment.render(f,h.alignment),h.border&&this.map.border.render(f,h.border),h.protection&&this.map.protection.render(f,h.protection),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,i){const a=e("../base-xform"),s=e("./color-xform");class l extends a{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(f,h){f.openNode("stop"),f.addAttribute("position",h.position),this.map.color.render(f,h.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class c extends a{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,h){f.openNode("patternFill"),f.addAttribute("patternType",h.pattern),h.fgColor&&this.map.fgColor.render(f,h.fgColor),h.bgColor&&this.map.bgColor.render(f,h.bgColor),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"patternFill":return this.model={type:"pattern",pattern:f.attributes.patternType},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class o extends a{constructor(){super(),this.map={stop:new l}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,h){switch(f.openNode("gradientFill"),h.gradient){case"angle":f.addAttribute("degree",h.degree);break;case"path":f.addAttribute("type","path"),h.center.left&&(f.addAttribute("left",h.center.left),h.center.right===void 0&&f.addAttribute("right",h.center.left)),h.center.right&&f.addAttribute("right",h.center.right),h.center.top&&(f.addAttribute("top",h.center.top),h.center.bottom===void 0&&f.addAttribute("bottom",h.center.top)),h.center.bottom&&f.addAttribute("bottom",h.center.bottom)}const y=this.map.stop;h.stops.forEach(m=>{y.render(f,m)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const h=this.model={stops:[]};return f.attributes.degree?(h.gradient="angle",h.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(h.gradient="path",h.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(h.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(h.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends a{constructor(){super(),this.map={patternFill:new c,gradientFill:new o}}get tag(){return"fill"}render(f,h){switch(f.addRollback(),f.openNode("fill"),h.type){case"pattern":this.map.patternFill.render(f,h);break;case"gradient":this.map.gradientFill.render(f,h);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"fill":return this.model={},!0;default:return this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0)}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return u.validPatternValues[f]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((d,f)=>(d[f]=!0,d),{}),u.StopXform=l,u.PatternFillXform=c,u.GradientFillXform=o,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,i){const a=e("./color-xform"),s=e("../simple/boolean-xform"),l=e("../simple/integer-xform"),c=e("../simple/string-xform"),o=e("./underline-xform"),u=e("../../../utils/under-dash"),d=e("../base-xform");class f extends d{constructor(y){super(),this.options=y||f.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new o},charset:{prop:"charset",xform:new l({tag:"charset",attr:"val"})},color:{prop:"color",xform:new a},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new l({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new c({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new c({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new l({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new c({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(y,m){const{map:g}=this;y.openNode(this.options.tagName),u.each(this.map,(v,b)=>{g[b].xform.render(y,m[v.prop])}),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;if(this.map[y.name])return this.parser=this.map[y.name].xform,this.parser.parseOpen(y);switch(y.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser&&!this.parser.parseClose(y)){const m=this.map[y];return this.parser.model&&(this.model[m.prop]=this.parser.model),this.parser=void 0,!0}switch(y){case this.options.tagName:return!1;default:return!0}}}f.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,i){const a=e("../../../utils/under-dash"),s=e("../../defaultnumformats"),l=e("../base-xform"),c=function(){const u={};return a.each(s,(d,f)=>{d.f&&(u[d.f]=parseInt(f,10))}),u}();class o extends l{constructor(d,f){super(),this.id=d,this.formatCode=f}get tag(){return"numFmt"}render(d,f){d.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(d){switch(d.name){case"numFmt":return this.model={id:parseInt(d.attributes.numFmtId,10),formatCode:d.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}o.getDefaultFmtId=function(u){return c[u]},o.getDefaultFmtCode=function(u){return s[u]&&s[u].f},n.exports=o},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,i){const a=e("../base-xform"),s={boolean:(l,c)=>l===void 0?c:l};n.exports=class extends a{get tag(){return"protection"}render(l,c){l.addRollback(),l.openNode("protection");let o=!1;function u(d,f){f!==void 0&&(l.addAttribute(d,f),o=!0)}u("locked",s.boolean(c.locked,!0)?void 0:"0"),u("hidden",s.boolean(c.hidden,!1)?"1":void 0),l.closeNode(),o?l.commit():l.rollback()}parseOpen(l){const c={locked:l.attributes.locked!=="0",hidden:l.attributes.hidden==="1"},o=!c.locked||c.hidden;this.model=o?c:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,i){const a=e("../base-xform"),s=e("./alignment-xform"),l=e("./protection-xform");n.exports=class extends a{constructor(c){super(),this.xfId=!(!c||!c.xfId),this.map={alignment:new s,protection:new l}}get tag(){return"xf"}render(c,o){c.openNode("xf",{numFmtId:o.numFmtId||0,fontId:o.fontId||0,fillId:o.fillId||0,borderId:o.borderId||0}),this.xfId&&c.addAttribute("xfId",o.xfId||0),o.numFmtId&&c.addAttribute("applyNumberFormat","1"),o.fontId&&c.addAttribute("applyFont","1"),o.fillId&&c.addAttribute("applyFill","1"),o.borderId&&c.addAttribute("applyBorder","1"),o.alignment&&c.addAttribute("applyAlignment","1"),o.protection&&c.addAttribute("applyProtection","1"),o.alignment&&this.map.alignment.render(c,o.alignment),o.protection&&this.map.protection.render(c,o.protection),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"xf":return this.model={numFmtId:parseInt(c.attributes.numFmtId,10),fontId:parseInt(c.attributes.fontId,10),fillId:parseInt(c.attributes.fillId,10),borderId:parseInt(c.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(c.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(c),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):c!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,i){const a=e("../../../doc/enums"),s=e("../../../utils/xml-stream"),l=e("../base-xform"),c=e("../static-xform"),o=e("../list-xform"),u=e("./font-xform"),d=e("./fill-xform"),f=e("./border-xform"),h=e("./numfmt-xform"),y=e("./style-xform"),m=e("./dxf-xform");class g extends l{constructor(b){super(),this.map={numFmts:new o({tag:"numFmts",count:!0,childXform:new h}),fonts:new o({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new o({tag:"fills",count:!0,childXform:new d}),borders:new o({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new o({tag:"cellStyleXfs",count:!0,childXform:new y}),cellXfs:new o({tag:"cellXfs",count:!0,childXform:new y({xfId:!0})}),dxfs:new o({tag:"dxfs",always:!0,count:!0,childXform:new m}),numFmt:new h,font:new u,fill:new d,border:new f,style:new y({xfId:!0}),cellStyles:g.STATIC_XFORMS.cellStyles,tableStyles:g.STATIC_XFORMS.tableStyles,extLst:g.STATIC_XFORMS.extLst},b&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(b,w){w=w||this.model,b.openXml(s.StdDocAttributes),b.openNode("styleSheet",g.STYLESHEET_ATTRIBUTES),this.index?(w.numFmts&&w.numFmts.length&&(b.openNode("numFmts",{count:w.numFmts.length}),w.numFmts.forEach(_=>{b.writeXml(_)}),b.closeNode()),w.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),b.openNode("fonts",{count:w.fonts.length,"x14ac:knownFonts":1}),w.fonts.forEach(_=>{b.writeXml(_)}),b.closeNode(),b.openNode("fills",{count:w.fills.length}),w.fills.forEach(_=>{b.writeXml(_)}),b.closeNode(),b.openNode("borders",{count:w.borders.length}),w.borders.forEach(_=>{b.writeXml(_)}),b.closeNode(),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),b.openNode("cellXfs",{count:w.styles.length}),w.styles.forEach(_=>{b.writeXml(_)}),b.closeNode()):(this.map.numFmts.render(b,w.numFmts),this.map.fonts.render(b,w.fonts),this.map.fills.render(b,w.fills),this.map.borders.render(b,w.borders),this.map.cellStyleXfs.render(b,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(b,w.styles)),g.STATIC_XFORMS.cellStyles.render(b),this.map.dxfs.render(b,w.dxfs),g.STATIC_XFORMS.tableStyles.render(b),g.STATIC_XFORMS.extLst.render(b),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b),!0}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser)return this.parser.parseClose(b)||(this.parser=void 0),!0;switch(b){case"styleSheet":{this.model={};const w=(_,N)=>{N.model&&N.model.length&&(this.model[_]=N.model)};if(w("numFmts",this.map.numFmts),w("fonts",this.map.fonts),w("fills",this.map.fills),w("borders",this.map.borders),w("styles",this.map.cellXfs),w("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const _=this.index.numFmt;this.model.numFmts.forEach(N=>{_[N.id]=N.formatCode})}return!1}default:return!0}}addStyleModel(b,w){if(!b)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(b))return this.weakMap.get(b);const _={};if(w=w||a.ValueType.Number,b.numFmt)_.numFmtId=this._addNumFmtStr(b.numFmt);else switch(w){case a.ValueType.Number:_.numFmtId=this._addNumFmtStr("General");break;case a.ValueType.Date:_.numFmtId=this._addNumFmtStr("mm-dd-yy")}b.font&&(_.fontId=this._addFont(b.font)),b.border&&(_.borderId=this._addBorder(b.border)),b.fill&&(_.fillId=this._addFill(b.fill)),b.alignment&&(_.alignment=b.alignment),b.protection&&(_.protection=b.protection);const N=this._addStyle(_);return this.weakMap&&this.weakMap.set(b,N),N}getStyleModel(b){const w=this.model.styles[b];if(!w)return null;let _=this.index.model[b];if(_)return _;if(_=this.index.model[b]={},w.numFmtId){const P=this.index.numFmt[w.numFmtId]||h.getDefaultFmtCode(w.numFmtId);P&&(_.numFmt=P)}function N(P,M,A){if(A||A===0){const F=M[A];F&&(_[P]=F)}}return N("font",this.model.fonts,w.fontId),N("border",this.model.borders,w.borderId),N("fill",this.model.fills,w.fillId),w.alignment&&(_.alignment=w.alignment),w.protection&&(_.protection=w.protection),_}addDxfStyle(b){return b.numFmt&&(b.numFmtId=this._addNumFmtStr(b.numFmt)),this.model.dxfs.push(b),this.model.dxfs.length-1}getDxfStyle(b){return this.model.dxfs[b]}_addStyle(b){const w=this.map.style.toXml(b);let _=this.index.style[w];return _===void 0&&(_=this.index.style[w]=this.model.styles.length,this.model.styles.push(w)),_}_addNumFmtStr(b){let w=h.getDefaultFmtId(b);if(w!==void 0||(w=this.index.numFmt[b],w!==void 0))return w;w=this.index.numFmt[b]=164+this.model.numFmts.length;const _=this.map.numFmt.toXml({id:w,formatCode:b});return this.model.numFmts.push(_),w}_addFont(b){const w=this.map.font.toXml(b);let _=this.index.font[w];return _===void 0&&(_=this.index.font[w]=this.model.fonts.length,this.model.fonts.push(w)),_}_addBorder(b){const w=this.map.border.toXml(b);let _=this.index.border[w];return _===void 0&&(_=this.index.border[w]=this.model.borders.length,this.model.borders.push(w)),_}_addFill(b){const w=this.map.fill.toXml(b);let _=this.index.fill[w];return _===void 0&&(_=this.index.fill[w]=this.model.fills.length,this.model.fills.push(w)),_}}g.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},g.STATIC_XFORMS={cellStyles:new c({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new c({tag:"dxfs",$:{count:0}}),tableStyles:new c({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new c({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},g.Mock=class extends g{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,b){switch(b){case a.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:h.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=g},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,i){const a=e("../base-xform");class s extends a{constructor(c){super(),this.model=c}get tag(){return"u"}render(c,o){if((o=o||this.model)===!0)c.leafNode("u");else{const u=s.Attributes[o];u&&c.leafNode("u",u)}}parseOpen(c){c.name==="u"&&(this.model=c.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=s},{"../base-xform":32}],137:[function(e,n,i){const a=e("../base-xform"),s=e("./filter-column-xform");n.exports=class extends a{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(l){l.columns.forEach((c,o)=>{this.map.filterColumn.prepare(c,{index:o})})}render(l,c){return l.openNode(this.tag,{ref:c.autoFilterRef}),c.columns.forEach(o=>{this.map.filterColumn.render(l,o)}),l.closeNode(),!0}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:return this.model={autoFilterRef:l.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"customFilter"}render(s,l){s.leafNode(this.tag,{val:l.val,operator:l.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,i){const a=e("../base-xform"),s=e("../list-xform"),l=e("./custom-filter-xform"),c=e("./filter-xform");n.exports=class extends a{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new l}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new c})}}get tag(){return"filterColumn"}prepare(o,u){o.colId=u.index.toString()}render(o,u){return u.customFilters?(o.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(o,u.customFilters),o.closeNode(),!0):(o.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;const{attributes:u}=o;switch(o.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"filter"}render(s,l){s.leafNode(this.tag,{val:l.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"tableColumn"}prepare(s,l){s.id=l.index+1}render(s,l){return s.leafNode(this.tag,{id:l.id.toString(),name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:l}=s;return this.model={name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,i){const a=e("../base-xform");n.exports=class extends a{get tag(){return"tableStyleInfo"}render(s,l){return s.leafNode(this.tag,{name:l.theme?l.theme:void 0,showFirstColumn:l.showFirstColumn?"1":"0",showLastColumn:l.showLastColumn?"1":"0",showRowStripes:l.showRowStripes?"1":"0",showColumnStripes:l.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:l}=s;return this.model={theme:l.name?l.name:null,showFirstColumn:l.showFirstColumn==="1",showLastColumn:l.showLastColumn==="1",showRowStripes:l.showRowStripes==="1",showColumnStripes:l.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,i){const a=e("../../../utils/xml-stream"),s=e("../base-xform"),l=e("../list-xform"),c=e("./auto-filter-xform"),o=e("./table-column-xform"),u=e("./table-style-info-xform");class d extends s{constructor(){super(),this.map={autoFilter:new c,tableColumns:new l({tag:"tableColumns",count:!0,empty:!0,childXform:new o}),tableStyleInfo:new u}}prepare(h,y){this.map.autoFilter.prepare(h),this.map.tableColumns.prepare(h.columns,y)}get tag(){return"table"}render(h,y){h.openXml(a.StdDocAttributes),h.openNode(this.tag,{...d.TABLE_ATTRIBUTES,id:y.id,name:y.name,displayName:y.displayName||y.name,ref:y.tableRef,totalsRowCount:y.totalsRow?"1":void 0,totalsRowShown:y.totalsRow?void 0:"1",headerRowCount:y.headerRow?"1":"0"}),this.map.autoFilter.render(h,y),this.map.tableColumns.render(h,y.columns),this.map.tableStyleInfo.render(h,y.style),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;const{name:y,attributes:m}=h;switch(y){case this.tag:this.reset(),this.model={name:m.name,displayName:m.displayName||m.name,tableRef:m.ref,totalsRow:m.totalsRowCount==="1",headerRow:m.headerRowCount==="1"};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((y,m)=>{this.model.columns[m].filterButton=y.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(h,y){h.columns.forEach(m=>{m.dxfId!==void 0&&(m.style=y.styles.getDxfStyle(m.dxfId))})}}d.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,i){(function(a,s){(function(){const l=e("fs"),c=e("jszip"),{PassThrough:o}=e("readable-stream"),u=e("../utils/zip-stream"),d=e("../utils/stream-buf"),f=e("../utils/utils"),h=e("../utils/xml-stream"),{bufferToString:y}=e("../utils/browser-buffer-decode"),m=e("./xform/style/styles-xform"),g=e("./xform/core/core-xform"),v=e("./xform/strings/shared-strings-xform"),b=e("./xform/core/relationships-xform"),w=e("./xform/core/content-types-xform"),_=e("./xform/core/app-xform"),N=e("./xform/book/workbook-xform"),P=e("./xform/sheet/worksheet-xform"),M=e("./xform/drawing/drawing-xform"),A=e("./xform/table/table-xform"),F=e("./xform/comment/comments-xform"),H=e("./xform/comment/vml-notes-xform"),z=e("./xml/theme1");class U{constructor(L){this.workbook=L}async readFile(L,C){if(!await f.fs.exists(L))throw new Error("File not found: "+L);const k=l.createReadStream(L);try{const j=await this.read(k,C);return k.close(),j}catch(j){throw k.close(),j}}parseRels(L){return new b().parseStream(L)}parseWorkbook(L){return new N().parseStream(L)}parseSharedStrings(L){return new v().parseStream(L)}reconcile(L,C){const k=new N,j=new P(C),E=new M,T=new A;k.reconcile(L);const R={media:L.media,mediaIndex:L.mediaIndex};Object.keys(L.drawings).forEach(K=>{const Z=L.drawings[K],ne=L.drawingRels[K];ne&&(R.rels=ne.reduce((G,te)=>(G[te.Id]=te,G),{}),(Z.anchors||[]).forEach(G=>{const te=G.picture&&G.picture.hyperlinks;te&&R.rels[te.rId]&&(te.hyperlink=R.rels[te.rId].Target,delete te.rId)}),E.reconcile(Z,R))});const V={styles:L.styles};Object.values(L.tables).forEach(K=>{T.reconcile(K,V)});const B={styles:L.styles,sharedStrings:L.sharedStrings,media:L.media,mediaIndex:L.mediaIndex,date1904:L.properties&&L.properties.date1904,drawings:L.drawings,comments:L.comments,tables:L.tables,vmlDrawings:L.vmlDrawings};L.worksheets.forEach(K=>{K.relationships=L.worksheetRels[K.sheetNo],j.reconcile(K,B)}),delete L.worksheetHash,delete L.worksheetRels,delete L.globalRels,delete L.sharedStrings,delete L.workbookRels,delete L.sheetDefs,delete L.styles,delete L.mediaIndex,delete L.drawings,delete L.drawingRels,delete L.vmlDrawings}async _processWorksheetEntry(L,C,k,j,E){const T=new P(j),R=await T.parseStream(L);R.sheetNo=k,C.worksheetHash[E]=R,C.worksheets.push(R)}async _processCommentEntry(L,C,k){const j=new F,E=await j.parseStream(L);C.comments[`../${k}.xml`]=E}async _processTableEntry(L,C,k){const j=new A,E=await j.parseStream(L);C.tables[`../tables/${k}.xml`]=E}async _processWorksheetRelsEntry(L,C,k){const j=new b,E=await j.parseStream(L);C.worksheetRels[k]=E}async _processMediaEntry(L,C,k){const j=k.lastIndexOf(".");if(j>=1){const E=k.substr(j+1),T=k.substr(0,j);await new Promise((R,V)=>{const B=new d;B.on("finish",()=>{C.mediaIndex[k]=C.media.length,C.mediaIndex[T]=C.media.length;const K={type:"image",name:T,extension:E,buffer:B.toBuffer()};C.media.push(K),R()}),L.on("error",K=>{V(K)}),L.pipe(B)})}}async _processDrawingEntry(L,C,k){const j=new M,E=await j.parseStream(L);C.drawings[k]=E}async _processDrawingRelsEntry(L,C,k){const j=new b,E=await j.parseStream(L);C.drawingRels[k]=E}async _processVmlDrawingEntry(L,C,k){const j=new H,E=await j.parseStream(L);C.vmlDrawings[`../drawings/${k}.vml`]=E}async _processThemeEntry(L,C,k){await new Promise((j,E)=>{const T=new d;L.on("error",E),T.on("error",E),T.on("finish",()=>{C.themes[k]=T.read().toString(),j()}),L.pipe(T)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(L,C){!L[Symbol.asyncIterator]&&L.pipe&&(L=L.pipe(new o));const k=[];for await(const j of L)k.push(j);return this.load(s.concat(k),C)}async load(L,C){let k;k=C&&C.base64?s.from(L.toString(),"base64"):L;const j={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},E=await c.loadAsync(k);for(const T of Object.values(E.files))if(!T.dir){let R,V=T.name;if(V[0]==="/"&&(V=V.substr(1)),V.match(/xl\/media\//)||V.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))R=new o,R.write(await T.async("nodebuffer"));else{let B;R=new o({writableObjectMode:!0,readableObjectMode:!0}),B=a.browser?y(await T.async("nodebuffer")):await T.async("string");const K=16384;for(let Z=0;Z<B.length;Z+=K)R.write(B.substring(Z,Z+K))}switch(R.end(),V){case"_rels/.rels":j.globalRels=await this.parseRels(R);break;case"xl/workbook.xml":{const B=await this.parseWorkbook(R);j.sheets=B.sheets,j.definedNames=B.definedNames,j.views=B.views,j.properties=B.properties,j.calcProperties=B.calcProperties;break}case"xl/_rels/workbook.xml.rels":j.workbookRels=await this.parseRels(R);break;case"xl/sharedStrings.xml":j.sharedStrings=new v,await j.sharedStrings.parseStream(R);break;case"xl/styles.xml":j.styles=new m,await j.styles.parseStream(R);break;case"docProps/app.xml":{const B=new _,K=await B.parseStream(R);j.company=K.company,j.manager=K.manager;break}case"docProps/core.xml":{const B=new g,K=await B.parseStream(R);Object.assign(j,K);break}default:{let B=V.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(B){await this._processWorksheetEntry(R,j,B[1],C,V);break}if(B=V.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),B){await this._processWorksheetRelsEntry(R,j,B[1]);break}if(B=V.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),B){await this._processThemeEntry(R,j,B[1]);break}if(B=V.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),B){await this._processMediaEntry(R,j,B[1]);break}if(B=V.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),B){await this._processDrawingEntry(R,j,B[1]);break}if(B=V.match(/xl\/(comments\d+)[.]xml/),B){await this._processCommentEntry(R,j,B[1]);break}if(B=V.match(/xl\/tables\/(table\d+)[.]xml/),B){await this._processTableEntry(R,j,B[1]);break}if(B=V.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),B){await this._processDrawingRelsEntry(R,j,B[1]);break}if(B=V.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),B){await this._processVmlDrawingEntry(R,j,B[1]);break}}}}return this.reconcile(j,C),this.workbook.model=j,this.workbook}async addMedia(L,C){await Promise.all(C.media.map(async k=>{if(k.type==="image"){const j=`xl/media/${k.name}.${k.extension}`;if(k.filename){const E=await function(T,R){return new Promise((V,B)=>{l.readFile(T,R,(K,Z)=>{K?B(K):V(Z)})})}(k.filename);return L.append(E,{name:j})}if(k.buffer)return L.append(k.buffer,{name:j});if(k.base64){const E=k.base64,T=E.substring(E.indexOf(",")+1);return L.append(T,{name:j,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(L,C){const k=new M,j=new b;C.worksheets.forEach(E=>{const{drawing:T}=E;if(T){k.prepare(T,{});let R=k.toXml(T);L.append(R,{name:`xl/drawings/${T.name}.xml`}),R=j.toXml(T.rels),L.append(R,{name:`xl/drawings/_rels/${T.name}.xml.rels`})}})}addTables(L,C){const k=new A;C.worksheets.forEach(j=>{const{tables:E}=j;E.forEach(T=>{k.prepare(T,{});const R=k.toXml(T);L.append(R,{name:"xl/tables/"+T.target})})})}async addContentTypes(L,C){const k=new w().toXml(C);L.append(k,{name:"[Content_Types].xml"})}async addApp(L,C){const k=new _().toXml(C);L.append(k,{name:"docProps/app.xml"})}async addCore(L,C){const k=new g;L.append(k.toXml(C),{name:"docProps/core.xml"})}async addThemes(L,C){const k=C.themes||{theme1:z};Object.keys(k).forEach(j=>{const E=k[j],T=`xl/theme/${j}.xml`;L.append(E,{name:T})})}async addOfficeRels(L){const C=new b().toXml([{Id:"rId1",Type:U.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:U.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:U.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);L.append(C,{name:"_rels/.rels"})}async addWorkbookRels(L,C){let k=1;const j=[{Id:"rId"+k++,Type:U.RelType.Styles,Target:"styles.xml"},{Id:"rId"+k++,Type:U.RelType.Theme,Target:"theme/theme1.xml"}];C.sharedStrings.count&&j.push({Id:"rId"+k++,Type:U.RelType.SharedStrings,Target:"sharedStrings.xml"}),C.worksheets.forEach(T=>{T.rId="rId"+k++,j.push({Id:T.rId,Type:U.RelType.Worksheet,Target:`worksheets/sheet${T.id}.xml`})});const E=new b().toXml(j);L.append(E,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(L,C){C.sharedStrings&&C.sharedStrings.count&&L.append(C.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(L,C){const{xml:k}=C.styles;k&&L.append(k,{name:"xl/styles.xml"})}async addWorkbook(L,C){const k=new N;L.append(k.toXml(C),{name:"xl/workbook.xml"})}async addWorksheets(L,C){const k=new P,j=new b,E=new F,T=new H;C.worksheets.forEach(R=>{let V=new h;k.render(V,R),L.append(V.xml,{name:`xl/worksheets/sheet${R.id}.xml`}),R.rels&&R.rels.length&&(V=new h,j.render(V,R.rels),L.append(V.xml,{name:`xl/worksheets/_rels/sheet${R.id}.xml.rels`})),R.comments.length>0&&(V=new h,E.render(V,R),L.append(V.xml,{name:`xl/comments${R.id}.xml`}),V=new h,T.render(V,R),L.append(V.xml,{name:`xl/drawings/vmlDrawing${R.id}.vml`}))})}_finalize(L){return new Promise((C,k)=>{L.on("finish",()=>{C(this)}),L.on("error",k),L.finalize()})}prepareModel(L,C){L.creator=L.creator||"ExcelJS",L.lastModifiedBy=L.lastModifiedBy||"ExcelJS",L.created=L.created||new Date,L.modified=L.modified||new Date,L.useSharedStrings=C.useSharedStrings===void 0||C.useSharedStrings,L.useStyles=C.useStyles===void 0||C.useStyles,L.sharedStrings=new v,L.styles=L.useStyles?new m(!0):new m.Mock;const k=new N,j=new P;k.prepare(L);const E={sharedStrings:L.sharedStrings,styles:L.styles,date1904:L.properties.date1904,drawingsCount:0,media:L.media};E.drawings=L.drawings=[],E.commentRefs=L.commentRefs=[];let T=0;L.tables=[],L.worksheets.forEach(R=>{R.tables.forEach(V=>{T++,V.target=`table${T}.xml`,V.id=T,L.tables.push(V)}),j.prepare(R,E)})}async write(L,C){C=C||{};const{model:k}=this.workbook,j=new u.ZipWriter(C.zip);return j.pipe(L),this.prepareModel(k,C),await this.addContentTypes(j,k),await this.addOfficeRels(j,k),await this.addWorkbookRels(j,k),await this.addWorksheets(j,k),await this.addSharedStrings(j,k),await this.addDrawings(j,k),await this.addTables(j,k),await Promise.all([this.addThemes(j,k),this.addStyles(j,k)]),await this.addMedia(j,k),await Promise.all([this.addApp(j,k),this.addCore(j,k)]),await this.addWorkbook(j,k),this._finalize(j)}writeFile(L,C){const k=l.createWriteStream(L);return new Promise((j,E)=>{k.on("finish",()=>{j()}),k.on("error",T=>{E(T)}),this.write(k,C).then(()=>{k.end()}).catch(T=>{E(T)})})}async writeBuffer(L){const C=new d;return await this.write(C,L),C.read()}}U.RelType=e("./rel-type"),n.exports=U}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,i){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const s=e("stream"),l=e("./formatter");class c extends s.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new l.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,d,f){let h=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(y,m)=>y?(h=!0,f(y)):(m&&m.forEach(g=>{this.push(a.from(g,"utf8"))}),h=!0,f()))}catch(y){if(h)throw y;f(y)}}_flush(u){this.rowFormatter.finish((d,f)=>d?u(d):(f&&f.forEach(h=>{this.push(a.from(h,"utf8"))}),u()))}}i.CsvFormatterStream=c}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,a||{}),(a==null?void 0:a.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(a==null?void 0:a.quote)===!0?this.quote='"':(a==null?void 0:a.quote)===!1&&(this.quote=""),typeof(a==null?void 0:a.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=a.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,i){var a=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const s=a(e("lodash.isboolean")),l=a(e("lodash.isnil")),c=a(e("lodash.escaperegexp"));i.FieldFormatter=class{constructor(o){this._headers=null,this.formatterOptions=o,o.headers!==null&&(this.headers=o.headers),this.REPLACE_REGEXP=new RegExp(o.quote,"g");const u=`[${o.delimiter}${c.default(o.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(o){this._headers=o}shouldQuote(o,u){const d=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(d)?d:Array.isArray(d)?d[o]:this._headers!==null&&d[this._headers[o]]}format(o,u,d){const f=(""+(l.default(o)?"":o)).replace(/\0/g,""),{formatterOptions:h}=this;return h.quote!==""&&f.indexOf(h.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,h.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,d)?this.quoteField(f):f}quoteField(o){const{quote:u}=this.formatterOptions;return`${u}${o}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,i){var a=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const s=a(e("lodash.isfunction")),l=a(e("lodash.isequal")),c=e("./FieldFormatter"),o=e("../types");class u{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new c.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return u.isRowHashArray(f)?f.map(h=>h[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return o.isSyncTransform(f)?(h,y)=>{let m=null;try{m=f(h)}catch(g){return y(g)}return y(null,m)}:(h,y)=>{f(h,y)}}set rowTransform(f){if(!s.default(f))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(f)}format(f,h){this.callTransformer(f,(y,m)=>{if(y)return h(y);if(!f)return h(null);const g=[];if(m){const{shouldFormatColumns:v,headers:b}=this.checkHeaders(m);if(this.shouldWriteHeaders&&b&&!this.hasWrittenHeaders&&(g.push(this.formatColumns(b,!0)),this.hasWrittenHeaders=!0),v){const w=this.gatherColumns(m);g.push(this.formatColumns(w,!1))}}return h(null,g)})}finish(f){const h=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));h.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&h.push(this.formatterOptions.rowDelimiter),f(null,h)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const h=u.gatherHeaders(f);return this.headers=h,this.fieldFormatter.headers=h,this.shouldWriteHeaders?{shouldFormatColumns:!l.default(h,f),headers:h}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?u.isRowHashArray(f)?this.headers.map((h,y)=>{const m=f[y];return m?m[1]:""}):u.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((h,y)=>f[y]):this.headers.map(h=>f[h])}callTransformer(f,h){return this._rowTransform?this._rowTransform(f,h):h(null,f)}formatColumns(f,h){const y=f.map((g,v)=>this.fieldFormatter.format(g,v,h)).join(this.formatterOptions.delimiter),{rowCount:m}=this;return this.rowCount+=1,m?[this.formatterOptions.rowDelimiter,y].join(""):y}}i.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var a=e("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return a.RowFormatter}});var s=e("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,i){(function(a){(function(){var s=Object.create?function(v,b,w,_){_===void 0&&(_=w),Object.defineProperty(v,_,{enumerable:!0,get:function(){return b[w]}})}:function(v,b,w,_){_===void 0&&(_=w),v[_]=b[w]},l=Object.create?function(v,b){Object.defineProperty(v,"default",{enumerable:!0,value:b})}:function(v,b){v.default=b},c=function(v){if(v&&v.__esModule)return v;var b={};if(v!=null)for(var w in v)w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)&&s(b,v,w);return l(b,v),b},o=function(v,b){for(var w in v)w==="default"||Object.prototype.hasOwnProperty.call(b,w)||s(b,v,w)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const u=e("util"),d=e("stream"),f=c(e("fs")),h=e("./FormatterOptions"),y=e("./CsvFormatterStream");o(e("./types"),i);var m=e("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return m.CsvFormatterStream}});var g=e("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return g.FormatterOptions}}),i.format=v=>new y.CsvFormatterStream(new h.FormatterOptions(v)),i.write=(v,b)=>{const w=i.format(b),_=u.promisify((N,P)=>{w.write(N,void 0,P)});return v.reduce((N,P)=>N.then(()=>_(P)),Promise.resolve()).then(()=>w.end()).catch(N=>{w.emit("error",N)}),w},i.writeToStream=(v,b,w)=>i.write(b,w).pipe(v),i.writeToBuffer=function(v){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const w=[],_=new d.Writable({write(N,P,M){w.push(N),M()}});return new Promise((N,P)=>{_.on("error",P).on("finish",()=>N(a.concat(w))),i.write(v,b).pipe(_)})},i.writeToString=(v,b)=>i.writeToBuffer(v,b).then(w=>w.toString()),i.writeToPath=(v,b,w)=>{const _=f.createWriteStream(v,{encoding:"utf8"});return i.write(b,w).pipe(_)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1},{}],153:[function(e,n,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const s=e("string_decoder"),l=e("stream"),c=e("./transforms"),o=e("./parser");class u extends l.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new o.Parser(f),this.headerTransformer=new c.HeaderTransformer(f),this.decoder=new s.StringDecoder(f.encoding),this.rowTransformerValidator=new c.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var h=arguments.length,y=new Array(h>1?h-1:0),m=1;m<h;m++)y[m-1]=arguments[m];return super.emit(f,...y)}_transform(f,h,y){if(this.hasHitRowLimit)return y();const m=u.wrapDoneCallback(y);try{const{lines:g}=this,v=g+this.decoder.write(f),b=this.parse(v,!0);return this.processRows(b,m)}catch(g){return m(g)}}_flush(f){const h=u.wrapDoneCallback(f);if(this.hasHitRowLimit)return h();try{const y=this.lines+this.decoder.end(),m=this.parse(y,!1);return this.processRows(m,h)}catch(y){return h(y)}}parse(f,h){if(!f)return[];const{line:y,rows:m}=this.parser.parse(f,h);return this.lines=y,m}processRows(f,h){const y=f.length,m=g=>{const v=_=>_?h(_):g%100!=0?m(g+1):void a(()=>m(g+1));if(this.checkAndEmitHeaders(),g>=y||this.hasHitRowLimit)return h();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const b=f[g];this.rowCount+=1,this.parsedRowCount+=1;const w=this.rowCount;return this.transformRow(b,(_,N)=>{if(_)return this.rowCount-=1,v(_);if(!N)return v(new Error("expected transform result"));if(N.isValid){if(N.row)return this.pushRow(N.row,v)}else this.emit("data-invalid",N.row,w,N.reason);return v()})};m(0)}transformRow(f,h){try{this.headerTransformer.transform(f,(y,m)=>y?h(y):m?m.isValid?m.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(m.row,h):this.skipRow(h):(this.rowCount-=1,this.parsedRowCount-=1,h(null,{row:null,isValid:!0})):this.shouldEmitRows?h(null,{isValid:!1,row:f}):this.skipRow(h):h(new Error("Expected result from header transform")))}catch(y){h(y)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,h){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),h()}catch(y){h(y)}}static wrapDoneCallback(f){let h=!1;return function(y){if(y){if(h)throw y;return h=!0,void f(y)}for(var m=arguments.length,g=new Array(m>1?m-1:0),v=1;v<m;v++)g[v-1]=arguments[v];f(...g)}}}i.CsvParserStream=u}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,i){var a=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const s=a(e("lodash.escaperegexp")),l=a(e("lodash.isnil"));i.ParserOptions=class{constructor(c){var o;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,c||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(o=this.escape)!==null&&o!==void 0?o:this.quote,this.supportsComments=!l.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,i){var a=Object.create?function(m,g,v,b){b===void 0&&(b=v),Object.defineProperty(m,b,{enumerable:!0,get:function(){return g[v]}})}:function(m,g,v,b){b===void 0&&(b=v),m[b]=g[v]},s=Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g},l=function(m){if(m&&m.__esModule)return m;var g={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&a(g,m,v);return s(g,m),g},c=function(m,g){for(var v in m)v==="default"||Object.prototype.hasOwnProperty.call(g,v)||a(g,m,v)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const o=l(e("fs")),u=e("stream"),d=e("./ParserOptions"),f=e("./CsvParserStream");c(e("./types"),i);var h=e("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return h.CsvParserStream}});var y=e("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return y.ParserOptions}}),i.parse=m=>new f.CsvParserStream(new d.ParserOptions(m)),i.parseStream=(m,g)=>m.pipe(new f.CsvParserStream(new d.ParserOptions(g))),i.parseFile=function(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.createReadStream(m).pipe(new f.CsvParserStream(new d.ParserOptions(g)))},i.parseString=(m,g)=>{const v=new u.Readable;return v.push(m),v.push(null),v.pipe(new f.CsvParserStream(new d.ParserOptions(g)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const a=e("./Scanner"),s=e("./RowParser"),l=e("./Token");class c{constructor(u){this.parserOptions=u,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,d){const f=new a.Scanner({line:c.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:d});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(u){const d=[];let f=!0;for(;f;)f=this.parseRow(u,d);return{line:u.line,rows:d}}parseWithComments(u){const{parserOptions:d}=this,f=[];for(let h=u.nextCharacterToken;h!==null;h=u.nextCharacterToken)if(l.Token.isTokenComment(h,d)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:f};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:f};u.truncateToCursor()}else if(!this.parseRow(u,f))break;return{line:u.line,rows:f}}parseRow(u,d){if(!u.nextNonSpaceToken)return!1;const f=this.rowParser.parse(u);return f!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(f)||d.push(f),!0)}}i.Parser=c},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const a=e("./column"),s=e("./Token");i.RowParser=class{constructor(l){this.parserOptions=l,this.columnParser=new a.ColumnParser(l)}static isEmptyRow(l){return l.join("").replace(/\s+/g,"")===""}parse(l){const{parserOptions:c}=this,{hasMoreData:o}=l,u=l,d=[];let f=this.getStartToken(u,d);for(;f;){if(s.Token.isTokenRowDelimiter(f))return u.advancePastToken(f),!u.hasMoreCharacters&&s.Token.isTokenCarriageReturn(f,c)&&o?null:(u.truncateToCursor(),d);if(!this.shouldSkipColumnParse(u,f,d)){const h=this.columnParser.parse(u);if(h===null)return null;d.push(h)}f=u.nextNonSpaceToken}return o?null:(u.truncateToCursor(),d)}getStartToken(l,c){const o=l.nextNonSpaceToken;return o!==null&&s.Token.isTokenDelimiter(o,this.parserOptions)?(c.push(""),l.nextNonSpaceToken):o}shouldSkipColumnParse(l,c,o){const{parserOptions:u}=this;if(s.Token.isTokenDelimiter(c,u)){l.advancePastToken(c);const d=l.nextCharacterToken;if(!l.hasMoreCharacters||d!==null&&s.Token.isTokenRowDelimiter(d)||d!==null&&s.Token.isTokenDelimiter(d,u))return o.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const a=e("./Token"),s=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(l){this.cursor=0,this.line=l.line,this.lineLength=this.line.length,this.parserOptions=l.parserOptions,this.hasMoreData=l.hasMoreData,this.cursor=l.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:l}=this,c=this.parserOptions.NEXT_TOKEN_REGEXP;if(l.search(c)===-1)return null;const o=c.exec(l);if(o==null)return null;const u=o[1],d=this.cursor+(o.index||0);return new a.Token({token:u,startCursor:d,endCursor:d+u.length-1})}get nextCharacterToken(){const{cursor:l,lineLength:c}=this;return c<=l?null:new a.Token({token:this.line[l],startCursor:l,endCursor:l})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const l=s.exec(this.lineFromCursor);return l?(this.cursor+=(l.index||0)+l[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(l){return this.cursor=l,this}advanceToToken(l){return this.cursor=l.startCursor,this}advancePastToken(l){return this.cursor=l.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(a){this.token=a.token,this.startCursor=a.startCursor,this.endCursor=a.endCursor}static isTokenRowDelimiter(a){const s=a.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(a,s){return a.token===s.carriageReturn}static isTokenComment(a,s){return s.supportsComments&&!!a&&a.token===s.comment}static isTokenEscapeCharacter(a,s){return a.token===s.escapeChar}static isTokenQuote(a,s){return a.token===s.quote}static isTokenDelimiter(a,s){return a.token===s.delimiter}}},{}],160:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(a){a.trim?this.format=s=>s.trim():a.ltrim?this.format=s=>s.trimLeft():a.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const a=e("./NonQuotedColumnParser"),s=e("./QuotedColumnParser"),l=e("../Token");i.ColumnParser=class{constructor(c){this.parserOptions=c,this.quotedColumnParser=new s.QuotedColumnParser(c),this.nonQuotedColumnParser=new a.NonQuotedColumnParser(c)}parse(c){const{nextNonSpaceToken:o}=c;return o!==null&&l.Token.isTokenQuote(o,this.parserOptions)?(c.advanceToToken(o),this.quotedColumnParser.parse(c)):this.nonQuotedColumnParser.parse(c)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const a=e("./ColumnFormatter"),s=e("../Token");i.NonQuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new a.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const{parserOptions:c}=this,o=[];let u=l.nextCharacterToken;for(;u&&!s.Token.isTokenDelimiter(u,c)&&!s.Token.isTokenRowDelimiter(u);u=l.nextCharacterToken)o.push(u.token),l.advancePastToken(u);return this.columnFormatter.format(o.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const a=e("./ColumnFormatter"),s=e("../Token");i.QuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new a.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const c=l.cursor,{foundClosingQuote:o,col:u}=this.gatherDataBetweenQuotes(l);if(!o){if(l.advanceTo(c),!l.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${l.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(l),u}gatherDataBetweenQuotes(l){const{parserOptions:c}=this;let o=!1,u=!1;const d=[];let f=l.nextCharacterToken;for(;!u&&f!==null;f=l.nextCharacterToken){const h=s.Token.isTokenQuote(f,c);if(!o&&h)o=!0;else if(o)if(s.Token.isTokenEscapeCharacter(f,c)){l.advancePastToken(f);const y=l.nextCharacterToken;y!==null&&(s.Token.isTokenQuote(y,c)||s.Token.isTokenEscapeCharacter(y,c))?(d.push(y.token),f=y):h?u=!0:d.push(f.token)}else h?u=!0:d.push(f.token);l.advancePastToken(f)}return{col:this.columnFormatter.format(d.join("")),foundClosingQuote:u}}checkForMalformedColumn(l){const{parserOptions:c}=this,{nextNonSpaceToken:o}=l;if(o){const u=s.Token.isTokenDelimiter(o,c),d=s.Token.isTokenRowDelimiter(o);if(!u&&!d){const f=l.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${c.escapedDelimiter}' OR new line got: '${o.token}'. at '${f}`)}l.advanceToToken(o)}else l.hasMoreData||l.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var a=e("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}});var s=e("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var l=e("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}});var c=e("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return c.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var a=e("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return a.Parser}});var s=e("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var l=e("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return l.Scanner}});var c=e("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return c.Token}});var o=e("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,i){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const s=a(e("lodash.isundefined")),l=a(e("lodash.isfunction")),c=a(e("lodash.uniq")),o=a(e("lodash.groupby"));i.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):l.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,d){return this.shouldMapRow(u)?d(null,this.processRow(u)):d(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:d}=this;if(!this.headersTransform&&d.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:d}=this;if(!d.discardUnmappedColumns&&u.length>this.headersLength){if(!d.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return d.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const d={},{headers:f,headersLength:h}=this;for(let y=0;y<h;y+=1){const m=f[y];if(!s.default(m)){const g=u[y];s.default(g)?d[m]="":d[m]=g}}return d}setHeaders(u){var d;const f=u.filter(h=>!!h);if(c.default(f).length!==f.length){const h=o.default(f),y=Object.keys(h).filter(m=>h[m].length>1);throw new Error("Duplicate headers found "+JSON.stringify(y))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((d=this.headers)===null||d===void 0?void 0:d.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,i){var a=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const s=a(e("lodash.isfunction")),l=e("../types");class c{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return l.isSyncTransform(u)?(d,f)=>{let h=null;try{h=u(d)}catch(y){return f(y)}return f(null,h)}:u}static createValidator(u){return l.isSyncValidate(u)?(d,f)=>{f(null,{row:d,isValid:u(d)})}:(d,f)=>{u(d,(h,y,m)=>h?f(h):f(null,y?{row:d,isValid:y,reason:m}:{row:d,isValid:!1,reason:m}))}}set rowTransform(u){if(!s.default(u))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(u)}set rowValidator(u){if(!s.default(u))throw new TypeError("The validate should be a function");this._rowValidator=c.createValidator(u)}transformAndValidate(u,d){return this.callTransformer(u,(f,h)=>f?d(f):h?this.callValidator(h,(y,m)=>y?d(y):m&&!m.isValid?d(null,{row:h,isValid:!1,reason:m.reason}):d(null,{row:h,isValid:!0})):d(null,{row:null,isValid:!0}))}callTransformer(u,d){return this._rowTransform?this._rowTransform(u,d):d(null,u)}callValidator(u,d){return this._rowValidator?this._rowValidator(u,d):d(null,{row:u,isValid:!0})}}i.RowTransformerValidator=c},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var a=e("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return a.RowTransformerValidator}});var s=e("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1,i.isSyncValidate=a=>a.length===1},{}],170:[function(e,n,i){const a=i;a.bignum=e("bn.js"),a.define=e("./asn1/api").define,a.base=e("./asn1/base"),a.constants=e("./asn1/constants"),a.decoders=e("./asn1/decoders"),a.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,i){const a=e("./encoders"),s=e("./decoders"),l=e("inherits");function c(o,u){this.name=o,this.body=u,this.decoders={},this.encoders={}}i.define=function(o,u){return new c(o,u)},c.prototype._createNamed=function(o){const u=this.name;function d(f){this._initNamed(f,u)}return l(d,o),d.prototype._initNamed=function(f,h){o.call(this,f,h)},new d(this)},c.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(s[o])),this.decoders[o]},c.prototype.decode=function(o,u,d){return this._getDecoder(u).decode(o,d)},c.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(a[o])),this.encoders[o]},c.prototype.encode=function(o,u,d){return this._getEncoder(u).encode(o,d)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,i){const a=e("inherits"),s=e("../base/reporter").Reporter,l=e("safer-buffer").Buffer;function c(u,d){s.call(this,d),l.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function o(u,d){if(Array.isArray(u))this.length=0,this.value=u.map(function(f){return o.isEncoderBuffer(f)||(f=new o(f,d)),this.length+=f.length,f},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return d.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=l.byteLength(u);else{if(!l.isBuffer(u))return d.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}a(c,s),i.DecoderBuffer=c,c.isDecoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&l.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},c.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},c.prototype.restore=function(u){const d=new c(this.base);return d.offset=u.offset,d.length=this.offset,this.offset=u.offset,s.prototype.restore.call(this,u.reporter),d},c.prototype.isEmpty=function(){return this.offset===this.length},c.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},c.prototype.skip=function(u,d){if(!(this.offset+u<=this.length))return this.error(d||"DecoderBuffer overrun");const f=new c(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+u,this.offset+=u,f},c.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.EncoderBuffer=o,o.isEncoderBuffer=function(u){return u instanceof o?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},o.prototype.join=function(u,d){return u||(u=l.alloc(this.length)),d||(d=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(f){f.join(u,d),d+=f.length}):(typeof this.value=="number"?u[d]=this.value:typeof this.value=="string"?u.write(this.value,d):l.isBuffer(this.value)&&this.value.copy(u,d),d+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,i){const a=i;a.Reporter=e("./reporter").Reporter,a.DecoderBuffer=e("./buffer").DecoderBuffer,a.EncoderBuffer=e("./buffer").EncoderBuffer,a.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,i){const a=e("../base/reporter").Reporter,s=e("../base/buffer").EncoderBuffer,l=e("../base/buffer").DecoderBuffer,c=e("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function d(h,y,m){const g={};this._baseState=g,g.name=m,g.enc=h,g.parent=y||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}n.exports=d;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];d.prototype.clone=function(){const h=this._baseState,y={};f.forEach(function(g){y[g]=h[g]});const m=new this.constructor(y.parent);return m._baseState=y,m},d.prototype._wrap=function(){const h=this._baseState;u.forEach(function(y){this[y]=function(){const m=new this.constructor(this);return h.children.push(m),m[y].apply(m,arguments)}},this)},d.prototype._init=function(h){const y=this._baseState;c(y.parent===null),h.call(this),y.children=y.children.filter(function(m){return m._baseState.parent===this},this),c.equal(y.children.length,1,"Root node can have only one child")},d.prototype._useArgs=function(h){const y=this._baseState,m=h.filter(function(g){return g instanceof this.constructor},this);h=h.filter(function(g){return!(g instanceof this.constructor)},this),m.length!==0&&(c(y.children===null),y.children=m,m.forEach(function(g){g._baseState.parent=this},this)),h.length!==0&&(c(y.args===null),y.args=h,y.reverseArgs=h.map(function(g){if(typeof g!="object"||g.constructor!==Object)return g;const v={};return Object.keys(g).forEach(function(b){b==(0|b)&&(b|=0);const w=g[b];v[w]=b}),v}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(h){d.prototype[h]=function(){const y=this._baseState;throw new Error(h+" not implemented for encoding: "+y.enc)}}),o.forEach(function(h){d.prototype[h]=function(){const y=this._baseState,m=Array.prototype.slice.call(arguments);return c(y.tag===null),y.tag=h,this._useArgs(m),this}}),d.prototype.use=function(h){c(h);const y=this._baseState;return c(y.use===null),y.use=h,this},d.prototype.optional=function(){return this._baseState.optional=!0,this},d.prototype.def=function(h){const y=this._baseState;return c(y.default===null),y.default=h,y.optional=!0,this},d.prototype.explicit=function(h){const y=this._baseState;return c(y.explicit===null&&y.implicit===null),y.explicit=h,this},d.prototype.implicit=function(h){const y=this._baseState;return c(y.explicit===null&&y.implicit===null),y.implicit=h,this},d.prototype.obj=function(){const h=this._baseState,y=Array.prototype.slice.call(arguments);return h.obj=!0,y.length!==0&&this._useArgs(y),this},d.prototype.key=function(h){const y=this._baseState;return c(y.key===null),y.key=h,this},d.prototype.any=function(){return this._baseState.any=!0,this},d.prototype.choice=function(h){const y=this._baseState;return c(y.choice===null),y.choice=h,this._useArgs(Object.keys(h).map(function(m){return h[m]})),this},d.prototype.contains=function(h){const y=this._baseState;return c(y.use===null),y.contains=h,this},d.prototype._decode=function(h,y){const m=this._baseState;if(m.parent===null)return h.wrapResult(m.children[0]._decode(h,y));let g,v=m.default,b=!0,w=null;if(m.key!==null&&(w=h.enterKey(m.key)),m.optional){let _=null;if(m.explicit!==null?_=m.explicit:m.implicit!==null?_=m.implicit:m.tag!==null&&(_=m.tag),_!==null||m.any){if(b=this._peekTag(h,_,m.any),h.isError(b))return b}else{const N=h.save();try{m.choice===null?this._decodeGeneric(m.tag,h,y):this._decodeChoice(h,y),b=!0}catch{b=!1}h.restore(N)}}if(m.obj&&b&&(g=h.enterObject()),b){if(m.explicit!==null){const N=this._decodeTag(h,m.explicit);if(h.isError(N))return N;h=N}const _=h.offset;if(m.use===null&&m.choice===null){let N;m.any&&(N=h.save());const P=this._decodeTag(h,m.implicit!==null?m.implicit:m.tag,m.any);if(h.isError(P))return P;m.any?v=h.raw(N):h=P}if(y&&y.track&&m.tag!==null&&y.track(h.path(),_,h.length,"tagged"),y&&y.track&&m.tag!==null&&y.track(h.path(),h.offset,h.length,"content"),m.any||(v=m.choice===null?this._decodeGeneric(m.tag,h,y):this._decodeChoice(h,y)),h.isError(v))return v;if(m.any||m.choice!==null||m.children===null||m.children.forEach(function(N){N._decode(h,y)}),m.contains&&(m.tag==="octstr"||m.tag==="bitstr")){const N=new l(v);v=this._getUse(m.contains,h._reporterState.obj)._decode(N,y)}}return m.obj&&b&&(v=h.leaveObject(g)),m.key===null||v===null&&b!==!0?w!==null&&h.exitKey(w):h.leaveKey(w,m.key,v),v},d.prototype._decodeGeneric=function(h,y,m){const g=this._baseState;return h==="seq"||h==="set"?null:h==="seqof"||h==="setof"?this._decodeList(y,h,g.args[0],m):/str$/.test(h)?this._decodeStr(y,h,m):h==="objid"&&g.args?this._decodeObjid(y,g.args[0],g.args[1],m):h==="objid"?this._decodeObjid(y,null,null,m):h==="gentime"||h==="utctime"?this._decodeTime(y,h,m):h==="null_"?this._decodeNull(y,m):h==="bool"?this._decodeBool(y,m):h==="objDesc"?this._decodeStr(y,h,m):h==="int"||h==="enum"?this._decodeInt(y,g.args&&g.args[0],m):g.use!==null?this._getUse(g.use,y._reporterState.obj)._decode(y,m):y.error("unknown tag: "+h)},d.prototype._getUse=function(h,y){const m=this._baseState;return m.useDecoder=this._use(h,y),c(m.useDecoder._baseState.parent===null),m.useDecoder=m.useDecoder._baseState.children[0],m.implicit!==m.useDecoder._baseState.implicit&&(m.useDecoder=m.useDecoder.clone(),m.useDecoder._baseState.implicit=m.implicit),m.useDecoder},d.prototype._decodeChoice=function(h,y){const m=this._baseState;let g=null,v=!1;return Object.keys(m.choice).some(function(b){const w=h.save(),_=m.choice[b];try{const N=_._decode(h,y);if(h.isError(N))return!1;g={type:b,value:N},v=!0}catch{return h.restore(w),!1}return!0},this),v?g:h.error("Choice not matched")},d.prototype._createEncoderBuffer=function(h){return new s(h,this.reporter)},d.prototype._encode=function(h,y,m){const g=this._baseState;if(g.default!==null&&g.default===h)return;const v=this._encodeValue(h,y,m);return v===void 0||this._skipDefault(v,y,m)?void 0:v},d.prototype._encodeValue=function(h,y,m){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(h,y||new a);let v=null;if(this.reporter=y,g.optional&&h===void 0){if(g.default===null)return;h=g.default}let b=null,w=!1;if(g.any)v=this._createEncoderBuffer(h);else if(g.choice)v=this._encodeChoice(h,y);else if(g.contains)b=this._getUse(g.contains,m)._encode(h,y),w=!0;else if(g.children)b=g.children.map(function(_){if(_._baseState.tag==="null_")return _._encode(null,y,h);if(_._baseState.key===null)return y.error("Child should have a key");const N=y.enterKey(_._baseState.key);if(typeof h!="object")return y.error("Child expected, but input is not object");const P=_._encode(h[_._baseState.key],y,h);return y.leaveKey(N),P},this).filter(function(_){return _}),b=this._createEncoderBuffer(b);else if(g.tag==="seqof"||g.tag==="setof"){if(!g.args||g.args.length!==1)return y.error("Too many args for : "+g.tag);if(!Array.isArray(h))return y.error("seqof/setof, but data is not Array");const _=this.clone();_._baseState.implicit=null,b=this._createEncoderBuffer(h.map(function(N){const P=this._baseState;return this._getUse(P.args[0],h)._encode(N,y)},_))}else g.use!==null?v=this._getUse(g.use,m)._encode(h,y):(b=this._encodePrimitive(g.tag,h),w=!0);if(!g.any&&g.choice===null){const _=g.implicit!==null?g.implicit:g.tag,N=g.implicit===null?"universal":"context";_===null?g.use===null&&y.error("Tag could be omitted only for .use()"):g.use===null&&(v=this._encodeComposite(_,w,N,b))}return g.explicit!==null&&(v=this._encodeComposite(g.explicit,!1,"context",v)),v},d.prototype._encodeChoice=function(h,y){const m=this._baseState,g=m.choice[h.type];return g||c(!1,h.type+" not found in "+JSON.stringify(Object.keys(m.choice))),g._encode(h.value,y)},d.prototype._encodePrimitive=function(h,y){const m=this._baseState;if(/str$/.test(h))return this._encodeStr(y,h);if(h==="objid"&&m.args)return this._encodeObjid(y,m.reverseArgs[0],m.args[1]);if(h==="objid")return this._encodeObjid(y,null,null);if(h==="gentime"||h==="utctime")return this._encodeTime(y,h);if(h==="null_")return this._encodeNull();if(h==="int"||h==="enum")return this._encodeInt(y,m.args&&m.reverseArgs[0]);if(h==="bool")return this._encodeBool(y);if(h==="objDesc")return this._encodeStr(y,h);throw new Error("Unsupported tag: "+h)},d.prototype._isNumstr=function(h){return/^[0-9 ]*$/.test(h)},d.prototype._isPrintstr=function(h){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(h)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,i){const a=e("inherits");function s(c){this._reporterState={obj:null,path:[],options:c||{},errors:[]}}function l(c,o){this.path=c,this.rethrow(o)}i.Reporter=s,s.prototype.isError=function(c){return c instanceof l},s.prototype.save=function(){const c=this._reporterState;return{obj:c.obj,pathLen:c.path.length}},s.prototype.restore=function(c){const o=this._reporterState;o.obj=c.obj,o.path=o.path.slice(0,c.pathLen)},s.prototype.enterKey=function(c){return this._reporterState.path.push(c)},s.prototype.exitKey=function(c){const o=this._reporterState;o.path=o.path.slice(0,c-1)},s.prototype.leaveKey=function(c,o,u){const d=this._reporterState;this.exitKey(c),d.obj!==null&&(d.obj[o]=u)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const c=this._reporterState,o=c.obj;return c.obj={},o},s.prototype.leaveObject=function(c){const o=this._reporterState,u=o.obj;return o.obj=c,u},s.prototype.error=function(c){let o;const u=this._reporterState,d=c instanceof l;if(o=d?c:new l(u.path.map(function(f){return"["+JSON.stringify(f)+"]"}).join(""),c.message||c,c.stack),!u.options.partial)throw o;return d||u.errors.push(o),o},s.prototype.wrapResult=function(c){const o=this._reporterState;return o.options.partial?{result:this.isError(c)?null:c,errors:o.errors}:c},a(l,Error),l.prototype.rethrow=function(c){if(this.message=c+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,l),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this}},{inherits:440}],176:[function(e,n,i){function a(s){const l={};return Object.keys(s).forEach(function(c){(0|c)==c&&(c|=0);const o=s[c];l[o]=c}),l}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=a(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=a(i.tag)},{}],177:[function(e,n,i){const a=i;a._reverse=function(s){const l={};return Object.keys(s).forEach(function(c){(0|c)==c&&(c|=0);const o=s[c];l[o]=c}),l},a.der=e("./der")},{"./der":176}],178:[function(e,n,i){const a=e("inherits"),s=e("bn.js"),l=e("../base/buffer").DecoderBuffer,c=e("../base/node"),o=e("../constants/der");function u(y){this.enc="der",this.name=y.name,this.entity=y,this.tree=new d,this.tree._init(y.body)}function d(y){c.call(this,"der",y)}function f(y,m){let g=y.readUInt8(m);if(y.isError(g))return g;const v=o.tagClass[g>>6],b=(32&g)==0;if((31&g)==31){let w=g;for(g=0;(128&w)==128;){if(w=y.readUInt8(m),y.isError(w))return w;g<<=7,g|=127&w}}else g&=31;return{cls:v,primitive:b,tag:g,tagStr:o.tag[g]}}function h(y,m,g){let v=y.readUInt8(g);if(y.isError(v))return v;if(!m&&v===128)return null;if((128&v)==0)return v;const b=127&v;if(b>4)return y.error("length octect is too long");v=0;for(let w=0;w<b;w++){v<<=8;const _=y.readUInt8(g);if(y.isError(_))return _;v|=_}return v}n.exports=u,u.prototype.decode=function(y,m){return l.isDecoderBuffer(y)||(y=new l(y,m)),this.tree._decode(y,m)},a(d,c),d.prototype._peekTag=function(y,m,g){if(y.isEmpty())return!1;const v=y.save(),b=f(y,'Failed to peek tag: "'+m+'"');return y.isError(b)?b:(y.restore(v),b.tag===m||b.tagStr===m||b.tagStr+"of"===m||g)},d.prototype._decodeTag=function(y,m,g){const v=f(y,'Failed to decode tag of "'+m+'"');if(y.isError(v))return v;let b=h(y,v.primitive,'Failed to get length of "'+m+'"');if(y.isError(b))return b;if(!g&&v.tag!==m&&v.tagStr!==m&&v.tagStr+"of"!==m)return y.error('Failed to match tag: "'+m+'"');if(v.primitive||b!==null)return y.skip(b,'Failed to match body of: "'+m+'"');const w=y.save(),_=this._skipUntilEnd(y,'Failed to skip indefinite length body: "'+this.tag+'"');return y.isError(_)?_:(b=y.offset-w.offset,y.restore(w),y.skip(b,'Failed to match body of: "'+m+'"'))},d.prototype._skipUntilEnd=function(y,m){for(;;){const g=f(y,m);if(y.isError(g))return g;const v=h(y,g.primitive,m);if(y.isError(v))return v;let b;if(b=g.primitive||v!==null?y.skip(v):this._skipUntilEnd(y,m),y.isError(b))return b;if(g.tagStr==="end")break}},d.prototype._decodeList=function(y,m,g,v){const b=[];for(;!y.isEmpty();){const w=this._peekTag(y,"end");if(y.isError(w))return w;const _=g.decode(y,"der",v);if(y.isError(_)&&w)break;b.push(_)}return b},d.prototype._decodeStr=function(y,m){if(m==="bitstr"){const g=y.readUInt8();return y.isError(g)?g:{unused:g,data:y.raw()}}if(m==="bmpstr"){const g=y.raw();if(g.length%2==1)return y.error("Decoding of string type: bmpstr length mismatch");let v="";for(let b=0;b<g.length/2;b++)v+=String.fromCharCode(g.readUInt16BE(2*b));return v}if(m==="numstr"){const g=y.raw().toString("ascii");return this._isNumstr(g)?g:y.error("Decoding of string type: numstr unsupported characters")}if(m==="octstr"||m==="objDesc")return y.raw();if(m==="printstr"){const g=y.raw().toString("ascii");return this._isPrintstr(g)?g:y.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(m)?y.raw().toString():y.error("Decoding of string type: "+m+" unsupported")},d.prototype._decodeObjid=function(y,m,g){let v;const b=[];let w=0,_=0;for(;!y.isEmpty();)_=y.readUInt8(),w<<=7,w|=127&_,(128&_)==0&&(b.push(w),w=0);128&_&&b.push(w);const N=b[0]/40|0,P=b[0]%40;if(v=g?b:[N,P].concat(b.slice(1)),m){let M=m[v.join(" ")];M===void 0&&(M=m[v.join(".")]),M!==void 0&&(v=M)}return v},d.prototype._decodeTime=function(y,m){const g=y.raw().toString();let v,b,w,_,N,P;if(m==="gentime")v=0|g.slice(0,4),b=0|g.slice(4,6),w=0|g.slice(6,8),_=0|g.slice(8,10),N=0|g.slice(10,12),P=0|g.slice(12,14);else{if(m!=="utctime")return y.error("Decoding "+m+" time is not supported yet");v=0|g.slice(0,2),b=0|g.slice(2,4),w=0|g.slice(4,6),_=0|g.slice(6,8),N=0|g.slice(8,10),P=0|g.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,b-1,w,_,N,P,0)},d.prototype._decodeNull=function(){return null},d.prototype._decodeBool=function(y){const m=y.readUInt8();return y.isError(m)?m:m!==0},d.prototype._decodeInt=function(y,m){const g=y.raw();let v=new s(g);return m&&(v=m[v.toString(10)]||v),v},d.prototype._use=function(y,m){return typeof y=="function"&&(y=y(m)),y._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,i){const a=i;a.der=e("./der"),a.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,i){const a=e("inherits"),s=e("safer-buffer").Buffer,l=e("./der");function c(o){l.call(this,o),this.enc="pem"}a(c,l),n.exports=c,c.prototype.decode=function(o,u){const d=o.toString().split(/[\r\n]+/g),f=u.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let y=-1,m=-1;for(let b=0;b<d.length;b++){const w=d[b].match(h);if(w!==null&&w[2]===f){if(y!==-1){if(w[1]!=="END")break;m=b;break}if(w[1]!=="BEGIN")break;y=b}}if(y===-1||m===-1)throw new Error("PEM section not found for: "+f);const g=d.slice(y+1,m).join("");g.replace(/[^a-z0-9+/=]+/gi,"");const v=s.from(g,"base64");return l.prototype.decode.call(this,v,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,i){const a=e("inherits"),s=e("safer-buffer").Buffer,l=e("../base/node"),c=e("../constants/der");function o(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new u,this.tree._init(f.body)}function u(f){l.call(this,"der",f)}function d(f){return f<10?"0"+f:f}n.exports=o,o.prototype.encode=function(f,h){return this.tree._encode(f,h).join()},a(u,l),u.prototype._encodeComposite=function(f,h,y,m){const g=function(w,_,N,P){let M;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),c.tagByName.hasOwnProperty(w))M=c.tagByName[w];else{if(typeof w!="number"||(0|w)!==w)return P.error("Unknown tag: "+w);M=w}return M>=31?P.error("Multi-octet tag encoding unsupported"):(_||(M|=32),M|=c.tagClassByName[N||"universal"]<<6,M)}(f,h,y,this.reporter);if(m.length<128){const w=s.alloc(2);return w[0]=g,w[1]=m.length,this._createEncoderBuffer([w,m])}let v=1;for(let w=m.length;w>=256;w>>=8)v++;const b=s.alloc(2+v);b[0]=g,b[1]=128|v;for(let w=1+v,_=m.length;_>0;w--,_>>=8)b[w]=255&_;return this._createEncoderBuffer([b,m])},u.prototype._encodeStr=function(f,h){if(h==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(h==="bmpstr"){const y=s.alloc(2*f.length);for(let m=0;m<f.length;m++)y.writeUInt16BE(f.charCodeAt(m),2*m);return this._createEncoderBuffer(y)}return h==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):h==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(h)||h==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+h+" unsupported")},u.prototype._encodeObjid=function(f,h,y){if(typeof f=="string"){if(!h)return this.reporter.error("string objid given, but no values map found");if(!h.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=h[f].split(/[\s.]+/g);for(let b=0;b<f.length;b++)f[b]|=0}else if(Array.isArray(f)){f=f.slice();for(let b=0;b<f.length;b++)f[b]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!y){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let m=0;for(let b=0;b<f.length;b++){let w=f[b];for(m++;w>=128;w>>=7)m++}const g=s.alloc(m);let v=g.length-1;for(let b=f.length-1;b>=0;b--){let w=f[b];for(g[v--]=127&w;(w>>=7)>0;)g[v--]=128|127&w}return this._createEncoderBuffer(g)},u.prototype._encodeTime=function(f,h){let y;const m=new Date(f);return h==="gentime"?y=[d(m.getUTCFullYear()),d(m.getUTCMonth()+1),d(m.getUTCDate()),d(m.getUTCHours()),d(m.getUTCMinutes()),d(m.getUTCSeconds()),"Z"].join(""):h==="utctime"?y=[d(m.getUTCFullYear()%100),d(m.getUTCMonth()+1),d(m.getUTCDate()),d(m.getUTCHours()),d(m.getUTCMinutes()),d(m.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+h+" time is not supported yet"),this._encodeStr(y,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(f,h){if(typeof f=="string"){if(!h)return this.reporter.error("String int or enum given, but no values map");if(!h.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=h[f]}if(typeof f!="number"&&!s.isBuffer(f)){const g=f.toArray();!f.sign&&128&g[0]&&g.unshift(0),f=s.from(g)}if(s.isBuffer(f)){let g=f.length;f.length===0&&g++;const v=s.alloc(g);return f.copy(v),f.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let y=1;for(let g=f;g>=256;g>>=8)y++;const m=new Array(y);for(let g=m.length-1;g>=0;g--)m[g]=255&f,f>>=8;return 128&m[0]&&m.unshift(0),this._createEncoderBuffer(s.from(m))},u.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},u.prototype._use=function(f,h){return typeof f=="function"&&(f=f(h)),f._getEncoder("der").tree},u.prototype._skipDefault=function(f,h,y){const m=this._baseState;let g;if(m.default===null)return!1;const v=f.join();if(m.defaultBuffer===void 0&&(m.defaultBuffer=this._encodeValue(m.default,h,y).join()),v.length!==m.defaultBuffer.length)return!1;for(g=0;g<v.length;g++)if(v[g]!==m.defaultBuffer[g])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,i){const a=i;a.der=e("./der"),a.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,i){const a=e("inherits"),s=e("./der");function l(c){s.call(this,c),this.enc="pem"}a(l,s),n.exports=l,l.prototype.encode=function(c,o){const u=s.prototype.encode.call(this,c).toString("base64"),d=["-----BEGIN "+o.label+"-----"];for(let f=0;f<u.length;f+=64)d.push(u.slice(f,f+64));return d.push("-----END "+o.label+"-----"),d.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,i){(function(a,s){function l(O,L){if(!O)throw new Error(L||"Assertion failed")}function c(O,L){O.super_=L;var C=function(){};C.prototype=L.prototype,O.prototype=new C,O.prototype.constructor=O}function o(O,L,C){if(o.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&(L!=="le"&&L!=="be"||(C=L,L=10),this._init(O||0,L||10,C||"be"))}var u;typeof a=="object"?a.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function d(O,L){var C=O.charCodeAt(L);return C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:C-48&15}function f(O,L,C){var k=d(O,C);return C-1>=L&&(k|=d(O,C-1)<<4),k}function h(O,L,C,k){for(var j=0,E=Math.min(O.length,C),T=L;T<E;T++){var R=O.charCodeAt(T)-48;j*=k,j+=R>=49?R-49+10:R>=17?R-17+10:R}return j}o.isBN=function(O){return O instanceof o||O!==null&&typeof O=="object"&&O.constructor.wordSize===o.wordSize&&Array.isArray(O.words)},o.max=function(O,L){return O.cmp(L)>0?O:L},o.min=function(O,L){return O.cmp(L)<0?O:L},o.prototype._init=function(O,L,C){if(typeof O=="number")return this._initNumber(O,L,C);if(typeof O=="object")return this._initArray(O,L,C);L==="hex"&&(L=16),l(L===(0|L)&&L>=2&&L<=36);var k=0;(O=O.toString().replace(/\s+/g,""))[0]==="-"&&(k++,this.negative=1),k<O.length&&(L===16?this._parseHex(O,k,C):(this._parseBase(O,L,k),C==="le"&&this._initArray(this.toArray(),L,C)))},o.prototype._initNumber=function(O,L,C){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[67108863&O],this.length=1):O<4503599627370496?(this.words=[67108863&O,O/67108864&67108863],this.length=2):(l(O<9007199254740992),this.words=[67108863&O,O/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),L,C)},o.prototype._initArray=function(O,L,C){if(l(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var j,E,T=0;if(C==="be")for(k=O.length-1,j=0;k>=0;k-=3)E=O[k]|O[k-1]<<8|O[k-2]<<16,this.words[j]|=E<<T&67108863,this.words[j+1]=E>>>26-T&67108863,(T+=24)>=26&&(T-=26,j++);else if(C==="le")for(k=0,j=0;k<O.length;k+=3)E=O[k]|O[k+1]<<8|O[k+2]<<16,this.words[j]|=E<<T&67108863,this.words[j+1]=E>>>26-T&67108863,(T+=24)>=26&&(T-=26,j++);return this.strip()},o.prototype._parseHex=function(O,L,C){this.length=Math.ceil((O.length-L)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var j,E=0,T=0;if(C==="be")for(k=O.length-1;k>=L;k-=2)j=f(O,L,k)<<E,this.words[T]|=67108863&j,E>=18?(E-=18,T+=1,this.words[T]|=j>>>26):E+=8;else for(k=(O.length-L)%2==0?L+1:L;k<O.length;k+=2)j=f(O,L,k)<<E,this.words[T]|=67108863&j,E>=18?(E-=18,T+=1,this.words[T]|=j>>>26):E+=8;this.strip()},o.prototype._parseBase=function(O,L,C){this.words=[0],this.length=1;for(var k=0,j=1;j<=67108863;j*=L)k++;k--,j=j/L|0;for(var E=O.length-C,T=E%k,R=Math.min(E,E-T)+C,V=0,B=C;B<R;B+=k)V=h(O,B,B+k,L),this.imuln(j),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V);if(T!==0){var K=1;for(V=h(O,B,O.length,L),B=0;B<T;B++)K*=L;this.imuln(K),this.words[0]+V<67108864?this.words[0]+=V:this._iaddn(V)}this.strip()},o.prototype.copy=function(O){O.words=new Array(this.length);for(var L=0;L<this.length;L++)O.words[L]=this.words[L];O.length=this.length,O.negative=this.negative,O.red=this.red},o.prototype.clone=function(){var O=new o(null);return this.copy(O),O},o.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(O,L,C){C.negative=L.negative^O.negative;var k=O.length+L.length|0;C.length=k,k=k-1|0;var j=0|O.words[0],E=0|L.words[0],T=j*E,R=67108863&T,V=T/67108864|0;C.words[0]=R;for(var B=1;B<k;B++){for(var K=V>>>26,Z=67108863&V,ne=Math.min(B,L.length-1),G=Math.max(0,B-O.length+1);G<=ne;G++){var te=B-G|0;K+=(T=(j=0|O.words[te])*(E=0|L.words[G])+Z)/67108864|0,Z=67108863&T}C.words[B]=0|Z,V=0|K}return V!==0?C.words[B]=0|V:C.length--,C.strip()}o.prototype.toString=function(O,L){var C;if(L=0|L||1,(O=O||10)===16||O==="hex"){C="";for(var k=0,j=0,E=0;E<this.length;E++){var T=this.words[E],R=(16777215&(T<<k|j)).toString(16);C=(j=T>>>24-k&16777215)!==0||E!==this.length-1?y[6-R.length]+R+C:R+C,(k+=2)>=26&&(k-=26,E--)}for(j!==0&&(C=j.toString(16)+C);C.length%L!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(O===(0|O)&&O>=2&&O<=36){var V=m[O],B=g[O];C="";var K=this.clone();for(K.negative=0;!K.isZero();){var Z=K.modn(B).toString(O);C=(K=K.idivn(B)).isZero()?Z+C:y[V-Z.length]+Z+C}for(this.isZero()&&(C="0"+C);C.length%L!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}l(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=67108864*this.words[1]:this.length===3&&this.words[2]===1?O+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(O,L){return l(u!==void 0),this.toArrayLike(u,O,L)},o.prototype.toArray=function(O,L){return this.toArrayLike(Array,O,L)},o.prototype.toArrayLike=function(O,L,C){var k=this.byteLength(),j=C||Math.max(1,k);l(k<=j,"byte array longer than desired length"),l(j>0,"Requested array length <= 0"),this.strip();var E,T,R=L==="le",V=new O(j),B=this.clone();if(R){for(T=0;!B.isZero();T++)E=B.andln(255),B.iushrn(8),V[T]=E;for(;T<j;T++)V[T]=0}else{for(T=0;T<j-k;T++)V[T]=0;for(T=0;!B.isZero();T++)E=B.andln(255),B.iushrn(8),V[j-T-1]=E}return V},Math.clz32?o.prototype._countBits=function(O){return 32-Math.clz32(O)}:o.prototype._countBits=function(O){var L=O,C=0;return L>=4096&&(C+=13,L>>>=13),L>=64&&(C+=7,L>>>=7),L>=8&&(C+=4,L>>>=4),L>=2&&(C+=2,L>>>=2),C+L},o.prototype._zeroBits=function(O){if(O===0)return 26;var L=O,C=0;return(8191&L)==0&&(C+=13,L>>>=13),(127&L)==0&&(C+=7,L>>>=7),(15&L)==0&&(C+=4,L>>>=4),(3&L)==0&&(C+=2,L>>>=2),(1&L)==0&&C++,C},o.prototype.bitLength=function(){var O=this.words[this.length-1],L=this._countBits(O);return 26*(this.length-1)+L},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,L=0;L<this.length;L++){var C=this._zeroBits(this.words[L]);if(O+=C,C!==26)break}return O},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},o.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var L=0;L<O.length;L++)this.words[L]=this.words[L]|O.words[L];return this.strip()},o.prototype.ior=function(O){return l((this.negative|O.negative)==0),this.iuor(O)},o.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},o.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},o.prototype.iuand=function(O){var L;L=this.length>O.length?O:this;for(var C=0;C<L.length;C++)this.words[C]=this.words[C]&O.words[C];return this.length=L.length,this.strip()},o.prototype.iand=function(O){return l((this.negative|O.negative)==0),this.iuand(O)},o.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},o.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},o.prototype.iuxor=function(O){var L,C;this.length>O.length?(L=this,C=O):(L=O,C=this);for(var k=0;k<C.length;k++)this.words[k]=L.words[k]^C.words[k];if(this!==L)for(;k<L.length;k++)this.words[k]=L.words[k];return this.length=L.length,this.strip()},o.prototype.ixor=function(O){return l((this.negative|O.negative)==0),this.iuxor(O)},o.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},o.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},o.prototype.inotn=function(O){l(typeof O=="number"&&O>=0);var L=0|Math.ceil(O/26),C=O%26;this._expand(L),C>0&&L--;for(var k=0;k<L;k++)this.words[k]=67108863&~this.words[k];return C>0&&(this.words[k]=~this.words[k]&67108863>>26-C),this.strip()},o.prototype.notn=function(O){return this.clone().inotn(O)},o.prototype.setn=function(O,L){l(typeof O=="number"&&O>=0);var C=O/26|0,k=O%26;return this._expand(C+1),this.words[C]=L?this.words[C]|1<<k:this.words[C]&~(1<<k),this.strip()},o.prototype.iadd=function(O){var L,C,k;if(this.negative!==0&&O.negative===0)return this.negative=0,L=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,L=this.isub(O),O.negative=1,L._normSign();this.length>O.length?(C=this,k=O):(C=O,k=this);for(var j=0,E=0;E<k.length;E++)L=(0|C.words[E])+(0|k.words[E])+j,this.words[E]=67108863&L,j=L>>>26;for(;j!==0&&E<C.length;E++)L=(0|C.words[E])+j,this.words[E]=67108863&L,j=L>>>26;if(this.length=C.length,j!==0)this.words[this.length]=j,this.length++;else if(C!==this)for(;E<C.length;E++)this.words[E]=C.words[E];return this},o.prototype.add=function(O){var L;return O.negative!==0&&this.negative===0?(O.negative=0,L=this.sub(O),O.negative^=1,L):O.negative===0&&this.negative!==0?(this.negative=0,L=O.sub(this),this.negative=1,L):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},o.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var L=this.iadd(O);return O.negative=1,L._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var C,k,j=this.cmp(O);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;j>0?(C=this,k=O):(C=O,k=this);for(var E=0,T=0;T<k.length;T++)E=(L=(0|C.words[T])-(0|k.words[T])+E)>>26,this.words[T]=67108863&L;for(;E!==0&&T<C.length;T++)E=(L=(0|C.words[T])+E)>>26,this.words[T]=67108863&L;if(E===0&&T<C.length&&C!==this)for(;T<C.length;T++)this.words[T]=C.words[T];return this.length=Math.max(this.length,T),C!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(O){return this.clone().isub(O)};var b=function(O,L,C){var k,j,E,T=O.words,R=L.words,V=C.words,B=0,K=0|T[0],Z=8191&K,ne=K>>>13,G=0|T[1],te=8191&G,I=G>>>13,D=0|T[2],X=8191&D,Q=D>>>13,re=0|T[3],oe=8191&re,se=re>>>13,he=0|T[4],le=8191&he,de=he>>>13,ve=0|T[5],ge=8191&ve,ke=ve>>>13,Pe=0|T[6],Re=8191&Pe,Ie=Pe>>>13,qe=0|T[7],Ue=8191&qe,vt=qe>>>13,St=0|T[8],De=8191&St,lt=St>>>13,gt=0|T[9],Ve=8191&gt,Dt=gt>>>13,bt=0|R[0],At=8191&bt,ft=bt>>>13,jt=0|R[1],ht=8191&jt,Lt=jt>>>13,ur=0|R[2],zt=8191&ur,wr=ur>>>13,br=0|R[3],er=8191&br,Zt=br>>>13,ar=0|R[4],fr=8191&ar,Sr=ar>>>13,Ur=0|R[5],dr=8191&Ur,Vt=Ur>>>13,Dr=0|R[6],sr=8191&Dr,ze=Dr>>>13,Ze=0|R[7],mt=8191&Ze,pe=Ze>>>13,Ce=0|R[8],be=8191&Ce,Ee=Ce>>>13,Ae=0|R[9],Te=8191&Ae,He=Ae>>>13;C.negative=O.negative^L.negative,C.length=19;var tt=(B+(k=Math.imul(Z,At))|0)+((8191&(j=(j=Math.imul(Z,ft))+Math.imul(ne,At)|0))<<13)|0;B=((E=Math.imul(ne,ft))+(j>>>13)|0)+(tt>>>26)|0,tt&=67108863,k=Math.imul(te,At),j=(j=Math.imul(te,ft))+Math.imul(I,At)|0,E=Math.imul(I,ft);var We=(B+(k=k+Math.imul(Z,ht)|0)|0)+((8191&(j=(j=j+Math.imul(Z,Lt)|0)+Math.imul(ne,ht)|0))<<13)|0;B=((E=E+Math.imul(ne,Lt)|0)+(j>>>13)|0)+(We>>>26)|0,We&=67108863,k=Math.imul(X,At),j=(j=Math.imul(X,ft))+Math.imul(Q,At)|0,E=Math.imul(Q,ft),k=k+Math.imul(te,ht)|0,j=(j=j+Math.imul(te,Lt)|0)+Math.imul(I,ht)|0,E=E+Math.imul(I,Lt)|0;var it=(B+(k=k+Math.imul(Z,zt)|0)|0)+((8191&(j=(j=j+Math.imul(Z,wr)|0)+Math.imul(ne,zt)|0))<<13)|0;B=((E=E+Math.imul(ne,wr)|0)+(j>>>13)|0)+(it>>>26)|0,it&=67108863,k=Math.imul(oe,At),j=(j=Math.imul(oe,ft))+Math.imul(se,At)|0,E=Math.imul(se,ft),k=k+Math.imul(X,ht)|0,j=(j=j+Math.imul(X,Lt)|0)+Math.imul(Q,ht)|0,E=E+Math.imul(Q,Lt)|0,k=k+Math.imul(te,zt)|0,j=(j=j+Math.imul(te,wr)|0)+Math.imul(I,zt)|0,E=E+Math.imul(I,wr)|0;var et=(B+(k=k+Math.imul(Z,er)|0)|0)+((8191&(j=(j=j+Math.imul(Z,Zt)|0)+Math.imul(ne,er)|0))<<13)|0;B=((E=E+Math.imul(ne,Zt)|0)+(j>>>13)|0)+(et>>>26)|0,et&=67108863,k=Math.imul(le,At),j=(j=Math.imul(le,ft))+Math.imul(de,At)|0,E=Math.imul(de,ft),k=k+Math.imul(oe,ht)|0,j=(j=j+Math.imul(oe,Lt)|0)+Math.imul(se,ht)|0,E=E+Math.imul(se,Lt)|0,k=k+Math.imul(X,zt)|0,j=(j=j+Math.imul(X,wr)|0)+Math.imul(Q,zt)|0,E=E+Math.imul(Q,wr)|0,k=k+Math.imul(te,er)|0,j=(j=j+Math.imul(te,Zt)|0)+Math.imul(I,er)|0,E=E+Math.imul(I,Zt)|0;var Ct=(B+(k=k+Math.imul(Z,fr)|0)|0)+((8191&(j=(j=j+Math.imul(Z,Sr)|0)+Math.imul(ne,fr)|0))<<13)|0;B=((E=E+Math.imul(ne,Sr)|0)+(j>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,k=Math.imul(ge,At),j=(j=Math.imul(ge,ft))+Math.imul(ke,At)|0,E=Math.imul(ke,ft),k=k+Math.imul(le,ht)|0,j=(j=j+Math.imul(le,Lt)|0)+Math.imul(de,ht)|0,E=E+Math.imul(de,Lt)|0,k=k+Math.imul(oe,zt)|0,j=(j=j+Math.imul(oe,wr)|0)+Math.imul(se,zt)|0,E=E+Math.imul(se,wr)|0,k=k+Math.imul(X,er)|0,j=(j=j+Math.imul(X,Zt)|0)+Math.imul(Q,er)|0,E=E+Math.imul(Q,Zt)|0,k=k+Math.imul(te,fr)|0,j=(j=j+Math.imul(te,Sr)|0)+Math.imul(I,fr)|0,E=E+Math.imul(I,Sr)|0;var Mt=(B+(k=k+Math.imul(Z,dr)|0)|0)+((8191&(j=(j=j+Math.imul(Z,Vt)|0)+Math.imul(ne,dr)|0))<<13)|0;B=((E=E+Math.imul(ne,Vt)|0)+(j>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,k=Math.imul(Re,At),j=(j=Math.imul(Re,ft))+Math.imul(Ie,At)|0,E=Math.imul(Ie,ft),k=k+Math.imul(ge,ht)|0,j=(j=j+Math.imul(ge,Lt)|0)+Math.imul(ke,ht)|0,E=E+Math.imul(ke,Lt)|0,k=k+Math.imul(le,zt)|0,j=(j=j+Math.imul(le,wr)|0)+Math.imul(de,zt)|0,E=E+Math.imul(de,wr)|0,k=k+Math.imul(oe,er)|0,j=(j=j+Math.imul(oe,Zt)|0)+Math.imul(se,er)|0,E=E+Math.imul(se,Zt)|0,k=k+Math.imul(X,fr)|0,j=(j=j+Math.imul(X,Sr)|0)+Math.imul(Q,fr)|0,E=E+Math.imul(Q,Sr)|0,k=k+Math.imul(te,dr)|0,j=(j=j+Math.imul(te,Vt)|0)+Math.imul(I,dr)|0,E=E+Math.imul(I,Vt)|0;var Gt=(B+(k=k+Math.imul(Z,sr)|0)|0)+((8191&(j=(j=j+Math.imul(Z,ze)|0)+Math.imul(ne,sr)|0))<<13)|0;B=((E=E+Math.imul(ne,ze)|0)+(j>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,k=Math.imul(Ue,At),j=(j=Math.imul(Ue,ft))+Math.imul(vt,At)|0,E=Math.imul(vt,ft),k=k+Math.imul(Re,ht)|0,j=(j=j+Math.imul(Re,Lt)|0)+Math.imul(Ie,ht)|0,E=E+Math.imul(Ie,Lt)|0,k=k+Math.imul(ge,zt)|0,j=(j=j+Math.imul(ge,wr)|0)+Math.imul(ke,zt)|0,E=E+Math.imul(ke,wr)|0,k=k+Math.imul(le,er)|0,j=(j=j+Math.imul(le,Zt)|0)+Math.imul(de,er)|0,E=E+Math.imul(de,Zt)|0,k=k+Math.imul(oe,fr)|0,j=(j=j+Math.imul(oe,Sr)|0)+Math.imul(se,fr)|0,E=E+Math.imul(se,Sr)|0,k=k+Math.imul(X,dr)|0,j=(j=j+Math.imul(X,Vt)|0)+Math.imul(Q,dr)|0,E=E+Math.imul(Q,Vt)|0,k=k+Math.imul(te,sr)|0,j=(j=j+Math.imul(te,ze)|0)+Math.imul(I,sr)|0,E=E+Math.imul(I,ze)|0;var Se=(B+(k=k+Math.imul(Z,mt)|0)|0)+((8191&(j=(j=j+Math.imul(Z,pe)|0)+Math.imul(ne,mt)|0))<<13)|0;B=((E=E+Math.imul(ne,pe)|0)+(j>>>13)|0)+(Se>>>26)|0,Se&=67108863,k=Math.imul(De,At),j=(j=Math.imul(De,ft))+Math.imul(lt,At)|0,E=Math.imul(lt,ft),k=k+Math.imul(Ue,ht)|0,j=(j=j+Math.imul(Ue,Lt)|0)+Math.imul(vt,ht)|0,E=E+Math.imul(vt,Lt)|0,k=k+Math.imul(Re,zt)|0,j=(j=j+Math.imul(Re,wr)|0)+Math.imul(Ie,zt)|0,E=E+Math.imul(Ie,wr)|0,k=k+Math.imul(ge,er)|0,j=(j=j+Math.imul(ge,Zt)|0)+Math.imul(ke,er)|0,E=E+Math.imul(ke,Zt)|0,k=k+Math.imul(le,fr)|0,j=(j=j+Math.imul(le,Sr)|0)+Math.imul(de,fr)|0,E=E+Math.imul(de,Sr)|0,k=k+Math.imul(oe,dr)|0,j=(j=j+Math.imul(oe,Vt)|0)+Math.imul(se,dr)|0,E=E+Math.imul(se,Vt)|0,k=k+Math.imul(X,sr)|0,j=(j=j+Math.imul(X,ze)|0)+Math.imul(Q,sr)|0,E=E+Math.imul(Q,ze)|0,k=k+Math.imul(te,mt)|0,j=(j=j+Math.imul(te,pe)|0)+Math.imul(I,mt)|0,E=E+Math.imul(I,pe)|0;var Fe=(B+(k=k+Math.imul(Z,be)|0)|0)+((8191&(j=(j=j+Math.imul(Z,Ee)|0)+Math.imul(ne,be)|0))<<13)|0;B=((E=E+Math.imul(ne,Ee)|0)+(j>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,k=Math.imul(Ve,At),j=(j=Math.imul(Ve,ft))+Math.imul(Dt,At)|0,E=Math.imul(Dt,ft),k=k+Math.imul(De,ht)|0,j=(j=j+Math.imul(De,Lt)|0)+Math.imul(lt,ht)|0,E=E+Math.imul(lt,Lt)|0,k=k+Math.imul(Ue,zt)|0,j=(j=j+Math.imul(Ue,wr)|0)+Math.imul(vt,zt)|0,E=E+Math.imul(vt,wr)|0,k=k+Math.imul(Re,er)|0,j=(j=j+Math.imul(Re,Zt)|0)+Math.imul(Ie,er)|0,E=E+Math.imul(Ie,Zt)|0,k=k+Math.imul(ge,fr)|0,j=(j=j+Math.imul(ge,Sr)|0)+Math.imul(ke,fr)|0,E=E+Math.imul(ke,Sr)|0,k=k+Math.imul(le,dr)|0,j=(j=j+Math.imul(le,Vt)|0)+Math.imul(de,dr)|0,E=E+Math.imul(de,Vt)|0,k=k+Math.imul(oe,sr)|0,j=(j=j+Math.imul(oe,ze)|0)+Math.imul(se,sr)|0,E=E+Math.imul(se,ze)|0,k=k+Math.imul(X,mt)|0,j=(j=j+Math.imul(X,pe)|0)+Math.imul(Q,mt)|0,E=E+Math.imul(Q,pe)|0,k=k+Math.imul(te,be)|0,j=(j=j+Math.imul(te,Ee)|0)+Math.imul(I,be)|0,E=E+Math.imul(I,Ee)|0;var ct=(B+(k=k+Math.imul(Z,Te)|0)|0)+((8191&(j=(j=j+Math.imul(Z,He)|0)+Math.imul(ne,Te)|0))<<13)|0;B=((E=E+Math.imul(ne,He)|0)+(j>>>13)|0)+(ct>>>26)|0,ct&=67108863,k=Math.imul(Ve,ht),j=(j=Math.imul(Ve,Lt))+Math.imul(Dt,ht)|0,E=Math.imul(Dt,Lt),k=k+Math.imul(De,zt)|0,j=(j=j+Math.imul(De,wr)|0)+Math.imul(lt,zt)|0,E=E+Math.imul(lt,wr)|0,k=k+Math.imul(Ue,er)|0,j=(j=j+Math.imul(Ue,Zt)|0)+Math.imul(vt,er)|0,E=E+Math.imul(vt,Zt)|0,k=k+Math.imul(Re,fr)|0,j=(j=j+Math.imul(Re,Sr)|0)+Math.imul(Ie,fr)|0,E=E+Math.imul(Ie,Sr)|0,k=k+Math.imul(ge,dr)|0,j=(j=j+Math.imul(ge,Vt)|0)+Math.imul(ke,dr)|0,E=E+Math.imul(ke,Vt)|0,k=k+Math.imul(le,sr)|0,j=(j=j+Math.imul(le,ze)|0)+Math.imul(de,sr)|0,E=E+Math.imul(de,ze)|0,k=k+Math.imul(oe,mt)|0,j=(j=j+Math.imul(oe,pe)|0)+Math.imul(se,mt)|0,E=E+Math.imul(se,pe)|0,k=k+Math.imul(X,be)|0,j=(j=j+Math.imul(X,Ee)|0)+Math.imul(Q,be)|0,E=E+Math.imul(Q,Ee)|0;var wt=(B+(k=k+Math.imul(te,Te)|0)|0)+((8191&(j=(j=j+Math.imul(te,He)|0)+Math.imul(I,Te)|0))<<13)|0;B=((E=E+Math.imul(I,He)|0)+(j>>>13)|0)+(wt>>>26)|0,wt&=67108863,k=Math.imul(Ve,zt),j=(j=Math.imul(Ve,wr))+Math.imul(Dt,zt)|0,E=Math.imul(Dt,wr),k=k+Math.imul(De,er)|0,j=(j=j+Math.imul(De,Zt)|0)+Math.imul(lt,er)|0,E=E+Math.imul(lt,Zt)|0,k=k+Math.imul(Ue,fr)|0,j=(j=j+Math.imul(Ue,Sr)|0)+Math.imul(vt,fr)|0,E=E+Math.imul(vt,Sr)|0,k=k+Math.imul(Re,dr)|0,j=(j=j+Math.imul(Re,Vt)|0)+Math.imul(Ie,dr)|0,E=E+Math.imul(Ie,Vt)|0,k=k+Math.imul(ge,sr)|0,j=(j=j+Math.imul(ge,ze)|0)+Math.imul(ke,sr)|0,E=E+Math.imul(ke,ze)|0,k=k+Math.imul(le,mt)|0,j=(j=j+Math.imul(le,pe)|0)+Math.imul(de,mt)|0,E=E+Math.imul(de,pe)|0,k=k+Math.imul(oe,be)|0,j=(j=j+Math.imul(oe,Ee)|0)+Math.imul(se,be)|0,E=E+Math.imul(se,Ee)|0;var Wt=(B+(k=k+Math.imul(X,Te)|0)|0)+((8191&(j=(j=j+Math.imul(X,He)|0)+Math.imul(Q,Te)|0))<<13)|0;B=((E=E+Math.imul(Q,He)|0)+(j>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,k=Math.imul(Ve,er),j=(j=Math.imul(Ve,Zt))+Math.imul(Dt,er)|0,E=Math.imul(Dt,Zt),k=k+Math.imul(De,fr)|0,j=(j=j+Math.imul(De,Sr)|0)+Math.imul(lt,fr)|0,E=E+Math.imul(lt,Sr)|0,k=k+Math.imul(Ue,dr)|0,j=(j=j+Math.imul(Ue,Vt)|0)+Math.imul(vt,dr)|0,E=E+Math.imul(vt,Vt)|0,k=k+Math.imul(Re,sr)|0,j=(j=j+Math.imul(Re,ze)|0)+Math.imul(Ie,sr)|0,E=E+Math.imul(Ie,ze)|0,k=k+Math.imul(ge,mt)|0,j=(j=j+Math.imul(ge,pe)|0)+Math.imul(ke,mt)|0,E=E+Math.imul(ke,pe)|0,k=k+Math.imul(le,be)|0,j=(j=j+Math.imul(le,Ee)|0)+Math.imul(de,be)|0,E=E+Math.imul(de,Ee)|0;var It=(B+(k=k+Math.imul(oe,Te)|0)|0)+((8191&(j=(j=j+Math.imul(oe,He)|0)+Math.imul(se,Te)|0))<<13)|0;B=((E=E+Math.imul(se,He)|0)+(j>>>13)|0)+(It>>>26)|0,It&=67108863,k=Math.imul(Ve,fr),j=(j=Math.imul(Ve,Sr))+Math.imul(Dt,fr)|0,E=Math.imul(Dt,Sr),k=k+Math.imul(De,dr)|0,j=(j=j+Math.imul(De,Vt)|0)+Math.imul(lt,dr)|0,E=E+Math.imul(lt,Vt)|0,k=k+Math.imul(Ue,sr)|0,j=(j=j+Math.imul(Ue,ze)|0)+Math.imul(vt,sr)|0,E=E+Math.imul(vt,ze)|0,k=k+Math.imul(Re,mt)|0,j=(j=j+Math.imul(Re,pe)|0)+Math.imul(Ie,mt)|0,E=E+Math.imul(Ie,pe)|0,k=k+Math.imul(ge,be)|0,j=(j=j+Math.imul(ge,Ee)|0)+Math.imul(ke,be)|0,E=E+Math.imul(ke,Ee)|0;var qt=(B+(k=k+Math.imul(le,Te)|0)|0)+((8191&(j=(j=j+Math.imul(le,He)|0)+Math.imul(de,Te)|0))<<13)|0;B=((E=E+Math.imul(de,He)|0)+(j>>>13)|0)+(qt>>>26)|0,qt&=67108863,k=Math.imul(Ve,dr),j=(j=Math.imul(Ve,Vt))+Math.imul(Dt,dr)|0,E=Math.imul(Dt,Vt),k=k+Math.imul(De,sr)|0,j=(j=j+Math.imul(De,ze)|0)+Math.imul(lt,sr)|0,E=E+Math.imul(lt,ze)|0,k=k+Math.imul(Ue,mt)|0,j=(j=j+Math.imul(Ue,pe)|0)+Math.imul(vt,mt)|0,E=E+Math.imul(vt,pe)|0,k=k+Math.imul(Re,be)|0,j=(j=j+Math.imul(Re,Ee)|0)+Math.imul(Ie,be)|0,E=E+Math.imul(Ie,Ee)|0;var Rr=(B+(k=k+Math.imul(ge,Te)|0)|0)+((8191&(j=(j=j+Math.imul(ge,He)|0)+Math.imul(ke,Te)|0))<<13)|0;B=((E=E+Math.imul(ke,He)|0)+(j>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,k=Math.imul(Ve,sr),j=(j=Math.imul(Ve,ze))+Math.imul(Dt,sr)|0,E=Math.imul(Dt,ze),k=k+Math.imul(De,mt)|0,j=(j=j+Math.imul(De,pe)|0)+Math.imul(lt,mt)|0,E=E+Math.imul(lt,pe)|0,k=k+Math.imul(Ue,be)|0,j=(j=j+Math.imul(Ue,Ee)|0)+Math.imul(vt,be)|0,E=E+Math.imul(vt,Ee)|0;var kr=(B+(k=k+Math.imul(Re,Te)|0)|0)+((8191&(j=(j=j+Math.imul(Re,He)|0)+Math.imul(Ie,Te)|0))<<13)|0;B=((E=E+Math.imul(Ie,He)|0)+(j>>>13)|0)+(kr>>>26)|0,kr&=67108863,k=Math.imul(Ve,mt),j=(j=Math.imul(Ve,pe))+Math.imul(Dt,mt)|0,E=Math.imul(Dt,pe),k=k+Math.imul(De,be)|0,j=(j=j+Math.imul(De,Ee)|0)+Math.imul(lt,be)|0,E=E+Math.imul(lt,Ee)|0;var mr=(B+(k=k+Math.imul(Ue,Te)|0)|0)+((8191&(j=(j=j+Math.imul(Ue,He)|0)+Math.imul(vt,Te)|0))<<13)|0;B=((E=E+Math.imul(vt,He)|0)+(j>>>13)|0)+(mr>>>26)|0,mr&=67108863,k=Math.imul(Ve,be),j=(j=Math.imul(Ve,Ee))+Math.imul(Dt,be)|0,E=Math.imul(Dt,Ee);var or=(B+(k=k+Math.imul(De,Te)|0)|0)+((8191&(j=(j=j+Math.imul(De,He)|0)+Math.imul(lt,Te)|0))<<13)|0;B=((E=E+Math.imul(lt,He)|0)+(j>>>13)|0)+(or>>>26)|0,or&=67108863;var Er=(B+(k=Math.imul(Ve,Te))|0)+((8191&(j=(j=Math.imul(Ve,He))+Math.imul(Dt,Te)|0))<<13)|0;return B=((E=Math.imul(Dt,He))+(j>>>13)|0)+(Er>>>26)|0,Er&=67108863,V[0]=tt,V[1]=We,V[2]=it,V[3]=et,V[4]=Ct,V[5]=Mt,V[6]=Gt,V[7]=Se,V[8]=Fe,V[9]=ct,V[10]=wt,V[11]=Wt,V[12]=It,V[13]=qt,V[14]=Rr,V[15]=kr,V[16]=mr,V[17]=or,V[18]=Er,B!==0&&(V[19]=B,C.length++),C};function w(O,L,C){return new _().mulp(O,L,C)}function _(O,L){this.x=O,this.y=L}Math.imul||(b=v),o.prototype.mulTo=function(O,L){var C=this.length+O.length;return this.length===10&&O.length===10?b(this,O,L):C<63?v(this,O,L):C<1024?function(k,j,E){E.negative=j.negative^k.negative,E.length=k.length+j.length;for(var T=0,R=0,V=0;V<E.length-1;V++){var B=R;R=0;for(var K=67108863&T,Z=Math.min(V,j.length-1),ne=Math.max(0,V-k.length+1);ne<=Z;ne++){var G=V-ne,te=(0|k.words[G])*(0|j.words[ne]),I=67108863&te;K=67108863&(I=I+K|0),R+=(B=(B=B+(te/67108864|0)|0)+(I>>>26)|0)>>>26,B&=67108863}E.words[V]=K,T=B,B=R}return T!==0?E.words[V]=T:E.length--,E.strip()}(this,O,L):w(this,O,L)},_.prototype.makeRBT=function(O){for(var L=new Array(O),C=o.prototype._countBits(O)-1,k=0;k<O;k++)L[k]=this.revBin(k,C,O);return L},_.prototype.revBin=function(O,L,C){if(O===0||O===C-1)return O;for(var k=0,j=0;j<L;j++)k|=(1&O)<<L-j-1,O>>=1;return k},_.prototype.permute=function(O,L,C,k,j,E){for(var T=0;T<E;T++)k[T]=L[O[T]],j[T]=C[O[T]]},_.prototype.transform=function(O,L,C,k,j,E){this.permute(E,O,L,C,k,j);for(var T=1;T<j;T<<=1)for(var R=T<<1,V=Math.cos(2*Math.PI/R),B=Math.sin(2*Math.PI/R),K=0;K<j;K+=R)for(var Z=V,ne=B,G=0;G<T;G++){var te=C[K+G],I=k[K+G],D=C[K+G+T],X=k[K+G+T],Q=Z*D-ne*X;X=Z*X+ne*D,D=Q,C[K+G]=te+D,k[K+G]=I+X,C[K+G+T]=te-D,k[K+G+T]=I-X,G!==R&&(Q=V*Z-B*ne,ne=V*ne+B*Z,Z=Q)}},_.prototype.guessLen13b=function(O,L){var C=1|Math.max(L,O),k=1&C,j=0;for(C=C/2|0;C;C>>>=1)j++;return 1<<j+1+k},_.prototype.conjugate=function(O,L,C){if(!(C<=1))for(var k=0;k<C/2;k++){var j=O[k];O[k]=O[C-k-1],O[C-k-1]=j,j=L[k],L[k]=-L[C-k-1],L[C-k-1]=-j}},_.prototype.normalize13b=function(O,L){for(var C=0,k=0;k<L/2;k++){var j=8192*Math.round(O[2*k+1]/L)+Math.round(O[2*k]/L)+C;O[k]=67108863&j,C=j<67108864?0:j/67108864|0}return O},_.prototype.convert13b=function(O,L,C,k){for(var j=0,E=0;E<L;E++)j+=0|O[E],C[2*E]=8191&j,j>>>=13,C[2*E+1]=8191&j,j>>>=13;for(E=2*L;E<k;++E)C[E]=0;l(j===0),l((-8192&j)==0)},_.prototype.stub=function(O){for(var L=new Array(O),C=0;C<O;C++)L[C]=0;return L},_.prototype.mulp=function(O,L,C){var k=2*this.guessLen13b(O.length,L.length),j=this.makeRBT(k),E=this.stub(k),T=new Array(k),R=new Array(k),V=new Array(k),B=new Array(k),K=new Array(k),Z=new Array(k),ne=C.words;ne.length=k,this.convert13b(O.words,O.length,T,k),this.convert13b(L.words,L.length,B,k),this.transform(T,E,R,V,k,j),this.transform(B,E,K,Z,k,j);for(var G=0;G<k;G++){var te=R[G]*K[G]-V[G]*Z[G];V[G]=R[G]*Z[G]+V[G]*K[G],R[G]=te}return this.conjugate(R,V,k),this.transform(R,V,ne,E,k,j),this.conjugate(ne,E,k),this.normalize13b(ne,k),C.negative=O.negative^L.negative,C.length=O.length+L.length,C.strip()},o.prototype.mul=function(O){var L=new o(null);return L.words=new Array(this.length+O.length),this.mulTo(O,L)},o.prototype.mulf=function(O){var L=new o(null);return L.words=new Array(this.length+O.length),w(this,O,L)},o.prototype.imul=function(O){return this.clone().mulTo(O,this)},o.prototype.imuln=function(O){l(typeof O=="number"),l(O<67108864);for(var L=0,C=0;C<this.length;C++){var k=(0|this.words[C])*O,j=(67108863&k)+(67108863&L);L>>=26,L+=k/67108864|0,L+=j>>>26,this.words[C]=67108863&j}return L!==0&&(this.words[C]=L,this.length++),this},o.prototype.muln=function(O){return this.clone().imuln(O)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(O){var L=function(E){for(var T=new Array(E.bitLength()),R=0;R<T.length;R++){var V=R/26|0,B=R%26;T[R]=(E.words[V]&1<<B)>>>B}return T}(O);if(L.length===0)return new o(1);for(var C=this,k=0;k<L.length&&L[k]===0;k++,C=C.sqr());if(++k<L.length)for(var j=C.sqr();k<L.length;k++,j=j.sqr())L[k]!==0&&(C=C.mul(j));return C},o.prototype.iushln=function(O){l(typeof O=="number"&&O>=0);var L,C=O%26,k=(O-C)/26,j=67108863>>>26-C<<26-C;if(C!==0){var E=0;for(L=0;L<this.length;L++){var T=this.words[L]&j,R=(0|this.words[L])-T<<C;this.words[L]=R|E,E=T>>>26-C}E&&(this.words[L]=E,this.length++)}if(k!==0){for(L=this.length-1;L>=0;L--)this.words[L+k]=this.words[L];for(L=0;L<k;L++)this.words[L]=0;this.length+=k}return this.strip()},o.prototype.ishln=function(O){return l(this.negative===0),this.iushln(O)},o.prototype.iushrn=function(O,L,C){var k;l(typeof O=="number"&&O>=0),k=L?(L-L%26)/26:0;var j=O%26,E=Math.min((O-j)/26,this.length),T=67108863^67108863>>>j<<j,R=C;if(k-=E,k=Math.max(0,k),R){for(var V=0;V<E;V++)R.words[V]=this.words[V];R.length=E}if(E!==0)if(this.length>E)for(this.length-=E,V=0;V<this.length;V++)this.words[V]=this.words[V+E];else this.words[0]=0,this.length=1;var B=0;for(V=this.length-1;V>=0&&(B!==0||V>=k);V--){var K=0|this.words[V];this.words[V]=B<<26-j|K>>>j,B=K&T}return R&&B!==0&&(R.words[R.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(O,L,C){return l(this.negative===0),this.iushrn(O,L,C)},o.prototype.shln=function(O){return this.clone().ishln(O)},o.prototype.ushln=function(O){return this.clone().iushln(O)},o.prototype.shrn=function(O){return this.clone().ishrn(O)},o.prototype.ushrn=function(O){return this.clone().iushrn(O)},o.prototype.testn=function(O){l(typeof O=="number"&&O>=0);var L=O%26,C=(O-L)/26,k=1<<L;return!(this.length<=C)&&!!(this.words[C]&k)},o.prototype.imaskn=function(O){l(typeof O=="number"&&O>=0);var L=O%26,C=(O-L)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(L!==0&&C++,this.length=Math.min(C,this.length),L!==0){var k=67108863^67108863>>>L<<L;this.words[this.length-1]&=k}return this.strip()},o.prototype.maskn=function(O){return this.clone().imaskn(O)},o.prototype.iaddn=function(O){return l(typeof O=="number"),l(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(0|this.words[0])<O?(this.words[0]=O-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},o.prototype._iaddn=function(O){this.words[0]+=O;for(var L=0;L<this.length&&this.words[L]>=67108864;L++)this.words[L]-=67108864,L===this.length-1?this.words[L+1]=1:this.words[L+1]++;return this.length=Math.max(this.length,L+1),this},o.prototype.isubn=function(O){if(l(typeof O=="number"),l(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var L=0;L<this.length&&this.words[L]<0;L++)this.words[L]+=67108864,this.words[L+1]-=1;return this.strip()},o.prototype.addn=function(O){return this.clone().iaddn(O)},o.prototype.subn=function(O){return this.clone().isubn(O)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(O,L,C){var k,j,E=O.length+C;this._expand(E);var T=0;for(k=0;k<O.length;k++){j=(0|this.words[k+C])+T;var R=(0|O.words[k])*L;T=((j-=67108863&R)>>26)-(R/67108864|0),this.words[k+C]=67108863&j}for(;k<this.length-C;k++)T=(j=(0|this.words[k+C])+T)>>26,this.words[k+C]=67108863&j;if(T===0)return this.strip();for(l(T===-1),T=0,k=0;k<this.length;k++)T=(j=-(0|this.words[k])+T)>>26,this.words[k]=67108863&j;return this.negative=1,this.strip()},o.prototype._wordDiv=function(O,L){var C=(this.length,O.length),k=this.clone(),j=O,E=0|j.words[j.length-1];(C=26-this._countBits(E))!==0&&(j=j.ushln(C),k.iushln(C),E=0|j.words[j.length-1]);var T,R=k.length-j.length;if(L!=="mod"){(T=new o(null)).length=R+1,T.words=new Array(T.length);for(var V=0;V<T.length;V++)T.words[V]=0}var B=k.clone()._ishlnsubmul(j,1,R);B.negative===0&&(k=B,T&&(T.words[R]=1));for(var K=R-1;K>=0;K--){var Z=67108864*(0|k.words[j.length+K])+(0|k.words[j.length+K-1]);for(Z=Math.min(Z/E|0,67108863),k._ishlnsubmul(j,Z,K);k.negative!==0;)Z--,k.negative=0,k._ishlnsubmul(j,1,K),k.isZero()||(k.negative^=1);T&&(T.words[K]=Z)}return T&&T.strip(),k.strip(),L!=="div"&&C!==0&&k.iushrn(C),{div:T||null,mod:k}},o.prototype.divmod=function(O,L,C){return l(!O.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&O.negative===0?(E=this.neg().divmod(O,L),L!=="mod"&&(k=E.div.neg()),L!=="div"&&(j=E.mod.neg(),C&&j.negative!==0&&j.iadd(O)),{div:k,mod:j}):this.negative===0&&O.negative!==0?(E=this.divmod(O.neg(),L),L!=="mod"&&(k=E.div.neg()),{div:k,mod:E.mod}):(this.negative&O.negative)!=0?(E=this.neg().divmod(O.neg(),L),L!=="div"&&(j=E.mod.neg(),C&&j.negative!==0&&j.isub(O)),{div:E.div,mod:j}):O.length>this.length||this.cmp(O)<0?{div:new o(0),mod:this}:O.length===1?L==="div"?{div:this.divn(O.words[0]),mod:null}:L==="mod"?{div:null,mod:new o(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new o(this.modn(O.words[0]))}:this._wordDiv(O,L);var k,j,E},o.prototype.div=function(O){return this.divmod(O,"div",!1).div},o.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},o.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},o.prototype.divRound=function(O){var L=this.divmod(O);if(L.mod.isZero())return L.div;var C=L.div.negative!==0?L.mod.isub(O):L.mod,k=O.ushrn(1),j=O.andln(1),E=C.cmp(k);return E<0||j===1&&E===0?L.div:L.div.negative!==0?L.div.isubn(1):L.div.iaddn(1)},o.prototype.modn=function(O){l(O<=67108863);for(var L=(1<<26)%O,C=0,k=this.length-1;k>=0;k--)C=(L*C+(0|this.words[k]))%O;return C},o.prototype.idivn=function(O){l(O<=67108863);for(var L=0,C=this.length-1;C>=0;C--){var k=(0|this.words[C])+67108864*L;this.words[C]=k/O|0,L=k%O}return this.strip()},o.prototype.divn=function(O){return this.clone().idivn(O)},o.prototype.egcd=function(O){l(O.negative===0),l(!O.isZero());var L=this,C=O.clone();L=L.negative!==0?L.umod(O):L.clone();for(var k=new o(1),j=new o(0),E=new o(0),T=new o(1),R=0;L.isEven()&&C.isEven();)L.iushrn(1),C.iushrn(1),++R;for(var V=C.clone(),B=L.clone();!L.isZero();){for(var K=0,Z=1;(L.words[0]&Z)==0&&K<26;++K,Z<<=1);if(K>0)for(L.iushrn(K);K-- >0;)(k.isOdd()||j.isOdd())&&(k.iadd(V),j.isub(B)),k.iushrn(1),j.iushrn(1);for(var ne=0,G=1;(C.words[0]&G)==0&&ne<26;++ne,G<<=1);if(ne>0)for(C.iushrn(ne);ne-- >0;)(E.isOdd()||T.isOdd())&&(E.iadd(V),T.isub(B)),E.iushrn(1),T.iushrn(1);L.cmp(C)>=0?(L.isub(C),k.isub(E),j.isub(T)):(C.isub(L),E.isub(k),T.isub(j))}return{a:E,b:T,gcd:C.iushln(R)}},o.prototype._invmp=function(O){l(O.negative===0),l(!O.isZero());var L=this,C=O.clone();L=L.negative!==0?L.umod(O):L.clone();for(var k,j=new o(1),E=new o(0),T=C.clone();L.cmpn(1)>0&&C.cmpn(1)>0;){for(var R=0,V=1;(L.words[0]&V)==0&&R<26;++R,V<<=1);if(R>0)for(L.iushrn(R);R-- >0;)j.isOdd()&&j.iadd(T),j.iushrn(1);for(var B=0,K=1;(C.words[0]&K)==0&&B<26;++B,K<<=1);if(B>0)for(C.iushrn(B);B-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);L.cmp(C)>=0?(L.isub(C),j.isub(E)):(C.isub(L),E.isub(j))}return(k=L.cmpn(1)===0?j:E).cmpn(0)<0&&k.iadd(O),k},o.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var L=this.clone(),C=O.clone();L.negative=0,C.negative=0;for(var k=0;L.isEven()&&C.isEven();k++)L.iushrn(1),C.iushrn(1);for(;;){for(;L.isEven();)L.iushrn(1);for(;C.isEven();)C.iushrn(1);var j=L.cmp(C);if(j<0){var E=L;L=C,C=E}else if(j===0||C.cmpn(1)===0)break;L.isub(C)}return C.iushln(k)},o.prototype.invm=function(O){return this.egcd(O).a.umod(O)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(O){return this.words[0]&O},o.prototype.bincn=function(O){l(typeof O=="number");var L=O%26,C=(O-L)/26,k=1<<L;if(this.length<=C)return this._expand(C+1),this.words[C]|=k,this;for(var j=k,E=C;j!==0&&E<this.length;E++){var T=0|this.words[E];j=(T+=j)>>>26,T&=67108863,this.words[E]=T}return j!==0&&(this.words[E]=j,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(O){var L,C=O<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this.strip(),this.length>1)L=1;else{C&&(O=-O),l(O<=67108863,"Number is too big");var k=0|this.words[0];L=k===O?0:k<O?-1:1}return this.negative!==0?0|-L:L},o.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var L=this.ucmp(O);return this.negative!==0?0|-L:L},o.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var L=0,C=this.length-1;C>=0;C--){var k=0|this.words[C],j=0|O.words[C];if(k!==j){k<j?L=-1:k>j&&(L=1);break}}return L},o.prototype.gtn=function(O){return this.cmpn(O)===1},o.prototype.gt=function(O){return this.cmp(O)===1},o.prototype.gten=function(O){return this.cmpn(O)>=0},o.prototype.gte=function(O){return this.cmp(O)>=0},o.prototype.ltn=function(O){return this.cmpn(O)===-1},o.prototype.lt=function(O){return this.cmp(O)===-1},o.prototype.lten=function(O){return this.cmpn(O)<=0},o.prototype.lte=function(O){return this.cmp(O)<=0},o.prototype.eqn=function(O){return this.cmpn(O)===0},o.prototype.eq=function(O){return this.cmp(O)===0},o.red=function(O){return new z(O)},o.prototype.toRed=function(O){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},o.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(O){return this.red=O,this},o.prototype.forceRed=function(O){return l(!this.red,"Already a number in reduction context"),this._forceRed(O)},o.prototype.redAdd=function(O){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},o.prototype.redIAdd=function(O){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},o.prototype.redSub=function(O){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},o.prototype.redISub=function(O){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},o.prototype.redShl=function(O){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},o.prototype.redMul=function(O){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},o.prototype.redIMul=function(O){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},o.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(O){return l(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var N={k256:null,p224:null,p192:null,p25519:null};function P(O,L){this.name=O,this.p=new o(L,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function M(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function F(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(O){if(typeof O=="string"){var L=o._prime(O);this.m=L.p,this.prime=L}else l(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}function U(O){z.call(this,O),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}P.prototype._tmp=function(){var O=new o(null);return O.words=new Array(Math.ceil(this.n/13)),O},P.prototype.ireduce=function(O){var L,C=O;do this.split(C,this.tmp),L=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(L>this.n);var k=L<this.n?-1:C.ucmp(this.p);return k===0?(C.words[0]=0,C.length=1):k>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},P.prototype.split=function(O,L){O.iushrn(this.n,0,L)},P.prototype.imulK=function(O){return O.imul(this.k)},c(M,P),M.prototype.split=function(O,L){for(var C=Math.min(O.length,9),k=0;k<C;k++)L.words[k]=O.words[k];if(L.length=C,O.length<=9)return O.words[0]=0,void(O.length=1);var j=O.words[9];for(L.words[L.length++]=4194303&j,k=10;k<O.length;k++){var E=0|O.words[k];O.words[k-10]=(4194303&E)<<4|j>>>22,j=E}j>>>=22,O.words[k-10]=j,j===0&&O.length>10?O.length-=10:O.length-=9},M.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var L=0,C=0;C<O.length;C++){var k=0|O.words[C];L+=977*k,O.words[C]=67108863&L,L=64*k+(L/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O},c(A,P),c(F,P),c(H,P),H.prototype.imulK=function(O){for(var L=0,C=0;C<O.length;C++){var k=19*(0|O.words[C])+L,j=67108863&k;k>>>=26,O.words[C]=j,L=k}return L!==0&&(O.words[O.length++]=L),O},o._prime=function(O){if(N[O])return N[O];var L;if(O==="k256")L=new M;else if(O==="p224")L=new A;else if(O==="p192")L=new F;else{if(O!=="p25519")throw new Error("Unknown prime "+O);L=new H}return N[O]=L,L},z.prototype._verify1=function(O){l(O.negative===0,"red works only with positives"),l(O.red,"red works only with red numbers")},z.prototype._verify2=function(O,L){l((O.negative|L.negative)==0,"red works only with positives"),l(O.red&&O.red===L.red,"red works only with red numbers")},z.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},z.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},z.prototype.add=function(O,L){this._verify2(O,L);var C=O.add(L);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},z.prototype.iadd=function(O,L){this._verify2(O,L);var C=O.iadd(L);return C.cmp(this.m)>=0&&C.isub(this.m),C},z.prototype.sub=function(O,L){this._verify2(O,L);var C=O.sub(L);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},z.prototype.isub=function(O,L){this._verify2(O,L);var C=O.isub(L);return C.cmpn(0)<0&&C.iadd(this.m),C},z.prototype.shl=function(O,L){return this._verify1(O),this.imod(O.ushln(L))},z.prototype.imul=function(O,L){return this._verify2(O,L),this.imod(O.imul(L))},z.prototype.mul=function(O,L){return this._verify2(O,L),this.imod(O.mul(L))},z.prototype.isqr=function(O){return this.imul(O,O.clone())},z.prototype.sqr=function(O){return this.mul(O,O)},z.prototype.sqrt=function(O){if(O.isZero())return O.clone();var L=this.m.andln(3);if(l(L%2==1),L===3){var C=this.m.add(new o(1)).iushrn(2);return this.pow(O,C)}for(var k=this.m.subn(1),j=0;!k.isZero()&&k.andln(1)===0;)j++,k.iushrn(1);l(!k.isZero());var E=new o(1).toRed(this),T=E.redNeg(),R=this.m.subn(1).iushrn(1),V=this.m.bitLength();for(V=new o(2*V*V).toRed(this);this.pow(V,R).cmp(T)!==0;)V.redIAdd(T);for(var B=this.pow(V,k),K=this.pow(O,k.addn(1).iushrn(1)),Z=this.pow(O,k),ne=j;Z.cmp(E)!==0;){for(var G=Z,te=0;G.cmp(E)!==0;te++)G=G.redSqr();l(te<ne);var I=this.pow(B,new o(1).iushln(ne-te-1));K=K.redMul(I),B=I.redSqr(),Z=Z.redMul(B),ne=te}return K},z.prototype.invm=function(O){var L=O._invmp(this.m);return L.negative!==0?(L.negative=0,this.imod(L).redNeg()):this.imod(L)},z.prototype.pow=function(O,L){if(L.isZero())return new o(1).toRed(this);if(L.cmpn(1)===0)return O.clone();var C=new Array(16);C[0]=new o(1).toRed(this),C[1]=O;for(var k=2;k<C.length;k++)C[k]=this.mul(C[k-1],O);var j=C[0],E=0,T=0,R=L.bitLength()%26;for(R===0&&(R=26),k=L.length-1;k>=0;k--){for(var V=L.words[k],B=R-1;B>=0;B--){var K=V>>B&1;j!==C[0]&&(j=this.sqr(j)),K!==0||E!==0?(E<<=1,E|=K,(++T===4||k===0&&B===0)&&(j=this.mul(j,C[E]),T=0,E=0)):T=0}R=26}return j},z.prototype.convertTo=function(O){var L=O.umod(this.m);return L===O?L.clone():L},z.prototype.convertFrom=function(O){var L=O.clone();return L.red=null,L},o.mont=function(O){return new U(O)},c(U,z),U.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},U.prototype.convertFrom=function(O){var L=this.imod(O.mul(this.rinv));return L.red=null,L},U.prototype.imul=function(O,L){if(O.isZero()||L.isZero())return O.words[0]=0,O.length=1,O;var C=O.imul(L),k=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=C.isub(k).iushrn(this.shift),E=j;return j.cmp(this.m)>=0?E=j.isub(this.m):j.cmpn(0)<0&&(E=j.iadd(this.m)),E._forceRed(this)},U.prototype.mul=function(O,L){if(O.isZero()||L.isZero())return new o(0)._forceRed(this);var C=O.mul(L),k=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=C.isub(k).iushrn(this.shift),E=j;return j.cmp(this.m)>=0?E=j.isub(this.m):j.cmpn(0)<0&&(E=j.iadd(this.m)),E._forceRed(this)},U.prototype.invm=function(O){return this.imod(O._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,i){i.byteLength=function(h){var y=d(h),m=y[0],g=y[1];return 3*(m+g)/4-g},i.toByteArray=function(h){var y,m,g=d(h),v=g[0],b=g[1],w=new l(function(P,M,A){return 3*(M+A)/4-A}(0,v,b)),_=0,N=b>0?v-4:v;for(m=0;m<N;m+=4)y=s[h.charCodeAt(m)]<<18|s[h.charCodeAt(m+1)]<<12|s[h.charCodeAt(m+2)]<<6|s[h.charCodeAt(m+3)],w[_++]=y>>16&255,w[_++]=y>>8&255,w[_++]=255&y;return b===2&&(y=s[h.charCodeAt(m)]<<2|s[h.charCodeAt(m+1)]>>4,w[_++]=255&y),b===1&&(y=s[h.charCodeAt(m)]<<10|s[h.charCodeAt(m+1)]<<4|s[h.charCodeAt(m+2)]>>2,w[_++]=y>>8&255,w[_++]=255&y),w},i.fromByteArray=function(h){for(var y,m=h.length,g=m%3,v=[],b=0,w=m-g;b<w;b+=16383)v.push(f(h,b,b+16383>w?w:b+16383));return g===1?(y=h[m-1],v.push(a[y>>2]+a[y<<4&63]+"==")):g===2&&(y=(h[m-2]<<8)+h[m-1],v.push(a[y>>10]+a[y>>4&63]+a[y<<2&63]+"=")),v.join("")};for(var a=[],s=[],l=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=c.length;o<u;++o)a[o]=c[o],s[c.charCodeAt(o)]=o;function d(h){var y=h.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=h.indexOf("=");return m===-1&&(m=y),[m,m===y?0:4-m%4]}function f(h,y,m){for(var g,v,b=[],w=y;w<m;w+=3)g=(h[w]<<16&16711680)+(h[w+1]<<8&65280)+(255&h[w+2]),b.push(a[(v=g)>>18&63]+a[v>>12&63]+a[v>>6&63]+a[63&v]);return b.join("")}s[45]=62,s[95]=63},{}],186:[function(e,n,i){(function(a,s){function l(C,k){if(!C)throw new Error(k||"Assertion failed")}function c(C,k){C.super_=k;var j=function(){};j.prototype=k.prototype,C.prototype=new j,C.prototype.constructor=C}function o(C,k,j){if(o.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&(k!=="le"&&k!=="be"||(j=k,k=10),this._init(C||0,k||10,j||"be"))}var u;typeof a=="object"?a.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function d(C,k){var j=C.charCodeAt(k);return j>=48&&j<=57?j-48:j>=65&&j<=70?j-55:j>=97&&j<=102?j-87:void l(!1,"Invalid character in "+C)}function f(C,k,j){var E=d(C,j);return j-1>=k&&(E|=d(C,j-1)<<4),E}function h(C,k,j,E){for(var T=0,R=0,V=Math.min(C.length,j),B=k;B<V;B++){var K=C.charCodeAt(B)-48;T*=E,R=K>=49?K-49+10:K>=17?K-17+10:K,l(K>=0&&R<E,"Invalid character"),T+=R}return T}function y(C,k){C.words=k.words,C.length=k.length,C.negative=k.negative,C.red=k.red}if(o.isBN=function(C){return C instanceof o||C!==null&&typeof C=="object"&&C.constructor.wordSize===o.wordSize&&Array.isArray(C.words)},o.max=function(C,k){return C.cmp(k)>0?C:k},o.min=function(C,k){return C.cmp(k)<0?C:k},o.prototype._init=function(C,k,j){if(typeof C=="number")return this._initNumber(C,k,j);if(typeof C=="object")return this._initArray(C,k,j);k==="hex"&&(k=16),l(k===(0|k)&&k>=2&&k<=36);var E=0;(C=C.toString().replace(/\s+/g,""))[0]==="-"&&(E++,this.negative=1),E<C.length&&(k===16?this._parseHex(C,E,j):(this._parseBase(C,k,E),j==="le"&&this._initArray(this.toArray(),k,j)))},o.prototype._initNumber=function(C,k,j){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(l(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),k,j)},o.prototype._initArray=function(C,k,j){if(l(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var T,R,V=0;if(j==="be")for(E=C.length-1,T=0;E>=0;E-=3)R=C[E]|C[E-1]<<8|C[E-2]<<16,this.words[T]|=R<<V&67108863,this.words[T+1]=R>>>26-V&67108863,(V+=24)>=26&&(V-=26,T++);else if(j==="le")for(E=0,T=0;E<C.length;E+=3)R=C[E]|C[E+1]<<8|C[E+2]<<16,this.words[T]|=R<<V&67108863,this.words[T+1]=R>>>26-V&67108863,(V+=24)>=26&&(V-=26,T++);return this._strip()},o.prototype._parseHex=function(C,k,j){this.length=Math.ceil((C.length-k)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var T,R=0,V=0;if(j==="be")for(E=C.length-1;E>=k;E-=2)T=f(C,k,E)<<R,this.words[V]|=67108863&T,R>=18?(R-=18,V+=1,this.words[V]|=T>>>26):R+=8;else for(E=(C.length-k)%2==0?k+1:k;E<C.length;E+=2)T=f(C,k,E)<<R,this.words[V]|=67108863&T,R>=18?(R-=18,V+=1,this.words[V]|=T>>>26):R+=8;this._strip()},o.prototype._parseBase=function(C,k,j){this.words=[0],this.length=1;for(var E=0,T=1;T<=67108863;T*=k)E++;E--,T=T/k|0;for(var R=C.length-j,V=R%E,B=Math.min(R,R-V)+j,K=0,Z=j;Z<B;Z+=E)K=h(C,Z,Z+E,k),this.imuln(T),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(V!==0){var ne=1;for(K=h(C,Z,C.length,k),Z=0;Z<V;Z++)ne*=k;this.imuln(ne),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this._strip()},o.prototype.copy=function(C){C.words=new Array(this.length);for(var k=0;k<this.length;k++)C.words[k]=this.words[k];C.length=this.length,C.negative=this.negative,C.red=this.red},o.prototype._move=function(C){y(C,this)},o.prototype.clone=function(){var C=new o(null);return this.copy(C),C},o.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{o.prototype.inspect=m}else o.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(C,k){var j;if(k=0|k||1,(C=C||10)===16||C==="hex"){j="";for(var E=0,T=0,R=0;R<this.length;R++){var V=this.words[R],B=(16777215&(V<<E|T)).toString(16);T=V>>>24-E&16777215,(E+=2)>=26&&(E-=26,R--),j=T!==0||R!==this.length-1?g[6-B.length]+B+j:B+j}for(T!==0&&(j=T.toString(16)+j);j.length%k!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(C===(0|C)&&C>=2&&C<=36){var K=v[C],Z=b[C];j="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var G=ne.modrn(Z).toString(C);j=(ne=ne.idivn(Z)).isZero()?G+j:g[K-G.length]+G+j}for(this.isZero()&&(j="0"+j);j.length%k!=0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}l(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=67108864*this.words[1]:this.length===3&&this.words[2]===1?C+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},o.prototype.toJSON=function(){return this.toString(16,2)},u&&(o.prototype.toBuffer=function(C,k){return this.toArrayLike(u,C,k)}),o.prototype.toArray=function(C,k){return this.toArrayLike(Array,C,k)};function w(C,k,j){j.negative=k.negative^C.negative;var E=C.length+k.length|0;j.length=E,E=E-1|0;var T=0|C.words[0],R=0|k.words[0],V=T*R,B=67108863&V,K=V/67108864|0;j.words[0]=B;for(var Z=1;Z<E;Z++){for(var ne=K>>>26,G=67108863&K,te=Math.min(Z,k.length-1),I=Math.max(0,Z-C.length+1);I<=te;I++){var D=Z-I|0;ne+=(V=(T=0|C.words[D])*(R=0|k.words[I])+G)/67108864|0,G=67108863&V}j.words[Z]=0|G,K=0|ne}return K!==0?j.words[Z]=0|K:j.length--,j._strip()}o.prototype.toArrayLike=function(C,k,j){this._strip();var E=this.byteLength(),T=j||Math.max(1,E);l(E<=T,"byte array longer than desired length"),l(T>0,"Requested array length <= 0");var R=function(V,B){return V.allocUnsafe?V.allocUnsafe(B):new V(B)}(C,T);return this["_toArrayLike"+(k==="le"?"LE":"BE")](R,E),R},o.prototype._toArrayLikeLE=function(C,k){for(var j=0,E=0,T=0,R=0;T<this.length;T++){var V=this.words[T]<<R|E;C[j++]=255&V,j<C.length&&(C[j++]=V>>8&255),j<C.length&&(C[j++]=V>>16&255),R===6?(j<C.length&&(C[j++]=V>>24&255),E=0,R=0):(E=V>>>24,R+=2)}if(j<C.length)for(C[j++]=E;j<C.length;)C[j++]=0},o.prototype._toArrayLikeBE=function(C,k){for(var j=C.length-1,E=0,T=0,R=0;T<this.length;T++){var V=this.words[T]<<R|E;C[j--]=255&V,j>=0&&(C[j--]=V>>8&255),j>=0&&(C[j--]=V>>16&255),R===6?(j>=0&&(C[j--]=V>>24&255),E=0,R=0):(E=V>>>24,R+=2)}if(j>=0)for(C[j--]=E;j>=0;)C[j--]=0},Math.clz32?o.prototype._countBits=function(C){return 32-Math.clz32(C)}:o.prototype._countBits=function(C){var k=C,j=0;return k>=4096&&(j+=13,k>>>=13),k>=64&&(j+=7,k>>>=7),k>=8&&(j+=4,k>>>=4),k>=2&&(j+=2,k>>>=2),j+k},o.prototype._zeroBits=function(C){if(C===0)return 26;var k=C,j=0;return(8191&k)==0&&(j+=13,k>>>=13),(127&k)==0&&(j+=7,k>>>=7),(15&k)==0&&(j+=4,k>>>=4),(3&k)==0&&(j+=2,k>>>=2),(1&k)==0&&j++,j},o.prototype.bitLength=function(){var C=this.words[this.length-1],k=this._countBits(C);return 26*(this.length-1)+k},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,k=0;k<this.length;k++){var j=this._zeroBits(this.words[k]);if(C+=j,j!==26)break}return C},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},o.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var k=0;k<C.length;k++)this.words[k]=this.words[k]|C.words[k];return this._strip()},o.prototype.ior=function(C){return l((this.negative|C.negative)==0),this.iuor(C)},o.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},o.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},o.prototype.iuand=function(C){var k;k=this.length>C.length?C:this;for(var j=0;j<k.length;j++)this.words[j]=this.words[j]&C.words[j];return this.length=k.length,this._strip()},o.prototype.iand=function(C){return l((this.negative|C.negative)==0),this.iuand(C)},o.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},o.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},o.prototype.iuxor=function(C){var k,j;this.length>C.length?(k=this,j=C):(k=C,j=this);for(var E=0;E<j.length;E++)this.words[E]=k.words[E]^j.words[E];if(this!==k)for(;E<k.length;E++)this.words[E]=k.words[E];return this.length=k.length,this._strip()},o.prototype.ixor=function(C){return l((this.negative|C.negative)==0),this.iuxor(C)},o.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},o.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},o.prototype.inotn=function(C){l(typeof C=="number"&&C>=0);var k=0|Math.ceil(C/26),j=C%26;this._expand(k),j>0&&k--;for(var E=0;E<k;E++)this.words[E]=67108863&~this.words[E];return j>0&&(this.words[E]=~this.words[E]&67108863>>26-j),this._strip()},o.prototype.notn=function(C){return this.clone().inotn(C)},o.prototype.setn=function(C,k){l(typeof C=="number"&&C>=0);var j=C/26|0,E=C%26;return this._expand(j+1),this.words[j]=k?this.words[j]|1<<E:this.words[j]&~(1<<E),this._strip()},o.prototype.iadd=function(C){var k,j,E;if(this.negative!==0&&C.negative===0)return this.negative=0,k=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,k=this.isub(C),C.negative=1,k._normSign();this.length>C.length?(j=this,E=C):(j=C,E=this);for(var T=0,R=0;R<E.length;R++)k=(0|j.words[R])+(0|E.words[R])+T,this.words[R]=67108863&k,T=k>>>26;for(;T!==0&&R<j.length;R++)k=(0|j.words[R])+T,this.words[R]=67108863&k,T=k>>>26;if(this.length=j.length,T!==0)this.words[this.length]=T,this.length++;else if(j!==this)for(;R<j.length;R++)this.words[R]=j.words[R];return this},o.prototype.add=function(C){var k;return C.negative!==0&&this.negative===0?(C.negative=0,k=this.sub(C),C.negative^=1,k):C.negative===0&&this.negative!==0?(this.negative=0,k=C.sub(this),this.negative=1,k):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},o.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var k=this.iadd(C);return C.negative=1,k._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var j,E,T=this.cmp(C);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;T>0?(j=this,E=C):(j=C,E=this);for(var R=0,V=0;V<E.length;V++)R=(k=(0|j.words[V])-(0|E.words[V])+R)>>26,this.words[V]=67108863&k;for(;R!==0&&V<j.length;V++)R=(k=(0|j.words[V])+R)>>26,this.words[V]=67108863&k;if(R===0&&V<j.length&&j!==this)for(;V<j.length;V++)this.words[V]=j.words[V];return this.length=Math.max(this.length,V),j!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(C){return this.clone().isub(C)};var _=function(C,k,j){var E,T,R,V=C.words,B=k.words,K=j.words,Z=0,ne=0|V[0],G=8191&ne,te=ne>>>13,I=0|V[1],D=8191&I,X=I>>>13,Q=0|V[2],re=8191&Q,oe=Q>>>13,se=0|V[3],he=8191&se,le=se>>>13,de=0|V[4],ve=8191&de,ge=de>>>13,ke=0|V[5],Pe=8191&ke,Re=ke>>>13,Ie=0|V[6],qe=8191&Ie,Ue=Ie>>>13,vt=0|V[7],St=8191&vt,De=vt>>>13,lt=0|V[8],gt=8191&lt,Ve=lt>>>13,Dt=0|V[9],bt=8191&Dt,At=Dt>>>13,ft=0|B[0],jt=8191&ft,ht=ft>>>13,Lt=0|B[1],ur=8191&Lt,zt=Lt>>>13,wr=0|B[2],br=8191&wr,er=wr>>>13,Zt=0|B[3],ar=8191&Zt,fr=Zt>>>13,Sr=0|B[4],Ur=8191&Sr,dr=Sr>>>13,Vt=0|B[5],Dr=8191&Vt,sr=Vt>>>13,ze=0|B[6],Ze=8191&ze,mt=ze>>>13,pe=0|B[7],Ce=8191&pe,be=pe>>>13,Ee=0|B[8],Ae=8191&Ee,Te=Ee>>>13,He=0|B[9],tt=8191&He,We=He>>>13;j.negative=C.negative^k.negative,j.length=19;var it=(Z+(E=Math.imul(G,jt))|0)+((8191&(T=(T=Math.imul(G,ht))+Math.imul(te,jt)|0))<<13)|0;Z=((R=Math.imul(te,ht))+(T>>>13)|0)+(it>>>26)|0,it&=67108863,E=Math.imul(D,jt),T=(T=Math.imul(D,ht))+Math.imul(X,jt)|0,R=Math.imul(X,ht);var et=(Z+(E=E+Math.imul(G,ur)|0)|0)+((8191&(T=(T=T+Math.imul(G,zt)|0)+Math.imul(te,ur)|0))<<13)|0;Z=((R=R+Math.imul(te,zt)|0)+(T>>>13)|0)+(et>>>26)|0,et&=67108863,E=Math.imul(re,jt),T=(T=Math.imul(re,ht))+Math.imul(oe,jt)|0,R=Math.imul(oe,ht),E=E+Math.imul(D,ur)|0,T=(T=T+Math.imul(D,zt)|0)+Math.imul(X,ur)|0,R=R+Math.imul(X,zt)|0;var Ct=(Z+(E=E+Math.imul(G,br)|0)|0)+((8191&(T=(T=T+Math.imul(G,er)|0)+Math.imul(te,br)|0))<<13)|0;Z=((R=R+Math.imul(te,er)|0)+(T>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,E=Math.imul(he,jt),T=(T=Math.imul(he,ht))+Math.imul(le,jt)|0,R=Math.imul(le,ht),E=E+Math.imul(re,ur)|0,T=(T=T+Math.imul(re,zt)|0)+Math.imul(oe,ur)|0,R=R+Math.imul(oe,zt)|0,E=E+Math.imul(D,br)|0,T=(T=T+Math.imul(D,er)|0)+Math.imul(X,br)|0,R=R+Math.imul(X,er)|0;var Mt=(Z+(E=E+Math.imul(G,ar)|0)|0)+((8191&(T=(T=T+Math.imul(G,fr)|0)+Math.imul(te,ar)|0))<<13)|0;Z=((R=R+Math.imul(te,fr)|0)+(T>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,E=Math.imul(ve,jt),T=(T=Math.imul(ve,ht))+Math.imul(ge,jt)|0,R=Math.imul(ge,ht),E=E+Math.imul(he,ur)|0,T=(T=T+Math.imul(he,zt)|0)+Math.imul(le,ur)|0,R=R+Math.imul(le,zt)|0,E=E+Math.imul(re,br)|0,T=(T=T+Math.imul(re,er)|0)+Math.imul(oe,br)|0,R=R+Math.imul(oe,er)|0,E=E+Math.imul(D,ar)|0,T=(T=T+Math.imul(D,fr)|0)+Math.imul(X,ar)|0,R=R+Math.imul(X,fr)|0;var Gt=(Z+(E=E+Math.imul(G,Ur)|0)|0)+((8191&(T=(T=T+Math.imul(G,dr)|0)+Math.imul(te,Ur)|0))<<13)|0;Z=((R=R+Math.imul(te,dr)|0)+(T>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,E=Math.imul(Pe,jt),T=(T=Math.imul(Pe,ht))+Math.imul(Re,jt)|0,R=Math.imul(Re,ht),E=E+Math.imul(ve,ur)|0,T=(T=T+Math.imul(ve,zt)|0)+Math.imul(ge,ur)|0,R=R+Math.imul(ge,zt)|0,E=E+Math.imul(he,br)|0,T=(T=T+Math.imul(he,er)|0)+Math.imul(le,br)|0,R=R+Math.imul(le,er)|0,E=E+Math.imul(re,ar)|0,T=(T=T+Math.imul(re,fr)|0)+Math.imul(oe,ar)|0,R=R+Math.imul(oe,fr)|0,E=E+Math.imul(D,Ur)|0,T=(T=T+Math.imul(D,dr)|0)+Math.imul(X,Ur)|0,R=R+Math.imul(X,dr)|0;var Se=(Z+(E=E+Math.imul(G,Dr)|0)|0)+((8191&(T=(T=T+Math.imul(G,sr)|0)+Math.imul(te,Dr)|0))<<13)|0;Z=((R=R+Math.imul(te,sr)|0)+(T>>>13)|0)+(Se>>>26)|0,Se&=67108863,E=Math.imul(qe,jt),T=(T=Math.imul(qe,ht))+Math.imul(Ue,jt)|0,R=Math.imul(Ue,ht),E=E+Math.imul(Pe,ur)|0,T=(T=T+Math.imul(Pe,zt)|0)+Math.imul(Re,ur)|0,R=R+Math.imul(Re,zt)|0,E=E+Math.imul(ve,br)|0,T=(T=T+Math.imul(ve,er)|0)+Math.imul(ge,br)|0,R=R+Math.imul(ge,er)|0,E=E+Math.imul(he,ar)|0,T=(T=T+Math.imul(he,fr)|0)+Math.imul(le,ar)|0,R=R+Math.imul(le,fr)|0,E=E+Math.imul(re,Ur)|0,T=(T=T+Math.imul(re,dr)|0)+Math.imul(oe,Ur)|0,R=R+Math.imul(oe,dr)|0,E=E+Math.imul(D,Dr)|0,T=(T=T+Math.imul(D,sr)|0)+Math.imul(X,Dr)|0,R=R+Math.imul(X,sr)|0;var Fe=(Z+(E=E+Math.imul(G,Ze)|0)|0)+((8191&(T=(T=T+Math.imul(G,mt)|0)+Math.imul(te,Ze)|0))<<13)|0;Z=((R=R+Math.imul(te,mt)|0)+(T>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,E=Math.imul(St,jt),T=(T=Math.imul(St,ht))+Math.imul(De,jt)|0,R=Math.imul(De,ht),E=E+Math.imul(qe,ur)|0,T=(T=T+Math.imul(qe,zt)|0)+Math.imul(Ue,ur)|0,R=R+Math.imul(Ue,zt)|0,E=E+Math.imul(Pe,br)|0,T=(T=T+Math.imul(Pe,er)|0)+Math.imul(Re,br)|0,R=R+Math.imul(Re,er)|0,E=E+Math.imul(ve,ar)|0,T=(T=T+Math.imul(ve,fr)|0)+Math.imul(ge,ar)|0,R=R+Math.imul(ge,fr)|0,E=E+Math.imul(he,Ur)|0,T=(T=T+Math.imul(he,dr)|0)+Math.imul(le,Ur)|0,R=R+Math.imul(le,dr)|0,E=E+Math.imul(re,Dr)|0,T=(T=T+Math.imul(re,sr)|0)+Math.imul(oe,Dr)|0,R=R+Math.imul(oe,sr)|0,E=E+Math.imul(D,Ze)|0,T=(T=T+Math.imul(D,mt)|0)+Math.imul(X,Ze)|0,R=R+Math.imul(X,mt)|0;var ct=(Z+(E=E+Math.imul(G,Ce)|0)|0)+((8191&(T=(T=T+Math.imul(G,be)|0)+Math.imul(te,Ce)|0))<<13)|0;Z=((R=R+Math.imul(te,be)|0)+(T>>>13)|0)+(ct>>>26)|0,ct&=67108863,E=Math.imul(gt,jt),T=(T=Math.imul(gt,ht))+Math.imul(Ve,jt)|0,R=Math.imul(Ve,ht),E=E+Math.imul(St,ur)|0,T=(T=T+Math.imul(St,zt)|0)+Math.imul(De,ur)|0,R=R+Math.imul(De,zt)|0,E=E+Math.imul(qe,br)|0,T=(T=T+Math.imul(qe,er)|0)+Math.imul(Ue,br)|0,R=R+Math.imul(Ue,er)|0,E=E+Math.imul(Pe,ar)|0,T=(T=T+Math.imul(Pe,fr)|0)+Math.imul(Re,ar)|0,R=R+Math.imul(Re,fr)|0,E=E+Math.imul(ve,Ur)|0,T=(T=T+Math.imul(ve,dr)|0)+Math.imul(ge,Ur)|0,R=R+Math.imul(ge,dr)|0,E=E+Math.imul(he,Dr)|0,T=(T=T+Math.imul(he,sr)|0)+Math.imul(le,Dr)|0,R=R+Math.imul(le,sr)|0,E=E+Math.imul(re,Ze)|0,T=(T=T+Math.imul(re,mt)|0)+Math.imul(oe,Ze)|0,R=R+Math.imul(oe,mt)|0,E=E+Math.imul(D,Ce)|0,T=(T=T+Math.imul(D,be)|0)+Math.imul(X,Ce)|0,R=R+Math.imul(X,be)|0;var wt=(Z+(E=E+Math.imul(G,Ae)|0)|0)+((8191&(T=(T=T+Math.imul(G,Te)|0)+Math.imul(te,Ae)|0))<<13)|0;Z=((R=R+Math.imul(te,Te)|0)+(T>>>13)|0)+(wt>>>26)|0,wt&=67108863,E=Math.imul(bt,jt),T=(T=Math.imul(bt,ht))+Math.imul(At,jt)|0,R=Math.imul(At,ht),E=E+Math.imul(gt,ur)|0,T=(T=T+Math.imul(gt,zt)|0)+Math.imul(Ve,ur)|0,R=R+Math.imul(Ve,zt)|0,E=E+Math.imul(St,br)|0,T=(T=T+Math.imul(St,er)|0)+Math.imul(De,br)|0,R=R+Math.imul(De,er)|0,E=E+Math.imul(qe,ar)|0,T=(T=T+Math.imul(qe,fr)|0)+Math.imul(Ue,ar)|0,R=R+Math.imul(Ue,fr)|0,E=E+Math.imul(Pe,Ur)|0,T=(T=T+Math.imul(Pe,dr)|0)+Math.imul(Re,Ur)|0,R=R+Math.imul(Re,dr)|0,E=E+Math.imul(ve,Dr)|0,T=(T=T+Math.imul(ve,sr)|0)+Math.imul(ge,Dr)|0,R=R+Math.imul(ge,sr)|0,E=E+Math.imul(he,Ze)|0,T=(T=T+Math.imul(he,mt)|0)+Math.imul(le,Ze)|0,R=R+Math.imul(le,mt)|0,E=E+Math.imul(re,Ce)|0,T=(T=T+Math.imul(re,be)|0)+Math.imul(oe,Ce)|0,R=R+Math.imul(oe,be)|0,E=E+Math.imul(D,Ae)|0,T=(T=T+Math.imul(D,Te)|0)+Math.imul(X,Ae)|0,R=R+Math.imul(X,Te)|0;var Wt=(Z+(E=E+Math.imul(G,tt)|0)|0)+((8191&(T=(T=T+Math.imul(G,We)|0)+Math.imul(te,tt)|0))<<13)|0;Z=((R=R+Math.imul(te,We)|0)+(T>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,E=Math.imul(bt,ur),T=(T=Math.imul(bt,zt))+Math.imul(At,ur)|0,R=Math.imul(At,zt),E=E+Math.imul(gt,br)|0,T=(T=T+Math.imul(gt,er)|0)+Math.imul(Ve,br)|0,R=R+Math.imul(Ve,er)|0,E=E+Math.imul(St,ar)|0,T=(T=T+Math.imul(St,fr)|0)+Math.imul(De,ar)|0,R=R+Math.imul(De,fr)|0,E=E+Math.imul(qe,Ur)|0,T=(T=T+Math.imul(qe,dr)|0)+Math.imul(Ue,Ur)|0,R=R+Math.imul(Ue,dr)|0,E=E+Math.imul(Pe,Dr)|0,T=(T=T+Math.imul(Pe,sr)|0)+Math.imul(Re,Dr)|0,R=R+Math.imul(Re,sr)|0,E=E+Math.imul(ve,Ze)|0,T=(T=T+Math.imul(ve,mt)|0)+Math.imul(ge,Ze)|0,R=R+Math.imul(ge,mt)|0,E=E+Math.imul(he,Ce)|0,T=(T=T+Math.imul(he,be)|0)+Math.imul(le,Ce)|0,R=R+Math.imul(le,be)|0,E=E+Math.imul(re,Ae)|0,T=(T=T+Math.imul(re,Te)|0)+Math.imul(oe,Ae)|0,R=R+Math.imul(oe,Te)|0;var It=(Z+(E=E+Math.imul(D,tt)|0)|0)+((8191&(T=(T=T+Math.imul(D,We)|0)+Math.imul(X,tt)|0))<<13)|0;Z=((R=R+Math.imul(X,We)|0)+(T>>>13)|0)+(It>>>26)|0,It&=67108863,E=Math.imul(bt,br),T=(T=Math.imul(bt,er))+Math.imul(At,br)|0,R=Math.imul(At,er),E=E+Math.imul(gt,ar)|0,T=(T=T+Math.imul(gt,fr)|0)+Math.imul(Ve,ar)|0,R=R+Math.imul(Ve,fr)|0,E=E+Math.imul(St,Ur)|0,T=(T=T+Math.imul(St,dr)|0)+Math.imul(De,Ur)|0,R=R+Math.imul(De,dr)|0,E=E+Math.imul(qe,Dr)|0,T=(T=T+Math.imul(qe,sr)|0)+Math.imul(Ue,Dr)|0,R=R+Math.imul(Ue,sr)|0,E=E+Math.imul(Pe,Ze)|0,T=(T=T+Math.imul(Pe,mt)|0)+Math.imul(Re,Ze)|0,R=R+Math.imul(Re,mt)|0,E=E+Math.imul(ve,Ce)|0,T=(T=T+Math.imul(ve,be)|0)+Math.imul(ge,Ce)|0,R=R+Math.imul(ge,be)|0,E=E+Math.imul(he,Ae)|0,T=(T=T+Math.imul(he,Te)|0)+Math.imul(le,Ae)|0,R=R+Math.imul(le,Te)|0;var qt=(Z+(E=E+Math.imul(re,tt)|0)|0)+((8191&(T=(T=T+Math.imul(re,We)|0)+Math.imul(oe,tt)|0))<<13)|0;Z=((R=R+Math.imul(oe,We)|0)+(T>>>13)|0)+(qt>>>26)|0,qt&=67108863,E=Math.imul(bt,ar),T=(T=Math.imul(bt,fr))+Math.imul(At,ar)|0,R=Math.imul(At,fr),E=E+Math.imul(gt,Ur)|0,T=(T=T+Math.imul(gt,dr)|0)+Math.imul(Ve,Ur)|0,R=R+Math.imul(Ve,dr)|0,E=E+Math.imul(St,Dr)|0,T=(T=T+Math.imul(St,sr)|0)+Math.imul(De,Dr)|0,R=R+Math.imul(De,sr)|0,E=E+Math.imul(qe,Ze)|0,T=(T=T+Math.imul(qe,mt)|0)+Math.imul(Ue,Ze)|0,R=R+Math.imul(Ue,mt)|0,E=E+Math.imul(Pe,Ce)|0,T=(T=T+Math.imul(Pe,be)|0)+Math.imul(Re,Ce)|0,R=R+Math.imul(Re,be)|0,E=E+Math.imul(ve,Ae)|0,T=(T=T+Math.imul(ve,Te)|0)+Math.imul(ge,Ae)|0,R=R+Math.imul(ge,Te)|0;var Rr=(Z+(E=E+Math.imul(he,tt)|0)|0)+((8191&(T=(T=T+Math.imul(he,We)|0)+Math.imul(le,tt)|0))<<13)|0;Z=((R=R+Math.imul(le,We)|0)+(T>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,E=Math.imul(bt,Ur),T=(T=Math.imul(bt,dr))+Math.imul(At,Ur)|0,R=Math.imul(At,dr),E=E+Math.imul(gt,Dr)|0,T=(T=T+Math.imul(gt,sr)|0)+Math.imul(Ve,Dr)|0,R=R+Math.imul(Ve,sr)|0,E=E+Math.imul(St,Ze)|0,T=(T=T+Math.imul(St,mt)|0)+Math.imul(De,Ze)|0,R=R+Math.imul(De,mt)|0,E=E+Math.imul(qe,Ce)|0,T=(T=T+Math.imul(qe,be)|0)+Math.imul(Ue,Ce)|0,R=R+Math.imul(Ue,be)|0,E=E+Math.imul(Pe,Ae)|0,T=(T=T+Math.imul(Pe,Te)|0)+Math.imul(Re,Ae)|0,R=R+Math.imul(Re,Te)|0;var kr=(Z+(E=E+Math.imul(ve,tt)|0)|0)+((8191&(T=(T=T+Math.imul(ve,We)|0)+Math.imul(ge,tt)|0))<<13)|0;Z=((R=R+Math.imul(ge,We)|0)+(T>>>13)|0)+(kr>>>26)|0,kr&=67108863,E=Math.imul(bt,Dr),T=(T=Math.imul(bt,sr))+Math.imul(At,Dr)|0,R=Math.imul(At,sr),E=E+Math.imul(gt,Ze)|0,T=(T=T+Math.imul(gt,mt)|0)+Math.imul(Ve,Ze)|0,R=R+Math.imul(Ve,mt)|0,E=E+Math.imul(St,Ce)|0,T=(T=T+Math.imul(St,be)|0)+Math.imul(De,Ce)|0,R=R+Math.imul(De,be)|0,E=E+Math.imul(qe,Ae)|0,T=(T=T+Math.imul(qe,Te)|0)+Math.imul(Ue,Ae)|0,R=R+Math.imul(Ue,Te)|0;var mr=(Z+(E=E+Math.imul(Pe,tt)|0)|0)+((8191&(T=(T=T+Math.imul(Pe,We)|0)+Math.imul(Re,tt)|0))<<13)|0;Z=((R=R+Math.imul(Re,We)|0)+(T>>>13)|0)+(mr>>>26)|0,mr&=67108863,E=Math.imul(bt,Ze),T=(T=Math.imul(bt,mt))+Math.imul(At,Ze)|0,R=Math.imul(At,mt),E=E+Math.imul(gt,Ce)|0,T=(T=T+Math.imul(gt,be)|0)+Math.imul(Ve,Ce)|0,R=R+Math.imul(Ve,be)|0,E=E+Math.imul(St,Ae)|0,T=(T=T+Math.imul(St,Te)|0)+Math.imul(De,Ae)|0,R=R+Math.imul(De,Te)|0;var or=(Z+(E=E+Math.imul(qe,tt)|0)|0)+((8191&(T=(T=T+Math.imul(qe,We)|0)+Math.imul(Ue,tt)|0))<<13)|0;Z=((R=R+Math.imul(Ue,We)|0)+(T>>>13)|0)+(or>>>26)|0,or&=67108863,E=Math.imul(bt,Ce),T=(T=Math.imul(bt,be))+Math.imul(At,Ce)|0,R=Math.imul(At,be),E=E+Math.imul(gt,Ae)|0,T=(T=T+Math.imul(gt,Te)|0)+Math.imul(Ve,Ae)|0,R=R+Math.imul(Ve,Te)|0;var Er=(Z+(E=E+Math.imul(St,tt)|0)|0)+((8191&(T=(T=T+Math.imul(St,We)|0)+Math.imul(De,tt)|0))<<13)|0;Z=((R=R+Math.imul(De,We)|0)+(T>>>13)|0)+(Er>>>26)|0,Er&=67108863,E=Math.imul(bt,Ae),T=(T=Math.imul(bt,Te))+Math.imul(At,Ae)|0,R=Math.imul(At,Te);var Ar=(Z+(E=E+Math.imul(gt,tt)|0)|0)+((8191&(T=(T=T+Math.imul(gt,We)|0)+Math.imul(Ve,tt)|0))<<13)|0;Z=((R=R+Math.imul(Ve,We)|0)+(T>>>13)|0)+(Ar>>>26)|0,Ar&=67108863;var nn=(Z+(E=Math.imul(bt,tt))|0)+((8191&(T=(T=Math.imul(bt,We))+Math.imul(At,tt)|0))<<13)|0;return Z=((R=Math.imul(At,We))+(T>>>13)|0)+(nn>>>26)|0,nn&=67108863,K[0]=it,K[1]=et,K[2]=Ct,K[3]=Mt,K[4]=Gt,K[5]=Se,K[6]=Fe,K[7]=ct,K[8]=wt,K[9]=Wt,K[10]=It,K[11]=qt,K[12]=Rr,K[13]=kr,K[14]=mr,K[15]=or,K[16]=Er,K[17]=Ar,K[18]=nn,Z!==0&&(K[19]=Z,j.length++),j};function N(C,k,j){j.negative=k.negative^C.negative,j.length=C.length+k.length;for(var E=0,T=0,R=0;R<j.length-1;R++){var V=T;T=0;for(var B=67108863&E,K=Math.min(R,k.length-1),Z=Math.max(0,R-C.length+1);Z<=K;Z++){var ne=R-Z,G=(0|C.words[ne])*(0|k.words[Z]),te=67108863&G;B=67108863&(te=te+B|0),T+=(V=(V=V+(G/67108864|0)|0)+(te>>>26)|0)>>>26,V&=67108863}j.words[R]=B,E=V,V=T}return E!==0?j.words[R]=E:j.length--,j._strip()}function P(C,k,j){return N(C,k,j)}Math.imul||(_=w),o.prototype.mulTo=function(C,k){var j=this.length+C.length;return this.length===10&&C.length===10?_(this,C,k):j<63?w(this,C,k):j<1024?N(this,C,k):P(this,C,k)},o.prototype.mul=function(C){var k=new o(null);return k.words=new Array(this.length+C.length),this.mulTo(C,k)},o.prototype.mulf=function(C){var k=new o(null);return k.words=new Array(this.length+C.length),P(this,C,k)},o.prototype.imul=function(C){return this.clone().mulTo(C,this)},o.prototype.imuln=function(C){var k=C<0;k&&(C=-C),l(typeof C=="number"),l(C<67108864);for(var j=0,E=0;E<this.length;E++){var T=(0|this.words[E])*C,R=(67108863&T)+(67108863&j);j>>=26,j+=T/67108864|0,j+=R>>>26,this.words[E]=67108863&R}return j!==0&&(this.words[E]=j,this.length++),k?this.ineg():this},o.prototype.muln=function(C){return this.clone().imuln(C)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(C){var k=function(R){for(var V=new Array(R.bitLength()),B=0;B<V.length;B++){var K=B/26|0,Z=B%26;V[B]=R.words[K]>>>Z&1}return V}(C);if(k.length===0)return new o(1);for(var j=this,E=0;E<k.length&&k[E]===0;E++,j=j.sqr());if(++E<k.length)for(var T=j.sqr();E<k.length;E++,T=T.sqr())k[E]!==0&&(j=j.mul(T));return j},o.prototype.iushln=function(C){l(typeof C=="number"&&C>=0);var k,j=C%26,E=(C-j)/26,T=67108863>>>26-j<<26-j;if(j!==0){var R=0;for(k=0;k<this.length;k++){var V=this.words[k]&T,B=(0|this.words[k])-V<<j;this.words[k]=B|R,R=V>>>26-j}R&&(this.words[k]=R,this.length++)}if(E!==0){for(k=this.length-1;k>=0;k--)this.words[k+E]=this.words[k];for(k=0;k<E;k++)this.words[k]=0;this.length+=E}return this._strip()},o.prototype.ishln=function(C){return l(this.negative===0),this.iushln(C)},o.prototype.iushrn=function(C,k,j){var E;l(typeof C=="number"&&C>=0),E=k?(k-k%26)/26:0;var T=C%26,R=Math.min((C-T)/26,this.length),V=67108863^67108863>>>T<<T,B=j;if(E-=R,E=Math.max(0,E),B){for(var K=0;K<R;K++)B.words[K]=this.words[K];B.length=R}if(R!==0)if(this.length>R)for(this.length-=R,K=0;K<this.length;K++)this.words[K]=this.words[K+R];else this.words[0]=0,this.length=1;var Z=0;for(K=this.length-1;K>=0&&(Z!==0||K>=E);K--){var ne=0|this.words[K];this.words[K]=Z<<26-T|ne>>>T,Z=ne&V}return B&&Z!==0&&(B.words[B.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(C,k,j){return l(this.negative===0),this.iushrn(C,k,j)},o.prototype.shln=function(C){return this.clone().ishln(C)},o.prototype.ushln=function(C){return this.clone().iushln(C)},o.prototype.shrn=function(C){return this.clone().ishrn(C)},o.prototype.ushrn=function(C){return this.clone().iushrn(C)},o.prototype.testn=function(C){l(typeof C=="number"&&C>=0);var k=C%26,j=(C-k)/26,E=1<<k;return!(this.length<=j)&&!!(this.words[j]&E)},o.prototype.imaskn=function(C){l(typeof C=="number"&&C>=0);var k=C%26,j=(C-k)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(k!==0&&j++,this.length=Math.min(j,this.length),k!==0){var E=67108863^67108863>>>k<<k;this.words[this.length-1]&=E}return this._strip()},o.prototype.maskn=function(C){return this.clone().imaskn(C)},o.prototype.iaddn=function(C){return l(typeof C=="number"),l(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(0|this.words[0])<=C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},o.prototype._iaddn=function(C){this.words[0]+=C;for(var k=0;k<this.length&&this.words[k]>=67108864;k++)this.words[k]-=67108864,k===this.length-1?this.words[k+1]=1:this.words[k+1]++;return this.length=Math.max(this.length,k+1),this},o.prototype.isubn=function(C){if(l(typeof C=="number"),l(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var k=0;k<this.length&&this.words[k]<0;k++)this.words[k]+=67108864,this.words[k+1]-=1;return this._strip()},o.prototype.addn=function(C){return this.clone().iaddn(C)},o.prototype.subn=function(C){return this.clone().isubn(C)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(C,k,j){var E,T,R=C.length+j;this._expand(R);var V=0;for(E=0;E<C.length;E++){T=(0|this.words[E+j])+V;var B=(0|C.words[E])*k;V=((T-=67108863&B)>>26)-(B/67108864|0),this.words[E+j]=67108863&T}for(;E<this.length-j;E++)V=(T=(0|this.words[E+j])+V)>>26,this.words[E+j]=67108863&T;if(V===0)return this._strip();for(l(V===-1),V=0,E=0;E<this.length;E++)V=(T=-(0|this.words[E])+V)>>26,this.words[E]=67108863&T;return this.negative=1,this._strip()},o.prototype._wordDiv=function(C,k){var j=(this.length,C.length),E=this.clone(),T=C,R=0|T.words[T.length-1];(j=26-this._countBits(R))!==0&&(T=T.ushln(j),E.iushln(j),R=0|T.words[T.length-1]);var V,B=E.length-T.length;if(k!=="mod"){(V=new o(null)).length=B+1,V.words=new Array(V.length);for(var K=0;K<V.length;K++)V.words[K]=0}var Z=E.clone()._ishlnsubmul(T,1,B);Z.negative===0&&(E=Z,V&&(V.words[B]=1));for(var ne=B-1;ne>=0;ne--){var G=67108864*(0|E.words[T.length+ne])+(0|E.words[T.length+ne-1]);for(G=Math.min(G/R|0,67108863),E._ishlnsubmul(T,G,ne);E.negative!==0;)G--,E.negative=0,E._ishlnsubmul(T,1,ne),E.isZero()||(E.negative^=1);V&&(V.words[ne]=G)}return V&&V._strip(),E._strip(),k!=="div"&&j!==0&&E.iushrn(j),{div:V||null,mod:E}},o.prototype.divmod=function(C,k,j){return l(!C.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&C.negative===0?(R=this.neg().divmod(C,k),k!=="mod"&&(E=R.div.neg()),k!=="div"&&(T=R.mod.neg(),j&&T.negative!==0&&T.iadd(C)),{div:E,mod:T}):this.negative===0&&C.negative!==0?(R=this.divmod(C.neg(),k),k!=="mod"&&(E=R.div.neg()),{div:E,mod:R.mod}):(this.negative&C.negative)!=0?(R=this.neg().divmod(C.neg(),k),k!=="div"&&(T=R.mod.neg(),j&&T.negative!==0&&T.isub(C)),{div:R.div,mod:T}):C.length>this.length||this.cmp(C)<0?{div:new o(0),mod:this}:C.length===1?k==="div"?{div:this.divn(C.words[0]),mod:null}:k==="mod"?{div:null,mod:new o(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new o(this.modrn(C.words[0]))}:this._wordDiv(C,k);var E,T,R},o.prototype.div=function(C){return this.divmod(C,"div",!1).div},o.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},o.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},o.prototype.divRound=function(C){var k=this.divmod(C);if(k.mod.isZero())return k.div;var j=k.div.negative!==0?k.mod.isub(C):k.mod,E=C.ushrn(1),T=C.andln(1),R=j.cmp(E);return R<0||T===1&&R===0?k.div:k.div.negative!==0?k.div.isubn(1):k.div.iaddn(1)},o.prototype.modrn=function(C){var k=C<0;k&&(C=-C),l(C<=67108863);for(var j=(1<<26)%C,E=0,T=this.length-1;T>=0;T--)E=(j*E+(0|this.words[T]))%C;return k?-E:E},o.prototype.modn=function(C){return this.modrn(C)},o.prototype.idivn=function(C){var k=C<0;k&&(C=-C),l(C<=67108863);for(var j=0,E=this.length-1;E>=0;E--){var T=(0|this.words[E])+67108864*j;this.words[E]=T/C|0,j=T%C}return this._strip(),k?this.ineg():this},o.prototype.divn=function(C){return this.clone().idivn(C)},o.prototype.egcd=function(C){l(C.negative===0),l(!C.isZero());var k=this,j=C.clone();k=k.negative!==0?k.umod(C):k.clone();for(var E=new o(1),T=new o(0),R=new o(0),V=new o(1),B=0;k.isEven()&&j.isEven();)k.iushrn(1),j.iushrn(1),++B;for(var K=j.clone(),Z=k.clone();!k.isZero();){for(var ne=0,G=1;(k.words[0]&G)==0&&ne<26;++ne,G<<=1);if(ne>0)for(k.iushrn(ne);ne-- >0;)(E.isOdd()||T.isOdd())&&(E.iadd(K),T.isub(Z)),E.iushrn(1),T.iushrn(1);for(var te=0,I=1;(j.words[0]&I)==0&&te<26;++te,I<<=1);if(te>0)for(j.iushrn(te);te-- >0;)(R.isOdd()||V.isOdd())&&(R.iadd(K),V.isub(Z)),R.iushrn(1),V.iushrn(1);k.cmp(j)>=0?(k.isub(j),E.isub(R),T.isub(V)):(j.isub(k),R.isub(E),V.isub(T))}return{a:R,b:V,gcd:j.iushln(B)}},o.prototype._invmp=function(C){l(C.negative===0),l(!C.isZero());var k=this,j=C.clone();k=k.negative!==0?k.umod(C):k.clone();for(var E,T=new o(1),R=new o(0),V=j.clone();k.cmpn(1)>0&&j.cmpn(1)>0;){for(var B=0,K=1;(k.words[0]&K)==0&&B<26;++B,K<<=1);if(B>0)for(k.iushrn(B);B-- >0;)T.isOdd()&&T.iadd(V),T.iushrn(1);for(var Z=0,ne=1;(j.words[0]&ne)==0&&Z<26;++Z,ne<<=1);if(Z>0)for(j.iushrn(Z);Z-- >0;)R.isOdd()&&R.iadd(V),R.iushrn(1);k.cmp(j)>=0?(k.isub(j),T.isub(R)):(j.isub(k),R.isub(T))}return(E=k.cmpn(1)===0?T:R).cmpn(0)<0&&E.iadd(C),E},o.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var k=this.clone(),j=C.clone();k.negative=0,j.negative=0;for(var E=0;k.isEven()&&j.isEven();E++)k.iushrn(1),j.iushrn(1);for(;;){for(;k.isEven();)k.iushrn(1);for(;j.isEven();)j.iushrn(1);var T=k.cmp(j);if(T<0){var R=k;k=j,j=R}else if(T===0||j.cmpn(1)===0)break;k.isub(j)}return j.iushln(E)},o.prototype.invm=function(C){return this.egcd(C).a.umod(C)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(C){return this.words[0]&C},o.prototype.bincn=function(C){l(typeof C=="number");var k=C%26,j=(C-k)/26,E=1<<k;if(this.length<=j)return this._expand(j+1),this.words[j]|=E,this;for(var T=E,R=j;T!==0&&R<this.length;R++){var V=0|this.words[R];T=(V+=T)>>>26,V&=67108863,this.words[R]=V}return T!==0&&(this.words[R]=T,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(C){var k,j=C<0;if(this.negative!==0&&!j)return-1;if(this.negative===0&&j)return 1;if(this._strip(),this.length>1)k=1;else{j&&(C=-C),l(C<=67108863,"Number is too big");var E=0|this.words[0];k=E===C?0:E<C?-1:1}return this.negative!==0?0|-k:k},o.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var k=this.ucmp(C);return this.negative!==0?0|-k:k},o.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var k=0,j=this.length-1;j>=0;j--){var E=0|this.words[j],T=0|C.words[j];if(E!==T){E<T?k=-1:E>T&&(k=1);break}}return k},o.prototype.gtn=function(C){return this.cmpn(C)===1},o.prototype.gt=function(C){return this.cmp(C)===1},o.prototype.gten=function(C){return this.cmpn(C)>=0},o.prototype.gte=function(C){return this.cmp(C)>=0},o.prototype.ltn=function(C){return this.cmpn(C)===-1},o.prototype.lt=function(C){return this.cmp(C)===-1},o.prototype.lten=function(C){return this.cmpn(C)<=0},o.prototype.lte=function(C){return this.cmp(C)<=0},o.prototype.eqn=function(C){return this.cmpn(C)===0},o.prototype.eq=function(C){return this.cmp(C)===0},o.red=function(C){return new O(C)},o.prototype.toRed=function(C){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},o.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(C){return this.red=C,this},o.prototype.forceRed=function(C){return l(!this.red,"Already a number in reduction context"),this._forceRed(C)},o.prototype.redAdd=function(C){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},o.prototype.redIAdd=function(C){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},o.prototype.redSub=function(C){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},o.prototype.redISub=function(C){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},o.prototype.redShl=function(C){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},o.prototype.redMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},o.prototype.redIMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},o.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(C){return l(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var M={k256:null,p224:null,p192:null,p25519:null};function A(C,k){this.name=C,this.p=new o(k,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function F(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function H(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function z(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function U(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function O(C){if(typeof C=="string"){var k=o._prime(C);this.m=k.p,this.prime=k}else l(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function L(C){O.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var C=new o(null);return C.words=new Array(Math.ceil(this.n/13)),C},A.prototype.ireduce=function(C){var k,j=C;do this.split(j,this.tmp),k=(j=(j=this.imulK(j)).iadd(this.tmp)).bitLength();while(k>this.n);var E=k<this.n?-1:j.ucmp(this.p);return E===0?(j.words[0]=0,j.length=1):E>0?j.isub(this.p):j.strip!==void 0?j.strip():j._strip(),j},A.prototype.split=function(C,k){C.iushrn(this.n,0,k)},A.prototype.imulK=function(C){return C.imul(this.k)},c(F,A),F.prototype.split=function(C,k){for(var j=Math.min(C.length,9),E=0;E<j;E++)k.words[E]=C.words[E];if(k.length=j,C.length<=9)return C.words[0]=0,void(C.length=1);var T=C.words[9];for(k.words[k.length++]=4194303&T,E=10;E<C.length;E++){var R=0|C.words[E];C.words[E-10]=(4194303&R)<<4|T>>>22,T=R}T>>>=22,C.words[E-10]=T,T===0&&C.length>10?C.length-=10:C.length-=9},F.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var k=0,j=0;j<C.length;j++){var E=0|C.words[j];k+=977*E,C.words[j]=67108863&k,k=64*E+(k/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C},c(H,A),c(z,A),c(U,A),U.prototype.imulK=function(C){for(var k=0,j=0;j<C.length;j++){var E=19*(0|C.words[j])+k,T=67108863&E;E>>>=26,C.words[j]=T,k=E}return k!==0&&(C.words[C.length++]=k),C},o._prime=function(C){if(M[C])return M[C];var k;if(C==="k256")k=new F;else if(C==="p224")k=new H;else if(C==="p192")k=new z;else{if(C!=="p25519")throw new Error("Unknown prime "+C);k=new U}return M[C]=k,k},O.prototype._verify1=function(C){l(C.negative===0,"red works only with positives"),l(C.red,"red works only with red numbers")},O.prototype._verify2=function(C,k){l((C.negative|k.negative)==0,"red works only with positives"),l(C.red&&C.red===k.red,"red works only with red numbers")},O.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(y(C,C.umod(this.m)._forceRed(this)),C)},O.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},O.prototype.add=function(C,k){this._verify2(C,k);var j=C.add(k);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},O.prototype.iadd=function(C,k){this._verify2(C,k);var j=C.iadd(k);return j.cmp(this.m)>=0&&j.isub(this.m),j},O.prototype.sub=function(C,k){this._verify2(C,k);var j=C.sub(k);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},O.prototype.isub=function(C,k){this._verify2(C,k);var j=C.isub(k);return j.cmpn(0)<0&&j.iadd(this.m),j},O.prototype.shl=function(C,k){return this._verify1(C),this.imod(C.ushln(k))},O.prototype.imul=function(C,k){return this._verify2(C,k),this.imod(C.imul(k))},O.prototype.mul=function(C,k){return this._verify2(C,k),this.imod(C.mul(k))},O.prototype.isqr=function(C){return this.imul(C,C.clone())},O.prototype.sqr=function(C){return this.mul(C,C)},O.prototype.sqrt=function(C){if(C.isZero())return C.clone();var k=this.m.andln(3);if(l(k%2==1),k===3){var j=this.m.add(new o(1)).iushrn(2);return this.pow(C,j)}for(var E=this.m.subn(1),T=0;!E.isZero()&&E.andln(1)===0;)T++,E.iushrn(1);l(!E.isZero());var R=new o(1).toRed(this),V=R.redNeg(),B=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new o(2*K*K).toRed(this);this.pow(K,B).cmp(V)!==0;)K.redIAdd(V);for(var Z=this.pow(K,E),ne=this.pow(C,E.addn(1).iushrn(1)),G=this.pow(C,E),te=T;G.cmp(R)!==0;){for(var I=G,D=0;I.cmp(R)!==0;D++)I=I.redSqr();l(D<te);var X=this.pow(Z,new o(1).iushln(te-D-1));ne=ne.redMul(X),Z=X.redSqr(),G=G.redMul(Z),te=D}return ne},O.prototype.invm=function(C){var k=C._invmp(this.m);return k.negative!==0?(k.negative=0,this.imod(k).redNeg()):this.imod(k)},O.prototype.pow=function(C,k){if(k.isZero())return new o(1).toRed(this);if(k.cmpn(1)===0)return C.clone();var j=new Array(16);j[0]=new o(1).toRed(this),j[1]=C;for(var E=2;E<j.length;E++)j[E]=this.mul(j[E-1],C);var T=j[0],R=0,V=0,B=k.bitLength()%26;for(B===0&&(B=26),E=k.length-1;E>=0;E--){for(var K=k.words[E],Z=B-1;Z>=0;Z--){var ne=K>>Z&1;T!==j[0]&&(T=this.sqr(T)),ne!==0||R!==0?(R<<=1,R|=ne,(++V===4||E===0&&Z===0)&&(T=this.mul(T,j[R]),V=0,R=0)):V=0}B=26}return T},O.prototype.convertTo=function(C){var k=C.umod(this.m);return k===C?k.clone():k},O.prototype.convertFrom=function(C){var k=C.clone();return k.red=null,k},o.mont=function(C){return new L(C)},c(L,O),L.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},L.prototype.convertFrom=function(C){var k=this.imod(C.mul(this.rinv));return k.red=null,k},L.prototype.imul=function(C,k){if(C.isZero()||k.isZero())return C.words[0]=0,C.length=1,C;var j=C.imul(k),E=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=j.isub(E).iushrn(this.shift),R=T;return T.cmp(this.m)>=0?R=T.isub(this.m):T.cmpn(0)<0&&(R=T.iadd(this.m)),R._forceRed(this)},L.prototype.mul=function(C,k){if(C.isZero()||k.isZero())return new o(0)._forceRed(this);var j=C.mul(k),E=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=j.isub(E).iushrn(this.shift),R=T;return T.cmp(this.m)>=0?R=T.isub(this.m):T.cmpn(0)<0&&(R=T.iadd(this.m)),R._forceRed(this)},L.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,i){var a;function s(c){this.rand=c}if(n.exports=function(c){return a||(a=new s(null)),a.generate(c)},n.exports.Rand=s,s.prototype.generate=function(c){return this._rand(c)},s.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var o=new Uint8Array(c),u=0;u<o.length;u++)o[u]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(c){var o=new Uint8Array(c);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(c){var o=new Uint8Array(c);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var l=e("crypto");if(typeof l.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(c){return l.randomBytes(c)}}catch{}},{crypto:188}],188:[function(e,n,i){},{}],189:[function(e,n,i){var a=e("safe-buffer").Buffer;function s(f){a.isBuffer(f)||(f=a.from(f));for(var h=f.length/4|0,y=new Array(h),m=0;m<h;m++)y[m]=f.readUInt32BE(4*m);return y}function l(f){for(;0<f.length;f++)f[0]=0}function c(f,h,y,m,g){for(var v,b,w,_,N=y[0],P=y[1],M=y[2],A=y[3],F=f[0]^h[0],H=f[1]^h[1],z=f[2]^h[2],U=f[3]^h[3],O=4,L=1;L<g;L++)v=N[F>>>24]^P[H>>>16&255]^M[z>>>8&255]^A[255&U]^h[O++],b=N[H>>>24]^P[z>>>16&255]^M[U>>>8&255]^A[255&F]^h[O++],w=N[z>>>24]^P[U>>>16&255]^M[F>>>8&255]^A[255&H]^h[O++],_=N[U>>>24]^P[F>>>16&255]^M[H>>>8&255]^A[255&z]^h[O++],F=v,H=b,z=w,U=_;return v=(m[F>>>24]<<24|m[H>>>16&255]<<16|m[z>>>8&255]<<8|m[255&U])^h[O++],b=(m[H>>>24]<<24|m[z>>>16&255]<<16|m[U>>>8&255]<<8|m[255&F])^h[O++],w=(m[z>>>24]<<24|m[U>>>16&255]<<16|m[F>>>8&255]<<8|m[255&H])^h[O++],_=(m[U>>>24]<<24|m[F>>>16&255]<<16|m[H>>>8&255]<<8|m[255&z])^h[O++],[v>>>=0,b>>>=0,w>>>=0,_>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var f=new Array(256),h=0;h<256;h++)f[h]=h<128?h<<1:h<<1^283;for(var y=[],m=[],g=[[],[],[],[]],v=[[],[],[],[]],b=0,w=0,_=0;_<256;++_){var N=w^w<<1^w<<2^w<<3^w<<4;N=N>>>8^255&N^99,y[b]=N,m[N]=b;var P=f[b],M=f[P],A=f[M],F=257*f[N]^16843008*N;g[0][b]=F<<24|F>>>8,g[1][b]=F<<16|F>>>16,g[2][b]=F<<8|F>>>24,g[3][b]=F,F=16843009*A^65537*M^257*P^16843008*b,v[0][N]=F<<24|F>>>8,v[1][N]=F<<16|F>>>16,v[2][N]=F<<8|F>>>24,v[3][N]=F,b===0?b=w=1:(b=P^f[f[f[A^P]]],w^=f[f[w]])}return{SBOX:y,INV_SBOX:m,SUB_MIX:g,INV_SUB_MIX:v}}();function d(f){this._key=s(f),this._reset()}d.blockSize=16,d.keySize=32,d.prototype.blockSize=d.blockSize,d.prototype.keySize=d.keySize,d.prototype._reset=function(){for(var f=this._key,h=f.length,y=h+6,m=4*(y+1),g=[],v=0;v<h;v++)g[v]=f[v];for(v=h;v<m;v++){var b=g[v-1];v%h==0?(b=b<<8|b>>>24,b=u.SBOX[b>>>24]<<24|u.SBOX[b>>>16&255]<<16|u.SBOX[b>>>8&255]<<8|u.SBOX[255&b],b^=o[v/h|0]<<24):h>6&&v%h==4&&(b=u.SBOX[b>>>24]<<24|u.SBOX[b>>>16&255]<<16|u.SBOX[b>>>8&255]<<8|u.SBOX[255&b]),g[v]=g[v-h]^b}for(var w=[],_=0;_<m;_++){var N=m-_,P=g[N-(_%4?0:4)];w[_]=_<4||N<=4?P:u.INV_SUB_MIX[0][u.SBOX[P>>>24]]^u.INV_SUB_MIX[1][u.SBOX[P>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[P>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&P]]}this._nRounds=y,this._keySchedule=g,this._invKeySchedule=w},d.prototype.encryptBlockRaw=function(f){return c(f=s(f),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},d.prototype.encryptBlock=function(f){var h=this.encryptBlockRaw(f),y=a.allocUnsafe(16);return y.writeUInt32BE(h[0],0),y.writeUInt32BE(h[1],4),y.writeUInt32BE(h[2],8),y.writeUInt32BE(h[3],12),y},d.prototype.decryptBlock=function(f){var h=(f=s(f))[1];f[1]=f[3],f[3]=h;var y=c(f,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),m=a.allocUnsafe(16);return m.writeUInt32BE(y[0],0),m.writeUInt32BE(y[3],4),m.writeUInt32BE(y[2],8),m.writeUInt32BE(y[1],12),m},d.prototype.scrub=function(){l(this._keySchedule),l(this._invKeySchedule),l(this._key)},n.exports.AES=d},{"safe-buffer":494}],190:[function(e,n,i){var a=e("./aes"),s=e("safe-buffer").Buffer,l=e("cipher-base"),c=e("inherits"),o=e("./ghash"),u=e("buffer-xor"),d=e("./incr32");function f(h,y,m,g){l.call(this);var v=s.alloc(4,0);this._cipher=new a.AES(y);var b=this._cipher.encryptBlock(v);this._ghash=new o(b),m=function(w,_,N){if(_.length===12)return w._finID=s.concat([_,s.from([0,0,0,1])]),s.concat([_,s.from([0,0,0,2])]);var P=new o(N),M=_.length,A=M%16;P.update(_),A&&(A=16-A,P.update(s.alloc(A,0))),P.update(s.alloc(8,0));var F=8*M,H=s.alloc(8);H.writeUIntBE(F,0,8),P.update(H),w._finID=P.state;var z=s.from(w._finID);return d(z),z}(this,m,b),this._prev=s.from(m),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=h,this._authTag=null,this._called=!1}c(f,l),f.prototype._update=function(h){if(!this._called&&this._alen){var y=16-this._alen%16;y<16&&(y=s.alloc(y,0),this._ghash.update(y))}this._called=!0;var m=this._mode.encrypt(this,h);return this._decrypt?this._ghash.update(h):this._ghash.update(m),this._len+=h.length,m},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var h=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(y,m){var g=0;y.length!==m.length&&g++;for(var v=Math.min(y.length,m.length),b=0;b<v;++b)g+=y[b]^m[b];return g}(h,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=h,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(h){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=h},f.prototype.setAAD=function(h){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(h),this._alen+=h.length},n.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,i){var a=e("./encrypter"),s=e("./decrypter"),l=e("./modes/list.json");i.createCipher=i.Cipher=a.createCipher,i.createCipheriv=i.Cipheriv=a.createCipheriv,i.createDecipher=i.Decipher=s.createDecipher,i.createDecipheriv=i.Decipheriv=s.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(l)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,i){var a=e("./authCipher"),s=e("safe-buffer").Buffer,l=e("./modes"),c=e("./streamCipher"),o=e("cipher-base"),u=e("./aes"),d=e("evp_bytestokey");function f(m,g,v){o.call(this),this._cache=new h,this._last=void 0,this._cipher=new u.AES(g),this._prev=s.from(v),this._mode=m,this._autopadding=!0}function h(){this.cache=s.allocUnsafe(0)}function y(m,g,v){var b=l[m.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=s.from(v)),b.mode!=="GCM"&&v.length!==b.iv)throw new TypeError("invalid iv length "+v.length);if(typeof g=="string"&&(g=s.from(g)),g.length!==b.key/8)throw new TypeError("invalid key length "+g.length);return b.type==="stream"?new c(b.module,g,v,!0):b.type==="auth"?new a(b.module,g,v,!0):new f(b.module,g,v)}e("inherits")(f,o),f.prototype._update=function(m){var g,v;this._cache.add(m);for(var b=[];g=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,g),b.push(v);return s.concat(b)},f.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return function(g){var v=g[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var b=-1;++b<v;)if(g[b+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return g.slice(0,16-v)}(this._mode.decrypt(this,m));if(m)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},h.prototype.add=function(m){this.cache=s.concat([this.cache,m])},h.prototype.get=function(m){var g;if(m){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(m,g){var v=l[m.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var b=d(g,!1,v.key,v.iv);return y(m,b.key,b.iv)},i.createDecipheriv=y},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,i){var a=e("./modes"),s=e("./authCipher"),l=e("safe-buffer").Buffer,c=e("./streamCipher"),o=e("cipher-base"),u=e("./aes"),d=e("evp_bytestokey");function f(g,v,b){o.call(this),this._cache=new y,this._cipher=new u.AES(v),this._prev=l.from(b),this._mode=g,this._autopadding=!0}e("inherits")(f,o),f.prototype._update=function(g){var v,b;this._cache.add(g);for(var w=[];v=this._cache.get();)b=this._mode.encrypt(this,v),w.push(b);return l.concat(w)};var h=l.alloc(16,16);function y(){this.cache=l.allocUnsafe(0)}function m(g,v,b){var w=a[g.toLowerCase()];if(!w)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=l.from(v)),v.length!==w.key/8)throw new TypeError("invalid key length "+v.length);if(typeof b=="string"&&(b=l.from(b)),w.mode!=="GCM"&&b.length!==w.iv)throw new TypeError("invalid iv length "+b.length);return w.type==="stream"?new c(w.module,v,b):w.type==="auth"?new s(w.module,v,b):new f(w.module,v,b)}f.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},y.prototype.add=function(g){this.cache=l.concat([this.cache,g])},y.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},y.prototype.flush=function(){for(var g=16-this.cache.length,v=l.allocUnsafe(g),b=-1;++b<g;)v.writeUInt8(g,b);return l.concat([this.cache,v])},i.createCipheriv=m,i.createCipher=function(g,v){var b=a[g.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var w=d(v,!1,b.key,b.iv);return m(g,w.key,w.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,i){var a=e("safe-buffer").Buffer,s=a.alloc(16,0);function l(o){var u=a.allocUnsafe(16);return u.writeUInt32BE(o[0]>>>0,0),u.writeUInt32BE(o[1]>>>0,4),u.writeUInt32BE(o[2]>>>0,8),u.writeUInt32BE(o[3]>>>0,12),u}function c(o){this.h=o,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}c.prototype.ghash=function(o){for(var u=-1;++u<o.length;)this.state[u]^=o[u];this._multiply()},c.prototype._multiply=function(){for(var o,u,d,f=[(o=this.h).readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)],h=[0,0,0,0],y=-1;++y<128;){for((this.state[~~(y/8)]&1<<7-y%8)!=0&&(h[0]^=f[0],h[1]^=f[1],h[2]^=f[2],h[3]^=f[3]),d=(1&f[3])!=0,u=3;u>0;u--)f[u]=f[u]>>>1|(1&f[u-1])<<31;f[0]=f[0]>>>1,d&&(f[0]=f[0]^225<<24)}this.state=l(h)},c.prototype.update=function(o){var u;for(this.cache=a.concat([this.cache,o]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},c.prototype.final=function(o,u){return this.cache.length&&this.ghash(a.concat([this.cache,s],16)),this.ghash(l([0,o,0,u])),this.state},n.exports=c},{"safe-buffer":494}],195:[function(e,n,i){n.exports=function(a){for(var s,l=a.length;l--;){if((s=a.readUInt8(l))!==255){s++,a.writeUInt8(s,l);break}a.writeUInt8(0,l)}}},{}],196:[function(e,n,i){var a=e("buffer-xor");i.encrypt=function(s,l){var c=a(l,s._prev);return s._prev=s._cipher.encryptBlock(c),s._prev},i.decrypt=function(s,l){var c=s._prev;s._prev=l;var o=s._cipher.decryptBlock(l);return a(o,c)}},{"buffer-xor":219}],197:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("buffer-xor");function l(c,o,u){var d=o.length,f=s(o,c._cache);return c._cache=c._cache.slice(d),c._prev=a.concat([c._prev,u?o:f]),f}i.encrypt=function(c,o,u){for(var d,f=a.allocUnsafe(0);o.length;){if(c._cache.length===0&&(c._cache=c._cipher.encryptBlock(c._prev),c._prev=a.allocUnsafe(0)),!(c._cache.length<=o.length)){f=a.concat([f,l(c,o,u)]);break}d=c._cache.length,f=a.concat([f,l(c,o.slice(0,d),u)]),o=o.slice(d)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,i){var a=e("safe-buffer").Buffer;function s(c,o,u){for(var d,f,h=-1,y=0;++h<8;)d=o&1<<7-h?128:0,y+=(128&(f=c._cipher.encryptBlock(c._prev)[0]^d))>>h%8,c._prev=l(c._prev,u?d:f);return y}function l(c,o){var u=c.length,d=-1,f=a.allocUnsafe(c.length);for(c=a.concat([c,a.from([o])]);++d<u;)f[d]=c[d]<<1|c[d+1]>>7;return f}i.encrypt=function(c,o,u){for(var d=o.length,f=a.allocUnsafe(d),h=-1;++h<d;)f[h]=s(c,o[h],u);return f}},{"safe-buffer":494}],199:[function(e,n,i){var a=e("safe-buffer").Buffer;function s(l,c,o){var u=l._cipher.encryptBlock(l._prev)[0]^c;return l._prev=a.concat([l._prev.slice(1),a.from([o?c:u])]),u}i.encrypt=function(l,c,o){for(var u=c.length,d=a.allocUnsafe(u),f=-1;++f<u;)d[f]=s(l,c[f],o);return d}},{"safe-buffer":494}],200:[function(e,n,i){var a=e("buffer-xor"),s=e("safe-buffer").Buffer,l=e("../incr32");function c(o){var u=o._cipher.encryptBlockRaw(o._prev);return l(o._prev),u}i.encrypt=function(o,u){var d=Math.ceil(u.length/16),f=o._cache.length;o._cache=s.concat([o._cache,s.allocUnsafe(16*d)]);for(var h=0;h<d;h++){var y=c(o),m=f+16*h;o._cache.writeUInt32BE(y[0],m+0),o._cache.writeUInt32BE(y[1],m+4),o._cache.writeUInt32BE(y[2],m+8),o._cache.writeUInt32BE(y[3],m+12)}var g=o._cache.slice(0,u.length);return o._cache=o._cache.slice(u.length),a(u,g)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,i){i.encrypt=function(a,s){return a._cipher.encryptBlock(s)},i.decrypt=function(a,s){return a._cipher.decryptBlock(s)}},{}],202:[function(e,n,i){var a={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},s=e("./list.json");for(var l in s)s[l].module=a[s[l].mode];n.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,i){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,i){(function(a){(function(){var s=e("buffer-xor");function l(c){return c._prev=c._cipher.encryptBlock(c._prev),c._prev}i.encrypt=function(c,o){for(;c._cache.length<o.length;)c._cache=a.concat([c._cache,l(c)]);var u=c._cache.slice(0,o.length);return c._cache=c._cache.slice(o.length),s(o,u)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,i){var a=e("./aes"),s=e("safe-buffer").Buffer,l=e("cipher-base");function c(o,u,d,f){l.call(this),this._cipher=new a.AES(u),this._prev=s.from(d),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=f,this._mode=o}e("inherits")(c,l),c.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},n.exports=c},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,i){var a=e("browserify-des"),s=e("browserify-aes/browser"),l=e("browserify-aes/modes"),c=e("browserify-des/modes"),o=e("evp_bytestokey");function u(f,h,y){if(f=f.toLowerCase(),l[f])return s.createCipheriv(f,h,y);if(c[f])return new a({key:h,iv:y,mode:f});throw new TypeError("invalid suite type")}function d(f,h,y){if(f=f.toLowerCase(),l[f])return s.createDecipheriv(f,h,y);if(c[f])return new a({key:h,iv:y,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(f,h){var y,m;if(f=f.toLowerCase(),l[f])y=l[f].key,m=l[f].iv;else{if(!c[f])throw new TypeError("invalid suite type");y=8*c[f].key,m=c[f].iv}var g=o(h,!1,y,m);return u(f,g.key,g.iv)},i.createCipheriv=i.Cipheriv=u,i.createDecipher=i.Decipher=function(f,h){var y,m;if(f=f.toLowerCase(),l[f])y=l[f].key,m=l[f].iv;else{if(!c[f])throw new TypeError("invalid suite type");y=8*c[f].key,m=c[f].iv}var g=o(h,!1,y,m);return d(f,g.key,g.iv)},i.createDecipheriv=i.Decipheriv=d,i.listCiphers=i.getCiphers=function(){return Object.keys(c).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,i){var a=e("cipher-base"),s=e("des.js"),l=e("inherits"),c=e("safe-buffer").Buffer,o={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function u(d){a.call(this);var f,h=d.mode.toLowerCase(),y=o[h];f=d.decrypt?"decrypt":"encrypt";var m=d.key;c.isBuffer(m)||(m=c.from(m)),h!=="des-ede"&&h!=="des-ede-cbc"||(m=c.concat([m,m.slice(0,8)]));var g=d.iv;c.isBuffer(g)||(g=c.from(g)),this._des=y.create({key:m,iv:g,type:f})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],n.exports=u,l(u,a),u.prototype._update=function(d){return c.from(this._des.update(d))},u.prototype._final=function(){return c.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,i){(function(a){(function(){var s=e("bn.js"),l=e("randombytes");function c(u){var d,f=u.modulus.byteLength();do d=new s(l(f));while(d.cmp(u.modulus)>=0||!d.umod(u.prime1)||!d.umod(u.prime2));return d}function o(u,d){var f=function(M){var A=c(M);return{blinder:A.toRed(s.mont(M.modulus)).redPow(new s(M.publicExponent)).fromRed(),unblinder:A.invm(M.modulus)}}(d),h=d.modulus.byteLength(),y=new s(u).mul(f.blinder).umod(d.modulus),m=y.toRed(s.mont(d.prime1)),g=y.toRed(s.mont(d.prime2)),v=d.coefficient,b=d.prime1,w=d.prime2,_=m.redPow(d.exponent1).fromRed(),N=g.redPow(d.exponent2).fromRed(),P=_.isub(N).imul(v).umod(b).imul(w);return N.iadd(P).imul(f.unblinder).umod(d.modulus).toArrayLike(a,"be",h)}o.getr=c,n.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,i){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,i){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,i){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("create-hash"),l=e("readable-stream"),c=e("inherits"),o=e("./sign"),u=e("./verify"),d=e("./algorithms.json");function f(g){l.Writable.call(this);var v=d[g];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=s(v.hash),this._tag=v.id,this._signType=v.sign}function h(g){l.Writable.call(this);var v=d[g];if(!v)throw new Error("Unknown message digest");this._hash=s(v.hash),this._tag=v.id,this._signType=v.sign}function y(g){return new f(g)}function m(g){return new h(g)}Object.keys(d).forEach(function(g){d[g].id=a.from(d[g].id,"hex"),d[g.toLowerCase()]=d[g]}),c(f,l.Writable),f.prototype._write=function(g,v,b){this._hash.update(g),b()},f.prototype.update=function(g,v){return typeof g=="string"&&(g=a.from(g,v)),this._hash.update(g),this},f.prototype.sign=function(g,v){this.end();var b=this._hash.digest(),w=o(b,g,this._hashType,this._signType,this._tag);return v?w.toString(v):w},c(h,l.Writable),h.prototype._write=function(g,v,b){this._hash.update(g),b()},h.prototype.update=function(g,v){return typeof g=="string"&&(g=a.from(g,v)),this._hash.update(g),this},h.prototype.verify=function(g,v,b){typeof v=="string"&&(v=a.from(v,b)),this.end();var w=this._hash.digest();return u(v,w,g,this._signType,this._tag)},n.exports={Sign:y,Verify:m,createSign:y,createVerify:m}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("create-hmac"),l=e("browserify-rsa"),c=e("elliptic").ec,o=e("bn.js"),u=e("parse-asn1"),d=e("./curves.json");function f(g,v,b,w){if((g=a.from(g.toArray())).length<v.byteLength()){var _=a.alloc(v.byteLength()-g.length);g=a.concat([_,g])}var N=b.length,P=function(F,H){F=(F=h(F,H)).mod(H);var z=a.from(F.toArray());if(z.length<H.byteLength()){var U=a.alloc(H.byteLength()-z.length);z=a.concat([U,z])}return z}(b,v),M=a.alloc(N);M.fill(1);var A=a.alloc(N);return A=s(w,A).update(M).update(a.from([0])).update(g).update(P).digest(),M=s(w,A).update(M).digest(),{k:A=s(w,A).update(M).update(a.from([1])).update(g).update(P).digest(),v:M=s(w,A).update(M).digest()}}function h(g,v){var b=new o(g),w=(g.length<<3)-v.bitLength();return w>0&&b.ishrn(w),b}function y(g,v,b){var w,_;do{for(w=a.alloc(0);8*w.length<g.bitLength();)v.v=s(b,v.k).update(v.v).digest(),w=a.concat([w,v.v]);_=h(w,g),v.k=s(b,v.k).update(v.v).update(a.from([0])).digest(),v.v=s(b,v.k).update(v.v).digest()}while(_.cmp(g)!==-1);return _}function m(g,v,b,w){return g.toRed(o.mont(b)).redPow(v).fromRed().mod(w)}n.exports=function(g,v,b,w,_){var N=u(v);if(N.curve){if(w!=="ecdsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");return function(F,H){var z=d[H.curve.join(".")];if(!z)throw new Error("unknown curve "+H.curve.join("."));var U=new c(z).keyFromPrivate(H.privateKey).sign(F);return a.from(U.toDER())}(g,N)}if(N.type==="dsa"){if(w!=="dsa")throw new Error("wrong private key type");return function(F,H,z){for(var U,O=H.params.priv_key,L=H.params.p,C=H.params.q,k=H.params.g,j=new o(0),E=h(F,C).mod(C),T=!1,R=f(O,C,F,z);T===!1;)U=y(C,R,z),j=m(k,U,L,C),(T=U.invm(C).imul(E.add(O.mul(j))).mod(C)).cmpn(0)===0&&(T=!1,j=new o(0));return function(V,B){V=V.toArray(),B=B.toArray(),128&V[0]&&(V=[0].concat(V)),128&B[0]&&(B=[0].concat(B));var K=[48,V.length+B.length+4,2,V.length];return K=K.concat(V,[2,B.length],B),a.from(K)}(j,T)}(g,N,b)}if(w!=="rsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");g=a.concat([_,g]);for(var P=N.modulus.byteLength(),M=[0,1];g.length+M.length+1<P;)M.push(255);M.push(0);for(var A=-1;++A<g.length;)M.push(g[A]);return l(M,N)},n.exports.getKey=f,n.exports.makeKey=y},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("bn.js"),l=e("elliptic").ec,c=e("parse-asn1"),o=e("./curves.json");function u(d,f){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(f)>=f)throw new Error("invalid sig")}n.exports=function(d,f,h,y,m){var g=c(h);if(g.type==="ec"){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");return function(M,A,F){var H=o[F.data.algorithm.curve.join(".")];if(!H)throw new Error("unknown curve "+F.data.algorithm.curve.join("."));var z=new l(H),U=F.data.subjectPrivateKey.data;return z.verify(A,M,U)}(d,f,g)}if(g.type==="dsa"){if(y!=="dsa")throw new Error("wrong public key type");return function(M,A,F){var H=F.data.p,z=F.data.q,U=F.data.g,O=F.data.pub_key,L=c.signature.decode(M,"der"),C=L.s,k=L.r;u(C,z),u(k,z);var j=s.mont(H),E=C.invm(z);return U.toRed(j).redPow(new s(A).mul(E).mod(z)).fromRed().mul(O.toRed(j).redPow(k.mul(E).mod(z)).fromRed()).mod(H).mod(z).cmp(k)===0}(d,f,g)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");f=a.concat([m,f]);for(var v=g.modulus.byteLength(),b=[1],w=0;f.length+b.length+2<v;)b.push(255),w++;b.push(0);for(var _=-1;++_<f.length;)b.push(f[_]);b=a.from(b);var N=s.mont(g.modulus);d=(d=new s(d).toRed(N)).redPow(new s(g.publicExponent)),d=a.from(d.fromRed().toArray());var P=w<8?1:0;for(v=Math.min(d.length,b.length),d.length!==b.length&&(P=1),_=-1;++_<v;)P|=d[_]^b[_];return P===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,i){},{}],217:[function(e,n,i){var a=e("buffer"),s=a.Buffer;function l(o,u){for(var d in o)u[d]=o[d]}function c(o,u,d){return s(o,u,d)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=a:(l(a,i),i.Buffer=c),l(s,c),c.from=function(o,u,d){if(typeof o=="number")throw new TypeError("Argument must not be a number");return s(o,u,d)},c.alloc=function(o,u,d){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=s(o);return u!==void 0?typeof d=="string"?f.fill(u,d):f.fill(u):f.fill(0),f},c.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s(o)},c.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(o)}},{buffer:220}],218:[function(e,n,i){var a=e("safe-buffer").Buffer,s=a.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(g){var v;switch(this.encoding=function(b){var w=function(_){if(!_)return"utf8";for(var N;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(N)return;_=(""+_).toLowerCase(),N=!0}}(b);if(typeof w!="string"&&(a.isEncoding===s||!s(b)))throw new Error("Unknown encoding: "+b);return w||b}(g),this.encoding){case"utf16le":this.text=u,this.end=d,v=4;break;case"utf8":this.fillLast=o,v=4;break;case"base64":this.text=f,this.end=h,v=3;break;default:return this.write=y,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(v)}function c(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function o(g){var v=this.lastTotal-this.lastNeed,b=function(w,_,N){if((192&_[0])!=128)return w.lastNeed=0,"";if(w.lastNeed>1&&_.length>1){if((192&_[1])!=128)return w.lastNeed=1,"";if(w.lastNeed>2&&_.length>2&&(192&_[2])!=128)return w.lastNeed=2,""}}(this,g);return b!==void 0?b:this.lastNeed<=g.length?(g.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,v,0,g.length),void(this.lastNeed-=g.length))}function u(g,v){if((g.length-v)%2==0){var b=g.toString("utf16le",v);if(b){var w=b.charCodeAt(b.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",v,g.length-1)}function d(g){var v=g&&g.length?this.write(g):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,b)}return v}function f(g,v){var b=(g.length-v)%3;return b===0?g.toString("base64",v):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",v,g.length-b))}function h(g){var v=g&&g.length?this.write(g):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function y(g){return g.toString(this.encoding)}function m(g){return g&&g.length?this.write(g):""}i.StringDecoder=l,l.prototype.write=function(g){if(g.length===0)return"";var v,b;if(this.lastNeed){if((v=this.fillLast(g))===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<g.length?v?v+this.text(g,b):this.text(g,b):v||""},l.prototype.end=function(g){var v=g&&g.length?this.write(g):"";return this.lastNeed?v+"":v},l.prototype.text=function(g,v){var b=function(_,N,P){var M=N.length-1;if(M<P)return 0;var A=c(N[M]);return A>=0?(A>0&&(_.lastNeed=A-1),A):--M<P||A===-2?0:(A=c(N[M]))>=0?(A>0&&(_.lastNeed=A-2),A):--M<P||A===-2?0:(A=c(N[M]))>=0?(A>0&&(A===2?A=0:_.lastNeed=A-3),A):0}(this,g,v);if(!this.lastNeed)return g.toString("utf8",v);this.lastTotal=b;var w=g.length-(b-this.lastNeed);return g.copy(this.lastChar,0,w),g.toString("utf8",v,w)},l.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},{"safe-buffer":217}],219:[function(e,n,i){(function(a){(function(){n.exports=function(s,l){for(var c=Math.min(s.length,l.length),o=new a(c),u=0;u<c;++u)o[u]=s[u]^l[u];return o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,i){(function(a){(function(){var s=e("base64-js"),l=e("ieee754");i.Buffer=o,i.SlowBuffer=function(I){return+I!=I&&(I=0),o.alloc(+I)},i.INSPECT_MAX_BYTES=50;function c(I){if(I>2147483647)throw new RangeError('The value "'+I+'" is invalid for option "size"');var D=new Uint8Array(I);return D.__proto__=o.prototype,D}function o(I,D,X){if(typeof I=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(I)}return u(I,D,X)}function u(I,D,X){if(typeof I=="string")return function(oe,se){if(typeof se=="string"&&se!==""||(se="utf8"),!o.isEncoding(se))throw new TypeError("Unknown encoding: "+se);var he=0|m(oe,se),le=c(he),de=le.write(oe,se);return de!==he&&(le=le.slice(0,de)),le}(I,D);if(ArrayBuffer.isView(I))return h(I);if(I==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(G(I,ArrayBuffer)||I&&G(I.buffer,ArrayBuffer))return function(oe,se,he){if(se<0||oe.byteLength<se)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<se+(he||0))throw new RangeError('"length" is outside of buffer bounds');var le;return le=se===void 0&&he===void 0?new Uint8Array(oe):he===void 0?new Uint8Array(oe,se):new Uint8Array(oe,se,he),le.__proto__=o.prototype,le}(I,D,X);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=I.valueOf&&I.valueOf();if(Q!=null&&Q!==I)return o.from(Q,D,X);var re=function(oe){if(o.isBuffer(oe)){var se=0|y(oe.length),he=c(se);return he.length===0||oe.copy(he,0,0,se),he}if(oe.length!==void 0)return typeof oe.length!="number"||te(oe.length)?c(0):h(oe);if(oe.type==="Buffer"&&Array.isArray(oe.data))return h(oe.data)}(I);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return o.from(I[Symbol.toPrimitive]("string"),D,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}function d(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function f(I){return d(I),c(I<0?0:0|y(I))}function h(I){for(var D=I.length<0?0:0|y(I.length),X=c(D),Q=0;Q<D;Q+=1)X[Q]=255&I[Q];return X}function y(I){if(I>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|I}function m(I,D){if(o.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||G(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);var X=I.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&X===0)return 0;for(var re=!1;;)switch(D){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return K(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return Z(I).length;default:if(re)return Q?-1:K(I).length;D=(""+D).toLowerCase(),re=!0}}function g(I,D,X){var Q=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((X===void 0||X>this.length)&&(X=this.length),X<=0)||(X>>>=0)<=(D>>>=0))return"";for(I||(I="utf8");;)switch(I){case"hex":return L(this,D,X);case"utf8":case"utf-8":return z(this,D,X);case"ascii":return U(this,D,X);case"latin1":case"binary":return O(this,D,X);case"base64":return H(this,D,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,D,X);default:if(Q)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),Q=!0}}function v(I,D,X){var Q=I[D];I[D]=I[X],I[X]=Q}function b(I,D,X,Q,re){if(I.length===0)return-1;if(typeof X=="string"?(Q=X,X=0):X>2147483647?X=2147483647:X<-2147483648&&(X=-2147483648),te(X=+X)&&(X=re?0:I.length-1),X<0&&(X=I.length+X),X>=I.length){if(re)return-1;X=I.length-1}else if(X<0){if(!re)return-1;X=0}if(typeof D=="string"&&(D=o.from(D,Q)),o.isBuffer(D))return D.length===0?-1:w(I,D,X,Q,re);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(I,D,X):Uint8Array.prototype.lastIndexOf.call(I,D,X):w(I,[D],X,Q,re);throw new TypeError("val must be string, number or Buffer")}function w(I,D,X,Q,re){var oe,se=1,he=I.length,le=D.length;if(Q!==void 0&&((Q=String(Q).toLowerCase())==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(I.length<2||D.length<2)return-1;se=2,he/=2,le/=2,X/=2}function de(Pe,Re){return se===1?Pe[Re]:Pe.readUInt16BE(Re*se)}if(re){var ve=-1;for(oe=X;oe<he;oe++)if(de(I,oe)===de(D,ve===-1?0:oe-ve)){if(ve===-1&&(ve=oe),oe-ve+1===le)return ve*se}else ve!==-1&&(oe-=oe-ve),ve=-1}else for(X+le>he&&(X=he-le),oe=X;oe>=0;oe--){for(var ge=!0,ke=0;ke<le;ke++)if(de(I,oe+ke)!==de(D,ke)){ge=!1;break}if(ge)return oe}return-1}function _(I,D,X,Q){X=Number(X)||0;var re=I.length-X;Q?(Q=Number(Q))>re&&(Q=re):Q=re;var oe=D.length;Q>oe/2&&(Q=oe/2);for(var se=0;se<Q;++se){var he=parseInt(D.substr(2*se,2),16);if(te(he))return se;I[X+se]=he}return se}function N(I,D,X,Q){return ne(K(D,I.length-X),I,X,Q)}function P(I,D,X,Q){return ne(function(re){for(var oe=[],se=0;se<re.length;++se)oe.push(255&re.charCodeAt(se));return oe}(D),I,X,Q)}function M(I,D,X,Q){return P(I,D,X,Q)}function A(I,D,X,Q){return ne(Z(D),I,X,Q)}function F(I,D,X,Q){return ne(function(re,oe){for(var se,he,le,de=[],ve=0;ve<re.length&&!((oe-=2)<0);++ve)se=re.charCodeAt(ve),he=se>>8,le=se%256,de.push(le),de.push(he);return de}(D,I.length-X),I,X,Q)}function H(I,D,X){return D===0&&X===I.length?s.fromByteArray(I):s.fromByteArray(I.slice(D,X))}function z(I,D,X){X=Math.min(I.length,X);for(var Q=[],re=D;re<X;){var oe,se,he,le,de=I[re],ve=null,ge=de>239?4:de>223?3:de>191?2:1;if(re+ge<=X)switch(ge){case 1:de<128&&(ve=de);break;case 2:(192&(oe=I[re+1]))==128&&(le=(31&de)<<6|63&oe)>127&&(ve=le);break;case 3:oe=I[re+1],se=I[re+2],(192&oe)==128&&(192&se)==128&&(le=(15&de)<<12|(63&oe)<<6|63&se)>2047&&(le<55296||le>57343)&&(ve=le);break;case 4:oe=I[re+1],se=I[re+2],he=I[re+3],(192&oe)==128&&(192&se)==128&&(192&he)==128&&(le=(15&de)<<18|(63&oe)<<12|(63&se)<<6|63&he)>65535&&le<1114112&&(ve=le)}ve===null?(ve=65533,ge=1):ve>65535&&(ve-=65536,Q.push(ve>>>10&1023|55296),ve=56320|1023&ve),Q.push(ve),re+=ge}return function(ke){var Pe=ke.length;if(Pe<=4096)return String.fromCharCode.apply(String,ke);for(var Re="",Ie=0;Ie<Pe;)Re+=String.fromCharCode.apply(String,ke.slice(Ie,Ie+=4096));return Re}(Q)}i.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{var I=new Uint8Array(1);return I.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},I.foo()===42}catch{return!1}}(),o.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(I,D,X){return u(I,D,X)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(I,D,X){return function(Q,re,oe){return d(Q),Q<=0?c(Q):re!==void 0?typeof oe=="string"?c(Q).fill(re,oe):c(Q).fill(re):c(Q)}(I,D,X)},o.allocUnsafe=function(I){return f(I)},o.allocUnsafeSlow=function(I){return f(I)},o.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==o.prototype},o.compare=function(I,D){if(G(I,Uint8Array)&&(I=o.from(I,I.offset,I.byteLength)),G(D,Uint8Array)&&(D=o.from(D,D.offset,D.byteLength)),!o.isBuffer(I)||!o.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===D)return 0;for(var X=I.length,Q=D.length,re=0,oe=Math.min(X,Q);re<oe;++re)if(I[re]!==D[re]){X=I[re],Q=D[re];break}return X<Q?-1:Q<X?1:0},o.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(I,D){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return o.alloc(0);var X;if(D===void 0)for(D=0,X=0;X<I.length;++X)D+=I[X].length;var Q=o.allocUnsafe(D),re=0;for(X=0;X<I.length;++X){var oe=I[X];if(G(oe,Uint8Array)&&(oe=o.from(oe)),!o.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(Q,re),re+=oe.length}return Q},o.byteLength=m,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<I;D+=2)v(this,D,D+1);return this},o.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<I;D+=4)v(this,D,D+3),v(this,D+1,D+2);return this},o.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<I;D+=8)v(this,D,D+7),v(this,D+1,D+6),v(this,D+2,D+5),v(this,D+3,D+4);return this},o.prototype.toString=function(){var I=this.length;return I===0?"":arguments.length===0?z(this,0,I):g.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(I){if(!o.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I||o.compare(this,I)===0},o.prototype.inspect=function(){var I="",D=i.INSPECT_MAX_BYTES;return I=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(I+=" ... "),"<Buffer "+I+">"},o.prototype.compare=function(I,D,X,Q,re){if(G(I,Uint8Array)&&(I=o.from(I,I.offset,I.byteLength)),!o.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(D===void 0&&(D=0),X===void 0&&(X=I?I.length:0),Q===void 0&&(Q=0),re===void 0&&(re=this.length),D<0||X>I.length||Q<0||re>this.length)throw new RangeError("out of range index");if(Q>=re&&D>=X)return 0;if(Q>=re)return-1;if(D>=X)return 1;if(this===I)return 0;for(var oe=(re>>>=0)-(Q>>>=0),se=(X>>>=0)-(D>>>=0),he=Math.min(oe,se),le=this.slice(Q,re),de=I.slice(D,X),ve=0;ve<he;++ve)if(le[ve]!==de[ve]){oe=le[ve],se=de[ve];break}return oe<se?-1:se<oe?1:0},o.prototype.includes=function(I,D,X){return this.indexOf(I,D,X)!==-1},o.prototype.indexOf=function(I,D,X){return b(this,I,D,X,!0)},o.prototype.lastIndexOf=function(I,D,X){return b(this,I,D,X,!1)},o.prototype.write=function(I,D,X,Q){if(D===void 0)Q="utf8",X=this.length,D=0;else if(X===void 0&&typeof D=="string")Q=D,X=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(X)?(X>>>=0,Q===void 0&&(Q="utf8")):(Q=X,X=void 0)}var re=this.length-D;if((X===void 0||X>re)&&(X=re),I.length>0&&(X<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");for(var oe=!1;;)switch(Q){case"hex":return _(this,I,D,X);case"utf8":case"utf-8":return N(this,I,D,X);case"ascii":return P(this,I,D,X);case"latin1":case"binary":return M(this,I,D,X);case"base64":return A(this,I,D,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,I,D,X);default:if(oe)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),oe=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(I,D,X){var Q="";X=Math.min(I.length,X);for(var re=D;re<X;++re)Q+=String.fromCharCode(127&I[re]);return Q}function O(I,D,X){var Q="";X=Math.min(I.length,X);for(var re=D;re<X;++re)Q+=String.fromCharCode(I[re]);return Q}function L(I,D,X){var Q=I.length;(!D||D<0)&&(D=0),(!X||X<0||X>Q)&&(X=Q);for(var re="",oe=D;oe<X;++oe)re+=B(I[oe]);return re}function C(I,D,X){for(var Q=I.slice(D,X),re="",oe=0;oe<Q.length;oe+=2)re+=String.fromCharCode(Q[oe]+256*Q[oe+1]);return re}function k(I,D,X){if(I%1!=0||I<0)throw new RangeError("offset is not uint");if(I+D>X)throw new RangeError("Trying to access beyond buffer length")}function j(I,D,X,Q,re,oe){if(!o.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>re||D<oe)throw new RangeError('"value" argument is out of bounds');if(X+Q>I.length)throw new RangeError("Index out of range")}function E(I,D,X,Q,re,oe){if(X+Q>I.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("Index out of range")}function T(I,D,X,Q,re){return D=+D,X>>>=0,re||E(I,0,X,4),l.write(I,D,X,Q,23,4),X+4}function R(I,D,X,Q,re){return D=+D,X>>>=0,re||E(I,0,X,8),l.write(I,D,X,Q,52,8),X+8}o.prototype.slice=function(I,D){var X=this.length;(I=~~I)<0?(I+=X)<0&&(I=0):I>X&&(I=X),(D=D===void 0?X:~~D)<0?(D+=X)<0&&(D=0):D>X&&(D=X),D<I&&(D=I);var Q=this.subarray(I,D);return Q.__proto__=o.prototype,Q},o.prototype.readUIntLE=function(I,D,X){I>>>=0,D>>>=0,X||k(I,D,this.length);for(var Q=this[I],re=1,oe=0;++oe<D&&(re*=256);)Q+=this[I+oe]*re;return Q},o.prototype.readUIntBE=function(I,D,X){I>>>=0,D>>>=0,X||k(I,D,this.length);for(var Q=this[I+--D],re=1;D>0&&(re*=256);)Q+=this[I+--D]*re;return Q},o.prototype.readUInt8=function(I,D){return I>>>=0,D||k(I,1,this.length),this[I]},o.prototype.readUInt16LE=function(I,D){return I>>>=0,D||k(I,2,this.length),this[I]|this[I+1]<<8},o.prototype.readUInt16BE=function(I,D){return I>>>=0,D||k(I,2,this.length),this[I]<<8|this[I+1]},o.prototype.readUInt32LE=function(I,D){return I>>>=0,D||k(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]},o.prototype.readUInt32BE=function(I,D){return I>>>=0,D||k(I,4,this.length),16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])},o.prototype.readIntLE=function(I,D,X){I>>>=0,D>>>=0,X||k(I,D,this.length);for(var Q=this[I],re=1,oe=0;++oe<D&&(re*=256);)Q+=this[I+oe]*re;return Q>=(re*=128)&&(Q-=Math.pow(2,8*D)),Q},o.prototype.readIntBE=function(I,D,X){I>>>=0,D>>>=0,X||k(I,D,this.length);for(var Q=D,re=1,oe=this[I+--Q];Q>0&&(re*=256);)oe+=this[I+--Q]*re;return oe>=(re*=128)&&(oe-=Math.pow(2,8*D)),oe},o.prototype.readInt8=function(I,D){return I>>>=0,D||k(I,1,this.length),128&this[I]?-1*(255-this[I]+1):this[I]},o.prototype.readInt16LE=function(I,D){I>>>=0,D||k(I,2,this.length);var X=this[I]|this[I+1]<<8;return 32768&X?4294901760|X:X},o.prototype.readInt16BE=function(I,D){I>>>=0,D||k(I,2,this.length);var X=this[I+1]|this[I]<<8;return 32768&X?4294901760|X:X},o.prototype.readInt32LE=function(I,D){return I>>>=0,D||k(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},o.prototype.readInt32BE=function(I,D){return I>>>=0,D||k(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},o.prototype.readFloatLE=function(I,D){return I>>>=0,D||k(I,4,this.length),l.read(this,I,!0,23,4)},o.prototype.readFloatBE=function(I,D){return I>>>=0,D||k(I,4,this.length),l.read(this,I,!1,23,4)},o.prototype.readDoubleLE=function(I,D){return I>>>=0,D||k(I,8,this.length),l.read(this,I,!0,52,8)},o.prototype.readDoubleBE=function(I,D){return I>>>=0,D||k(I,8,this.length),l.read(this,I,!1,52,8)},o.prototype.writeUIntLE=function(I,D,X,Q){I=+I,D>>>=0,X>>>=0,Q||j(this,I,D,X,Math.pow(2,8*X)-1,0);var re=1,oe=0;for(this[D]=255&I;++oe<X&&(re*=256);)this[D+oe]=I/re&255;return D+X},o.prototype.writeUIntBE=function(I,D,X,Q){I=+I,D>>>=0,X>>>=0,Q||j(this,I,D,X,Math.pow(2,8*X)-1,0);var re=X-1,oe=1;for(this[D+re]=255&I;--re>=0&&(oe*=256);)this[D+re]=I/oe&255;return D+X},o.prototype.writeUInt8=function(I,D,X){return I=+I,D>>>=0,X||j(this,I,D,1,255,0),this[D]=255&I,D+1},o.prototype.writeUInt16LE=function(I,D,X){return I=+I,D>>>=0,X||j(this,I,D,2,65535,0),this[D]=255&I,this[D+1]=I>>>8,D+2},o.prototype.writeUInt16BE=function(I,D,X){return I=+I,D>>>=0,X||j(this,I,D,2,65535,0),this[D]=I>>>8,this[D+1]=255&I,D+2},o.prototype.writeUInt32LE=function(I,D,X){return I=+I,D>>>=0,X||j(this,I,D,4,4294967295,0),this[D+3]=I>>>24,this[D+2]=I>>>16,this[D+1]=I>>>8,this[D]=255&I,D+4},o.prototype.writeUInt32BE=function(I,D,X){return I=+I,D>>>=0,X||j(this,I,D,4,4294967295,0),this[D]=I>>>24,this[D+1]=I>>>16,this[D+2]=I>>>8,this[D+3]=255&I,D+4},o.prototype.writeIntLE=function(I,D,X,Q){if(I=+I,D>>>=0,!Q){var re=Math.pow(2,8*X-1);j(this,I,D,X,re-1,-re)}var oe=0,se=1,he=0;for(this[D]=255&I;++oe<X&&(se*=256);)I<0&&he===0&&this[D+oe-1]!==0&&(he=1),this[D+oe]=(I/se>>0)-he&255;return D+X},o.prototype.writeIntBE=function(I,D,X,Q){if(I=+I,D>>>=0,!Q){var re=Math.pow(2,8*X-1);j(this,I,D,X,re-1,-re)}var oe=X-1,se=1,he=0;for(this[D+oe]=255&I;--oe>=0&&(se*=256);)I<0&&he===0&&this[D+oe+1]!==0&&(he=1),this[D+oe]=(I/se>>0)-he&255;return D+X},o.prototype.writeInt8=function(I,D,X){return I=+I,D>>>=0,X||j(this,I,D,1,127,-128),I<0&&(I=255+I+1),this[D]=255&I,D+1},o.prototype.writeInt16LE=function(I,D,X){return I=+I,D>>>=0,X||j(this,I,D,2,32767,-32768),this[D]=255&I,this[D+1]=I>>>8,D+2},o.prototype.writeInt16BE=function(I,D,X){return I=+I,D>>>=0,X||j(this,I,D,2,32767,-32768),this[D]=I>>>8,this[D+1]=255&I,D+2},o.prototype.writeInt32LE=function(I,D,X){return I=+I,D>>>=0,X||j(this,I,D,4,2147483647,-2147483648),this[D]=255&I,this[D+1]=I>>>8,this[D+2]=I>>>16,this[D+3]=I>>>24,D+4},o.prototype.writeInt32BE=function(I,D,X){return I=+I,D>>>=0,X||j(this,I,D,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[D]=I>>>24,this[D+1]=I>>>16,this[D+2]=I>>>8,this[D+3]=255&I,D+4},o.prototype.writeFloatLE=function(I,D,X){return T(this,I,D,!0,X)},o.prototype.writeFloatBE=function(I,D,X){return T(this,I,D,!1,X)},o.prototype.writeDoubleLE=function(I,D,X){return R(this,I,D,!0,X)},o.prototype.writeDoubleBE=function(I,D,X){return R(this,I,D,!1,X)},o.prototype.copy=function(I,D,X,Q){if(!o.isBuffer(I))throw new TypeError("argument should be a Buffer");if(X||(X=0),Q||Q===0||(Q=this.length),D>=I.length&&(D=I.length),D||(D=0),Q>0&&Q<X&&(Q=X),Q===X||I.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),I.length-D<Q-X&&(Q=I.length-D+X);var re=Q-X;if(this===I&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(D,X,Q);else if(this===I&&X<D&&D<Q)for(var oe=re-1;oe>=0;--oe)I[oe+D]=this[oe+X];else Uint8Array.prototype.set.call(I,this.subarray(X,Q),D);return re},o.prototype.fill=function(I,D,X,Q){if(typeof I=="string"){if(typeof D=="string"?(Q=D,D=0,X=this.length):typeof X=="string"&&(Q=X,X=this.length),Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!o.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);if(I.length===1){var re=I.charCodeAt(0);(Q==="utf8"&&re<128||Q==="latin1")&&(I=re)}}else typeof I=="number"&&(I&=255);if(D<0||this.length<D||this.length<X)throw new RangeError("Out of range index");if(X<=D)return this;var oe;if(D>>>=0,X=X===void 0?this.length:X>>>0,I||(I=0),typeof I=="number")for(oe=D;oe<X;++oe)this[oe]=I;else{var se=o.isBuffer(I)?I:o.from(I,Q),he=se.length;if(he===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(oe=0;oe<X-D;++oe)this[oe+D]=se[oe%he]}return this};var V=/[^+/0-9A-Za-z-_]/g;function B(I){return I<16?"0"+I.toString(16):I.toString(16)}function K(I,D){var X;D=D||1/0;for(var Q=I.length,re=null,oe=[],se=0;se<Q;++se){if((X=I.charCodeAt(se))>55295&&X<57344){if(!re){if(X>56319){(D-=3)>-1&&oe.push(239,191,189);continue}if(se+1===Q){(D-=3)>-1&&oe.push(239,191,189);continue}re=X;continue}if(X<56320){(D-=3)>-1&&oe.push(239,191,189),re=X;continue}X=65536+(re-55296<<10|X-56320)}else re&&(D-=3)>-1&&oe.push(239,191,189);if(re=null,X<128){if((D-=1)<0)break;oe.push(X)}else if(X<2048){if((D-=2)<0)break;oe.push(X>>6|192,63&X|128)}else if(X<65536){if((D-=3)<0)break;oe.push(X>>12|224,X>>6&63|128,63&X|128)}else{if(!(X<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;oe.push(X>>18|240,X>>12&63|128,X>>6&63|128,63&X|128)}}return oe}function Z(I){return s.toByteArray(function(D){if((D=(D=D.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(I))}function ne(I,D,X,Q){for(var re=0;re<Q&&!(re+X>=D.length||re>=I.length);++re)D[re+X]=I[re];return re}function G(I,D){return I instanceof D||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===D.name}function te(I){return I!=I}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("stream").Transform,l=e("string_decoder").StringDecoder;function c(o){s.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(c,s),c.prototype.update=function(o,u,d){typeof o=="string"&&(o=a.from(o,u));var f=this._update(o);return this.hashMode?this:(d&&(f=this._toString(f,d)),f)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(o,u,d){var f;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(h){f=h}finally{d(f)}},c.prototype._flush=function(o){var u;try{this.push(this.__final())}catch(d){u=d}o(u)},c.prototype._finalOrDigest=function(o){var u=this.__final()||a.alloc(0);return o&&(u=this._toString(u,o,!0)),u},c.prototype._toString=function(o,u,d){if(this._decoder||(this._decoder=new l(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var f=this._decoder.write(o);return d&&(f+=this._decoder.end()),f},n.exports=c},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,i){var a=e("../internals/is-callable"),s=e("../internals/try-to-string"),l=TypeError;n.exports=function(c){if(a(c))return c;throw new l(s(c)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,i){var a=e("../internals/is-constructor"),s=e("../internals/try-to-string"),l=TypeError;n.exports=function(c){if(a(c))return c;throw new l(s(c)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,i){var a=e("../internals/is-callable"),s=String,l=TypeError;n.exports=function(c){if(typeof c=="object"||a(c))return c;throw new l("Can't set "+s(c)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,i){var a=e("../internals/well-known-symbol"),s=e("../internals/object-create"),l=e("../internals/object-define-property").f,c=a("unscopables"),o=Array.prototype;o[c]===void 0&&l(o,c,{configurable:!0,value:s(null)}),n.exports=function(u){o[c][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,i){var a=e("../internals/object-is-prototype-of"),s=TypeError;n.exports=function(l,c){if(a(c,l))return l;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,i){var a=e("../internals/is-object"),s=String,l=TypeError;n.exports=function(c){if(a(c))return c;throw new l(s(c)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,i){var a=e("../internals/to-indexed-object"),s=e("../internals/to-absolute-index"),l=e("../internals/length-of-array-like"),c=function(o){return function(u,d,f){var h,y=a(u),m=l(y),g=s(f,m);if(o&&d!=d){for(;m>g;)if((h=y[g++])!=h)return!0}else for(;m>g;g++)if((o||g in y)&&y[g]===d)return o||g||0;return!o&&-1}};n.exports={includes:c(!0),indexOf:c(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,i){var a=e("../internals/function-bind-context"),s=e("../internals/function-uncurry-this"),l=e("../internals/indexed-object"),c=e("../internals/to-object"),o=e("../internals/length-of-array-like"),u=e("../internals/array-species-create"),d=s([].push),f=function(h){var y=h===1,m=h===2,g=h===3,v=h===4,b=h===6,w=h===7,_=h===5||b;return function(N,P,M,A){for(var F,H,z=c(N),U=l(z),O=a(P,M),L=o(U),C=0,k=A||u,j=y?k(N,L):m||w?k(N,0):void 0;L>C;C++)if((_||C in U)&&(H=O(F=U[C],C,z),h))if(y)j[C]=H;else if(H)switch(h){case 3:return!0;case 5:return F;case 6:return C;case 2:d(j,F)}else switch(h){case 4:return!1;case 7:d(j,F)}return b?-1:g||v?v:j}};n.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,i){var a=e("../internals/to-absolute-index"),s=e("../internals/length-of-array-like"),l=e("../internals/create-property"),c=Array,o=Math.max;n.exports=function(u,d,f){for(var h=s(u),y=a(d,h),m=a(f===void 0?h:f,h),g=c(o(m-y,0)),v=0;y<m;y++,v++)l(g,v,u[y]);return g.length=v,g}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,i){var a=e("../internals/function-uncurry-this");n.exports=a([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,i){var a=e("../internals/is-array"),s=e("../internals/is-constructor"),l=e("../internals/is-object"),c=e("../internals/well-known-symbol")("species"),o=Array;n.exports=function(u){var d;return a(u)&&(d=u.constructor,(s(d)&&(d===o||a(d.prototype))||l(d)&&(d=d[c])===null)&&(d=void 0)),d===void 0?o:d}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,i){var a=e("../internals/array-species-constructor");n.exports=function(s,l){return new(a(s))(l===0?0:l)}},{"../internals/array-species-constructor":232}],234:[function(e,n,i){var a=e("../internals/well-known-symbol")("iterator"),s=!1;try{var l=0,c={next:function(){return{done:!!l++}},return:function(){s=!0}};c[a]=function(){return this},Array.from(c,function(){throw 2})}catch{}n.exports=function(o,u){try{if(!u&&!s)return!1}catch{return!1}var d=!1;try{var f={};f[a]=function(){return{next:function(){return{done:d=!0}}}},o(f)}catch{}return d}},{"../internals/well-known-symbol":357}],235:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=a({}.toString),l=a("".slice);n.exports=function(c){return l(s(c),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,i){var a=e("../internals/to-string-tag-support"),s=e("../internals/is-callable"),l=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("toStringTag"),o=Object,u=l(function(){return arguments}())==="Arguments";n.exports=a?l:function(d){var f,h,y;return d===void 0?"Undefined":d===null?"Null":typeof(h=function(m,g){try{return m[g]}catch{}}(f=o(d),c))=="string"?h:u?l(f):(y=l(f))==="Object"&&s(f.callee)?"Arguments":y}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,i){var a=e("../internals/has-own-property"),s=e("../internals/own-keys"),l=e("../internals/object-get-own-property-descriptor"),c=e("../internals/object-define-property");n.exports=function(o,u,d){for(var f=s(u),h=c.f,y=l.f,m=0;m<f.length;m++){var g=f[m];a(o,g)||d&&a(d,g)||h(o,g,y(u,g))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,i){var a=e("../internals/well-known-symbol")("match");n.exports=function(s){var l=/./;try{"/./"[s](l)}catch{try{return l[a]=!1,"/./"[s](l)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,i){var a=e("../internals/fails");n.exports=!a(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},{"../internals/fails":260}],240:[function(e,n,i){n.exports=function(a,s){return{value:a,done:s}}},{}],241:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/object-define-property"),l=e("../internals/create-property-descriptor");n.exports=a?function(c,o,u){return s.f(c,o,l(1,u))}:function(c,o,u){return c[o]=u,c}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,i){n.exports=function(a,s){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:s}}},{}],243:[function(e,n,i){var a=e("../internals/to-property-key"),s=e("../internals/object-define-property"),l=e("../internals/create-property-descriptor");n.exports=function(c,o,u){var d=a(o);d in c?s.f(c,d,l(0,u)):c[d]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,i){var a=e("../internals/make-built-in"),s=e("../internals/object-define-property");n.exports=function(l,c,o){return o.get&&a(o.get,c,{getter:!0}),o.set&&a(o.set,c,{setter:!0}),s.f(l,c,o)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,i){var a=e("../internals/is-callable"),s=e("../internals/object-define-property"),l=e("../internals/make-built-in"),c=e("../internals/define-global-property");n.exports=function(o,u,d,f){f||(f={});var h=f.enumerable,y=f.name!==void 0?f.name:u;if(a(d)&&l(d,y,f),f.global)h?o[u]=d:c(u,d);else{try{f.unsafe?o[u]&&(h=!0):delete o[u]}catch{}h?o[u]=d:s.f(o,u,{value:d,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return o}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,i){var a=e("../internals/global"),s=Object.defineProperty;n.exports=function(l,c){try{s(a,l,{value:c,configurable:!0,writable:!0})}catch{a[l]=c}return c}},{"../internals/global":274}],247:[function(e,n,i){var a=e("../internals/fails");n.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,n,i){var a=typeof document=="object"&&document.all,s=a===void 0&&a!==void 0;n.exports={all:a,IS_HTMLDDA:s}},{}],249:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/is-object"),l=a.document,c=s(l)&&s(l.createElement);n.exports=function(o){return c?l.createElement(o):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,i){var a=e("../internals/engine-is-deno"),s=e("../internals/engine-is-node");n.exports=!a&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,i){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,i){var a=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(a)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,i){var a=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},{"../internals/engine-user-agent":256}],254:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/classof-raw");n.exports=s(a.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,i){var a=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(a)},{"../internals/engine-user-agent":256}],256:[function(e,n,i){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,i){var a,s,l=e("../internals/global"),c=e("../internals/engine-user-agent"),o=l.process,u=l.Deno,d=o&&o.versions||u&&u.version,f=d&&d.v8;f&&(s=(a=f.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!s&&c&&(!(a=c.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=c.match(/Chrome\/(\d+)/))&&(s=+a[1]),n.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,i){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/object-get-own-property-descriptor").f,l=e("../internals/create-non-enumerable-property"),c=e("../internals/define-built-in"),o=e("../internals/define-global-property"),u=e("../internals/copy-constructor-properties"),d=e("../internals/is-forced");n.exports=function(f,h){var y,m,g,v,b,w=f.target,_=f.global,N=f.stat;if(y=_?a:N?a[w]||o(w,{}):(a[w]||{}).prototype)for(m in h){if(v=h[m],g=f.dontCallGetSet?(b=s(y,m))&&b.value:y[m],!d(_?m:w+(N?".":"#")+m,f.forced)&&g!==void 0){if(typeof v==typeof g)continue;u(v,g)}(f.sham||g&&g.sham)&&l(v,"sham",!0),c(y,m,v,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,i){n.exports=function(a){try{return!!a()}catch{return!0}}},{}],261:[function(e,n,i){var a=e("../internals/function-bind-native"),s=Function.prototype,l=s.apply,c=s.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(a?c.bind(l):function(){return c.apply(l,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,i){var a=e("../internals/function-uncurry-this-clause"),s=e("../internals/a-callable"),l=e("../internals/function-bind-native"),c=a(a.bind);n.exports=function(o,u){return s(o),u===void 0?o:l?c(o,u):function(){return o.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,i){var a=e("../internals/fails");n.exports=!a(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,n,i){var a=e("../internals/function-bind-native"),s=Function.prototype.call;n.exports=a?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/has-own-property"),l=Function.prototype,c=a&&Object.getOwnPropertyDescriptor,o=s(l,"name"),u=o&&(function(){}).name==="something",d=o&&(!a||a&&c(l,"name").configurable);n.exports={EXISTS:o,PROPER:u,CONFIGURABLE:d}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/a-callable");n.exports=function(l,c,o){try{return a(s(Object.getOwnPropertyDescriptor(l,c)[o]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,i){var a=e("../internals/classof-raw"),s=e("../internals/function-uncurry-this");n.exports=function(l){if(a(l)==="Function")return s(l)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,i){var a=e("../internals/function-bind-native"),s=Function.prototype,l=s.call,c=a&&s.bind.bind(l,l);n.exports=a?c:function(o){return function(){return l.apply(o,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/is-callable"),l=function(c){return s(c)?c:void 0};n.exports=function(c,o){return arguments.length<2?l(a[c]):a[c]&&a[c][o]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,i){var a=e("../internals/classof"),s=e("../internals/get-method"),l=e("../internals/is-null-or-undefined"),c=e("../internals/iterators"),o=e("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!l(u))return s(u,o)||s(u,"@@iterator")||c[a(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,i){var a=e("../internals/function-call"),s=e("../internals/a-callable"),l=e("../internals/an-object"),c=e("../internals/try-to-string"),o=e("../internals/get-iterator-method"),u=TypeError;n.exports=function(d,f){var h=arguments.length<2?o(d):f;if(s(h))return l(a(h,d));throw new u(c(d)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/is-array"),l=e("../internals/is-callable"),c=e("../internals/classof-raw"),o=e("../internals/to-string"),u=a([].push);n.exports=function(d){if(l(d))return d;if(s(d)){for(var f=d.length,h=[],y=0;y<f;y++){var m=d[y];typeof m=="string"?u(h,m):typeof m!="number"&&c(m)!=="Number"&&c(m)!=="String"||u(h,o(m))}var g=h.length,v=!0;return function(b,w){if(v)return v=!1,w;if(s(this))return w;for(var _=0;_<g;_++)if(h[_]===b)return w}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,i){var a=e("../internals/a-callable"),s=e("../internals/is-null-or-undefined");n.exports=function(l,c){var o=l[c];return s(o)?void 0:a(o)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,i){(function(a){(function(){var s=function(l){return l&&l.Math===Math&&l};n.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof a=="object"&&a)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/to-object"),l=a({}.hasOwnProperty);n.exports=Object.hasOwn||function(c,o){return l(s(c),o)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,i){n.exports={}},{}],277:[function(e,n,i){n.exports=function(a,s){try{arguments.length===1?console.error(a):console.error(a,s)}catch{}}},{}],278:[function(e,n,i){var a=e("../internals/get-built-in");n.exports=a("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/fails"),l=e("../internals/document-create-element");n.exports=!a&&!s(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/fails"),l=e("../internals/classof-raw"),c=Object,o=a("".split);n.exports=s(function(){return!c("z").propertyIsEnumerable(0)})?function(u){return l(u)==="String"?o(u,""):c(u)}:c},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/is-callable"),l=e("../internals/shared-store"),c=a(Function.toString);s(l.inspectSource)||(l.inspectSource=function(o){return c(o)}),n.exports=l.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,i){var a,s,l,c=e("../internals/weak-map-basic-detection"),o=e("../internals/global"),u=e("../internals/is-object"),d=e("../internals/create-non-enumerable-property"),f=e("../internals/has-own-property"),h=e("../internals/shared-store"),y=e("../internals/shared-key"),m=e("../internals/hidden-keys"),g=o.TypeError,v=o.WeakMap;if(c||h.state){var b=h.state||(h.state=new v);b.get=b.get,b.has=b.has,b.set=b.set,a=function(_,N){if(b.has(_))throw new g("Object already initialized");return N.facade=_,b.set(_,N),N},s=function(_){return b.get(_)||{}},l=function(_){return b.has(_)}}else{var w=y("state");m[w]=!0,a=function(_,N){if(f(_,w))throw new g("Object already initialized");return N.facade=_,d(_,w,N),N},s=function(_){return f(_,w)?_[w]:{}},l=function(_){return f(_,w)}}n.exports={set:a,get:s,has:l,enforce:function(_){return l(_)?s(_):a(_,{})},getterFor:function(_){return function(N){var P;if(!u(N)||(P=s(N)).type!==_)throw new g("Incompatible receiver, "+_+" required");return P}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,i){var a=e("../internals/well-known-symbol"),s=e("../internals/iterators"),l=a("iterator"),c=Array.prototype;n.exports=function(o){return o!==void 0&&(s.Array===o||c[l]===o)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,i){var a=e("../internals/classof-raw");n.exports=Array.isArray||function(s){return a(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,i){var a=e("../internals/document-all"),s=a.all;n.exports=a.IS_HTMLDDA?function(l){return typeof l=="function"||l===s}:function(l){return typeof l=="function"}},{"../internals/document-all":248}],286:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/fails"),l=e("../internals/is-callable"),c=e("../internals/classof"),o=e("../internals/get-built-in"),u=e("../internals/inspect-source"),d=function(){},f=[],h=o("Reflect","construct"),y=/^\s*(?:class|function)\b/,m=a(y.exec),g=!y.test(d),v=function(w){if(!l(w))return!1;try{return h(d,f,w),!0}catch{return!1}},b=function(w){if(!l(w))return!1;switch(c(w)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!m(y,u(w))}catch{return!0}};b.sham=!0,n.exports=!h||s(function(){var w;return v(v.call)||!v(Object)||!v(function(){w=!0})||w})?b:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,i){var a=e("../internals/fails"),s=e("../internals/is-callable"),l=/#|\.prototype\./,c=function(h,y){var m=u[o(h)];return m===f||m!==d&&(s(y)?a(y):!!y)},o=c.normalize=function(h){return String(h).replace(l,".").toLowerCase()},u=c.data={},d=c.NATIVE="N",f=c.POLYFILL="P";n.exports=c},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,i){n.exports=function(a){return a==null}},{}],289:[function(e,n,i){var a=e("../internals/is-callable"),s=e("../internals/document-all"),l=s.all;n.exports=s.IS_HTMLDDA?function(c){return typeof c=="object"?c!==null:a(c)||c===l}:function(c){return typeof c=="object"?c!==null:a(c)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,i){n.exports=!1},{}],291:[function(e,n,i){var a=e("../internals/is-object"),s=e("../internals/classof-raw"),l=e("../internals/well-known-symbol")("match");n.exports=function(c){var o;return a(c)&&((o=c[l])!==void 0?!!o:s(c)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,i){var a=e("../internals/get-built-in"),s=e("../internals/is-callable"),l=e("../internals/object-is-prototype-of"),c=e("../internals/use-symbol-as-uid"),o=Object;n.exports=c?function(u){return typeof u=="symbol"}:function(u){var d=a("Symbol");return s(d)&&l(d.prototype,o(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,i){var a=e("../internals/function-bind-context"),s=e("../internals/function-call"),l=e("../internals/an-object"),c=e("../internals/try-to-string"),o=e("../internals/is-array-iterator-method"),u=e("../internals/length-of-array-like"),d=e("../internals/object-is-prototype-of"),f=e("../internals/get-iterator"),h=e("../internals/get-iterator-method"),y=e("../internals/iterator-close"),m=TypeError,g=function(b,w){this.stopped=b,this.result=w},v=g.prototype;n.exports=function(b,w,_){var N,P,M,A,F,H,z,U=_&&_.that,O=!(!_||!_.AS_ENTRIES),L=!(!_||!_.IS_RECORD),C=!(!_||!_.IS_ITERATOR),k=!(!_||!_.INTERRUPTED),j=a(w,U),E=function(R){return N&&y(N,"normal",R),new g(!0,R)},T=function(R){return O?(l(R),k?j(R[0],R[1],E):j(R[0],R[1])):k?j(R,E):j(R)};if(L)N=b.iterator;else if(C)N=b;else{if(!(P=h(b)))throw new m(c(b)+" is not iterable");if(o(P)){for(M=0,A=u(b);A>M;M++)if((F=T(b[M]))&&d(v,F))return F;return new g(!1)}N=f(b,P)}for(H=L?b.next:N.next;!(z=s(H,N)).done;){try{F=T(z.value)}catch(R){y(N,"throw",R)}if(typeof F=="object"&&F&&d(v,F))return F}return new g(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,i){var a=e("../internals/function-call"),s=e("../internals/an-object"),l=e("../internals/get-method");n.exports=function(c,o,u){var d,f;s(c);try{if(!(d=l(c,"return"))){if(o==="throw")throw u;return u}d=a(d,c)}catch(h){f=!0,d=h}if(o==="throw")throw u;if(f)throw d;return s(d),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,i){var a=e("../internals/iterators-core").IteratorPrototype,s=e("../internals/object-create"),l=e("../internals/create-property-descriptor"),c=e("../internals/set-to-string-tag"),o=e("../internals/iterators"),u=function(){return this};n.exports=function(d,f,h,y){var m=f+" Iterator";return d.prototype=s(a,{next:l(+!y,h)}),c(d,m,!1,!0),o[m]=u,d}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/function-call"),l=e("../internals/is-pure"),c=e("../internals/function-name"),o=e("../internals/is-callable"),u=e("../internals/iterator-create-constructor"),d=e("../internals/object-get-prototype-of"),f=e("../internals/object-set-prototype-of"),h=e("../internals/set-to-string-tag"),y=e("../internals/create-non-enumerable-property"),m=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),v=e("../internals/iterators"),b=e("../internals/iterators-core"),w=c.PROPER,_=c.CONFIGURABLE,N=b.IteratorPrototype,P=b.BUGGY_SAFARI_ITERATORS,M=g("iterator"),A=function(){return this};n.exports=function(F,H,z,U,O,L,C){u(z,H,U);var k,j,E,T=function(G){if(G===O&&Z)return Z;if(!P&&G&&G in B)return B[G];switch(G){case"keys":case"values":case"entries":return function(){return new z(this,G)}}return function(){return new z(this)}},R=H+" Iterator",V=!1,B=F.prototype,K=B[M]||B["@@iterator"]||O&&B[O],Z=!P&&K||T(O),ne=H==="Array"&&B.entries||K;if(ne&&(k=d(ne.call(new F)))!==Object.prototype&&k.next&&(l||d(k)===N||(f?f(k,N):o(k[M])||m(k,M,A)),h(k,R,!0,!0),l&&(v[R]=A)),w&&O==="values"&&K&&K.name!=="values"&&(!l&&_?y(B,"name","values"):(V=!0,Z=function(){return s(K,this)})),O)if(j={values:T("values"),keys:L?Z:T("keys"),entries:T("entries")},C)for(E in j)(P||V||!(E in B))&&m(B,E,j[E]);else a({target:H,proto:!0,forced:P||V},j);return l&&!C||B[M]===Z||m(B,M,Z,{name:O}),v[H]=Z,j}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,i){var a,s,l,c=e("../internals/fails"),o=e("../internals/is-callable"),u=e("../internals/is-object"),d=e("../internals/object-create"),f=e("../internals/object-get-prototype-of"),h=e("../internals/define-built-in"),y=e("../internals/well-known-symbol"),m=e("../internals/is-pure"),g=y("iterator"),v=!1;[].keys&&("next"in(l=[].keys())?(s=f(f(l)))!==Object.prototype&&(a=s):v=!0),!u(a)||c(function(){var b={};return a[g].call(b)!==b})?a={}:m&&(a=d(a)),o(a[g])||h(a,g,function(){return this}),n.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(e,n,i){var a=e("../internals/to-length");n.exports=function(s){return a(s.length)}},{"../internals/to-length":343}],300:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/fails"),l=e("../internals/is-callable"),c=e("../internals/has-own-property"),o=e("../internals/descriptors"),u=e("../internals/function-name").CONFIGURABLE,d=e("../internals/inspect-source"),f=e("../internals/internal-state"),h=f.enforce,y=f.get,m=String,g=Object.defineProperty,v=a("".slice),b=a("".replace),w=a([].join),_=o&&!s(function(){return g(function(){},"length",{value:8}).length!==8}),N=String(String).split("String"),P=n.exports=function(M,A,F){v(m(A),0,7)==="Symbol("&&(A="["+b(m(A),/^Symbol\(([^)]*)\)/,"$1")+"]"),F&&F.getter&&(A="get "+A),F&&F.setter&&(A="set "+A),(!c(M,"name")||u&&M.name!==A)&&(o?g(M,"name",{value:A,configurable:!0}):M.name=A),_&&F&&c(F,"arity")&&M.length!==F.arity&&g(M,"length",{value:F.arity});try{F&&c(F,"constructor")&&F.constructor?o&&g(M,"prototype",{writable:!1}):M.prototype&&(M.prototype=void 0)}catch{}var H=h(M);return c(H,"source")||(H.source=w(N,typeof A=="string"?A:"")),M};Function.prototype.toString=P(function(){return l(this)&&y(this).source||d(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,i){var a=Math.ceil,s=Math.floor;n.exports=Math.trunc||function(l){var c=+l;return(c>0?s:a)(c)}},{}],302:[function(e,n,i){var a,s,l,c,o,u=e("../internals/global"),d=e("../internals/function-bind-context"),f=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/task").set,y=e("../internals/queue"),m=e("../internals/engine-is-ios"),g=e("../internals/engine-is-ios-pebble"),v=e("../internals/engine-is-webos-webkit"),b=e("../internals/engine-is-node"),w=u.MutationObserver||u.WebKitMutationObserver,_=u.document,N=u.process,P=u.Promise,M=f(u,"queueMicrotask"),A=M&&M.value;if(!A){var F=new y,H=function(){var z,U;for(b&&(z=N.domain)&&z.exit();U=F.get();)try{U()}catch(O){throw F.head&&a(),O}z&&z.enter()};m||b||v||!w||!_?!g&&P&&P.resolve?((c=P.resolve(void 0)).constructor=P,o=d(c.then,c),a=function(){o(H)}):b?a=function(){N.nextTick(H)}:(h=d(h,u),a=function(){h(H)}):(s=!0,l=_.createTextNode(""),new w(H).observe(l,{characterData:!0}),a=function(){l.data=s=!s}),A=function(z){F.head||a(),F.add(z)}}n.exports=A},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,i){var a=e("../internals/a-callable"),s=TypeError,l=function(c){var o,u;this.promise=new c(function(d,f){if(o!==void 0||u!==void 0)throw new s("Bad Promise constructor");o=d,u=f}),this.resolve=a(o),this.reject=a(u)};n.exports.f=function(c){return new l(c)}},{"../internals/a-callable":222}],304:[function(e,n,i){var a=e("../internals/is-regexp"),s=TypeError;n.exports=function(l){if(a(l))throw new s("The method doesn't accept regular expressions");return l}},{"../internals/is-regexp":291}],305:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/function-uncurry-this"),l=e("../internals/function-call"),c=e("../internals/fails"),o=e("../internals/object-keys"),u=e("../internals/object-get-own-property-symbols"),d=e("../internals/object-property-is-enumerable"),f=e("../internals/to-object"),h=e("../internals/indexed-object"),y=Object.assign,m=Object.defineProperty,g=s([].concat);n.exports=!y||c(function(){if(a&&y({b:1},y(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},b={},w=Symbol("assign detection");return v[w]=7,"abcdefghijklmnopqrst".split("").forEach(function(_){b[_]=_}),y({},v)[w]!==7||o(y({},b)).join("")!=="abcdefghijklmnopqrst"})?function(v,b){for(var w=f(v),_=arguments.length,N=1,P=u.f,M=d.f;_>N;)for(var A,F=h(arguments[N++]),H=P?g(o(F),P(F)):o(F),z=H.length,U=0;z>U;)A=H[U++],a&&!l(M,F,A)||(w[A]=F[A]);return w}:y},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,i){var a,s=e("../internals/an-object"),l=e("../internals/object-define-properties"),c=e("../internals/enum-bug-keys"),o=e("../internals/hidden-keys"),u=e("../internals/html"),d=e("../internals/document-create-element"),f=e("../internals/shared-key"),h=f("IE_PROTO"),y=function(){},m=function(b){return"<script>"+b+"<\/script>"},g=function(b){b.write(m("")),b.close();var w=b.parentWindow.Object;return b=null,w},v=function(){try{a=new ActiveXObject("htmlfile")}catch{}var b,w;v=typeof document<"u"?document.domain&&a?g(a):((w=d("iframe")).style.display="none",u.appendChild(w),w.src="javascript:",(b=w.contentWindow.document).open(),b.write(m("document.F=Object")),b.close(),b.F):g(a);for(var _=c.length;_--;)delete v.prototype[c[_]];return v()};o[h]=!0,n.exports=Object.create||function(b,w){var _;return b!==null?(y.prototype=s(b),_=new y,y.prototype=null,_[h]=b):_=v(),w===void 0?_:l.f(_,w)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/v8-prototype-define-bug"),l=e("../internals/object-define-property"),c=e("../internals/an-object"),o=e("../internals/to-indexed-object"),u=e("../internals/object-keys");i.f=a&&!s?Object.defineProperties:function(d,f){c(d);for(var h,y=o(f),m=u(f),g=m.length,v=0;g>v;)l.f(d,h=m[v++],y[h]);return d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/ie8-dom-define"),l=e("../internals/v8-prototype-define-bug"),c=e("../internals/an-object"),o=e("../internals/to-property-key"),u=TypeError,d=Object.defineProperty,f=Object.getOwnPropertyDescriptor;i.f=a?l?function(h,y,m){if(c(h),y=o(y),c(m),typeof h=="function"&&y==="prototype"&&"value"in m&&"writable"in m&&!m.writable){var g=f(h,y);g&&g.writable&&(h[y]=m.value,m={configurable:"configurable"in m?m.configurable:g.configurable,enumerable:"enumerable"in m?m.enumerable:g.enumerable,writable:!1})}return d(h,y,m)}:d:function(h,y,m){if(c(h),y=o(y),c(m),s)try{return d(h,y,m)}catch{}if("get"in m||"set"in m)throw new u("Accessors not supported");return"value"in m&&(h[y]=m.value),h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/function-call"),l=e("../internals/object-property-is-enumerable"),c=e("../internals/create-property-descriptor"),o=e("../internals/to-indexed-object"),u=e("../internals/to-property-key"),d=e("../internals/has-own-property"),f=e("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;i.f=a?h:function(y,m){if(y=o(y),m=u(m),f)try{return h(y,m)}catch{}if(d(y,m))return c(!s(l.f,y,m),y[m])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,i){var a=e("../internals/classof-raw"),s=e("../internals/to-indexed-object"),l=e("../internals/object-get-own-property-names").f,c=e("../internals/array-slice-simple"),o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return o&&a(u)==="Window"?function(d){try{return l(d)}catch{return c(o)}}(u):l(s(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,i){var a=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(l){return a(l,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,i){var a=e("../internals/has-own-property"),s=e("../internals/is-callable"),l=e("../internals/to-object"),c=e("../internals/shared-key"),o=e("../internals/correct-prototype-getter"),u=c("IE_PROTO"),d=Object,f=d.prototype;n.exports=o?d.getPrototypeOf:function(h){var y=l(h);if(a(y,u))return y[u];var m=y.constructor;return s(m)&&y instanceof m?m.prototype:y instanceof d?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,i){var a=e("../internals/function-uncurry-this");n.exports=a({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=e("../internals/has-own-property"),l=e("../internals/to-indexed-object"),c=e("../internals/array-includes").indexOf,o=e("../internals/hidden-keys"),u=a([].push);n.exports=function(d,f){var h,y=l(d),m=0,g=[];for(h in y)!s(o,h)&&s(y,h)&&u(g,h);for(;f.length>m;)s(y,h=f[m++])&&(~c(g,h)||u(g,h));return g}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,i){var a=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys");n.exports=Object.keys||function(l){return a(l,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,i){var a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,l=s&&!a.call({1:2},1);i.f=l?function(c){var o=s(this,c);return!!o&&o.enumerable}:a},{}],318:[function(e,n,i){var a=e("../internals/function-uncurry-this-accessor"),s=e("../internals/an-object"),l=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c,o=!1,u={};try{(c=a(Object.prototype,"__proto__","set"))(u,[]),o=u instanceof Array}catch{}return function(d,f){return s(d),l(f),o?c(d,f):d.__proto__=f,d}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/fails"),l=e("../internals/function-uncurry-this"),c=e("../internals/object-get-prototype-of"),o=e("../internals/object-keys"),u=e("../internals/to-indexed-object"),d=l(e("../internals/object-property-is-enumerable").f),f=l([].push),h=a&&s(function(){var m=Object.create(null);return m[2]=2,!d(m,2)}),y=function(m){return function(g){for(var v,b=u(g),w=o(b),_=h&&c(b)===null,N=w.length,P=0,M=[];N>P;)v=w[P++],a&&!(_?v in b:d(b,v))||f(M,m?[v,b[v]]:b[v]);return M}};n.exports={entries:y(!0),values:y(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,i){var a=e("../internals/function-call"),s=e("../internals/is-callable"),l=e("../internals/is-object"),c=TypeError;n.exports=function(o,u){var d,f;if(u==="string"&&s(d=o.toString)&&!l(f=a(d,o))||s(d=o.valueOf)&&!l(f=a(d,o))||u!=="string"&&s(d=o.toString)&&!l(f=a(d,o)))return f;throw new c("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,i){var a=e("../internals/get-built-in"),s=e("../internals/function-uncurry-this"),l=e("../internals/object-get-own-property-names"),c=e("../internals/object-get-own-property-symbols"),o=e("../internals/an-object"),u=s([].concat);n.exports=a("Reflect","ownKeys")||function(d){var f=l.f(o(d)),h=c.f;return h?u(f,h(d)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,i){var a=e("../internals/global");n.exports=a},{"../internals/global":274}],323:[function(e,n,i){n.exports=function(a){try{return{error:!1,value:a()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/promise-native-constructor"),l=e("../internals/is-callable"),c=e("../internals/is-forced"),o=e("../internals/inspect-source"),u=e("../internals/well-known-symbol"),d=e("../internals/engine-is-browser"),f=e("../internals/engine-is-deno"),h=e("../internals/is-pure"),y=e("../internals/engine-v8-version"),m=s&&s.prototype,g=u("species"),v=!1,b=l(a.PromiseRejectionEvent),w=c("Promise",function(){var _=o(s),N=_!==String(s);if(!N&&y===66||h&&(!m.catch||!m.finally))return!0;if(!y||y<51||!/native code/.test(_)){var P=new s(function(A){A(1)}),M=function(A){A(function(){},function(){})};if((P.constructor={})[g]=M,!(v=P.then(function(){})instanceof M))return!0}return!N&&(d||f)&&!b});n.exports={CONSTRUCTOR:w,REJECTION_EVENT:b,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,i){var a=e("../internals/global");n.exports=a.Promise},{"../internals/global":274}],326:[function(e,n,i){var a=e("../internals/an-object"),s=e("../internals/is-object"),l=e("../internals/new-promise-capability");n.exports=function(c,o){if(a(c),s(o)&&o.constructor===c)return o;var u=l.f(c);return(0,u.resolve)(o),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,i){var a=e("../internals/promise-native-constructor"),s=e("../internals/check-correctness-of-iteration"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=l||!s(function(c){a.all(c).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,i){var a=function(){this.head=null,this.tail=null};a.prototype={add:function(s){var l={item:s,next:null},c=this.tail;c?c.next=l:this.head=l,this.tail=l},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},n.exports=a},{}],329:[function(e,n,i){var a=e("../internals/is-null-or-undefined"),s=TypeError;n.exports=function(l){if(a(l))throw new s("Can't call method on "+l);return l}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,i){var a=e("../internals/get-built-in"),s=e("../internals/define-built-in-accessor"),l=e("../internals/well-known-symbol"),c=e("../internals/descriptors"),o=l("species");n.exports=function(u){var d=a(u);c&&d&&!d[o]&&s(d,o,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,i){var a=e("../internals/object-define-property").f,s=e("../internals/has-own-property"),l=e("../internals/well-known-symbol")("toStringTag");n.exports=function(c,o,u){c&&!u&&(c=c.prototype),c&&!s(c,l)&&a(c,l,{configurable:!0,value:o})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,i){var a=e("../internals/shared"),s=e("../internals/uid"),l=a("keys");n.exports=function(c){return l[c]||(l[c]=s(c))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/define-global-property"),l=a["__core-js_shared__"]||s("__core-js_shared__",{});n.exports=l},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,i){var a=e("../internals/is-pure"),s=e("../internals/shared-store");(n.exports=function(l,c){return s[l]||(s[l]=c!==void 0?c:{})})("versions",[]).push({version:"3.33.0",mode:a?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,i){var a=e("../internals/an-object"),s=e("../internals/a-constructor"),l=e("../internals/is-null-or-undefined"),c=e("../internals/well-known-symbol")("species");n.exports=function(o,u){var d,f=a(o).constructor;return f===void 0||l(d=a(f)[c])?u:s(d)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,i){var a=e("../internals/engine-v8-version"),s=e("../internals/fails"),l=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!s(function(){var c=Symbol("symbol detection");return!l(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&a&&a<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,i){var a=e("../internals/function-call"),s=e("../internals/get-built-in"),l=e("../internals/well-known-symbol"),c=e("../internals/define-built-in");n.exports=function(){var o=s("Symbol"),u=o&&o.prototype,d=u&&u.valueOf,f=l("toPrimitive");u&&!u[f]&&c(u,f,function(h){return a(d,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,i){var a=e("../internals/symbol-constructor-detection");n.exports=a&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,i){var a,s,l,c,o=e("../internals/global"),u=e("../internals/function-apply"),d=e("../internals/function-bind-context"),f=e("../internals/is-callable"),h=e("../internals/has-own-property"),y=e("../internals/fails"),m=e("../internals/html"),g=e("../internals/array-slice"),v=e("../internals/document-create-element"),b=e("../internals/validate-arguments-length"),w=e("../internals/engine-is-ios"),_=e("../internals/engine-is-node"),N=o.setImmediate,P=o.clearImmediate,M=o.process,A=o.Dispatch,F=o.Function,H=o.MessageChannel,z=o.String,U=0,O={};y(function(){a=o.location});var L=function(E){if(h(O,E)){var T=O[E];delete O[E],T()}},C=function(E){return function(){L(E)}},k=function(E){L(E.data)},j=function(E){o.postMessage(z(E),a.protocol+"//"+a.host)};N&&P||(N=function(E){b(arguments.length,1);var T=f(E)?E:F(E),R=g(arguments,1);return O[++U]=function(){u(T,void 0,R)},s(U),U},P=function(E){delete O[E]},_?s=function(E){M.nextTick(C(E))}:A&&A.now?s=function(E){A.now(C(E))}:H&&!w?(c=(l=new H).port2,l.port1.onmessage=k,s=d(c.postMessage,c)):o.addEventListener&&f(o.postMessage)&&!o.importScripts&&a&&a.protocol!=="file:"&&!y(j)?(s=j,o.addEventListener("message",k,!1)):s="onreadystatechange"in v("script")?function(E){m.appendChild(v("script")).onreadystatechange=function(){m.removeChild(this),L(E)}}:function(E){setTimeout(C(E),0)}),n.exports={set:N,clear:P}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,i){var a=e("../internals/to-integer-or-infinity"),s=Math.max,l=Math.min;n.exports=function(c,o){var u=a(c);return u<0?s(u+o,0):l(u,o)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,i){var a=e("../internals/indexed-object"),s=e("../internals/require-object-coercible");n.exports=function(l){return a(s(l))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,i){var a=e("../internals/math-trunc");n.exports=function(s){var l=+s;return l!=l||l===0?0:a(l)}},{"../internals/math-trunc":301}],343:[function(e,n,i){var a=e("../internals/to-integer-or-infinity"),s=Math.min;n.exports=function(l){return l>0?s(a(l),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,i){var a=e("../internals/require-object-coercible"),s=Object;n.exports=function(l){return s(a(l))}},{"../internals/require-object-coercible":329}],345:[function(e,n,i){var a=e("../internals/function-call"),s=e("../internals/is-object"),l=e("../internals/is-symbol"),c=e("../internals/get-method"),o=e("../internals/ordinary-to-primitive"),u=e("../internals/well-known-symbol"),d=TypeError,f=u("toPrimitive");n.exports=function(h,y){if(!s(h)||l(h))return h;var m,g=c(h,f);if(g){if(y===void 0&&(y="default"),m=a(g,h,y),!s(m)||l(m))return m;throw new d("Can't convert object to primitive value")}return y===void 0&&(y="number"),o(h,y)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,i){var a=e("../internals/to-primitive"),s=e("../internals/is-symbol");n.exports=function(l){var c=a(l,"string");return s(c)?c:c+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,i){var a={};a[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,i){var a=e("../internals/classof"),s=String;n.exports=function(l){if(a(l)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(l)}},{"../internals/classof":236}],349:[function(e,n,i){var a=String;n.exports=function(s){try{return a(s)}catch{return"Object"}}},{}],350:[function(e,n,i){var a=e("../internals/function-uncurry-this"),s=0,l=Math.random(),c=a(1 .toString);n.exports=function(o){return"Symbol("+(o===void 0?"":o)+")_"+c(++s+l,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,i){var a=e("../internals/symbol-constructor-detection");n.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,i){var a=e("../internals/descriptors"),s=e("../internals/fails");n.exports=a&&s(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,i){var a=TypeError;n.exports=function(s,l){if(s<l)throw new a("Not enough arguments");return s}},{}],354:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/is-callable"),l=a.WeakMap;n.exports=s(l)&&/native code/.test(String(l))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,i){var a=e("../internals/path"),s=e("../internals/has-own-property"),l=e("../internals/well-known-symbol-wrapped"),c=e("../internals/object-define-property").f;n.exports=function(o){var u=a.Symbol||(a.Symbol={});s(u,o)||c(u,o,{value:l.f(o)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,i){var a=e("../internals/well-known-symbol");i.f=a},{"../internals/well-known-symbol":357}],357:[function(e,n,i){var a=e("../internals/global"),s=e("../internals/shared"),l=e("../internals/has-own-property"),c=e("../internals/uid"),o=e("../internals/symbol-constructor-detection"),u=e("../internals/use-symbol-as-uid"),d=a.Symbol,f=s("wks"),h=u?d.for||d:d&&d.withoutSetter||c;n.exports=function(y){return l(f,y)||(f[y]=o&&l(d,y)?d[y]:h("Symbol."+y)),f[y]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/array-iteration").findIndex,l=e("../internals/add-to-unscopables"),c=!0;"findIndex"in[]&&Array(1).findIndex(function(){c=!1}),a({target:"Array",proto:!0,forced:c},{findIndex:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}}),l("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/array-iteration").find,l=e("../internals/add-to-unscopables"),c=!0;"find"in[]&&Array(1).find(function(){c=!1}),a({target:"Array",proto:!0,forced:c},{find:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}}),l("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/array-includes").includes,l=e("../internals/fails"),c=e("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:l(function(){return!Array(1).includes()})},{includes:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,i){var a=e("../internals/to-indexed-object"),s=e("../internals/add-to-unscopables"),l=e("../internals/iterators"),c=e("../internals/internal-state"),o=e("../internals/object-define-property").f,u=e("../internals/iterator-define"),d=e("../internals/create-iter-result-object"),f=e("../internals/is-pure"),h=e("../internals/descriptors"),y=c.set,m=c.getterFor("Array Iterator");n.exports=u(Array,"Array",function(v,b){y(this,{type:"Array Iterator",target:a(v),index:0,kind:b})},function(){var v=m(this),b=v.target,w=v.kind,_=v.index++;if(!b||_>=b.length)return v.target=void 0,d(void 0,!0);switch(w){case"keys":return d(_,!1);case"values":return d(b[_],!1)}return d([_,b[_]],!1)},"values");var g=l.Arguments=l.Array;if(s("keys"),s("values"),s("entries"),!f&&h&&g.name!=="values")try{o(g,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/get-built-in"),l=e("../internals/function-apply"),c=e("../internals/function-call"),o=e("../internals/function-uncurry-this"),u=e("../internals/fails"),d=e("../internals/is-callable"),f=e("../internals/is-symbol"),h=e("../internals/array-slice"),y=e("../internals/get-json-replacer-function"),m=e("../internals/symbol-constructor-detection"),g=String,v=s("JSON","stringify"),b=o(/./.exec),w=o("".charAt),_=o("".charCodeAt),N=o("".replace),P=o(1 .toString),M=/[\uD800-\uDFFF]/g,A=/^[\uD800-\uDBFF]$/,F=/^[\uDC00-\uDFFF]$/,H=!m||u(function(){var L=s("Symbol")("stringify detection");return v([L])!=="[null]"||v({a:L})!=="{}"||v(Object(L))!=="{}"}),z=u(function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'}),U=function(L,C){var k=h(arguments),j=y(C);if(d(j)||L!==void 0&&!f(L))return k[1]=function(E,T){if(d(j)&&(T=c(j,this,g(E),T)),!f(T))return T},l(v,null,k)},O=function(L,C,k){var j=w(k,C-1),E=w(k,C+1);return b(A,L)&&!b(F,E)||b(F,L)&&!b(A,j)?"\\u"+P(_(L,0),16):L};v&&a({target:"JSON",stat:!0,arity:3,forced:H||z},{stringify:function(L,C,k){var j=h(arguments),E=l(H?U:v,null,j);return z&&typeof E=="string"?N(E,M,O):E}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,i){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},{"../internals/export":259}],364:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/object-assign");a({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/symbol-constructor-detection"),l=e("../internals/fails"),c=e("../internals/object-get-own-property-symbols"),o=e("../internals/to-object");a({target:"Object",stat:!0,forced:!s||l(function(){c.f(1)})},{getOwnPropertySymbols:function(u){var d=c.f;return d?d(o(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/to-object"),l=e("../internals/object-keys");a({target:"Object",stat:!0,forced:e("../internals/fails")(function(){l(1)})},{keys:function(c){return l(s(c))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/object-to-array").values;a({target:"Object",stat:!0},{values:function(l){return s(l)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/function-call"),l=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),o=e("../internals/perform"),u=e("../internals/iterate");a({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(d){var f=this,h=c.f(f),y=h.resolve,m=h.reject,g=o(function(){var v=l(f.resolve),b=[],w=0,_=1;u(d,function(N){var P=w++,M=!1;_++,s(v,f,N).then(function(A){M||(M=!0,b[P]=A,--_||y(b))},m)}),--_||y(b)});return g.error&&m(g.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/is-pure"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-native-constructor"),o=e("../internals/get-built-in"),u=e("../internals/is-callable"),d=e("../internals/define-built-in"),f=c&&c.prototype;if(a({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(y){return this.then(void 0,y)}}),!s&&u(c)){var h=o("Promise").prototype.catch;f.catch!==h&&d(f,"catch",h,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,i){var a,s,l,c=e("../internals/export"),o=e("../internals/is-pure"),u=e("../internals/engine-is-node"),d=e("../internals/global"),f=e("../internals/function-call"),h=e("../internals/define-built-in"),y=e("../internals/object-set-prototype-of"),m=e("../internals/set-to-string-tag"),g=e("../internals/set-species"),v=e("../internals/a-callable"),b=e("../internals/is-callable"),w=e("../internals/is-object"),_=e("../internals/an-instance"),N=e("../internals/species-constructor"),P=e("../internals/task").set,M=e("../internals/microtask"),A=e("../internals/host-report-errors"),F=e("../internals/perform"),H=e("../internals/queue"),z=e("../internals/internal-state"),U=e("../internals/promise-native-constructor"),O=e("../internals/promise-constructor-detection"),L=e("../internals/new-promise-capability"),C=O.CONSTRUCTOR,k=O.REJECTION_EVENT,j=O.SUBCLASSING,E=z.getterFor("Promise"),T=z.set,R=U&&U.prototype,V=U,B=R,K=d.TypeError,Z=d.document,ne=d.process,G=L.f,te=G,I=!!(Z&&Z.createEvent&&d.dispatchEvent),D=function(ge){var ke;return!(!w(ge)||!b(ke=ge.then))&&ke},X=function(ge,ke){var Pe,Re,Ie,qe=ke.value,Ue=ke.state===1,vt=Ue?ge.ok:ge.fail,St=ge.resolve,De=ge.reject,lt=ge.domain;try{vt?(Ue||(ke.rejection===2&&he(ke),ke.rejection=1),vt===!0?Pe=qe:(lt&&lt.enter(),Pe=vt(qe),lt&&(lt.exit(),Ie=!0)),Pe===ge.promise?De(new K("Promise-chain cycle")):(Re=D(Pe))?f(Re,Pe,St,De):St(Pe)):De(qe)}catch(gt){lt&&!Ie&&lt.exit(),De(gt)}},Q=function(ge,ke){ge.notified||(ge.notified=!0,M(function(){for(var Pe,Re=ge.reactions;Pe=Re.get();)X(Pe,ge);ge.notified=!1,ke&&!ge.rejection&&oe(ge)}))},re=function(ge,ke,Pe){var Re,Ie;I?((Re=Z.createEvent("Event")).promise=ke,Re.reason=Pe,Re.initEvent(ge,!1,!0),d.dispatchEvent(Re)):Re={promise:ke,reason:Pe},!k&&(Ie=d["on"+ge])?Ie(Re):ge==="unhandledrejection"&&A("Unhandled promise rejection",Pe)},oe=function(ge){f(P,d,function(){var ke,Pe=ge.facade,Re=ge.value;if(se(ge)&&(ke=F(function(){u?ne.emit("unhandledRejection",Re,Pe):re("unhandledrejection",Pe,Re)}),ge.rejection=u||se(ge)?2:1,ke.error))throw ke.value})},se=function(ge){return ge.rejection!==1&&!ge.parent},he=function(ge){f(P,d,function(){var ke=ge.facade;u?ne.emit("rejectionHandled",ke):re("rejectionhandled",ke,ge.value)})},le=function(ge,ke,Pe){return function(Re){ge(ke,Re,Pe)}},de=function(ge,ke,Pe){ge.done||(ge.done=!0,Pe&&(ge=Pe),ge.value=ke,ge.state=2,Q(ge,!0))},ve=function(ge,ke,Pe){if(!ge.done){ge.done=!0,Pe&&(ge=Pe);try{if(ge.facade===ke)throw new K("Promise can't be resolved itself");var Re=D(ke);Re?M(function(){var Ie={done:!1};try{f(Re,ke,le(ve,Ie,ge),le(de,Ie,ge))}catch(qe){de(Ie,qe,ge)}}):(ge.value=ke,ge.state=1,Q(ge,!1))}catch(Ie){de({done:!1},Ie,ge)}}};if(C&&(B=(V=function(ge){_(this,B),v(ge),f(a,this);var ke=E(this);try{ge(le(ve,ke),le(de,ke))}catch(Pe){de(ke,Pe)}}).prototype,(a=function(ge){T(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new H,rejection:!1,state:0,value:void 0})}).prototype=h(B,"then",function(ge,ke){var Pe=E(this),Re=G(N(this,V));return Pe.parent=!0,Re.ok=!b(ge)||ge,Re.fail=b(ke)&&ke,Re.domain=u?ne.domain:void 0,Pe.state===0?Pe.reactions.add(Re):M(function(){X(Re,Pe)}),Re.promise}),s=function(){var ge=new a,ke=E(ge);this.promise=ge,this.resolve=le(ve,ke),this.reject=le(de,ke)},L.f=G=function(ge){return ge===V||ge===void 0?new s(ge):te(ge)},!o&&b(U)&&R!==Object.prototype)){l=R.then,j||h(R,"then",function(ge,ke){var Pe=this;return new V(function(Re,Ie){f(l,Pe,Re,Ie)}).then(ge,ke)},{unsafe:!0});try{delete R.constructor}catch{}y&&y(R,B)}c({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:V}),m(V,"Promise",!1,!0),g("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/is-pure"),l=e("../internals/promise-native-constructor"),c=e("../internals/fails"),o=e("../internals/get-built-in"),u=e("../internals/is-callable"),d=e("../internals/species-constructor"),f=e("../internals/promise-resolve"),h=e("../internals/define-built-in"),y=l&&l.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!l&&c(function(){y.finally.call({then:function(){}},function(){})})},{finally:function(g){var v=d(this,o("Promise")),b=u(g);return this.then(b?function(w){return f(v,g()).then(function(){return w})}:g,b?function(w){return f(v,g()).then(function(){throw w})}:g)}}),!s&&u(l)){var m=o("Promise").prototype.finally;y.finally!==m&&h(y,"finally",m,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,i){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/function-call"),l=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),o=e("../internals/perform"),u=e("../internals/iterate");a({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(d){var f=this,h=c.f(f),y=h.reject,m=o(function(){var g=l(f.resolve);u(d,function(v){s(g,f,v).then(h.resolve,y)})});return m.error&&y(m.value),h.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/function-call"),l=e("../internals/new-promise-capability");a({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(c){var o=l.f(this);return s(o.reject,void 0,c),o.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/get-built-in"),l=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-resolve"),d=s("Promise"),f=l&&!o;a({target:"Promise",stat:!0,forced:l||o},{resolve:function(h){return u(f&&this===d?c:this,h)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/function-uncurry-this"),l=e("../internals/to-absolute-index"),c=RangeError,o=String.fromCharCode,u=String.fromCodePoint,d=s([].join);a({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(f){for(var h,y=[],m=arguments.length,g=0;m>g;){if(h=+arguments[g++],l(h,1114111)!==h)throw new c(h+" is not a valid code point");y[g]=h<65536?o(h):o(55296+((h-=65536)>>10),h%1024+56320)}return d(y,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/function-uncurry-this"),l=e("../internals/not-a-regexp"),c=e("../internals/require-object-coercible"),o=e("../internals/to-string"),u=e("../internals/correct-is-regexp-logic"),d=s("".indexOf);a({target:"String",proto:!0,forced:!u("includes")},{includes:function(f){return!!~d(o(c(this)),o(l(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,i){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/global"),l=e("../internals/function-call"),c=e("../internals/function-uncurry-this"),o=e("../internals/is-pure"),u=e("../internals/descriptors"),d=e("../internals/symbol-constructor-detection"),f=e("../internals/fails"),h=e("../internals/has-own-property"),y=e("../internals/object-is-prototype-of"),m=e("../internals/an-object"),g=e("../internals/to-indexed-object"),v=e("../internals/to-property-key"),b=e("../internals/to-string"),w=e("../internals/create-property-descriptor"),_=e("../internals/object-create"),N=e("../internals/object-keys"),P=e("../internals/object-get-own-property-names"),M=e("../internals/object-get-own-property-names-external"),A=e("../internals/object-get-own-property-symbols"),F=e("../internals/object-get-own-property-descriptor"),H=e("../internals/object-define-property"),z=e("../internals/object-define-properties"),U=e("../internals/object-property-is-enumerable"),O=e("../internals/define-built-in"),L=e("../internals/define-built-in-accessor"),C=e("../internals/shared"),k=e("../internals/shared-key"),j=e("../internals/hidden-keys"),E=e("../internals/uid"),T=e("../internals/well-known-symbol"),R=e("../internals/well-known-symbol-wrapped"),V=e("../internals/well-known-symbol-define"),B=e("../internals/symbol-define-to-primitive"),K=e("../internals/set-to-string-tag"),Z=e("../internals/internal-state"),ne=e("../internals/array-iteration").forEach,G=k("hidden"),te=Z.set,I=Z.getterFor("Symbol"),D=Object.prototype,X=s.Symbol,Q=X&&X.prototype,re=s.RangeError,oe=s.TypeError,se=s.QObject,he=F.f,le=H.f,de=M.f,ve=U.f,ge=c([].push),ke=C("symbols"),Pe=C("op-symbols"),Re=C("wks"),Ie=!se||!se.prototype||!se.prototype.findChild,qe=function(bt,At,ft){var jt=he(D,At);jt&&delete D[At],le(bt,At,ft),jt&&bt!==D&&le(D,At,jt)},Ue=u&&f(function(){return _(le({},"a",{get:function(){return le(this,"a",{value:7}).a}})).a!==7})?qe:le,vt=function(bt,At){var ft=ke[bt]=_(Q);return te(ft,{type:"Symbol",tag:bt,description:At}),u||(ft.description=At),ft},St=function(bt,At,ft){bt===D&&St(Pe,At,ft),m(bt);var jt=v(At);return m(ft),h(ke,jt)?(ft.enumerable?(h(bt,G)&&bt[G][jt]&&(bt[G][jt]=!1),ft=_(ft,{enumerable:w(0,!1)})):(h(bt,G)||le(bt,G,w(1,{})),bt[G][jt]=!0),Ue(bt,jt,ft)):le(bt,jt,ft)},De=function(bt,At){m(bt);var ft=g(At),jt=N(ft).concat(Dt(ft));return ne(jt,function(ht){u&&!l(lt,ft,ht)||St(bt,ht,ft[ht])}),bt},lt=function(bt){var At=v(bt),ft=l(ve,this,At);return!(this===D&&h(ke,At)&&!h(Pe,At))&&(!(ft||!h(this,At)||!h(ke,At)||h(this,G)&&this[G][At])||ft)},gt=function(bt,At){var ft=g(bt),jt=v(At);if(ft!==D||!h(ke,jt)||h(Pe,jt)){var ht=he(ft,jt);return!ht||!h(ke,jt)||h(ft,G)&&ft[G][jt]||(ht.enumerable=!0),ht}},Ve=function(bt){var At=de(g(bt)),ft=[];return ne(At,function(jt){h(ke,jt)||h(j,jt)||ge(ft,jt)}),ft},Dt=function(bt){var At=bt===D,ft=de(At?Pe:g(bt)),jt=[];return ne(ft,function(ht){!h(ke,ht)||At&&!h(D,ht)||ge(jt,ke[ht])}),jt};d||(O(Q=(X=function(){if(y(Q,this))throw new oe("Symbol is not a constructor");var bt=arguments.length&&arguments[0]!==void 0?b(arguments[0]):void 0,At=E(bt),ft=function(jt){this===D&&l(ft,Pe,jt),h(this,G)&&h(this[G],At)&&(this[G][At]=!1);var ht=w(1,jt);try{Ue(this,At,ht)}catch(Lt){if(!(Lt instanceof re))throw Lt;qe(this,At,ht)}};return u&&Ie&&Ue(D,At,{configurable:!0,set:ft}),vt(At,bt)}).prototype,"toString",function(){return I(this).tag}),O(X,"withoutSetter",function(bt){return vt(E(bt),bt)}),U.f=lt,H.f=St,z.f=De,F.f=gt,P.f=M.f=Ve,A.f=Dt,R.f=function(bt){return vt(T(bt),bt)},u&&(L(Q,"description",{configurable:!0,get:function(){return I(this).description}}),o||O(D,"propertyIsEnumerable",lt,{unsafe:!0}))),a({global:!0,constructor:!0,wrap:!0,forced:!d,sham:!d},{Symbol:X}),ne(N(Re),function(bt){V(bt)}),a({target:"Symbol",stat:!0,forced:!d},{useSetter:function(){Ie=!0},useSimple:function(){Ie=!1}}),a({target:"Object",stat:!0,forced:!d,sham:!u},{create:function(bt,At){return At===void 0?_(bt):De(_(bt),At)},defineProperty:St,defineProperties:De,getOwnPropertyDescriptor:gt}),a({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:Ve}),B(),K(X,"Symbol"),j[G]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/get-built-in"),l=e("../internals/has-own-property"),c=e("../internals/to-string"),o=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),d=o("string-to-symbol-registry"),f=o("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!u},{for:function(h){var y=c(h);if(l(d,y))return d[y];var m=s("Symbol")(y);return d[y]=m,f[m]=y,m}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,i){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,i){var a=e("../internals/export"),s=e("../internals/has-own-property"),l=e("../internals/is-symbol"),c=e("../internals/try-to-string"),o=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),d=o("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!u},{keyFor:function(f){if(!l(f))throw new TypeError(c(f)+" is not a symbol");if(s(d,f))return d[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,i){function a(s){return Object.prototype.toString.call(s)}i.isArray=function(s){return Array.isArray?Array.isArray(s):a(s)==="[object Array]"},i.isBoolean=function(s){return typeof s=="boolean"},i.isNull=function(s){return s===null},i.isNullOrUndefined=function(s){return s==null},i.isNumber=function(s){return typeof s=="number"},i.isString=function(s){return typeof s=="string"},i.isSymbol=function(s){return typeof s=="symbol"},i.isUndefined=function(s){return s===void 0},i.isRegExp=function(s){return a(s)==="[object RegExp]"},i.isObject=function(s){return typeof s=="object"&&s!==null},i.isDate=function(s){return a(s)==="[object Date]"},i.isError=function(s){return a(s)==="[object Error]"||s instanceof Error},i.isFunction=function(s){return typeof s=="function"},i.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},i.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,i){(function(a){(function(){var s=e("elliptic"),l=e("bn.js");n.exports=function(d){return new o(d)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(d){this.curveType=c[d],this.curveType||(this.curveType={name:d}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function u(d,f,h){Array.isArray(d)||(d=d.toArray());var y=new a(d);if(h&&y.length<h){var m=new a(h-y.length);m.fill(0),y=a.concat([m,y])}return f?y.toString(f):y}c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1,o.prototype.generateKeys=function(d,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(d,f)},o.prototype.computeSecret=function(d,f,h){return f=f||"utf8",a.isBuffer(d)||(d=new a(d,f)),u(this.curve.keyFromPublic(d).getPublic().mul(this.keys.getPrivate()).getX(),h,this.curveType.byteLength)},o.prototype.getPublicKey=function(d,f){var h=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(h[h.length-1]%2?h[0]=7:h[0]=6),u(h,d)},o.prototype.getPrivateKey=function(d){return u(this.keys.getPrivate(),d)},o.prototype.setPublicKey=function(d,f){return f=f||"utf8",a.isBuffer(d)||(d=new a(d,f)),this.keys._importPublic(d),this},o.prototype.setPrivateKey=function(d,f){f=f||"utf8",a.isBuffer(d)||(d=new a(d,f));var h=new l(d);return h=h.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(h),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(e,n,i){var a=e("inherits"),s=e("md5.js"),l=e("ripemd160"),c=e("sha.js"),o=e("cipher-base");function u(d){o.call(this,"digest"),this._hash=d}a(u,o),u.prototype._update=function(d){this._hash.update(d)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(d){return(d=d.toLowerCase())==="md5"?new s:d==="rmd160"||d==="ripemd160"?new l:new u(c(d))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,i){var a=e("md5.js");n.exports=function(s){return new a().update(s).digest()}},{"md5.js":450}],388:[function(e,n,i){var a=e("inherits"),s=e("./legacy"),l=e("cipher-base"),c=e("safe-buffer").Buffer,o=e("create-hash/md5"),u=e("ripemd160"),d=e("sha.js"),f=c.alloc(128);function h(y,m){l.call(this,"digest"),typeof m=="string"&&(m=c.from(m));var g=y==="sha512"||y==="sha384"?128:64;this._alg=y,this._key=m,m.length>g?m=(y==="rmd160"?new u:d(y)).update(m).digest():m.length<g&&(m=c.concat([m,f],g));for(var v=this._ipad=c.allocUnsafe(g),b=this._opad=c.allocUnsafe(g),w=0;w<g;w++)v[w]=54^m[w],b[w]=92^m[w];this._hash=y==="rmd160"?new u:d(y),this._hash.update(v)}a(h,l),h.prototype._update=function(y){this._hash.update(y)},h.prototype._final=function(){var y=this._hash.digest();return(this._alg==="rmd160"?new u:d(this._alg)).update(this._opad).update(y).digest()},n.exports=function(y,m){return(y=y.toLowerCase())==="rmd160"||y==="ripemd160"?new h("rmd160",m):y==="md5"?new s(o,m):new h(y,m)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,i){var a=e("inherits"),s=e("safe-buffer").Buffer,l=e("cipher-base"),c=s.alloc(128);function o(u,d){l.call(this,"digest"),typeof d=="string"&&(d=s.from(d)),this._alg=u,this._key=d,d.length>64?d=u(d):d.length<64&&(d=s.concat([d,c],64));for(var f=this._ipad=s.allocUnsafe(64),h=this._opad=s.allocUnsafe(64),y=0;y<64;y++)f[y]=54^d[y],h[y]=92^d[y];this._hash=[f]}a(o,l),o.prototype._update=function(u){this._hash.push(u)},o.prototype._final=function(){var u=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,u]))},n.exports=o},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=e("randombytes"),i.createHash=i.Hash=e("create-hash"),i.createHmac=i.Hmac=e("create-hmac");var a=e("browserify-sign/algos"),s=Object.keys(a),l=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);i.getHashes=function(){return l};var c=e("pbkdf2");i.pbkdf2=c.pbkdf2,i.pbkdf2Sync=c.pbkdf2Sync;var o=e("browserify-cipher");i.Cipher=o.Cipher,i.createCipher=o.createCipher,i.Cipheriv=o.Cipheriv,i.createCipheriv=o.createCipheriv,i.Decipher=o.Decipher,i.createDecipher=o.createDecipher,i.Decipheriv=o.Decipheriv,i.createDecipheriv=o.createDecipheriv,i.getCiphers=o.getCiphers,i.listCiphers=o.listCiphers;var u=e("diffie-hellman");i.DiffieHellmanGroup=u.DiffieHellmanGroup,i.createDiffieHellmanGroup=u.createDiffieHellmanGroup,i.getDiffieHellman=u.getDiffieHellman,i.createDiffieHellman=u.createDiffieHellman,i.DiffieHellman=u.DiffieHellman;var d=e("browserify-sign");i.createSign=d.createSign,i.Sign=d.Sign,i.createVerify=d.createVerify,i.Verify=d.Verify,i.createECDH=e("create-ecdh");var f=e("public-encrypt");i.publicEncrypt=f.publicEncrypt,i.privateEncrypt=f.privateEncrypt,i.publicDecrypt=f.publicDecrypt,i.privateDecrypt=f.privateDecrypt;var h=e("randomfill");i.randomFill=h.randomFill,i.randomFillSync=h.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs=s()})(void 0,function(){var a=6e4,s=36e5,l="millisecond",c="second",o="minute",u="hour",d="day",f="week",h="month",y="quarter",m="year",g="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(k){var j=["th","st","nd","rd"],E=k%100;return"["+k+(j[(E-20)%10]||j[E]||j[0])+"]"}},N=function(k,j,E){var T=String(k);return!T||T.length>=j?k:""+Array(j+1-T.length).join(E)+k},P={s:N,z:function(k){var j=-k.utcOffset(),E=Math.abs(j),T=Math.floor(E/60),R=E%60;return(j<=0?"+":"-")+N(T,2,"0")+":"+N(R,2,"0")},m:function k(j,E){if(j.date()<E.date())return-k(E,j);var T=12*(E.year()-j.year())+(E.month()-j.month()),R=j.clone().add(T,h),V=E-R<0,B=j.clone().add(T+(V?-1:1),h);return+(-(T+(E-R)/(V?R-B:B-R))||0)},a:function(k){return k<0?Math.ceil(k)||0:Math.floor(k)},p:function(k){return{M:h,y:m,w:f,d,D:g,h:u,m:o,s:c,ms:l,Q:y}[k]||String(k||"").toLowerCase().replace(/s$/,"")},u:function(k){return k===void 0}},M="en",A={};A[M]=_;var F="$isDayjsObject",H=function(k){return k instanceof L||!(!k||!k[F])},z=function k(j,E,T){var R;if(!j)return M;if(typeof j=="string"){var V=j.toLowerCase();A[V]&&(R=V),E&&(A[V]=E,R=V);var B=j.split("-");if(!R&&B.length>1)return k(B[0])}else{var K=j.name;A[K]=j,R=K}return!T&&R&&(M=R),R||!T&&M},U=function(k,j){if(H(k))return k.clone();var E=typeof j=="object"?j:{};return E.date=k,E.args=arguments,new L(E)},O=P;O.l=z,O.i=H,O.w=function(k,j){return U(k,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var L=function(){function k(E){this.$L=z(E.locale,null,!0),this.parse(E),this.$x=this.$x||E.x||{},this[F]=!0}var j=k.prototype;return j.parse=function(E){this.$d=function(T){var R=T.date,V=T.utc;if(R===null)return new Date(NaN);if(O.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var B=R.match(b);if(B){var K=B[2]-1||0,Z=(B[7]||"0").substring(0,3);return V?new Date(Date.UTC(B[1],K,B[3]||1,B[4]||0,B[5]||0,B[6]||0,Z)):new Date(B[1],K,B[3]||1,B[4]||0,B[5]||0,B[6]||0,Z)}}return new Date(R)}(E),this.init()},j.init=function(){var E=this.$d;this.$y=E.getFullYear(),this.$M=E.getMonth(),this.$D=E.getDate(),this.$W=E.getDay(),this.$H=E.getHours(),this.$m=E.getMinutes(),this.$s=E.getSeconds(),this.$ms=E.getMilliseconds()},j.$utils=function(){return O},j.isValid=function(){return this.$d.toString()!==v},j.isSame=function(E,T){var R=U(E);return this.startOf(T)<=R&&R<=this.endOf(T)},j.isAfter=function(E,T){return U(E)<this.startOf(T)},j.isBefore=function(E,T){return this.endOf(T)<U(E)},j.$g=function(E,T,R){return O.u(E)?this[T]:this.set(R,E)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(E,T){var R=this,V=!!O.u(T)||T,B=O.p(E),K=function(Q,re){var oe=O.w(R.$u?Date.UTC(R.$y,re,Q):new Date(R.$y,re,Q),R);return V?oe:oe.endOf(d)},Z=function(Q,re){return O.w(R.toDate()[Q].apply(R.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(re)),R)},ne=this.$W,G=this.$M,te=this.$D,I="set"+(this.$u?"UTC":"");switch(B){case m:return V?K(1,0):K(31,11);case h:return V?K(1,G):K(0,G+1);case f:var D=this.$locale().weekStart||0,X=(ne<D?ne+7:ne)-D;return K(V?te-X:te+(6-X),G);case d:case g:return Z(I+"Hours",0);case u:return Z(I+"Minutes",1);case o:return Z(I+"Seconds",2);case c:return Z(I+"Milliseconds",3);default:return this.clone()}},j.endOf=function(E){return this.startOf(E,!1)},j.$set=function(E,T){var R,V=O.p(E),B="set"+(this.$u?"UTC":""),K=(R={},R[d]=B+"Date",R[g]=B+"Date",R[h]=B+"Month",R[m]=B+"FullYear",R[u]=B+"Hours",R[o]=B+"Minutes",R[c]=B+"Seconds",R[l]=B+"Milliseconds",R)[V],Z=V===d?this.$D+(T-this.$W):T;if(V===h||V===m){var ne=this.clone().set(g,1);ne.$d[K](Z),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else K&&this.$d[K](Z);return this.init(),this},j.set=function(E,T){return this.clone().$set(E,T)},j.get=function(E){return this[O.p(E)]()},j.add=function(E,T){var R,V=this;E=Number(E);var B=O.p(T),K=function(G){var te=U(V);return O.w(te.date(te.date()+Math.round(G*E)),V)};if(B===h)return this.set(h,this.$M+E);if(B===m)return this.set(m,this.$y+E);if(B===d)return K(1);if(B===f)return K(7);var Z=(R={},R[o]=a,R[u]=s,R[c]=1e3,R)[B]||1,ne=this.$d.getTime()+E*Z;return O.w(ne,this)},j.subtract=function(E,T){return this.add(-1*E,T)},j.format=function(E){var T=this,R=this.$locale();if(!this.isValid())return R.invalidDate||v;var V=E||"YYYY-MM-DDTHH:mm:ssZ",B=O.z(this),K=this.$H,Z=this.$m,ne=this.$M,G=R.weekdays,te=R.months,I=R.meridiem,D=function(re,oe,se,he){return re&&(re[oe]||re(T,V))||se[oe].slice(0,he)},X=function(re){return O.s(K%12||12,re,"0")},Q=I||function(re,oe,se){var he=re<12?"AM":"PM";return se?he.toLowerCase():he};return V.replace(w,function(re,oe){return oe||function(se){switch(se){case"YY":return String(T.$y).slice(-2);case"YYYY":return O.s(T.$y,4,"0");case"M":return ne+1;case"MM":return O.s(ne+1,2,"0");case"MMM":return D(R.monthsShort,ne,te,3);case"MMMM":return D(te,ne);case"D":return T.$D;case"DD":return O.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return D(R.weekdaysMin,T.$W,G,2);case"ddd":return D(R.weekdaysShort,T.$W,G,3);case"dddd":return G[T.$W];case"H":return String(K);case"HH":return O.s(K,2,"0");case"h":return X(1);case"hh":return X(2);case"a":return Q(K,Z,!0);case"A":return Q(K,Z,!1);case"m":return String(Z);case"mm":return O.s(Z,2,"0");case"s":return String(T.$s);case"ss":return O.s(T.$s,2,"0");case"SSS":return O.s(T.$ms,3,"0");case"Z":return B}return null}(re)||B.replace(":","")})},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(E,T,R){var V,B=this,K=O.p(T),Z=U(E),ne=(Z.utcOffset()-this.utcOffset())*a,G=this-Z,te=function(){return O.m(B,Z)};switch(K){case m:V=te()/12;break;case h:V=te();break;case y:V=te()/3;break;case f:V=(G-ne)/6048e5;break;case d:V=(G-ne)/864e5;break;case u:V=G/s;break;case o:V=G/a;break;case c:V=G/1e3;break;default:V=G}return R?V:O.a(V)},j.daysInMonth=function(){return this.endOf(h).$D},j.$locale=function(){return A[this.$L]},j.locale=function(E,T){if(!E)return this.$L;var R=this.clone(),V=z(E,T,!0);return V&&(R.$L=V),R},j.clone=function(){return O.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},k}(),C=L.prototype;return U.prototype=C,[["$ms",l],["$s",c],["$m",o],["$H",u],["$W",d],["$M",h],["$y",m],["$D",g]].forEach(function(k){C[k[1]]=function(j){return this.$g(j,k[0],k[1])}}),U.extend=function(k,j){return k.$i||(k(j,L,U),k.$i=!0),U},U.locale=z,U.isDayjs=H,U.unix=function(k){return U(1e3*k)},U.en=A[M],U.Ls=A,U.p={},U})},{}],392:[function(e,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_customParseFormat=s()})(void 0,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,c=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,u={},d=function(b){return(b=+b)+(b>68?1900:2e3)},f=function(b){return function(w){this[b]=+w}},h=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(w){if(!w||w==="Z")return 0;var _=w.match(/([+-]|\d\d)/g),N=60*_[1]+(+_[2]||0);return N===0?0:_[0]==="+"?-N:N}(b)}],y=function(b){var w=u[b];return w&&(w.indexOf?w:w.s.concat(w.f))},m=function(b,w){var _,N=u.meridiem;if(N){for(var P=1;P<=24;P+=1)if(b.indexOf(N(P,0,w))>-1){_=P>12;break}}else _=b===(w?"pm":"PM");return _},g={A:[o,function(b){this.afternoon=m(b,!1)}],a:[o,function(b){this.afternoon=m(b,!0)}],S:[/\d/,function(b){this.milliseconds=100*+b}],SS:[l,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[c,f("seconds")],ss:[c,f("seconds")],m:[c,f("minutes")],mm:[c,f("minutes")],H:[c,f("hours")],h:[c,f("hours")],HH:[c,f("hours")],hh:[c,f("hours")],D:[c,f("day")],DD:[l,f("day")],Do:[o,function(b){var w=u.ordinal,_=b.match(/\d+/);if(this.day=_[0],w)for(var N=1;N<=31;N+=1)w(N).replace(/\[|\]/g,"")===b&&(this.day=N)}],M:[c,f("month")],MM:[l,f("month")],MMM:[o,function(b){var w=y("months"),_=(y("monthsShort")||w.map(function(N){return N.slice(0,3)})).indexOf(b)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[o,function(b){var w=y("months").indexOf(b)+1;if(w<1)throw new Error;this.month=w%12||w}],Y:[/[+-]?\d+/,f("year")],YY:[l,function(b){this.year=d(b)}],YYYY:[/\d{4}/,f("year")],Z:h,ZZ:h};function v(b){var w,_;w=b,_=u&&u.formats;for(var N=(b=w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(U,O,L){var C=L&&L.toUpperCase();return O||_[L]||a[L]||_[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(k,j,E){return j||E.slice(1)})})).match(s),P=N.length,M=0;M<P;M+=1){var A=N[M],F=g[A],H=F&&F[0],z=F&&F[1];N[M]=z?{regex:H,parser:z}:A.replace(/^\[|\]$/g,"")}return function(U){for(var O={},L=0,C=0;L<P;L+=1){var k=N[L];if(typeof k=="string")C+=k.length;else{var j=k.regex,E=k.parser,T=U.slice(C),R=j.exec(T)[0];E.call(O,R),U=U.replace(R,"")}}return function(V){var B=V.afternoon;if(B!==void 0){var K=V.hours;B?K<12&&(V.hours+=12):K===12&&(V.hours=0),delete V.afternoon}}(O),O}}return function(b,w,_){_.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(d=b.parseTwoDigitYear);var N=w.prototype,P=N.parse;N.parse=function(M){var A=M.date,F=M.utc,H=M.args;this.$u=F;var z=H[1];if(typeof z=="string"){var U=H[2]===!0,O=H[3]===!0,L=U||O,C=H[2];O&&(C=H[2]),u=this.$locale(),!U&&C&&(u=_.Ls[C]),this.$d=function(T,R,V){try{if(["x","X"].indexOf(R)>-1)return new Date((R==="X"?1e3:1)*T);var B=v(R)(T),K=B.year,Z=B.month,ne=B.day,G=B.hours,te=B.minutes,I=B.seconds,D=B.milliseconds,X=B.zone,Q=new Date,re=ne||(K||Z?1:Q.getDate()),oe=K||Q.getFullYear(),se=0;K&&!Z||(se=Z>0?Z-1:Q.getMonth());var he=G||0,le=te||0,de=I||0,ve=D||0;return X?new Date(Date.UTC(oe,se,re,he,le,de,ve+60*X.offset*1e3)):V?new Date(Date.UTC(oe,se,re,he,le,de,ve)):new Date(oe,se,re,he,le,de,ve)}catch{return new Date("")}}(A,z,F),this.init(),C&&C!==!0&&(this.$L=this.locale(C).$L),L&&A!=this.format(z)&&(this.$d=new Date("")),u={}}else if(z instanceof Array)for(var k=z.length,j=1;j<=k;j+=1){H[1]=z[j-1];var E=_.apply(this,H);if(E.isValid()){this.$d=E.$d,this.$L=E.$L,this.init();break}j===k&&(this.$d=new Date(""))}else P.call(this,M)}}})},{}],393:[function(e,n,i){(function(a,s){typeof i=="object"&&n!==void 0?n.exports=s():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_utc=s()})(void 0,function(){var a="minute",s=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(c,o,u){var d=o.prototype;u.utc=function(b){var w={date:b,utc:!0,args:arguments};return new o(w)},d.utc=function(b){var w=u(this.toDate(),{locale:this.$L,utc:!0});return b?w.add(this.utcOffset(),a):w},d.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var f=d.parse;d.parse=function(b){b.utc&&(this.$u=!0),this.$utils().u(b.$offset)||(this.$offset=b.$offset),f.call(this,b)};var h=d.init;d.init=function(){if(this.$u){var b=this.$d;this.$y=b.getUTCFullYear(),this.$M=b.getUTCMonth(),this.$D=b.getUTCDate(),this.$W=b.getUTCDay(),this.$H=b.getUTCHours(),this.$m=b.getUTCMinutes(),this.$s=b.getUTCSeconds(),this.$ms=b.getUTCMilliseconds()}else h.call(this)};var y=d.utcOffset;d.utcOffset=function(b,w){var _=this.$utils().u;if(_(b))return this.$u?0:_(this.$offset)?y.call(this):this.$offset;if(typeof b=="string"&&(b=function(A){A===void 0&&(A="");var F=A.match(s);if(!F)return null;var H=(""+F[0]).match(l)||["-",0,0],z=H[0],U=60*+H[1]+ +H[2];return U===0?0:z==="+"?U:-U}(b))===null)return this;var N=Math.abs(b)<=16?60*b:b,P=this;if(w)return P.$offset=N,P.$u=b===0,P;if(b!==0){var M=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(P=this.local().add(N+M,a)).$offset=N,P.$x.$localOffset=M}else P=this.utc();return P};var m=d.format;d.format=function(b){var w=b||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,w)},d.valueOf=function(){var b=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*b},d.isUTC=function(){return!!this.$u},d.toISOString=function(){return this.toDate().toISOString()},d.toString=function(){return this.toDate().toUTCString()};var g=d.toDate;d.toDate=function(b){return b==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var v=d.diff;d.diff=function(b,w,_){if(b&&this.$u===b.$u)return v.call(this,b,w,_);var N=this.local(),P=u(b).local();return v.call(N,P,w,_)}}})},{}],394:[function(e,n,i){i.utils=e("./des/utils"),i.Cipher=e("./des/cipher"),i.DES=e("./des/des"),i.CBC=e("./des/cbc"),i.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,i){var a=e("minimalistic-assert"),s=e("inherits"),l={};function c(o){a.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=o[u]}i.instantiate=function(o){function u(y){o.call(this,y),this._cbcInit()}s(u,o);for(var d=Object.keys(l),f=0;f<d.length;f++){var h=d[f];u.prototype[h]=l[h]}return u.create=function(y){return new u(y)},u},l._cbcInit=function(){var o=new c(this.options.iv);this._cbcState=o},l._update=function(o,u,d,f){var h=this._cbcState,y=this.constructor.super_.prototype,m=h.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)m[g]^=o[u+g];for(y._update.call(this,m,0,d,f),g=0;g<this.blockSize;g++)m[g]=d[f+g]}else{for(y._update.call(this,o,u,d,f),g=0;g<this.blockSize;g++)d[f+g]^=m[g];for(g=0;g<this.blockSize;g++)m[g]=o[u+g]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,i){var a=e("minimalistic-assert");function s(l){this.options=l,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=l.padding!==!1}n.exports=s,s.prototype._init=function(){},s.prototype.update=function(l){return l.length===0?[]:this.type==="decrypt"?this._updateDecrypt(l):this._updateEncrypt(l)},s.prototype._buffer=function(l,c){for(var o=Math.min(this.buffer.length-this.bufferOff,l.length-c),u=0;u<o;u++)this.buffer[this.bufferOff+u]=l[c+u];return this.bufferOff+=o,o},s.prototype._flushBuffer=function(l,c){return this._update(this.buffer,0,l,c),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(l){var c=0,o=0,u=(this.bufferOff+l.length)/this.blockSize|0,d=new Array(u*this.blockSize);this.bufferOff!==0&&(c+=this._buffer(l,c),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(d,o)));for(var f=l.length-(l.length-c)%this.blockSize;c<f;c+=this.blockSize)this._update(l,c,d,o),o+=this.blockSize;for(;c<l.length;c++,this.bufferOff++)this.buffer[this.bufferOff]=l[c];return d},s.prototype._updateDecrypt=function(l){for(var c=0,o=0,u=Math.ceil((this.bufferOff+l.length)/this.blockSize)-1,d=new Array(u*this.blockSize);u>0;u--)c+=this._buffer(l,c),o+=this._flushBuffer(d,o);return c+=this._buffer(l,c),d},s.prototype.final=function(l){var c,o;return l&&(c=this.update(l)),o=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),c?c.concat(o):o},s.prototype._pad=function(l,c){if(c===0)return!1;for(;c<l.length;)l[c++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var l=new Array(this.blockSize);return this._update(this.buffer,0,l,0),l},s.prototype._unpad=function(l){return l},s.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var l=new Array(this.blockSize);return this._flushBuffer(l,0),this._unpad(l)}},{"minimalistic-assert":453}],397:[function(e,n,i){var a=e("minimalistic-assert"),s=e("inherits"),l=e("./utils"),c=e("./cipher");function o(){this.tmp=new Array(2),this.keys=null}function u(f){c.call(this,f);var h=new o;this._desState=h,this.deriveKeys(h,f.key)}s(u,c),n.exports=u,u.create=function(f){return new u(f)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(f,h){f.keys=new Array(32),a.equal(h.length,this.blockSize,"Invalid key length");var y=l.readUInt32BE(h,0),m=l.readUInt32BE(h,4);l.pc1(y,m,f.tmp,0),y=f.tmp[0],m=f.tmp[1];for(var g=0;g<f.keys.length;g+=2){var v=d[g>>>1];y=l.r28shl(y,v),m=l.r28shl(m,v),l.pc2(y,m,f.keys,g)}},u.prototype._update=function(f,h,y,m){var g=this._desState,v=l.readUInt32BE(f,h),b=l.readUInt32BE(f,h+4);l.ip(v,b,g.tmp,0),v=g.tmp[0],b=g.tmp[1],this.type==="encrypt"?this._encrypt(g,v,b,g.tmp,0):this._decrypt(g,v,b,g.tmp,0),v=g.tmp[0],b=g.tmp[1],l.writeUInt32BE(y,v,m),l.writeUInt32BE(y,b,m+4)},u.prototype._pad=function(f,h){if(this.padding===!1)return!1;for(var y=f.length-h,m=h;m<f.length;m++)f[m]=y;return!0},u.prototype._unpad=function(f){if(this.padding===!1)return f;for(var h=f[f.length-1],y=f.length-h;y<f.length;y++)a.equal(f[y],h);return f.slice(0,f.length-h)},u.prototype._encrypt=function(f,h,y,m,g){for(var v=h,b=y,w=0;w<f.keys.length;w+=2){var _=f.keys[w],N=f.keys[w+1];l.expand(b,f.tmp,0),_^=f.tmp[0],N^=f.tmp[1];var P=l.substitute(_,N),M=b;b=(v^l.permute(P))>>>0,v=M}l.rip(b,v,m,g)},u.prototype._decrypt=function(f,h,y,m,g){for(var v=y,b=h,w=f.keys.length-2;w>=0;w-=2){var _=f.keys[w],N=f.keys[w+1];l.expand(v,f.tmp,0),_^=f.tmp[0],N^=f.tmp[1];var P=l.substitute(_,N),M=v;v=(b^l.permute(P))>>>0,b=M}l.rip(v,b,m,g)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,i){var a=e("minimalistic-assert"),s=e("inherits"),l=e("./cipher"),c=e("./des");function o(d,f){a.equal(f.length,24,"Invalid key length");var h=f.slice(0,8),y=f.slice(8,16),m=f.slice(16,24);this.ciphers=d==="encrypt"?[c.create({type:"encrypt",key:h}),c.create({type:"decrypt",key:y}),c.create({type:"encrypt",key:m})]:[c.create({type:"decrypt",key:m}),c.create({type:"encrypt",key:y}),c.create({type:"decrypt",key:h})]}function u(d){l.call(this,d);var f=new o(this.type,this.options.key);this._edeState=f}s(u,l),n.exports=u,u.create=function(d){return new u(d)},u.prototype._update=function(d,f,h,y){var m=this._edeState;m.ciphers[0]._update(d,f,h,y),m.ciphers[1]._update(h,y,h,y),m.ciphers[2]._update(h,y,h,y)},u.prototype._pad=c.prototype._pad,u.prototype._unpad=c.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,i){i.readUInt32BE=function(c,o){return(c[0+o]<<24|c[1+o]<<16|c[2+o]<<8|c[3+o])>>>0},i.writeUInt32BE=function(c,o,u){c[0+u]=o>>>24,c[1+u]=o>>>16&255,c[2+u]=o>>>8&255,c[3+u]=255&o},i.ip=function(c,o,u,d){for(var f=0,h=0,y=6;y>=0;y-=2){for(var m=0;m<=24;m+=8)f<<=1,f|=o>>>m+y&1;for(m=0;m<=24;m+=8)f<<=1,f|=c>>>m+y&1}for(y=6;y>=0;y-=2){for(m=1;m<=25;m+=8)h<<=1,h|=o>>>m+y&1;for(m=1;m<=25;m+=8)h<<=1,h|=c>>>m+y&1}u[d+0]=f>>>0,u[d+1]=h>>>0},i.rip=function(c,o,u,d){for(var f=0,h=0,y=0;y<4;y++)for(var m=24;m>=0;m-=8)f<<=1,f|=o>>>m+y&1,f<<=1,f|=c>>>m+y&1;for(y=4;y<8;y++)for(m=24;m>=0;m-=8)h<<=1,h|=o>>>m+y&1,h<<=1,h|=c>>>m+y&1;u[d+0]=f>>>0,u[d+1]=h>>>0},i.pc1=function(c,o,u,d){for(var f=0,h=0,y=7;y>=5;y--){for(var m=0;m<=24;m+=8)f<<=1,f|=o>>m+y&1;for(m=0;m<=24;m+=8)f<<=1,f|=c>>m+y&1}for(m=0;m<=24;m+=8)f<<=1,f|=o>>m+y&1;for(y=1;y<=3;y++){for(m=0;m<=24;m+=8)h<<=1,h|=o>>m+y&1;for(m=0;m<=24;m+=8)h<<=1,h|=c>>m+y&1}for(m=0;m<=24;m+=8)h<<=1,h|=c>>m+y&1;u[d+0]=f>>>0,u[d+1]=h>>>0},i.r28shl=function(c,o){return c<<o&268435455|c>>>28-o};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(c,o,u,d){for(var f=0,h=0,y=a.length>>>1,m=0;m<y;m++)f<<=1,f|=c>>>a[m]&1;for(m=y;m<a.length;m++)h<<=1,h|=o>>>a[m]&1;u[d+0]=f>>>0,u[d+1]=h>>>0},i.expand=function(c,o,u){var d=0,f=0;d=(1&c)<<5|c>>>27;for(var h=23;h>=15;h-=4)d<<=6,d|=c>>>h&63;for(h=11;h>=3;h-=4)f|=c>>>h&63,f<<=6;f|=(31&c)<<1|c>>>31,o[u+0]=d>>>0,o[u+1]=f>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(c,o){for(var u=0,d=0;d<4;d++)u<<=4,u|=s[64*d+(c>>>18-6*d&63)];for(d=0;d<4;d++)u<<=4,u|=s[256+64*d+(o>>>18-6*d&63)];return u>>>0};var l=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(c){for(var o=0,u=0;u<l.length;u++)o<<=1,o|=c>>>l[u]&1;return o>>>0},i.padSplit=function(c,o,u){for(var d=c.toString(2);d.length<o;)d="0"+d;for(var f=[],h=0;h<o;h+=u)f.push(d.slice(h,h+u));return f.join(" ")}},{}],400:[function(e,n,i){(function(a){(function(){var s=e("./lib/generatePrime"),l=e("./lib/primes.json"),c=e("./lib/dh"),o={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(u){var d=new a(l[u].prime,"hex"),f=new a(l[u].gen,"hex");return new c(d,f)},i.createDiffieHellman=i.DiffieHellman=function u(d,f,h,y){return a.isBuffer(f)||o[f]===void 0?u(d,"binary",f,h):(f=f||"binary",y=y||"binary",h=h||new a([2]),a.isBuffer(h)||(h=new a(h,y)),typeof d=="number"?new c(s(d,h),h,!0):(a.isBuffer(d)||(d=new a(d,f)),new c(d,h,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,i){(function(a){(function(){var s=e("bn.js"),l=new(e("miller-rabin")),c=new s(24),o=new s(11),u=new s(10),d=new s(3),f=new s(7),h=e("./generatePrime"),y=e("randombytes");function m(_,N){return N=N||"utf8",a.isBuffer(_)||(_=new a(_,N)),this._pub=new s(_),this}function g(_,N){return N=N||"utf8",a.isBuffer(_)||(_=new a(_,N)),this._priv=new s(_),this}n.exports=b;var v={};function b(_,N,P){this.setGenerator(N),this.__prime=new s(_),this._prime=s.mont(this.__prime),this._primeLen=_.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,P?(this.setPublicKey=m,this.setPrivateKey=g):this._primeCode=8}function w(_,N){var P=new a(_.toArray());return N?P.toString(N):P}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(_,N){var P=N.toString("hex"),M=[P,_.toString(16)].join("_");if(M in v)return v[M];var A,F=0;if(_.isEven()||!h.simpleSieve||!h.fermatTest(_)||!l.test(_))return F+=1,F+=P==="02"||P==="05"?8:4,v[M]=F,F;switch(l.test(_.shrn(1))||(F+=2),P){case"02":_.mod(c).cmp(o)&&(F+=8);break;case"05":(A=_.mod(u)).cmp(d)&&A.cmp(f)&&(F+=8);break;default:F+=4}return v[M]=F,F}(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new s(y(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(_){var N=(_=(_=new s(_)).toRed(this._prime)).redPow(this._priv).fromRed(),P=new a(N.toArray()),M=this.getPrime();if(P.length<M.length){var A=new a(M.length-P.length);A.fill(0),P=a.concat([A,P])}return P},b.prototype.getPublicKey=function(_){return w(this._pub,_)},b.prototype.getPrivateKey=function(_){return w(this._priv,_)},b.prototype.getPrime=function(_){return w(this.__prime,_)},b.prototype.getGenerator=function(_){return w(this._gen,_)},b.prototype.setGenerator=function(_,N){return N=N||"utf8",a.isBuffer(_)||(_=new a(_,N)),this.__gen=_,this._gen=new s(_),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,i){var a=e("randombytes");n.exports=_,_.simpleSieve=b,_.fermatTest=w;var s=e("bn.js"),l=new s(24),c=new(e("miller-rabin")),o=new s(1),u=new s(2),d=new s(5),f=(new s(16),new s(8),new s(10)),h=new s(3),y=(new s(7),new s(11)),m=new s(4),g=(new s(12),null);function v(){if(g!==null)return g;var N=[];N[0]=2;for(var P=1,M=3;M<1048576;M+=2){for(var A=Math.ceil(Math.sqrt(M)),F=0;F<P&&N[F]<=A&&M%N[F]!=0;F++);P!==F&&N[F]<=A||(N[P++]=M)}return g=N,N}function b(N){for(var P=v(),M=0;M<P.length;M++)if(N.modn(P[M])===0)return N.cmpn(P[M])===0;return!0}function w(N){var P=s.mont(N);return u.toRed(P).redPow(N.subn(1)).fromRed().cmpn(1)===0}function _(N,P){if(N<16)return new s(P===2||P===5?[140,123]:[140,39]);var M,A;for(P=new s(P);;){for(M=new s(a(Math.ceil(N/8)));M.bitLength()>N;)M.ishrn(1);if(M.isEven()&&M.iadd(o),M.testn(1)||M.iadd(u),P.cmp(u)){if(!P.cmp(d))for(;M.mod(f).cmp(h);)M.iadd(m)}else for(;M.mod(l).cmp(y);)M.iadd(m);if(b(A=M.shrn(1))&&b(M)&&w(A)&&w(M)&&c.test(A)&&c.test(M))return M}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,i){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(e,n,i){var a=i;a.version=e("../package.json").version,a.utils=e("./elliptic/utils"),a.rand=e("brorand"),a.curve=e("./elliptic/curve"),a.curves=e("./elliptic/curves"),a.ec=e("./elliptic/ec"),a.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,i){var a=e("bn.js"),s=e("../utils"),l=s.getNAF,c=s.getJSF,o=s.assert;function u(f,h){this.type=f,this.p=new a(h.p,16),this.red=h.prime?a.red(h.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=h.n&&new a(h.n,16),this.g=h.g&&this.pointFromJSON(h.g,h.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var y=this.n&&this.p.div(this.n);!y||y.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function d(f,h){this.curve=f,this.type=h,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(f,h){o(f.precomputed);var y=f._getDoubles(),m=l(h,1,this._bitLength),g=(1<<y.step+1)-(y.step%2==0?2:1);g/=3;var v,b,w=[];for(v=0;v<m.length;v+=y.step){b=0;for(var _=v+y.step-1;_>=v;_--)b=(b<<1)+m[_];w.push(b)}for(var N=this.jpoint(null,null,null),P=this.jpoint(null,null,null),M=g;M>0;M--){for(v=0;v<w.length;v++)(b=w[v])===M?P=P.mixedAdd(y.points[v]):b===-M&&(P=P.mixedAdd(y.points[v].neg()));N=N.add(P)}return N.toP()},u.prototype._wnafMul=function(f,h){var y=4,m=f._getNAFPoints(y);y=m.wnd;for(var g=m.points,v=l(h,y,this._bitLength),b=this.jpoint(null,null,null),w=v.length-1;w>=0;w--){for(var _=0;w>=0&&v[w]===0;w--)_++;if(w>=0&&_++,b=b.dblp(_),w<0)break;var N=v[w];o(N!==0),b=f.type==="affine"?N>0?b.mixedAdd(g[N-1>>1]):b.mixedAdd(g[-N-1>>1].neg()):N>0?b.add(g[N-1>>1]):b.add(g[-N-1>>1].neg())}return f.type==="affine"?b.toP():b},u.prototype._wnafMulAdd=function(f,h,y,m,g){var v,b,w,_=this._wnafT1,N=this._wnafT2,P=this._wnafT3,M=0;for(v=0;v<m;v++){var A=(w=h[v])._getNAFPoints(f);_[v]=A.wnd,N[v]=A.points}for(v=m-1;v>=1;v-=2){var F=v-1,H=v;if(_[F]===1&&_[H]===1){var z=[h[F],null,null,h[H]];h[F].y.cmp(h[H].y)===0?(z[1]=h[F].add(h[H]),z[2]=h[F].toJ().mixedAdd(h[H].neg())):h[F].y.cmp(h[H].y.redNeg())===0?(z[1]=h[F].toJ().mixedAdd(h[H]),z[2]=h[F].add(h[H].neg())):(z[1]=h[F].toJ().mixedAdd(h[H]),z[2]=h[F].toJ().mixedAdd(h[H].neg()));var U=[-3,-1,-5,-7,0,7,5,1,3],O=c(y[F],y[H]);for(M=Math.max(O[0].length,M),P[F]=new Array(M),P[H]=new Array(M),b=0;b<M;b++){var L=0|O[0][b],C=0|O[1][b];P[F][b]=U[3*(L+1)+(C+1)],P[H][b]=0,N[F]=z}}else P[F]=l(y[F],_[F],this._bitLength),P[H]=l(y[H],_[H],this._bitLength),M=Math.max(P[F].length,M),M=Math.max(P[H].length,M)}var k=this.jpoint(null,null,null),j=this._wnafT4;for(v=M;v>=0;v--){for(var E=0;v>=0;){var T=!0;for(b=0;b<m;b++)j[b]=0|P[b][v],j[b]!==0&&(T=!1);if(!T)break;E++,v--}if(v>=0&&E++,k=k.dblp(E),v<0)break;for(b=0;b<m;b++){var R=j[b];R!==0&&(R>0?w=N[b][R-1>>1]:R<0&&(w=N[b][-R-1>>1].neg()),k=w.type==="affine"?k.mixedAdd(w):k.add(w))}}for(v=0;v<m;v++)N[v]=null;return g?k:k.toP()},u.BasePoint=d,d.prototype.eq=function(){throw new Error("Not implemented")},d.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(f,h){f=s.toArray(f,h);var y=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*y)return f[0]===6?o(f[f.length-1]%2==0):f[0]===7&&o(f[f.length-1]%2==1),this.point(f.slice(1,1+y),f.slice(1+y,1+2*y));if((f[0]===2||f[0]===3)&&f.length-1===y)return this.pointFromX(f.slice(1,1+y),f[0]===3);throw new Error("Unknown point format")},d.prototype.encodeCompressed=function(f){return this.encode(f,!0)},d.prototype._encode=function(f){var h=this.curve.p.byteLength(),y=this.getX().toArray("be",h);return f?[this.getY().isEven()?2:3].concat(y):[4].concat(y,this.getY().toArray("be",h))},d.prototype.encode=function(f,h){return s.encode(this._encode(h),f)},d.prototype.precompute=function(f){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,f),h.beta=this._getBeta(),this.precomputed=h,this},d.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return!!h&&h.points.length>=Math.ceil((f.bitLength()+1)/h.step)},d.prototype._getDoubles=function(f,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var y=[this],m=this,g=0;g<h;g+=f){for(var v=0;v<f;v++)m=m.dbl();y.push(m)}return{step:f,points:y}},d.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],y=(1<<f)-1,m=y===1?null:this.dbl(),g=1;g<y;g++)h[g]=h[g-1].add(m);return{wnd:f,points:h}},d.prototype._getBeta=function(){return null},d.prototype.dblp=function(f){for(var h=this,y=0;y<f;y++)h=h.dbl();return h}},{"../utils":419,"bn.js":420}],407:[function(e,n,i){var a=e("../utils"),s=e("bn.js"),l=e("inherits"),c=e("./base"),o=a.assert;function u(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,c.call(this,"edwards",f),this.a=new s(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function d(f,h,y,m,g){c.BasePoint.call(this,f,"projective"),h===null&&y===null&&m===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(h,16),this.y=new s(y,16),this.z=m?new s(m,16):this.curve.one,this.t=g&&new s(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}l(u,c),n.exports=u,u.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},u.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},u.prototype.jpoint=function(f,h,y,m){return this.point(f,h,y,m)},u.prototype.pointFromX=function(f,h){(f=new s(f,16)).red||(f=f.toRed(this.red));var y=f.redSqr(),m=this.c2.redSub(this.a.redMul(y)),g=this.one.redSub(this.c2.redMul(this.d).redMul(y)),v=m.redMul(g.redInvm()),b=v.redSqrt();if(b.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var w=b.fromRed().isOdd();return(h&&!w||!h&&w)&&(b=b.redNeg()),this.point(f,b)},u.prototype.pointFromY=function(f,h){(f=new s(f,16)).red||(f=f.toRed(this.red));var y=f.redSqr(),m=y.redSub(this.c2),g=y.redMul(this.d).redMul(this.c2).redSub(this.a),v=m.redMul(g.redInvm());if(v.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,f)}var b=v.redSqrt();if(b.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return b.fromRed().isOdd()!==h&&(b=b.redNeg()),this.point(b,f)},u.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var h=f.x.redSqr(),y=f.y.redSqr(),m=h.redMul(this.a).redAdd(y),g=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(y)));return m.cmp(g)===0},l(d,c.BasePoint),u.prototype.pointFromJSON=function(f){return d.fromJSON(this,f)},u.prototype.point=function(f,h,y,m){return new d(this,f,h,y,m)},d.fromJSON=function(f,h){return new d(f,h[0],h[1],h[2])},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},d.prototype._extDbl=function(){var f=this.x.redSqr(),h=this.y.redSqr(),y=this.z.redSqr();y=y.redIAdd(y);var m=this.curve._mulA(f),g=this.x.redAdd(this.y).redSqr().redISub(f).redISub(h),v=m.redAdd(h),b=v.redSub(y),w=m.redSub(h),_=g.redMul(b),N=v.redMul(w),P=g.redMul(w),M=b.redMul(v);return this.curve.point(_,N,M,P)},d.prototype._projDbl=function(){var f,h,y,m,g,v,b=this.x.redAdd(this.y).redSqr(),w=this.x.redSqr(),_=this.y.redSqr();if(this.curve.twisted){var N=(m=this.curve._mulA(w)).redAdd(_);this.zOne?(f=b.redSub(w).redSub(_).redMul(N.redSub(this.curve.two)),h=N.redMul(m.redSub(_)),y=N.redSqr().redSub(N).redSub(N)):(g=this.z.redSqr(),v=N.redSub(g).redISub(g),f=b.redSub(w).redISub(_).redMul(v),h=N.redMul(m.redSub(_)),y=N.redMul(v))}else m=w.redAdd(_),g=this.curve._mulC(this.z).redSqr(),v=m.redSub(g).redSub(g),f=this.curve._mulC(b.redISub(m)).redMul(v),h=this.curve._mulC(m).redMul(w.redISub(_)),y=m.redMul(v);return this.curve.point(f,h,y)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},d.prototype._extAdd=function(f){var h=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),y=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),m=this.t.redMul(this.curve.dd).redMul(f.t),g=this.z.redMul(f.z.redAdd(f.z)),v=y.redSub(h),b=g.redSub(m),w=g.redAdd(m),_=y.redAdd(h),N=v.redMul(b),P=w.redMul(_),M=v.redMul(_),A=b.redMul(w);return this.curve.point(N,P,A,M)},d.prototype._projAdd=function(f){var h,y,m=this.z.redMul(f.z),g=m.redSqr(),v=this.x.redMul(f.x),b=this.y.redMul(f.y),w=this.curve.d.redMul(v).redMul(b),_=g.redSub(w),N=g.redAdd(w),P=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(v).redISub(b),M=m.redMul(_).redMul(P);return this.curve.twisted?(h=m.redMul(N).redMul(b.redSub(this.curve._mulA(v))),y=_.redMul(N)):(h=m.redMul(N).redMul(b.redSub(v)),y=this.curve._mulC(_).redMul(N)),this.curve.point(M,h,y)},d.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},d.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},d.prototype.mulAdd=function(f,h,y){return this.curve._wnafMulAdd(1,[this,h],[f,y],2,!1)},d.prototype.jmulAdd=function(f,h,y){return this.curve._wnafMulAdd(1,[this,h],[f,y],2,!0)},d.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},d.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()},d.prototype.getY=function(){return this.normalize(),this.y.fromRed()},d.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},d.prototype.eqXToP=function(f){var h=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var y=f.clone(),m=this.curve.redN.redMul(this.z);;){if(y.iadd(this.curve.n),y.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(m),this.x.cmp(h)===0)return!0}},d.prototype.toP=d.prototype.normalize,d.prototype.mixedAdd=d.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,i){var a=i;a.base=e("./base"),a.short=e("./short"),a.mont=e("./mont"),a.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,i){var a=e("bn.js"),s=e("inherits"),l=e("./base"),c=e("../utils");function o(d){l.call(this,"mont",d),this.a=new a(d.a,16).toRed(this.red),this.b=new a(d.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(d,f,h){l.BasePoint.call(this,d,"projective"),f===null&&h===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(f,16),this.z=new a(h,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(o,l),n.exports=o,o.prototype.validate=function(d){var f=d.normalize().x,h=f.redSqr(),y=h.redMul(f).redAdd(h.redMul(this.a)).redAdd(f);return y.redSqrt().redSqr().cmp(y)===0},s(u,l.BasePoint),o.prototype.decodePoint=function(d,f){return this.point(c.toArray(d,f),1)},o.prototype.point=function(d,f){return new u(this,d,f)},o.prototype.pointFromJSON=function(d){return u.fromJSON(this,d)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(d,f){return new u(d,f[0],f[1]||d.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var d=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),h=d.redSub(f),y=d.redMul(f),m=h.redMul(f.redAdd(this.curve.a24.redMul(h)));return this.curve.point(y,m)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(d,f){var h=this.x.redAdd(this.z),y=this.x.redSub(this.z),m=d.x.redAdd(d.z),g=d.x.redSub(d.z).redMul(h),v=m.redMul(y),b=f.z.redMul(g.redAdd(v).redSqr()),w=f.x.redMul(g.redISub(v).redSqr());return this.curve.point(b,w)},u.prototype.mul=function(d){for(var f=d.clone(),h=this,y=this.curve.point(null,null),m=[];f.cmpn(0)!==0;f.iushrn(1))m.push(f.andln(1));for(var g=m.length-1;g>=0;g--)m[g]===0?(h=h.diffAdd(y,this),y=y.dbl()):(y=h.diffAdd(y,this),h=h.dbl());return y},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(d){return this.getX().cmp(d.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,i){var a=e("../utils"),s=e("bn.js"),l=e("inherits"),c=e("./base"),o=a.assert;function u(h){c.call(this,"short",h),this.a=new s(h.a,16).toRed(this.red),this.b=new s(h.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(h),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function d(h,y,m,g){c.BasePoint.call(this,h,"affine"),y===null&&m===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(y,16),this.y=new s(m,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(h,y,m,g){c.BasePoint.call(this,h,"jacobian"),y===null&&m===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(y,16),this.y=new s(m,16),this.z=new s(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}l(u,c),n.exports=u,u.prototype._getEndomorphism=function(h){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var y,m;if(h.beta)y=new s(h.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);y=(y=g[0].cmp(g[1])<0?g[0]:g[1]).toRed(this.red)}if(h.lambda)m=new s(h.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(y))===0?m=v[0]:(m=v[1],o(this.g.mul(m).x.cmp(this.g.x.redMul(y))===0))}return{beta:y,lambda:m,basis:h.basis?h.basis.map(function(b){return{a:new s(b.a,16),b:new s(b.b,16)}}):this._getEndoBasis(m)}}},u.prototype._getEndoRoots=function(h){var y=h===this.p?this.red:s.mont(h),m=new s(2).toRed(y).redInvm(),g=m.redNeg(),v=new s(3).toRed(y).redNeg().redSqrt().redMul(m);return[g.redAdd(v).fromRed(),g.redSub(v).fromRed()]},u.prototype._getEndoBasis=function(h){for(var y,m,g,v,b,w,_,N,P,M=this.n.ushrn(Math.floor(this.n.bitLength()/2)),A=h,F=this.n.clone(),H=new s(1),z=new s(0),U=new s(0),O=new s(1),L=0;A.cmpn(0)!==0;){var C=F.div(A);N=F.sub(C.mul(A)),P=U.sub(C.mul(H));var k=O.sub(C.mul(z));if(!g&&N.cmp(M)<0)y=_.neg(),m=H,g=N.neg(),v=P;else if(g&&++L==2)break;_=N,F=A,A=N,U=H,H=P,O=z,z=k}b=N.neg(),w=P;var j=g.sqr().add(v.sqr());return b.sqr().add(w.sqr()).cmp(j)>=0&&(b=y,w=m),g.negative&&(g=g.neg(),v=v.neg()),b.negative&&(b=b.neg(),w=w.neg()),[{a:g,b:v},{a:b,b:w}]},u.prototype._endoSplit=function(h){var y=this.endo.basis,m=y[0],g=y[1],v=g.b.mul(h).divRound(this.n),b=m.b.neg().mul(h).divRound(this.n),w=v.mul(m.a),_=b.mul(g.a),N=v.mul(m.b),P=b.mul(g.b);return{k1:h.sub(w).sub(_),k2:N.add(P).neg()}},u.prototype.pointFromX=function(h,y){(h=new s(h,16)).red||(h=h.toRed(this.red));var m=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),g=m.redSqrt();if(g.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var v=g.fromRed().isOdd();return(y&&!v||!y&&v)&&(g=g.redNeg()),this.point(h,g)},u.prototype.validate=function(h){if(h.inf)return!0;var y=h.x,m=h.y,g=this.a.redMul(y),v=y.redSqr().redMul(y).redIAdd(g).redIAdd(this.b);return m.redSqr().redISub(v).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(h,y,m){for(var g=this._endoWnafT1,v=this._endoWnafT2,b=0;b<h.length;b++){var w=this._endoSplit(y[b]),_=h[b],N=_._getBeta();w.k1.negative&&(w.k1.ineg(),_=_.neg(!0)),w.k2.negative&&(w.k2.ineg(),N=N.neg(!0)),g[2*b]=_,g[2*b+1]=N,v[2*b]=w.k1,v[2*b+1]=w.k2}for(var P=this._wnafMulAdd(1,g,v,2*b,m),M=0;M<2*b;M++)g[M]=null,v[M]=null;return P},l(d,c.BasePoint),u.prototype.point=function(h,y,m){return new d(this,h,y,m)},u.prototype.pointFromJSON=function(h,y){return d.fromJSON(this,h,y)},d.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var y=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var m=this.curve,g=function(v){return m.point(v.x.redMul(m.endo.beta),v.y)};h.beta=y,y.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(g)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(g)}}}return y}},d.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},d.fromJSON=function(h,y,m){typeof y=="string"&&(y=JSON.parse(y));var g=h.point(y[0],y[1],m);if(!y[2])return g;function v(w){return h.point(w[0],w[1],m)}var b=y[2];return g.precomputed={beta:null,doubles:b.doubles&&{step:b.doubles.step,points:[g].concat(b.doubles.points.map(v))},naf:b.naf&&{wnd:b.naf.wnd,points:[g].concat(b.naf.points.map(v))}},g},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.inf},d.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var y=this.y.redSub(h.y);y.cmpn(0)!==0&&(y=y.redMul(this.x.redSub(h.x).redInvm()));var m=y.redSqr().redISub(this.x).redISub(h.x),g=y.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,g)},d.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var y=this.curve.a,m=this.x.redSqr(),g=h.redInvm(),v=m.redAdd(m).redIAdd(m).redIAdd(y).redMul(g),b=v.redSqr().redISub(this.x.redAdd(this.x)),w=v.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,w)},d.prototype.getX=function(){return this.x.fromRed()},d.prototype.getY=function(){return this.y.fromRed()},d.prototype.mul=function(h){return h=new s(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},d.prototype.mulAdd=function(h,y,m){var g=[this,y],v=[h,m];return this.curve.endo?this.curve._endoWnafMulAdd(g,v):this.curve._wnafMulAdd(1,g,v,2)},d.prototype.jmulAdd=function(h,y,m){var g=[this,y],v=[h,m];return this.curve.endo?this.curve._endoWnafMulAdd(g,v,!0):this.curve._wnafMulAdd(1,g,v,2,!0)},d.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},d.prototype.neg=function(h){if(this.inf)return this;var y=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var m=this.precomputed,g=function(v){return v.neg()};y.precomputed={naf:m.naf&&{wnd:m.naf.wnd,points:m.naf.points.map(g)},doubles:m.doubles&&{step:m.doubles.step,points:m.doubles.points.map(g)}}}return y},d.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},l(f,c.BasePoint),u.prototype.jpoint=function(h,y,m){return new f(this,h,y,m)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),y=h.redSqr(),m=this.x.redMul(y),g=this.y.redMul(y).redMul(h);return this.curve.point(m,g)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var y=h.z.redSqr(),m=this.z.redSqr(),g=this.x.redMul(y),v=h.x.redMul(m),b=this.y.redMul(y.redMul(h.z)),w=h.y.redMul(m.redMul(this.z)),_=g.redSub(v),N=b.redSub(w);if(_.cmpn(0)===0)return N.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var P=_.redSqr(),M=P.redMul(_),A=g.redMul(P),F=N.redSqr().redIAdd(M).redISub(A).redISub(A),H=N.redMul(A.redISub(F)).redISub(b.redMul(M)),z=this.z.redMul(h.z).redMul(_);return this.curve.jpoint(F,H,z)},f.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var y=this.z.redSqr(),m=this.x,g=h.x.redMul(y),v=this.y,b=h.y.redMul(y).redMul(this.z),w=m.redSub(g),_=v.redSub(b);if(w.cmpn(0)===0)return _.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var N=w.redSqr(),P=N.redMul(w),M=m.redMul(N),A=_.redSqr().redIAdd(P).redISub(M).redISub(M),F=_.redMul(M.redISub(A)).redISub(v.redMul(P)),H=this.z.redMul(w);return this.curve.jpoint(A,F,H)},f.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var y;if(this.curve.zeroA||this.curve.threeA){var m=this;for(y=0;y<h;y++)m=m.dbl();return m}var g=this.curve.a,v=this.curve.tinv,b=this.x,w=this.y,_=this.z,N=_.redSqr().redSqr(),P=w.redAdd(w);for(y=0;y<h;y++){var M=b.redSqr(),A=P.redSqr(),F=A.redSqr(),H=M.redAdd(M).redIAdd(M).redIAdd(g.redMul(N)),z=b.redMul(A),U=H.redSqr().redISub(z.redAdd(z)),O=z.redISub(U),L=H.redMul(O);L=L.redIAdd(L).redISub(F);var C=P.redMul(_);y+1<h&&(N=N.redMul(F)),b=U,_=C,P=L}return this.curve.jpoint(b,P.redMul(v),_)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var h,y,m;if(this.zOne){var g=this.x.redSqr(),v=this.y.redSqr(),b=v.redSqr(),w=this.x.redAdd(v).redSqr().redISub(g).redISub(b);w=w.redIAdd(w);var _=g.redAdd(g).redIAdd(g),N=_.redSqr().redISub(w).redISub(w),P=b.redIAdd(b);P=(P=P.redIAdd(P)).redIAdd(P),h=N,y=_.redMul(w.redISub(N)).redISub(P),m=this.y.redAdd(this.y)}else{var M=this.x.redSqr(),A=this.y.redSqr(),F=A.redSqr(),H=this.x.redAdd(A).redSqr().redISub(M).redISub(F);H=H.redIAdd(H);var z=M.redAdd(M).redIAdd(M),U=z.redSqr(),O=F.redIAdd(F);O=(O=O.redIAdd(O)).redIAdd(O),h=U.redISub(H).redISub(H),y=z.redMul(H.redISub(h)).redISub(O),m=(m=this.y.redMul(this.z)).redIAdd(m)}return this.curve.jpoint(h,y,m)},f.prototype._threeDbl=function(){var h,y,m;if(this.zOne){var g=this.x.redSqr(),v=this.y.redSqr(),b=v.redSqr(),w=this.x.redAdd(v).redSqr().redISub(g).redISub(b);w=w.redIAdd(w);var _=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),N=_.redSqr().redISub(w).redISub(w);h=N;var P=b.redIAdd(b);P=(P=P.redIAdd(P)).redIAdd(P),y=_.redMul(w.redISub(N)).redISub(P),m=this.y.redAdd(this.y)}else{var M=this.z.redSqr(),A=this.y.redSqr(),F=this.x.redMul(A),H=this.x.redSub(M).redMul(this.x.redAdd(M));H=H.redAdd(H).redIAdd(H);var z=F.redIAdd(F),U=(z=z.redIAdd(z)).redAdd(z);h=H.redSqr().redISub(U),m=this.y.redAdd(this.z).redSqr().redISub(A).redISub(M);var O=A.redSqr();O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O),y=H.redMul(z.redISub(h)).redISub(O)}return this.curve.jpoint(h,y,m)},f.prototype._dbl=function(){var h=this.curve.a,y=this.x,m=this.y,g=this.z,v=g.redSqr().redSqr(),b=y.redSqr(),w=m.redSqr(),_=b.redAdd(b).redIAdd(b).redIAdd(h.redMul(v)),N=y.redAdd(y),P=(N=N.redIAdd(N)).redMul(w),M=_.redSqr().redISub(P.redAdd(P)),A=P.redISub(M),F=w.redSqr();F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var H=_.redMul(A).redISub(F),z=m.redAdd(m).redMul(g);return this.curve.jpoint(M,H,z)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),y=this.y.redSqr(),m=this.z.redSqr(),g=y.redSqr(),v=h.redAdd(h).redIAdd(h),b=v.redSqr(),w=this.x.redAdd(y).redSqr().redISub(h).redISub(g),_=(w=(w=(w=w.redIAdd(w)).redAdd(w).redIAdd(w)).redISub(b)).redSqr(),N=g.redIAdd(g);N=(N=(N=N.redIAdd(N)).redIAdd(N)).redIAdd(N);var P=v.redIAdd(w).redSqr().redISub(b).redISub(_).redISub(N),M=y.redMul(P);M=(M=M.redIAdd(M)).redIAdd(M);var A=this.x.redMul(_).redISub(M);A=(A=A.redIAdd(A)).redIAdd(A);var F=this.y.redMul(P.redMul(N.redISub(P)).redISub(w.redMul(_)));F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var H=this.z.redAdd(w).redSqr().redISub(m).redISub(_);return this.curve.jpoint(A,F,H)},f.prototype.mul=function(h,y){return h=new s(h,y),this.curve._wnafMul(this,h)},f.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var y=this.z.redSqr(),m=h.z.redSqr();if(this.x.redMul(m).redISub(h.x.redMul(y)).cmpn(0)!==0)return!1;var g=y.redMul(this.z),v=m.redMul(h.z);return this.y.redMul(v).redISub(h.y.redMul(g)).cmpn(0)===0},f.prototype.eqXToP=function(h){var y=this.z.redSqr(),m=h.toRed(this.curve.red).redMul(y);if(this.x.cmp(m)===0)return!0;for(var g=h.clone(),v=this.curve.redN.redMul(y);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(m.redIAdd(v),this.x.cmp(m)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,i){var a,s=i,l=e("hash.js"),c=e("./curve"),o=e("./utils").assert;function u(f){f.type==="short"?this.curve=new c.short(f):f.type==="edwards"?this.curve=new c.edwards(f):this.curve=new c.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function d(f,h){Object.defineProperty(s,f,{configurable:!0,enumerable:!0,get:function(){var y=new u(h);return Object.defineProperty(s,f,{configurable:!0,enumerable:!0,value:y}),y}})}s.PresetCurve=u,d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:l.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:l.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:l.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:l.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:l.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=e("./precomputed/secp256k1")}catch{a=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:l.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,i){var a=e("bn.js"),s=e("hmac-drbg"),l=e("../utils"),c=e("../curves"),o=e("brorand"),u=l.assert,d=e("./key"),f=e("./signature");function h(y){if(!(this instanceof h))return new h(y);typeof y=="string"&&(u(Object.prototype.hasOwnProperty.call(c,y),"Unknown curve "+y),y=c[y]),y instanceof c.PresetCurve&&(y={curve:y}),this.curve=y.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=y.curve.g,this.g.precompute(y.curve.n.bitLength()+1),this.hash=y.hash||y.curve.hash}n.exports=h,h.prototype.keyPair=function(y){return new d(this,y)},h.prototype.keyFromPrivate=function(y,m){return d.fromPrivate(this,y,m)},h.prototype.keyFromPublic=function(y,m){return d.fromPublic(this,y,m)},h.prototype.genKeyPair=function(y){y||(y={});for(var m=new s({hash:this.hash,pers:y.pers,persEnc:y.persEnc||"utf8",entropy:y.entropy||o(this.hash.hmacStrength),entropyEnc:y.entropy&&y.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),v=this.n.sub(new a(2));;){var b=new a(m.generate(g));if(!(b.cmp(v)>0))return b.iaddn(1),this.keyFromPrivate(b)}},h.prototype._truncateToN=function(y,m){var g=8*y.byteLength()-this.n.bitLength();return g>0&&(y=y.ushrn(g)),!m&&y.cmp(this.n)>=0?y.sub(this.n):y},h.prototype.sign=function(y,m,g,v){typeof g=="object"&&(v=g,g=null),v||(v={}),m=this.keyFromPrivate(m,g),y=this._truncateToN(new a(y,16));for(var b=this.n.byteLength(),w=m.getPrivate().toArray("be",b),_=y.toArray("be",b),N=new s({hash:this.hash,entropy:w,nonce:_,pers:v.pers,persEnc:v.persEnc||"utf8"}),P=this.n.sub(new a(1)),M=0;;M++){var A=v.k?v.k(M):new a(N.generate(this.n.byteLength()));if(!((A=this._truncateToN(A,!0)).cmpn(1)<=0||A.cmp(P)>=0)){var F=this.g.mul(A);if(!F.isInfinity()){var H=F.getX(),z=H.umod(this.n);if(z.cmpn(0)!==0){var U=A.invm(this.n).mul(z.mul(m.getPrivate()).iadd(y));if((U=U.umod(this.n)).cmpn(0)!==0){var O=(F.getY().isOdd()?1:0)|(H.cmp(z)!==0?2:0);return v.canonical&&U.cmp(this.nh)>0&&(U=this.n.sub(U),O^=1),new f({r:z,s:U,recoveryParam:O})}}}}}},h.prototype.verify=function(y,m,g,v){y=this._truncateToN(new a(y,16)),g=this.keyFromPublic(g,v);var b=(m=new f(m,"hex")).r,w=m.s;if(b.cmpn(1)<0||b.cmp(this.n)>=0||w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var _,N=w.invm(this.n),P=N.mul(y).umod(this.n),M=N.mul(b).umod(this.n);return this.curve._maxwellTrick?!(_=this.g.jmulAdd(P,g.getPublic(),M)).isInfinity()&&_.eqXToP(b):!(_=this.g.mulAdd(P,g.getPublic(),M)).isInfinity()&&_.getX().umod(this.n).cmp(b)===0},h.prototype.recoverPubKey=function(y,m,g,v){u((3&g)===g,"The recovery param is more than two bits"),m=new f(m,v);var b=this.n,w=new a(y),_=m.r,N=m.s,P=1&g,M=g>>1;if(_.cmp(this.curve.p.umod(this.curve.n))>=0&&M)throw new Error("Unable to find sencond key candinate");_=M?this.curve.pointFromX(_.add(this.curve.n),P):this.curve.pointFromX(_,P);var A=m.r.invm(b),F=b.sub(w).mul(A).umod(b),H=N.mul(A).umod(b);return this.g.mulAdd(F,_,H)},h.prototype.getKeyRecoveryParam=function(y,m,g,v){if((m=new f(m,v)).recoveryParam!==null)return m.recoveryParam;for(var b=0;b<4;b++){var w;try{w=this.recoverPubKey(y,m,b)}catch{continue}if(w.eq(g))return b}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,i){var a=e("bn.js"),s=e("../utils").assert;function l(c,o){this.ec=c,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}n.exports=l,l.fromPublic=function(c,o,u){return o instanceof l?o:new l(c,{pub:o,pubEnc:u})},l.fromPrivate=function(c,o,u){return o instanceof l?o:new l(c,{priv:o,privEnc:u})},l.prototype.validate=function(){var c=this.getPublic();return c.isInfinity()?{result:!1,reason:"Invalid public key"}:c.validate()?c.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},l.prototype.getPublic=function(c,o){return typeof c=="string"&&(o=c,c=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,c):this.pub},l.prototype.getPrivate=function(c){return c==="hex"?this.priv.toString(16,2):this.priv},l.prototype._importPrivate=function(c,o){this.priv=new a(c,o||16),this.priv=this.priv.umod(this.ec.curve.n)},l.prototype._importPublic=function(c,o){if(c.x||c.y)return this.ec.curve.type==="mont"?s(c.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(c.x&&c.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(c.x,c.y));this.pub=this.ec.curve.decodePoint(c,o)},l.prototype.derive=function(c){return c.validate()||s(c.validate(),"public point not validated"),c.mul(this.priv).getX()},l.prototype.sign=function(c,o,u){return this.ec.sign(c,this,o,u)},l.prototype.verify=function(c,o){return this.ec.verify(c,o,this)},l.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,i){var a=e("bn.js"),s=e("../utils"),l=s.assert;function c(h,y){if(h instanceof c)return h;this._importDER(h,y)||(l(h.r&&h.s,"Signature without r or s"),this.r=new a(h.r,16),this.s=new a(h.s,16),h.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=h.recoveryParam)}function o(){this.place=0}function u(h,y){var m=h[y.place++];if(!(128&m))return m;var g=15&m;if(g===0||g>4)return!1;for(var v=0,b=0,w=y.place;b<g;b++,w++)v<<=8,v|=h[w],v>>>=0;return!(v<=127)&&(y.place=w,v)}function d(h){for(var y=0,m=h.length-1;!h[y]&&!(128&h[y+1])&&y<m;)y++;return y===0?h:h.slice(y)}function f(h,y){if(y<128)h.push(y);else{var m=1+(Math.log(y)/Math.LN2>>>3);for(h.push(128|m);--m;)h.push(y>>>(m<<3)&255);h.push(y)}}n.exports=c,c.prototype._importDER=function(h,y){h=s.toArray(h,y);var m=new o;if(h[m.place++]!==48)return!1;var g=u(h,m);if(g===!1||g+m.place!==h.length||h[m.place++]!==2)return!1;var v=u(h,m);if(v===!1)return!1;var b=h.slice(m.place,v+m.place);if(m.place+=v,h[m.place++]!==2)return!1;var w=u(h,m);if(w===!1||h.length!==w+m.place)return!1;var _=h.slice(m.place,w+m.place);if(b[0]===0){if(!(128&b[1]))return!1;b=b.slice(1)}if(_[0]===0){if(!(128&_[1]))return!1;_=_.slice(1)}return this.r=new a(b),this.s=new a(_),this.recoveryParam=null,!0},c.prototype.toDER=function(h){var y=this.r.toArray(),m=this.s.toArray();for(128&y[0]&&(y=[0].concat(y)),128&m[0]&&(m=[0].concat(m)),y=d(y),m=d(m);!(m[0]||128&m[1]);)m=m.slice(1);var g=[2];f(g,y.length),(g=g.concat(y)).push(2),f(g,m.length);var v=g.concat(m),b=[48];return f(b,v.length),b=b.concat(v),s.encode(b,h)}},{"../utils":419,"bn.js":420}],415:[function(e,n,i){var a=e("hash.js"),s=e("../curves"),l=e("../utils"),c=l.assert,o=l.parseBytes,u=e("./key"),d=e("./signature");function f(h){if(c(h==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(h);h=s[h].curve,this.curve=h,this.g=h.g,this.g.precompute(h.n.bitLength()+1),this.pointClass=h.point().constructor,this.encodingLength=Math.ceil(h.n.bitLength()/8),this.hash=a.sha512}n.exports=f,f.prototype.sign=function(h,y){h=o(h);var m=this.keyFromSecret(y),g=this.hashInt(m.messagePrefix(),h),v=this.g.mul(g),b=this.encodePoint(v),w=this.hashInt(b,m.pubBytes(),h).mul(m.priv()),_=g.add(w).umod(this.curve.n);return this.makeSignature({R:v,S:_,Rencoded:b})},f.prototype.verify=function(h,y,m){h=o(h),y=this.makeSignature(y);var g=this.keyFromPublic(m),v=this.hashInt(y.Rencoded(),g.pubBytes(),h),b=this.g.mul(y.S());return y.R().add(g.pub().mul(v)).eq(b)},f.prototype.hashInt=function(){for(var h=this.hash(),y=0;y<arguments.length;y++)h.update(arguments[y]);return l.intFromLE(h.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(h){return u.fromPublic(this,h)},f.prototype.keyFromSecret=function(h){return u.fromSecret(this,h)},f.prototype.makeSignature=function(h){return h instanceof d?h:new d(this,h)},f.prototype.encodePoint=function(h){var y=h.getY().toArray("le",this.encodingLength);return y[this.encodingLength-1]|=h.getX().isOdd()?128:0,y},f.prototype.decodePoint=function(h){var y=(h=l.parseBytes(h)).length-1,m=h.slice(0,y).concat(-129&h[y]),g=(128&h[y])!=0,v=l.intFromLE(m);return this.curve.pointFromY(v,g)},f.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(h){return l.intFromLE(h)},f.prototype.isPoint=function(h){return h instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,i){var a=e("../utils"),s=a.assert,l=a.parseBytes,c=a.cachedProperty;function o(u,d){this.eddsa=u,this._secret=l(d.secret),u.isPoint(d.pub)?this._pub=d.pub:this._pubBytes=l(d.pub)}o.fromPublic=function(u,d){return d instanceof o?d:new o(u,{pub:d})},o.fromSecret=function(u,d){return d instanceof o?d:new o(u,{secret:d})},o.prototype.secret=function(){return this._secret},c(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),c(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),c(o,"privBytes",function(){var u=this.eddsa,d=this.hash(),f=u.encodingLength-1,h=d.slice(0,u.encodingLength);return h[0]&=248,h[f]&=127,h[f]|=64,h}),c(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),c(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),c(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(u){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},o.prototype.verify=function(u,d){return this.eddsa.verify(u,d,this)},o.prototype.getSecret=function(u){return s(this._secret,"KeyPair is public only"),a.encode(this.secret(),u)},o.prototype.getPublic=function(u){return a.encode(this.pubBytes(),u)},n.exports=o},{"../utils":419}],417:[function(e,n,i){var a=e("bn.js"),s=e("../utils"),l=s.assert,c=s.cachedProperty,o=s.parseBytes;function u(d,f){this.eddsa=d,typeof f!="object"&&(f=o(f)),Array.isArray(f)&&(f={R:f.slice(0,d.encodingLength),S:f.slice(d.encodingLength)}),l(f.R&&f.S,"Signature without R or S"),d.isPoint(f.R)&&(this._R=f.R),f.S instanceof a&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}c(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),c(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),c(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),c(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(e,n,i){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,i){var a=i,s=e("bn.js"),l=e("minimalistic-assert"),c=e("minimalistic-crypto-utils");a.assert=l,a.toArray=c.toArray,a.zero2=c.zero2,a.toHex=c.toHex,a.encode=c.encode,a.getNAF=function(o,u,d){var f=new Array(Math.max(o.bitLength(),d)+1);f.fill(0);for(var h=1<<u+1,y=o.clone(),m=0;m<f.length;m++){var g,v=y.andln(h-1);y.isOdd()?(g=v>(h>>1)-1?(h>>1)-v:v,y.isubn(g)):g=0,f[m]=g,y.iushrn(1)}return f},a.getJSF=function(o,u){var d=[[],[]];o=o.clone(),u=u.clone();for(var f,h=0,y=0;o.cmpn(-h)>0||u.cmpn(-y)>0;){var m,g,v=o.andln(3)+h&3,b=u.andln(3)+y&3;v===3&&(v=-1),b===3&&(b=-1),m=(1&v)==0?0:(f=o.andln(7)+h&7)!==3&&f!==5||b!==2?v:-v,d[0].push(m),g=(1&b)==0?0:(f=u.andln(7)+y&7)!==3&&f!==5||v!==2?b:-b,d[1].push(g),2*h===m+1&&(h=1-h),2*y===g+1&&(y=1-y),o.iushrn(1),u.iushrn(1)}return d},a.cachedProperty=function(o,u,d){var f="_"+u;o.prototype[u]=function(){return this[f]!==void 0?this[f]:this[f]=d.call(this)}},a.parseBytes=function(o){return typeof o=="string"?a.toArray(o,"hex"):o},a.intFromLE=function(o){return new s(o,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(e,n,i){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,i){var a=Object.create||function(A){var F=function(){};return F.prototype=A,new F},s=Object.keys||function(A){var F=[];for(var H in A)Object.prototype.hasOwnProperty.call(A,H)&&F.push(H);return H},l=Function.prototype.bind||function(A){var F=this;return function(){return F.apply(A,arguments)}};function c(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=a(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var o,u=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),o=d.x===0}catch{o=!1}function f(A){return A._maxListeners===void 0?c.defaultMaxListeners:A._maxListeners}function h(A,F,H){if(F)A.call(H);else for(var z=A.length,U=M(A,z),O=0;O<z;++O)U[O].call(H)}function y(A,F,H,z){if(F)A.call(H,z);else for(var U=A.length,O=M(A,U),L=0;L<U;++L)O[L].call(H,z)}function m(A,F,H,z,U){if(F)A.call(H,z,U);else for(var O=A.length,L=M(A,O),C=0;C<O;++C)L[C].call(H,z,U)}function g(A,F,H,z,U,O){if(F)A.call(H,z,U,O);else for(var L=A.length,C=M(A,L),k=0;k<L;++k)C[k].call(H,z,U,O)}function v(A,F,H,z){if(F)A.apply(H,z);else for(var U=A.length,O=M(A,U),L=0;L<U;++L)O[L].apply(H,z)}function b(A,F,H,z){var U,O,L;if(typeof H!="function")throw new TypeError('"listener" argument must be a function');if((O=A._events)?(O.newListener&&(A.emit("newListener",F,H.listener?H.listener:H),O=A._events),L=O[F]):(O=A._events=a(null),A._eventsCount=0),L){if(typeof L=="function"?L=O[F]=z?[H,L]:[L,H]:z?L.unshift(H):L.push(H),!L.warned&&(U=f(A))&&U>0&&L.length>U){L.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+L.length+' "'+String(F)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');C.name="MaxListenersExceededWarning",C.emitter=A,C.type=F,C.count=L.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",C.name,C.message)}}else L=O[F]=H,++A._eventsCount;return A}function w(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var A=new Array(arguments.length),F=0;F<A.length;++F)A[F]=arguments[F];this.listener.apply(this.target,A)}}function _(A,F,H){var z={fired:!1,wrapFn:void 0,target:A,type:F,listener:H},U=l.call(w,z);return U.listener=H,z.wrapFn=U,U}function N(A,F,H){var z=A._events;if(!z)return[];var U=z[F];return U?typeof U=="function"?H?[U.listener||U]:[U]:H?function(O){for(var L=new Array(O.length),C=0;C<L.length;++C)L[C]=O[C].listener||O[C];return L}(U):M(U,U.length):[]}function P(A){var F=this._events;if(F){var H=F[A];if(typeof H=="function")return 1;if(H)return H.length}return 0}function M(A,F){for(var H=new Array(F),z=0;z<F;++z)H[z]=A[z];return H}o?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(A){if(typeof A!="number"||A<0||A!=A)throw new TypeError('"defaultMaxListeners" must be a positive number');u=A}}):c.defaultMaxListeners=u,c.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||isNaN(A))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=A,this},c.prototype.getMaxListeners=function(){return f(this)},c.prototype.emit=function(A){var F,H,z,U,O,L,C=A==="error";if(L=this._events)C=C&&L.error==null;else if(!C)return!1;if(C){if(arguments.length>1&&(F=arguments[1]),F instanceof Error)throw F;var k=new Error('Unhandled "error" event. ('+F+")");throw k.context=F,k}if(!(H=L[A]))return!1;var j=typeof H=="function";switch(z=arguments.length){case 1:h(H,j,this);break;case 2:y(H,j,this,arguments[1]);break;case 3:m(H,j,this,arguments[1],arguments[2]);break;case 4:g(H,j,this,arguments[1],arguments[2],arguments[3]);break;default:for(U=new Array(z-1),O=1;O<z;O++)U[O-1]=arguments[O];v(H,j,this,U)}return!0},c.prototype.addListener=function(A,F){return b(this,A,F,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(A,F){return b(this,A,F,!0)},c.prototype.once=function(A,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.on(A,_(this,A,F)),this},c.prototype.prependOnceListener=function(A,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(A,_(this,A,F)),this},c.prototype.removeListener=function(A,F){var H,z,U,O,L;if(typeof F!="function")throw new TypeError('"listener" argument must be a function');if(!(z=this._events))return this;if(!(H=z[A]))return this;if(H===F||H.listener===F)--this._eventsCount==0?this._events=a(null):(delete z[A],z.removeListener&&this.emit("removeListener",A,H.listener||F));else if(typeof H!="function"){for(U=-1,O=H.length-1;O>=0;O--)if(H[O]===F||H[O].listener===F){L=H[O].listener,U=O;break}if(U<0)return this;U===0?H.shift():function(C,k){for(var j=k,E=j+1,T=C.length;E<T;j+=1,E+=1)C[j]=C[E];C.pop()}(H,U),H.length===1&&(z[A]=H[0]),z.removeListener&&this.emit("removeListener",A,L||F)}return this},c.prototype.removeAllListeners=function(A){var F,H,z;if(!(H=this._events))return this;if(!H.removeListener)return arguments.length===0?(this._events=a(null),this._eventsCount=0):H[A]&&(--this._eventsCount==0?this._events=a(null):delete H[A]),this;if(arguments.length===0){var U,O=s(H);for(z=0;z<O.length;++z)(U=O[z])!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=a(null),this._eventsCount=0,this}if(typeof(F=H[A])=="function")this.removeListener(A,F);else if(F)for(z=F.length-1;z>=0;z--)this.removeListener(A,F[z]);return this},c.prototype.listeners=function(A){return N(this,A,!0)},c.prototype.rawListeners=function(A){return N(this,A,!1)},c.listenerCount=function(A,F){return typeof A.listenerCount=="function"?A.listenerCount(F):P.call(A,F)},c.prototype.listenerCount=P,c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("md5.js");n.exports=function(l,c,o,u){if(a.isBuffer(l)||(l=a.from(l,"binary")),c&&(a.isBuffer(c)||(c=a.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var d=o/8,f=a.alloc(d),h=a.alloc(u||0),y=a.alloc(0);d>0||u>0;){var m=new s;m.update(y),m.update(l),c&&m.update(c),y=m.digest();var g=0;if(d>0){var v=f.length-d;g=Math.min(d,y.length),y.copy(f,v,0,g),d-=g}if(g<y.length&&u>0){var b=h.length-u,w=Math.min(u,y.length-g);y.copy(h,b,g,g+w),u-=w}}return y.fill(0),{key:f,iv:h}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var a=e("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return a.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return a.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return a.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return a.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return a.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return a.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return a.FormatterOptions}});var s=e("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("readable-stream").Transform;function l(c){s.call(this),this._block=a.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(l,s),l.prototype._transform=function(c,o,u){var d=null;try{this.update(c,o)}catch(f){d=f}u(d)},l.prototype._flush=function(c){var o=null;try{this.push(this.digest())}catch(u){o=u}c(o)},l.prototype.update=function(c,o){if(function(m,g){if(!a.isBuffer(m)&&typeof m!="string")throw new TypeError(g+" must be a string or a buffer")}(c,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(c)||(c=a.from(c,o));for(var u=this._block,d=0;this._blockOffset+c.length-d>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)u[f++]=c[d++];this._update(),this._blockOffset=0}for(;d<c.length;)u[this._blockOffset++]=c[d++];for(var h=0,y=8*c.length;y>0;++h)this._length[h]+=y,(y=this._length[h]/4294967296|0)>0&&(this._length[h]-=4294967296*y);return this},l.prototype._update=function(){throw new Error("_update is not implemented")},l.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var o=this._digest();c!==void 0&&(o=o.toString(c)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return o},l.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=l},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,i){var a=i;a.utils=e("./hash/utils"),a.common=e("./hash/common"),a.sha=e("./hash/sha"),a.ripemd=e("./hash/ripemd"),a.hmac=e("./hash/hmac"),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,i){var a=e("./utils"),s=e("minimalistic-assert");function l(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=l,l.prototype.update=function(c,o){if(c=a.toArray(c,o),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){var u=(c=this.pending).length%this._delta8;this.pending=c.slice(c.length-u,c.length),this.pending.length===0&&(this.pending=null),c=a.join32(c,0,c.length-u,this.endian);for(var d=0;d<c.length;d+=this._delta32)this._update(c,d,d+this._delta32)}return this},l.prototype.digest=function(c){return this.update(this._pad()),s(this.pending===null),this._digest(c)},l.prototype._pad=function(){var c=this.pendingTotal,o=this._delta8,u=o-(c+this.padLength)%o,d=new Array(u+this.padLength);d[0]=128;for(var f=1;f<u;f++)d[f]=0;if(c<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)d[f++]=0;d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=c>>>24&255,d[f++]=c>>>16&255,d[f++]=c>>>8&255,d[f++]=255&c}else for(d[f++]=255&c,d[f++]=c>>>8&255,d[f++]=c>>>16&255,d[f++]=c>>>24&255,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,h=8;h<this.padLength;h++)d[f++]=0;return d}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,i){var a=e("./utils"),s=e("minimalistic-assert");function l(c,o,u){if(!(this instanceof l))return new l(c,o,u);this.Hash=c,this.blockSize=c.blockSize/8,this.outSize=c.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(o,u))}n.exports=l,l.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),s(c.length<=this.blockSize);for(var o=c.length;o<this.blockSize;o++)c.push(0);for(o=0;o<c.length;o++)c[o]^=54;for(this.inner=new this.Hash().update(c),o=0;o<c.length;o++)c[o]^=106;this.outer=new this.Hash().update(c)},l.prototype.update=function(c,o){return this.inner.update(c,o),this},l.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,i){var a=e("./utils"),s=e("./common"),l=a.rotl32,c=a.sum32,o=a.sum32_3,u=a.sum32_4,d=s.BlockHash;function f(){if(!(this instanceof f))return new f;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(_,N,P,M){return _<=15?N^P^M:_<=31?N&P|~N&M:_<=47?(N|~P)^M:_<=63?N&M|P&~M:N^(P|~M)}function y(_){return _<=15?0:_<=31?1518500249:_<=47?1859775393:_<=63?2400959708:2840853838}function m(_){return _<=15?1352829926:_<=31?1548603684:_<=47?1836072691:_<=63?2053994217:0}a.inherits(f,d),i.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(_,N){for(var P=this.h[0],M=this.h[1],A=this.h[2],F=this.h[3],H=this.h[4],z=P,U=M,O=A,L=F,C=H,k=0;k<80;k++){var j=c(l(u(P,h(k,M,A,F),_[g[k]+N],y(k)),b[k]),H);P=H,H=F,F=l(A,10),A=M,M=j,j=c(l(u(z,h(79-k,U,O,L),_[v[k]+N],m(k)),w[k]),C),z=C,C=L,L=l(O,10),O=U,U=j}j=o(this.h[1],A,L),this.h[1]=o(this.h[2],F,C),this.h[2]=o(this.h[3],H,z),this.h[3]=o(this.h[4],P,U),this.h[4]=o(this.h[0],M,O),this.h[0]=j},f.prototype._digest=function(_){return _==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,i){i.sha1=e("./sha/1"),i.sha224=e("./sha/224"),i.sha256=e("./sha/256"),i.sha384=e("./sha/384"),i.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,i){var a=e("../utils"),s=e("../common"),l=e("./common"),c=a.rotl32,o=a.sum32,u=a.sum32_5,d=l.ft_1,f=s.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function y(){if(!(this instanceof y))return new y;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(y,f),n.exports=y,y.blockSize=512,y.outSize=160,y.hmacStrength=80,y.padLength=64,y.prototype._update=function(m,g){for(var v=this.W,b=0;b<16;b++)v[b]=m[g+b];for(;b<v.length;b++)v[b]=c(v[b-3]^v[b-8]^v[b-14]^v[b-16],1);var w=this.h[0],_=this.h[1],N=this.h[2],P=this.h[3],M=this.h[4];for(b=0;b<v.length;b++){var A=~~(b/20),F=u(c(w,5),d(A,_,N,P),M,v[b],h[A]);M=P,P=N,N=c(_,30),_=w,w=F}this.h[0]=o(this.h[0],w),this.h[1]=o(this.h[1],_),this.h[2]=o(this.h[2],N),this.h[3]=o(this.h[3],P),this.h[4]=o(this.h[4],M)},y.prototype._digest=function(m){return m==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,i){var a=e("../utils"),s=e("./256");function l(){if(!(this instanceof l))return new l;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(l,s),n.exports=l,l.blockSize=512,l.outSize=224,l.hmacStrength=192,l.padLength=64,l.prototype._digest=function(c){return c==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,i){var a=e("../utils"),s=e("../common"),l=e("./common"),c=e("minimalistic-assert"),o=a.sum32,u=a.sum32_4,d=a.sum32_5,f=l.ch32,h=l.maj32,y=l.s0_256,m=l.s1_256,g=l.g0_256,v=l.g1_256,b=s.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _(){if(!(this instanceof _))return new _;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}a.inherits(_,b),n.exports=_,_.blockSize=512,_.outSize=256,_.hmacStrength=192,_.padLength=64,_.prototype._update=function(N,P){for(var M=this.W,A=0;A<16;A++)M[A]=N[P+A];for(;A<M.length;A++)M[A]=u(v(M[A-2]),M[A-7],g(M[A-15]),M[A-16]);var F=this.h[0],H=this.h[1],z=this.h[2],U=this.h[3],O=this.h[4],L=this.h[5],C=this.h[6],k=this.h[7];for(c(this.k.length===M.length),A=0;A<M.length;A++){var j=d(k,m(O),f(O,L,C),this.k[A],M[A]),E=o(y(F),h(F,H,z));k=C,C=L,L=O,O=o(U,j),U=z,z=H,H=F,F=o(j,E)}this.h[0]=o(this.h[0],F),this.h[1]=o(this.h[1],H),this.h[2]=o(this.h[2],z),this.h[3]=o(this.h[3],U),this.h[4]=o(this.h[4],O),this.h[5]=o(this.h[5],L),this.h[6]=o(this.h[6],C),this.h[7]=o(this.h[7],k)},_.prototype._digest=function(N){return N==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,i){var a=e("../utils"),s=e("./512");function l(){if(!(this instanceof l))return new l;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(l,s),n.exports=l,l.blockSize=1024,l.outSize=384,l.hmacStrength=192,l.padLength=128,l.prototype._digest=function(c){return c==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,i){var a=e("../utils"),s=e("../common"),l=e("minimalistic-assert"),c=a.rotr64_hi,o=a.rotr64_lo,u=a.shr64_hi,d=a.shr64_lo,f=a.sum64,h=a.sum64_hi,y=a.sum64_lo,m=a.sum64_4_hi,g=a.sum64_4_lo,v=a.sum64_5_hi,b=a.sum64_5_lo,w=s.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function N(){if(!(this instanceof N))return new N;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,this.W=new Array(160)}function P(E,T,R,V,B){var K=E&R^~E&B;return K<0&&(K+=4294967296),K}function M(E,T,R,V,B,K){var Z=T&V^~T&K;return Z<0&&(Z+=4294967296),Z}function A(E,T,R,V,B){var K=E&R^E&B^R&B;return K<0&&(K+=4294967296),K}function F(E,T,R,V,B,K){var Z=T&V^T&K^V&K;return Z<0&&(Z+=4294967296),Z}function H(E,T){var R=c(E,T,28)^c(T,E,2)^c(T,E,7);return R<0&&(R+=4294967296),R}function z(E,T){var R=o(E,T,28)^o(T,E,2)^o(T,E,7);return R<0&&(R+=4294967296),R}function U(E,T){var R=c(E,T,14)^c(E,T,18)^c(T,E,9);return R<0&&(R+=4294967296),R}function O(E,T){var R=o(E,T,14)^o(E,T,18)^o(T,E,9);return R<0&&(R+=4294967296),R}function L(E,T){var R=c(E,T,1)^c(E,T,8)^u(E,T,7);return R<0&&(R+=4294967296),R}function C(E,T){var R=o(E,T,1)^o(E,T,8)^d(E,T,7);return R<0&&(R+=4294967296),R}function k(E,T){var R=c(E,T,19)^c(T,E,29)^u(E,T,6);return R<0&&(R+=4294967296),R}function j(E,T){var R=o(E,T,19)^o(T,E,29)^d(E,T,6);return R<0&&(R+=4294967296),R}a.inherits(N,w),n.exports=N,N.blockSize=1024,N.outSize=512,N.hmacStrength=192,N.padLength=128,N.prototype._prepareBlock=function(E,T){for(var R=this.W,V=0;V<32;V++)R[V]=E[T+V];for(;V<R.length;V+=2){var B=k(R[V-4],R[V-3]),K=j(R[V-4],R[V-3]),Z=R[V-14],ne=R[V-13],G=L(R[V-30],R[V-29]),te=C(R[V-30],R[V-29]),I=R[V-32],D=R[V-31];R[V]=m(B,K,Z,ne,G,te,I,D),R[V+1]=g(B,K,Z,ne,G,te,I,D)}},N.prototype._update=function(E,T){this._prepareBlock(E,T);var R=this.W,V=this.h[0],B=this.h[1],K=this.h[2],Z=this.h[3],ne=this.h[4],G=this.h[5],te=this.h[6],I=this.h[7],D=this.h[8],X=this.h[9],Q=this.h[10],re=this.h[11],oe=this.h[12],se=this.h[13],he=this.h[14],le=this.h[15];l(this.k.length===R.length);for(var de=0;de<R.length;de+=2){var ve=he,ge=le,ke=U(D,X),Pe=O(D,X),Re=P(D,X,Q,re,oe),Ie=M(D,X,Q,re,oe,se),qe=this.k[de],Ue=this.k[de+1],vt=R[de],St=R[de+1],De=v(ve,ge,ke,Pe,Re,Ie,qe,Ue,vt,St),lt=b(ve,ge,ke,Pe,Re,Ie,qe,Ue,vt,St);ve=H(V,B),ge=z(V,B),ke=A(V,B,K,Z,ne),Pe=F(V,B,K,Z,ne,G);var gt=h(ve,ge,ke,Pe),Ve=y(ve,ge,ke,Pe);he=oe,le=se,oe=Q,se=re,Q=D,re=X,D=h(te,I,De,lt),X=y(I,I,De,lt),te=ne,I=G,ne=K,G=Z,K=V,Z=B,V=h(De,lt,gt,Ve),B=y(De,lt,gt,Ve)}f(this.h,0,V,B),f(this.h,2,K,Z),f(this.h,4,ne,G),f(this.h,6,te,I),f(this.h,8,D,X),f(this.h,10,Q,re),f(this.h,12,oe,se),f(this.h,14,he,le)},N.prototype._digest=function(E){return E==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,i){var a=e("../utils").rotr32;function s(o,u,d){return o&u^~o&d}function l(o,u,d){return o&u^o&d^u&d}function c(o,u,d){return o^u^d}i.ft_1=function(o,u,d,f){return o===0?s(u,d,f):o===1||o===3?c(u,d,f):o===2?l(u,d,f):void 0},i.ch32=s,i.maj32=l,i.p32=c,i.s0_256=function(o){return a(o,2)^a(o,13)^a(o,22)},i.s1_256=function(o){return a(o,6)^a(o,11)^a(o,25)},i.g0_256=function(o){return a(o,7)^a(o,18)^o>>>3},i.g1_256=function(o){return a(o,17)^a(o,19)^o>>>10}},{"../utils":437}],437:[function(e,n,i){var a=e("minimalistic-assert"),s=e("inherits");function l(d,f){return(64512&d.charCodeAt(f))==55296&&!(f<0||f+1>=d.length)&&(64512&d.charCodeAt(f+1))==56320}function c(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function o(d){return d.length===1?"0"+d:d}function u(d){return d.length===7?"0"+d:d.length===6?"00"+d:d.length===5?"000"+d:d.length===4?"0000"+d:d.length===3?"00000"+d:d.length===2?"000000"+d:d.length===1?"0000000"+d:d}i.inherits=s,i.toArray=function(d,f){if(Array.isArray(d))return d.slice();if(!d)return[];var h=[];if(typeof d=="string")if(f){if(f==="hex")for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),m=0;m<d.length;m+=2)h.push(parseInt(d[m]+d[m+1],16))}else for(var y=0,m=0;m<d.length;m++){var g=d.charCodeAt(m);g<128?h[y++]=g:g<2048?(h[y++]=g>>6|192,h[y++]=63&g|128):l(d,m)?(g=65536+((1023&g)<<10)+(1023&d.charCodeAt(++m)),h[y++]=g>>18|240,h[y++]=g>>12&63|128,h[y++]=g>>6&63|128,h[y++]=63&g|128):(h[y++]=g>>12|224,h[y++]=g>>6&63|128,h[y++]=63&g|128)}else for(m=0;m<d.length;m++)h[m]=0|d[m];return h},i.toHex=function(d){for(var f="",h=0;h<d.length;h++)f+=o(d[h].toString(16));return f},i.htonl=c,i.toHex32=function(d,f){for(var h="",y=0;y<d.length;y++){var m=d[y];f==="little"&&(m=c(m)),h+=u(m.toString(16))}return h},i.zero2=o,i.zero8=u,i.join32=function(d,f,h,y){var m=h-f;a(m%4==0);for(var g=new Array(m/4),v=0,b=f;v<g.length;v++,b+=4){var w;w=y==="big"?d[b]<<24|d[b+1]<<16|d[b+2]<<8|d[b+3]:d[b+3]<<24|d[b+2]<<16|d[b+1]<<8|d[b],g[v]=w>>>0}return g},i.split32=function(d,f){for(var h=new Array(4*d.length),y=0,m=0;y<d.length;y++,m+=4){var g=d[y];f==="big"?(h[m]=g>>>24,h[m+1]=g>>>16&255,h[m+2]=g>>>8&255,h[m+3]=255&g):(h[m+3]=g>>>24,h[m+2]=g>>>16&255,h[m+1]=g>>>8&255,h[m]=255&g)}return h},i.rotr32=function(d,f){return d>>>f|d<<32-f},i.rotl32=function(d,f){return d<<f|d>>>32-f},i.sum32=function(d,f){return d+f>>>0},i.sum32_3=function(d,f,h){return d+f+h>>>0},i.sum32_4=function(d,f,h,y){return d+f+h+y>>>0},i.sum32_5=function(d,f,h,y,m){return d+f+h+y+m>>>0},i.sum64=function(d,f,h,y){var m=d[f],g=y+d[f+1]>>>0,v=(g<y?1:0)+h+m;d[f]=v>>>0,d[f+1]=g},i.sum64_hi=function(d,f,h,y){return(f+y>>>0<f?1:0)+d+h>>>0},i.sum64_lo=function(d,f,h,y){return f+y>>>0},i.sum64_4_hi=function(d,f,h,y,m,g,v,b){var w=0,_=f;return w+=(_=_+y>>>0)<f?1:0,w+=(_=_+g>>>0)<g?1:0,d+h+m+v+(w+=(_=_+b>>>0)<b?1:0)>>>0},i.sum64_4_lo=function(d,f,h,y,m,g,v,b){return f+y+g+b>>>0},i.sum64_5_hi=function(d,f,h,y,m,g,v,b,w,_){var N=0,P=f;return N+=(P=P+y>>>0)<f?1:0,N+=(P=P+g>>>0)<g?1:0,N+=(P=P+b>>>0)<b?1:0,d+h+m+v+w+(N+=(P=P+_>>>0)<_?1:0)>>>0},i.sum64_5_lo=function(d,f,h,y,m,g,v,b,w,_){return f+y+g+b+_>>>0},i.rotr64_hi=function(d,f,h){return(f<<32-h|d>>>h)>>>0},i.rotr64_lo=function(d,f,h){return(d<<32-h|f>>>h)>>>0},i.shr64_hi=function(d,f,h){return d>>>h},i.shr64_lo=function(d,f,h){return(d<<32-h|f>>>h)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,i){var a=e("hash.js"),s=e("minimalistic-crypto-utils"),l=e("minimalistic-assert");function c(o){if(!(this instanceof c))return new c(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=s.toArray(o.entropy,o.entropyEnc||"hex"),d=s.toArray(o.nonce,o.nonceEnc||"hex"),f=s.toArray(o.pers,o.persEnc||"hex");l(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,d,f)}n.exports=c,c.prototype._init=function(o,u,d){var f=o.concat(u).concat(d);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},c.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},c.prototype._update=function(o){var u=this._hmac().update(this.V).update([0]);o&&(u=u.update(o)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},c.prototype.reseed=function(o,u,d,f){typeof u!="string"&&(f=d,d=u,u=null),o=s.toArray(o,u),d=s.toArray(d,f),l(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(d||[])),this._reseed=1},c.prototype.generate=function(o,u,d,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(f=d,d=u,u=null),d&&(d=s.toArray(d,f||"hex"),this._update(d));for(var h=[];h.length<o;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var y=h.slice(0,o);return this._update(d),this._reseed++,s.encode(y,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(a,s,l,c,o){var u,d,f=8*o-c-1,h=(1<<f)-1,y=h>>1,m=-7,g=l?o-1:0,v=l?-1:1,b=a[s+g];for(g+=v,u=b&(1<<-m)-1,b>>=-m,m+=f;m>0;u=256*u+a[s+g],g+=v,m-=8);for(d=u&(1<<-m)-1,u>>=-m,m+=c;m>0;d=256*d+a[s+g],g+=v,m-=8);if(u===0)u=1-y;else{if(u===h)return d?NaN:1/0*(b?-1:1);d+=Math.pow(2,c),u-=y}return(b?-1:1)*d*Math.pow(2,u-c)},i.write=function(a,s,l,c,o,u){var d,f,h,y=8*u-o-1,m=(1<<y)-1,g=m>>1,v=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=c?0:u-1,w=c?1:-1,_=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(f=isNaN(s)?1:0,d=m):(d=Math.floor(Math.log(s)/Math.LN2),s*(h=Math.pow(2,-d))<1&&(d--,h*=2),(s+=d+g>=1?v/h:v*Math.pow(2,1-g))*h>=2&&(d++,h/=2),d+g>=m?(f=0,d=m):d+g>=1?(f=(s*h-1)*Math.pow(2,o),d+=g):(f=s*Math.pow(2,g-1)*Math.pow(2,o),d=0));o>=8;a[l+b]=255&f,b+=w,f/=256,o-=8);for(d=d<<o|f,y+=o;y>0;a[l+b]=255&d,b+=w,d/=256,y-=8);a[l+b-w]|=128*_}},{}],440:[function(e,n,i){typeof Object.create=="function"?n.exports=function(a,s){s&&(a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(a,s){if(s){a.super_=s;var l=function(){};l.prototype=s.prototype,a.prototype=new l,a.prototype.constructor=a}}},{}],441:[function(e,n,i){(function(a,s,l,c,o,u,d,f){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(h){typeof i=="object"&&n!==void 0?n.exports=h():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=h()})(function(){return function h(y,m,g){function v(_,N){if(!m[_]){if(!y[_]){var P=typeof e=="function"&&e;if(!N&&P)return P(_,!0);if(b)return b(_,!0);var M=new Error("Cannot find module '"+_+"'");throw M.code="MODULE_NOT_FOUND",M}var A=m[_]={exports:{}};y[_][0].call(A.exports,function(F){return v(y[_][1][F]||F)},A,A.exports,h,y,m,g)}return m[_].exports}for(var b=typeof e=="function"&&e,w=0;w<g.length;w++)v(g[w]);return v}({1:[function(h,y,m){var g=h("./utils"),v=h("./support"),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";m.encode=function(w){for(var _,N,P,M,A,F,H,z=[],U=0,O=w.length,L=O,C=g.getTypeOf(w)!=="string";U<w.length;)L=O-U,P=C?(_=w[U++],N=U<O?w[U++]:0,U<O?w[U++]:0):(_=w.charCodeAt(U++),N=U<O?w.charCodeAt(U++):0,U<O?w.charCodeAt(U++):0),M=_>>2,A=(3&_)<<4|N>>4,F=1<L?(15&N)<<2|P>>6:64,H=2<L?63&P:64,z.push(b.charAt(M)+b.charAt(A)+b.charAt(F)+b.charAt(H));return z.join("")},m.decode=function(w){var _,N,P,M,A,F,H=0,z=0,U="data:";if(w.substr(0,U.length)===U)throw new Error("Invalid base64 input, it looks like a data url.");var O,L=3*(w=w.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(w.charAt(w.length-1)===b.charAt(64)&&L--,w.charAt(w.length-2)===b.charAt(64)&&L--,L%1!=0)throw new Error("Invalid base64 input, bad content length.");for(O=v.uint8array?new Uint8Array(0|L):new Array(0|L);H<w.length;)_=b.indexOf(w.charAt(H++))<<2|(M=b.indexOf(w.charAt(H++)))>>4,N=(15&M)<<4|(A=b.indexOf(w.charAt(H++)))>>2,P=(3&A)<<6|(F=b.indexOf(w.charAt(H++))),O[z++]=_,A!==64&&(O[z++]=N),F!==64&&(O[z++]=P);return O}},{"./support":30,"./utils":32}],2:[function(h,y,m){var g=h("./external"),v=h("./stream/DataWorker"),b=h("./stream/Crc32Probe"),w=h("./stream/DataLengthProbe");function _(N,P,M,A,F){this.compressedSize=N,this.uncompressedSize=P,this.crc32=M,this.compression=A,this.compressedContent=F}_.prototype={getContentWorker:function(){var N=new v(g.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new w("data_length")),P=this;return N.on("end",function(){if(this.streamInfo.data_length!==P.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),N},getCompressedWorker:function(){return new v(g.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},_.createWorkerFrom=function(N,P,M){return N.pipe(new b).pipe(new w("uncompressedSize")).pipe(P.compressWorker(M)).pipe(new w("compressedSize")).withStreamInfo("compression",P)},y.exports=_},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(h,y,m){var g=h("./stream/GenericWorker");m.STORE={magic:"\0\0",compressWorker:function(){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},m.DEFLATE=h("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(h,y,m){var g=h("./utils"),v=function(){for(var b,w=[],_=0;_<256;_++){b=_;for(var N=0;N<8;N++)b=1&b?3988292384^b>>>1:b>>>1;w[_]=b}return w}();y.exports=function(b,w){return b!==void 0&&b.length?g.getTypeOf(b)!=="string"?function(_,N,P,M){var A=v,F=0+P;_^=-1;for(var H=0;H<F;H++)_=_>>>8^A[255&(_^N[H])];return-1^_}(0|w,b,b.length):function(_,N,P,M){var A=v,F=0+P;_^=-1;for(var H=0;H<F;H++)_=_>>>8^A[255&(_^N.charCodeAt(H))];return-1^_}(0|w,b,b.length):0}},{"./utils":32}],5:[function(h,y,m){m.base64=!1,m.binary=!1,m.dir=!1,m.createFolders=!0,m.date=null,m.compression=null,m.compressionOptions=null,m.comment=null,m.unixPermissions=null,m.dosPermissions=null},{}],6:[function(h,y,m){var g;g=typeof Promise<"u"?Promise:h("lie"),y.exports={Promise:g}},{lie:37}],7:[function(h,y,m){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=h("pako"),b=h("./utils"),w=h("./stream/GenericWorker"),_=g?"uint8array":"array";function N(P,M){w.call(this,"FlateWorker/"+P),this._pako=null,this._pakoAction=P,this._pakoOptions=M,this.meta={}}m.magic="\b\0",b.inherits(N,w),N.prototype.processChunk=function(P){this.meta=P.meta,this._pako===null&&this._createPako(),this._pako.push(b.transformTo(_,P.data),!1)},N.prototype.flush=function(){w.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},N.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this._pako=null},N.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var P=this;this._pako.onData=function(M){P.push({data:M,meta:P.meta})}},m.compressWorker=function(P){return new N("Deflate",P)},m.uncompressWorker=function(){return new N("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(h,y,m){function g(A,F){var H,z="";for(H=0;H<F;H++)z+=String.fromCharCode(255&A),A>>>=8;return z}function v(A,F,H,z,U,O){var L,C,k=A.file,j=A.compression,E=O!==_.utf8encode,T=b.transformTo("string",O(k.name)),R=b.transformTo("string",_.utf8encode(k.name)),V=k.comment,B=b.transformTo("string",O(V)),K=b.transformTo("string",_.utf8encode(V)),Z=R.length!==k.name.length,ne=K.length!==V.length,G="",te="",I="",D=k.dir,X=k.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};F&&!H||(Q.crc32=A.crc32,Q.compressedSize=A.compressedSize,Q.uncompressedSize=A.uncompressedSize);var re=0;F&&(re|=8),E||!Z&&!ne||(re|=2048);var oe=0,se=0;D&&(oe|=16),U==="UNIX"?(se=798,oe|=function(le,de){var ve=le;return le||(ve=de?16893:33204),(65535&ve)<<16}(k.unixPermissions,D)):(se=20,oe|=function(le){return 63&(le||0)}(k.dosPermissions)),L=X.getUTCHours(),L<<=6,L|=X.getUTCMinutes(),L<<=5,L|=X.getUTCSeconds()/2,C=X.getUTCFullYear()-1980,C<<=4,C|=X.getUTCMonth()+1,C<<=5,C|=X.getUTCDate(),Z&&(te=g(1,1)+g(N(T),4)+R,G+="up"+g(te.length,2)+te),ne&&(I=g(1,1)+g(N(B),4)+K,G+="uc"+g(I.length,2)+I);var he="";return he+=`
\0`,he+=g(re,2),he+=j.magic,he+=g(L,2),he+=g(C,2),he+=g(Q.crc32,4),he+=g(Q.compressedSize,4),he+=g(Q.uncompressedSize,4),he+=g(T.length,2),he+=g(G.length,2),{fileRecord:P.LOCAL_FILE_HEADER+he+T+G,dirRecord:P.CENTRAL_FILE_HEADER+g(se,2)+he+g(B.length,2)+"\0\0\0\0"+g(oe,4)+g(z,4)+T+G+B}}var b=h("../utils"),w=h("../stream/GenericWorker"),_=h("../utf8"),N=h("../crc32"),P=h("../signature");function M(A,F,H,z){w.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=F,this.zipPlatform=H,this.encodeFileName=z,this.streamFiles=A,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}b.inherits(M,w),M.prototype.push=function(A){var F=A.meta.percent||0,H=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(A):(this.bytesWritten+=A.data.length,w.prototype.push.call(this,{data:A.data,meta:{currentFile:this.currentFile,percent:H?(F+100*(H-z-1))/H:100}}))},M.prototype.openedSource=function(A){this.currentSourceOffset=this.bytesWritten,this.currentFile=A.file.name;var F=this.streamFiles&&!A.file.dir;if(F){var H=v(A,F,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:H.fileRecord,meta:{percent:0}})}else this.accumulate=!0},M.prototype.closedSource=function(A){this.accumulate=!1;var F=this.streamFiles&&!A.file.dir,H=v(A,F,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(H.dirRecord),F)this.push({data:function(z){return P.DATA_DESCRIPTOR+g(z.crc32,4)+g(z.compressedSize,4)+g(z.uncompressedSize,4)}(A),meta:{percent:100}});else for(this.push({data:H.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},M.prototype.flush=function(){for(var A=this.bytesWritten,F=0;F<this.dirRecords.length;F++)this.push({data:this.dirRecords[F],meta:{percent:100}});var H=this.bytesWritten-A,z=function(U,O,L,C,k){var j=b.transformTo("string",k(C));return P.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g(U,2)+g(U,2)+g(O,4)+g(L,4)+g(j.length,2)+j}(this.dirRecords.length,H,A,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},M.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},M.prototype.registerPrevious=function(A){this._sources.push(A);var F=this;return A.on("data",function(H){F.processChunk(H)}),A.on("end",function(){F.closedSource(F.previous.streamInfo),F._sources.length?F.prepareNextSource():F.end()}),A.on("error",function(H){F.error(H)}),this},M.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},M.prototype.error=function(A){var F=this._sources;if(!w.prototype.error.call(this,A))return!1;for(var H=0;H<F.length;H++)try{F[H].error(A)}catch{}return!0},M.prototype.lock=function(){w.prototype.lock.call(this);for(var A=this._sources,F=0;F<A.length;F++)A[F].lock()},y.exports=M},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(h,y,m){var g=h("../compressions"),v=h("./ZipFileWorker");m.generateWorker=function(b,w,_){var N=new v(w.streamFiles,_,w.platform,w.encodeFileName),P=0;try{b.forEach(function(M,A){P++;var F=function(O,L){var C=O||L,k=g[C];if(!k)throw new Error(C+" is not a valid compression method !");return k}(A.options.compression,w.compression),H=A.options.compressionOptions||w.compressionOptions||{},z=A.dir,U=A.date;A._compressWorker(F,H).withStreamInfo("file",{name:M,dir:z,date:U,comment:A.comment||"",unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions}).pipe(N)}),N.entriesCount=P}catch(M){N.error(M)}return N}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(h,y,m){function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new g;for(var b in this)typeof this[b]!="function"&&(v[b]=this[b]);return v}}(g.prototype=h("./object")).loadAsync=h("./load"),g.support=h("./support"),g.defaults=h("./defaults"),g.version="3.10.1",g.loadAsync=function(v,b){return new g().loadAsync(v,b)},g.external=h("./external"),y.exports=g},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(h,y,m){var g=h("./utils"),v=h("./external"),b=h("./utf8"),w=h("./zipEntries"),_=h("./stream/Crc32Probe"),N=h("./nodejsUtils");function P(M){return new v.Promise(function(A,F){var H=M.decompressed.getContentWorker().pipe(new _);H.on("error",function(z){F(z)}).on("end",function(){H.streamInfo.crc32!==M.decompressed.crc32?F(new Error("Corrupted zip : CRC32 mismatch")):A()}).resume()})}y.exports=function(M,A){var F=this;return A=g.extend(A||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:b.utf8decode}),N.isNode&&N.isStream(M)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):g.prepareContent("the loaded zip file",M,!0,A.optimizedBinaryString,A.base64).then(function(H){var z=new w(A);return z.load(H),z}).then(function(H){var z=[v.Promise.resolve(H)],U=H.files;if(A.checkCRC32)for(var O=0;O<U.length;O++)z.push(P(U[O]));return v.Promise.all(z)}).then(function(H){for(var z=H.shift(),U=z.files,O=0;O<U.length;O++){var L=U[O],C=L.fileNameStr,k=g.resolve(L.fileNameStr);F.file(k,L.decompressed,{binary:!0,optimizedBinaryString:!0,date:L.date,dir:L.dir,comment:L.fileCommentStr.length?L.fileCommentStr:null,unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions,createFolders:A.createFolders}),L.dir||(F.file(k).unsafeOriginalName=C)}return z.zipComment.length&&(F.comment=z.zipComment),F})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(h,y,m){var g=h("../utils"),v=h("../stream/GenericWorker");function b(w,_){v.call(this,"Nodejs stream input adapter for "+w),this._upstreamEnded=!1,this._bindStream(_)}g.inherits(b,v),b.prototype._bindStream=function(w){var _=this;(this._stream=w).pause(),w.on("data",function(N){_.push({data:N,meta:{percent:0}})}).on("error",function(N){_.isPaused?this.generatedError=N:_.error(N)}).on("end",function(){_.isPaused?_._upstreamEnded=!0:_.end()})},b.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},b.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},y.exports=b},{"../stream/GenericWorker":28,"../utils":32}],13:[function(h,y,m){var g=h("readable-stream").Readable;function v(b,w,_){g.call(this,w),this._helper=b;var N=this;b.on("data",function(P,M){N.push(P)||N._helper.pause(),_&&_(M)}).on("error",function(P){N.emit("error",P)}).on("end",function(){N.push(null)})}h("../utils").inherits(v,g),v.prototype._read=function(){this._helper.resume()},y.exports=v},{"../utils":32,"readable-stream":16}],14:[function(h,y,m){y.exports={isNode:l!==void 0,newBufferFrom:function(g,v){if(l.from&&l.from!==Uint8Array.from)return l.from(g,v);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new l(g,v)},allocBuffer:function(g){if(l.alloc)return l.alloc(g);var v=new l(g);return v.fill(0),v},isBuffer:function(g){return l.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function(h,y,m){function g(k,j,E){var T,R=b.getTypeOf(j),V=b.extend(E||{},N);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(k=U(k)),V.createFolders&&(T=z(k))&&O.call(this,T,!0);var B=R==="string"&&V.binary===!1&&V.base64===!1;E&&E.binary!==void 0||(V.binary=!B),(j instanceof P&&j.uncompressedSize===0||V.dir||!j||j.length===0)&&(V.base64=!1,V.binary=!0,j="",V.compression="STORE",R="string");var K;K=j instanceof P||j instanceof w?j:F.isNode&&F.isStream(j)?new H(k,j):b.prepareContent(k,j,V.binary,V.optimizedBinaryString,V.base64);var Z=new M(k,K,V);this.files[k]=Z}var v=h("./utf8"),b=h("./utils"),w=h("./stream/GenericWorker"),_=h("./stream/StreamHelper"),N=h("./defaults"),P=h("./compressedObject"),M=h("./zipObject"),A=h("./generate"),F=h("./nodejsUtils"),H=h("./nodejs/NodejsStreamInputAdapter"),z=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var j=k.lastIndexOf("/");return 0<j?k.substring(0,j):""},U=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},O=function(k,j){return j=j!==void 0?j:N.createFolders,k=U(k),this.files[k]||g.call(this,k,null,{dir:!0,createFolders:j}),this.files[k]};function L(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var j,E,T;for(j in this.files)T=this.files[j],(E=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&k(E,T)},filter:function(k){var j=[];return this.forEach(function(E,T){k(E,T)&&j.push(T)}),j},file:function(k,j,E){if(arguments.length!==1)return k=this.root+k,g.call(this,k,j,E),this;if(L(k)){var T=k;return this.filter(function(V,B){return!B.dir&&T.test(V)})}var R=this.files[this.root+k];return R&&!R.dir?R:null},folder:function(k){if(!k)return this;if(L(k))return this.filter(function(R,V){return V.dir&&k.test(R)});var j=this.root+k,E=O.call(this,j),T=this.clone();return T.root=E.name,T},remove:function(k){k=this.root+k;var j=this.files[k];if(j||(k.slice(-1)!=="/"&&(k+="/"),j=this.files[k]),j&&!j.dir)delete this.files[k];else for(var E=this.filter(function(R,V){return V.name.slice(0,k.length)===k}),T=0;T<E.length;T++)delete this.files[E[T].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var j,E={};try{if((E=b.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");b.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var T=E.comment||this.comment||"";j=A.generateWorker(this,E,T)}catch(R){(j=new w("error")).error(R)}return new _(j,E.type||"string",E.mimeType)},generateAsync:function(k,j){return this.generateInternalStream(k).accumulate(j)},generateNodeStream:function(k,j){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(j)}};y.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(h,y,m){y.exports=h("stream")},{stream:void 0}],17:[function(h,y,m){var g=h("./DataReader");function v(b){g.call(this,b);for(var w=0;w<this.data.length;w++)b[w]=255&b[w]}h("../utils").inherits(v,g),v.prototype.byteAt=function(b){return this.data[this.zero+b]},v.prototype.lastIndexOfSignature=function(b){for(var w=b.charCodeAt(0),_=b.charCodeAt(1),N=b.charCodeAt(2),P=b.charCodeAt(3),M=this.length-4;0<=M;--M)if(this.data[M]===w&&this.data[M+1]===_&&this.data[M+2]===N&&this.data[M+3]===P)return M-this.zero;return-1},v.prototype.readAndCheckSignature=function(b){var w=b.charCodeAt(0),_=b.charCodeAt(1),N=b.charCodeAt(2),P=b.charCodeAt(3),M=this.readData(4);return w===M[0]&&_===M[1]&&N===M[2]&&P===M[3]},v.prototype.readData=function(b){if(this.checkOffset(b),b===0)return[];var w=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,w},y.exports=v},{"../utils":32,"./DataReader":18}],18:[function(h,y,m){var g=h("../utils");function v(b){this.data=b,this.length=b.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(b){this.checkIndex(this.index+b)},checkIndex:function(b){if(this.length<this.zero+b||b<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+b+"). Corrupted zip ?")},setIndex:function(b){this.checkIndex(b),this.index=b},skip:function(b){this.setIndex(this.index+b)},byteAt:function(){},readInt:function(b){var w,_=0;for(this.checkOffset(b),w=this.index+b-1;w>=this.index;w--)_=(_<<8)+this.byteAt(w);return this.index+=b,_},readString:function(b){return g.transformTo("string",this.readData(b))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var b=this.readInt(4);return new Date(Date.UTC(1980+(b>>25&127),(b>>21&15)-1,b>>16&31,b>>11&31,b>>5&63,(31&b)<<1))}},y.exports=v},{"../utils":32}],19:[function(h,y,m){var g=h("./Uint8ArrayReader");function v(b){g.call(this,b)}h("../utils").inherits(v,g),v.prototype.readData=function(b){this.checkOffset(b);var w=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,w},y.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(h,y,m){var g=h("./DataReader");function v(b){g.call(this,b)}h("../utils").inherits(v,g),v.prototype.byteAt=function(b){return this.data.charCodeAt(this.zero+b)},v.prototype.lastIndexOfSignature=function(b){return this.data.lastIndexOf(b)-this.zero},v.prototype.readAndCheckSignature=function(b){return b===this.readData(4)},v.prototype.readData=function(b){this.checkOffset(b);var w=this.data.slice(this.zero+this.index,this.zero+this.index+b);return this.index+=b,w},y.exports=v},{"../utils":32,"./DataReader":18}],21:[function(h,y,m){var g=h("./ArrayReader");function v(b){g.call(this,b)}h("../utils").inherits(v,g),v.prototype.readData=function(b){if(this.checkOffset(b),b===0)return new Uint8Array(0);var w=this.data.subarray(this.zero+this.index,this.zero+this.index+b);return this.index+=b,w},y.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(h,y,m){var g=h("../utils"),v=h("../support"),b=h("./ArrayReader"),w=h("./StringReader"),_=h("./NodeBufferReader"),N=h("./Uint8ArrayReader");y.exports=function(P){var M=g.getTypeOf(P);return g.checkSupport(M),M!=="string"||v.uint8array?M==="nodebuffer"?new _(P):v.uint8array?new N(g.transformTo("uint8array",P)):new b(g.transformTo("array",P)):new w(P)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(h,y,m){m.LOCAL_FILE_HEADER="PK",m.CENTRAL_FILE_HEADER="PK",m.CENTRAL_DIRECTORY_END="PK",m.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",m.ZIP64_CENTRAL_DIRECTORY_END="PK",m.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(h,y,m){var g=h("./GenericWorker"),v=h("../utils");function b(w){g.call(this,"ConvertWorker to "+w),this.destType=w}v.inherits(b,g),b.prototype.processChunk=function(w){this.push({data:v.transformTo(this.destType,w.data),meta:w.meta})},y.exports=b},{"../utils":32,"./GenericWorker":28}],25:[function(h,y,m){var g=h("./GenericWorker"),v=h("../crc32");function b(){g.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h("../utils").inherits(b,g),b.prototype.processChunk=function(w){this.streamInfo.crc32=v(w.data,this.streamInfo.crc32||0),this.push(w)},y.exports=b},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(h,y,m){var g=h("../utils"),v=h("./GenericWorker");function b(w){v.call(this,"DataLengthProbe for "+w),this.propName=w,this.withStreamInfo(w,0)}g.inherits(b,v),b.prototype.processChunk=function(w){if(w){var _=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=_+w.data.length}v.prototype.processChunk.call(this,w)},y.exports=b},{"../utils":32,"./GenericWorker":28}],27:[function(h,y,m){var g=h("../utils"),v=h("./GenericWorker");function b(w){v.call(this,"DataWorker");var _=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,w.then(function(N){_.dataIsReady=!0,_.data=N,_.max=N&&N.length||0,_.type=g.getTypeOf(N),_.isPaused||_._tickAndRepeat()},function(N){_.error(N)})}g.inherits(b,v),b.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},b.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,g.delay(this._tickAndRepeat,[],this)),!0)},b.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(g.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},b.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var w=null,_=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":w=this.data.substring(this.index,_);break;case"uint8array":w=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":w=this.data.slice(this.index,_)}return this.index=_,this.push({data:w,meta:{percent:this.max?this.index/this.max*100:0}})},y.exports=b},{"../utils":32,"./GenericWorker":28}],28:[function(h,y,m){function g(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,b){return this._listeners[v].push(b),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,b){if(this._listeners[v])for(var w=0;w<this._listeners[v].length;w++)this._listeners[v][w].call(this,b)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var b=this;return v.on("data",function(w){b.processChunk(w)}),v.on("end",function(){b.end()}),v.on("error",function(w){b.error(w)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,b){return this.extraStreamInfo[v]=b,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},y.exports=g},{}],29:[function(h,y,m){var g=h("../utils"),v=h("./ConvertWorker"),b=h("./GenericWorker"),w=h("../base64"),_=h("../support"),N=h("../external"),P=null;if(_.nodestream)try{P=h("../nodejs/NodejsStreamOutputAdapter")}catch{}function M(A,F,H){var z=F;switch(F){case"blob":case"arraybuffer":z="uint8array";break;case"base64":z="string"}try{this._internalType=z,this._outputType=F,this._mimeType=H,g.checkSupport(z),this._worker=A.pipe(new v(z)),A.lock()}catch(U){this._worker=new b("error"),this._worker.error(U)}}M.prototype={accumulate:function(A){return function(F,H){return new N.Promise(function(z,U){var O=[],L=F._internalType,C=F._outputType,k=F._mimeType;F.on("data",function(j,E){O.push(j),H&&H(E)}).on("error",function(j){O=[],U(j)}).on("end",function(){try{var j=function(E,T,R){switch(E){case"blob":return g.newBlob(g.transformTo("arraybuffer",T),R);case"base64":return w.encode(T);default:return g.transformTo(E,T)}}(C,function(E,T){var R,V=0,B=null,K=0;for(R=0;R<T.length;R++)K+=T[R].length;switch(E){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(B=new Uint8Array(K),R=0;R<T.length;R++)B.set(T[R],V),V+=T[R].length;return B;case"nodebuffer":return l.concat(T);default:throw new Error("concat : unsupported type '"+E+"'")}}(L,O),k);z(j)}catch(E){U(E)}O=[]}).resume()})}(this,A)},on:function(A,F){var H=this;return A==="data"?this._worker.on(A,function(z){F.call(H,z.data,z.meta)}):this._worker.on(A,function(){g.delay(F,arguments,H)}),this},resume:function(){return g.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(g.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new P(this,{objectMode:this._outputType!=="nodebuffer"},A)}},y.exports=M},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(h,y,m){if(m.base64=!0,m.array=!0,m.string=!0,m.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",m.nodebuffer=l!==void 0,m.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")m.blob=!1;else{var g=new ArrayBuffer(0);try{m.blob=new Blob([g],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(g),m.blob=v.getBlob("application/zip").size===0}catch{m.blob=!1}}}try{m.nodestream=!!h("readable-stream").Readable}catch{m.nodestream=!1}},{"readable-stream":16}],31:[function(h,y,m){for(var g=h("./utils"),v=h("./support"),b=h("./nodejsUtils"),w=h("./stream/GenericWorker"),_=new Array(256),N=0;N<256;N++)_[N]=252<=N?6:248<=N?5:240<=N?4:224<=N?3:192<=N?2:1;function P(){w.call(this,"utf-8 decode"),this.leftOver=null}function M(){w.call(this,"utf-8 encode")}_[254]=_[254]=1,m.utf8encode=function(A){return v.nodebuffer?b.newBufferFrom(A,"utf-8"):function(F){var H,z,U,O,L,C=F.length,k=0;for(O=0;O<C;O++)(64512&(z=F.charCodeAt(O)))==55296&&O+1<C&&(64512&(U=F.charCodeAt(O+1)))==56320&&(z=65536+(z-55296<<10)+(U-56320),O++),k+=z<128?1:z<2048?2:z<65536?3:4;for(H=v.uint8array?new Uint8Array(k):new Array(k),O=L=0;L<k;O++)(64512&(z=F.charCodeAt(O)))==55296&&O+1<C&&(64512&(U=F.charCodeAt(O+1)))==56320&&(z=65536+(z-55296<<10)+(U-56320),O++),z<128?H[L++]=z:(z<2048?H[L++]=192|z>>>6:(z<65536?H[L++]=224|z>>>12:(H[L++]=240|z>>>18,H[L++]=128|z>>>12&63),H[L++]=128|z>>>6&63),H[L++]=128|63&z);return H}(A)},m.utf8decode=function(A){return v.nodebuffer?g.transformTo("nodebuffer",A).toString("utf-8"):function(F){var H,z,U,O,L=F.length,C=new Array(2*L);for(H=z=0;H<L;)if((U=F[H++])<128)C[z++]=U;else if(4<(O=_[U]))C[z++]=65533,H+=O-1;else{for(U&=O===2?31:O===3?15:7;1<O&&H<L;)U=U<<6|63&F[H++],O--;1<O?C[z++]=65533:U<65536?C[z++]=U:(U-=65536,C[z++]=55296|U>>10&1023,C[z++]=56320|1023&U)}return C.length!==z&&(C.subarray?C=C.subarray(0,z):C.length=z),g.applyFromCharCode(C)}(A=g.transformTo(v.uint8array?"uint8array":"array",A))},g.inherits(P,w),P.prototype.processChunk=function(A){var F=g.transformTo(v.uint8array?"uint8array":"array",A.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var H=F;(F=new Uint8Array(H.length+this.leftOver.length)).set(this.leftOver,0),F.set(H,this.leftOver.length)}else F=this.leftOver.concat(F);this.leftOver=null}var z=function(O,L){var C;for((L=L||O.length)>O.length&&(L=O.length),C=L-1;0<=C&&(192&O[C])==128;)C--;return C<0||C===0?L:C+_[O[C]]>L?C:L}(F),U=F;z!==F.length&&(v.uint8array?(U=F.subarray(0,z),this.leftOver=F.subarray(z,F.length)):(U=F.slice(0,z),this.leftOver=F.slice(z,F.length))),this.push({data:m.utf8decode(U),meta:A.meta})},P.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:m.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},m.Utf8DecodeWorker=P,g.inherits(M,w),M.prototype.processChunk=function(A){this.push({data:m.utf8encode(A.data),meta:A.meta})},m.Utf8EncodeWorker=M},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(h,y,m){var g=h("./support"),v=h("./base64"),b=h("./nodejsUtils"),w=h("./external");function _(H){return H}function N(H,z){for(var U=0;U<H.length;++U)z[U]=255&H.charCodeAt(U);return z}h("setimmediate"),m.newBlob=function(H,z){m.checkSupport("blob");try{return new Blob([H],{type:z})}catch{try{var U=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return U.append(H),U.getBlob(z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var P={stringifyByChunk:function(H,z,U){var O=[],L=0,C=H.length;if(C<=U)return String.fromCharCode.apply(null,H);for(;L<C;)z==="array"||z==="nodebuffer"?O.push(String.fromCharCode.apply(null,H.slice(L,Math.min(L+U,C)))):O.push(String.fromCharCode.apply(null,H.subarray(L,Math.min(L+U,C)))),L+=U;return O.join("")},stringifyByChar:function(H){for(var z="",U=0;U<H.length;U++)z+=String.fromCharCode(H[U]);return z},applyCanBeUsed:{uint8array:function(){try{return g.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return g.nodebuffer&&String.fromCharCode.apply(null,b.allocBuffer(1)).length===1}catch{return!1}}()}};function M(H){var z=65536,U=m.getTypeOf(H),O=!0;if(U==="uint8array"?O=P.applyCanBeUsed.uint8array:U==="nodebuffer"&&(O=P.applyCanBeUsed.nodebuffer),O)for(;1<z;)try{return P.stringifyByChunk(H,U,z)}catch{z=Math.floor(z/2)}return P.stringifyByChar(H)}function A(H,z){for(var U=0;U<H.length;U++)z[U]=H[U];return z}m.applyFromCharCode=M;var F={};F.string={string:_,array:function(H){return N(H,new Array(H.length))},arraybuffer:function(H){return F.string.uint8array(H).buffer},uint8array:function(H){return N(H,new Uint8Array(H.length))},nodebuffer:function(H){return N(H,b.allocBuffer(H.length))}},F.array={string:M,array:_,arraybuffer:function(H){return new Uint8Array(H).buffer},uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return b.newBufferFrom(H)}},F.arraybuffer={string:function(H){return M(new Uint8Array(H))},array:function(H){return A(new Uint8Array(H),new Array(H.byteLength))},arraybuffer:_,uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return b.newBufferFrom(new Uint8Array(H))}},F.uint8array={string:M,array:function(H){return A(H,new Array(H.length))},arraybuffer:function(H){return H.buffer},uint8array:_,nodebuffer:function(H){return b.newBufferFrom(H)}},F.nodebuffer={string:M,array:function(H){return A(H,new Array(H.length))},arraybuffer:function(H){return F.nodebuffer.uint8array(H).buffer},uint8array:function(H){return A(H,new Uint8Array(H.length))},nodebuffer:_},m.transformTo=function(H,z){if(z=z||"",!H)return z;m.checkSupport(H);var U=m.getTypeOf(z);return F[U][H](z)},m.resolve=function(H){for(var z=H.split("/"),U=[],O=0;O<z.length;O++){var L=z[O];L==="."||L===""&&O!==0&&O!==z.length-1||(L===".."?U.pop():U.push(L))}return U.join("/")},m.getTypeOf=function(H){return typeof H=="string"?"string":Object.prototype.toString.call(H)==="[object Array]"?"array":g.nodebuffer&&b.isBuffer(H)?"nodebuffer":g.uint8array&&H instanceof Uint8Array?"uint8array":g.arraybuffer&&H instanceof ArrayBuffer?"arraybuffer":void 0},m.checkSupport=function(H){if(!g[H.toLowerCase()])throw new Error(H+" is not supported by this platform")},m.MAX_VALUE_16BITS=65535,m.MAX_VALUE_32BITS=-1,m.pretty=function(H){var z,U,O="";for(U=0;U<(H||"").length;U++)O+="\\x"+((z=H.charCodeAt(U))<16?"0":"")+z.toString(16).toUpperCase();return O},m.delay=function(H,z,U){f(function(){H.apply(U||null,z||[])})},m.inherits=function(H,z){function U(){}U.prototype=z.prototype,H.prototype=new U},m.extend=function(){var H,z,U={};for(H=0;H<arguments.length;H++)for(z in arguments[H])Object.prototype.hasOwnProperty.call(arguments[H],z)&&U[z]===void 0&&(U[z]=arguments[H][z]);return U},m.prepareContent=function(H,z,U,O,L){return w.Promise.resolve(z).then(function(C){return g.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new w.Promise(function(k,j){var E=new FileReader;E.onload=function(T){k(T.target.result)},E.onerror=function(T){j(T.target.error)},E.readAsArrayBuffer(C)}):C}).then(function(C){var k=m.getTypeOf(C);return k?(k==="arraybuffer"?C=m.transformTo("uint8array",C):k==="string"&&(L?C=v.decode(C):U&&O!==!0&&(C=function(j){return N(j,g.uint8array?new Uint8Array(j.length):new Array(j.length))}(C))),C):w.Promise.reject(new Error("Can't read the data of '"+H+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(h,y,m){var g=h("./reader/readerFor"),v=h("./utils"),b=h("./signature"),w=h("./zipEntry"),_=h("./support");function N(P){this.files=[],this.loadOptions=P}N.prototype={checkSignature:function(P){if(!this.reader.readAndCheckSignature(P)){this.reader.index-=4;var M=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(M)+", expected "+v.pretty(P)+")")}},isSignature:function(P,M){var A=this.reader.index;this.reader.setIndex(P);var F=this.reader.readString(4)===M;return this.reader.setIndex(A),F},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var P=this.reader.readData(this.zipCommentLength),M=_.uint8array?"uint8array":"array",A=v.transformTo(M,P);this.zipComment=this.loadOptions.decodeFileName(A)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var P,M,A,F=this.zip64EndOfCentralSize-44;0<F;)P=this.reader.readInt(2),M=this.reader.readInt(4),A=this.reader.readData(M),this.zip64ExtensibleData[P]={id:P,length:M,value:A}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var P,M;for(P=0;P<this.files.length;P++)M=this.files[P],this.reader.setIndex(M.localHeaderOffset),this.checkSignature(b.LOCAL_FILE_HEADER),M.readLocalPart(this.reader),M.handleUTF8(),M.processAttributes()},readCentralDir:function(){var P;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(b.CENTRAL_FILE_HEADER);)(P=new w({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(P);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var P=this.reader.lastIndexOfSignature(b.CENTRAL_DIRECTORY_END);if(P<0)throw this.isSignature(0,b.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(P);var M=P;if(this.checkSignature(b.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(P=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(P),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,b.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(b.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var A=this.centralDirOffset+this.centralDirSize;this.zip64&&(A+=20,A+=12+this.zip64EndOfCentralSize);var F=M-A;if(0<F)this.isSignature(M,b.CENTRAL_FILE_HEADER)||(this.reader.zero=F);else if(F<0)throw new Error("Corrupted zip: missing "+Math.abs(F)+" bytes.")},prepareReader:function(P){this.reader=g(P)},load:function(P){this.prepareReader(P),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},y.exports=N},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(h,y,m){var g=h("./reader/readerFor"),v=h("./utils"),b=h("./compressedObject"),w=h("./crc32"),_=h("./utf8"),N=h("./compressions"),P=h("./support");function M(A,F){this.options=A,this.loadOptions=F}M.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(A){var F,H;if(A.skip(22),this.fileNameLength=A.readInt(2),H=A.readInt(2),this.fileName=A.readData(this.fileNameLength),A.skip(H),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((F=function(z){for(var U in N)if(Object.prototype.hasOwnProperty.call(N,U)&&N[U].magic===z)return N[U];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new b(this.compressedSize,this.uncompressedSize,this.crc32,F,A.readData(this.compressedSize))},readCentralPart:function(A){this.versionMadeBy=A.readInt(2),A.skip(2),this.bitFlag=A.readInt(2),this.compressionMethod=A.readString(2),this.date=A.readDate(),this.crc32=A.readInt(4),this.compressedSize=A.readInt(4),this.uncompressedSize=A.readInt(4);var F=A.readInt(2);if(this.extraFieldsLength=A.readInt(2),this.fileCommentLength=A.readInt(2),this.diskNumberStart=A.readInt(2),this.internalFileAttributes=A.readInt(2),this.externalFileAttributes=A.readInt(4),this.localHeaderOffset=A.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");A.skip(F),this.readExtraFields(A),this.parseZIP64ExtraField(A),this.fileComment=A.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var A=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),A==0&&(this.dosPermissions=63&this.externalFileAttributes),A==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var A=g(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=A.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=A.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=A.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=A.readInt(4))}},readExtraFields:function(A){var F,H,z,U=A.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});A.index+4<U;)F=A.readInt(2),H=A.readInt(2),z=A.readData(H),this.extraFields[F]={id:F,length:H,value:z};A.setIndex(U)},handleUTF8:function(){var A=P.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=_.utf8decode(this.fileName),this.fileCommentStr=_.utf8decode(this.fileComment);else{var F=this.findExtraFieldUnicodePath();if(F!==null)this.fileNameStr=F;else{var H=v.transformTo(A,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(H)}var z=this.findExtraFieldUnicodeComment();if(z!==null)this.fileCommentStr=z;else{var U=v.transformTo(A,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(U)}}},findExtraFieldUnicodePath:function(){var A=this.extraFields[28789];if(A){var F=g(A.value);return F.readInt(1)!==1||w(this.fileName)!==F.readInt(4)?null:_.utf8decode(F.readData(A.length-5))}return null},findExtraFieldUnicodeComment:function(){var A=this.extraFields[25461];if(A){var F=g(A.value);return F.readInt(1)!==1||w(this.fileComment)!==F.readInt(4)?null:_.utf8decode(F.readData(A.length-5))}return null}},y.exports=M},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(h,y,m){function g(F,H,z){this.name=F,this.dir=z.dir,this.date=z.date,this.comment=z.comment,this.unixPermissions=z.unixPermissions,this.dosPermissions=z.dosPermissions,this._data=H,this._dataBinary=z.binary,this.options={compression:z.compression,compressionOptions:z.compressionOptions}}var v=h("./stream/StreamHelper"),b=h("./stream/DataWorker"),w=h("./utf8"),_=h("./compressedObject"),N=h("./stream/GenericWorker");g.prototype={internalStream:function(F){var H=null,z="string";try{if(!F)throw new Error("No output type specified.");var U=(z=F.toLowerCase())==="string"||z==="text";z!=="binarystring"&&z!=="text"||(z="string"),H=this._decompressWorker();var O=!this._dataBinary;O&&!U&&(H=H.pipe(new w.Utf8EncodeWorker)),!O&&U&&(H=H.pipe(new w.Utf8DecodeWorker))}catch(L){(H=new N("error")).error(L)}return new v(H,z,"")},async:function(F,H){return this.internalStream(F).accumulate(H)},nodeStream:function(F,H){return this.internalStream(F||"nodebuffer").toNodejsStream(H)},_compressWorker:function(F,H){if(this._data instanceof _&&this._data.compression.magic===F.magic)return this._data.getCompressedWorker();var z=this._decompressWorker();return this._dataBinary||(z=z.pipe(new w.Utf8EncodeWorker)),_.createWorkerFrom(z,F,H)},_decompressWorker:function(){return this._data instanceof _?this._data.getContentWorker():this._data instanceof N?this._data:new b(this._data)}};for(var P=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],M=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},A=0;A<P.length;A++)g.prototype[P[A]]=M;y.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(h,y,m){(function(g){var v,b,w=g.MutationObserver||g.WebKitMutationObserver;if(w){var _=0,N=new w(F),P=g.document.createTextNode("");N.observe(P,{characterData:!0}),v=function(){P.data=_=++_%2}}else if(g.setImmediate||g.MessageChannel===void 0)v="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var H=g.document.createElement("script");H.onreadystatechange=function(){F(),H.onreadystatechange=null,H.parentNode.removeChild(H),H=null},g.document.documentElement.appendChild(H)}:function(){setTimeout(F,0)};else{var M=new g.MessageChannel;M.port1.onmessage=F,v=function(){M.port2.postMessage(0)}}var A=[];function F(){var H,z;b=!0;for(var U=A.length;U;){for(z=A,A=[],H=-1;++H<U;)z[H]();U=A.length}b=!1}y.exports=function(H){A.push(H)!==1||b||v()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(h,y,m){var g=h("immediate");function v(){}var b={},w=["REJECTED"],_=["FULFILLED"],N=["PENDING"];function P(U){if(typeof U!="function")throw new TypeError("resolver must be a function");this.state=N,this.queue=[],this.outcome=void 0,U!==v&&H(this,U)}function M(U,O,L){this.promise=U,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof L=="function"&&(this.onRejected=L,this.callRejected=this.otherCallRejected)}function A(U,O,L){g(function(){var C;try{C=O(L)}catch(k){return b.reject(U,k)}C===U?b.reject(U,new TypeError("Cannot resolve promise with itself")):b.resolve(U,C)})}function F(U){var O=U&&U.then;if(U&&(typeof U=="object"||typeof U=="function")&&typeof O=="function")return function(){O.apply(U,arguments)}}function H(U,O){var L=!1;function C(E){L||(L=!0,b.reject(U,E))}function k(E){L||(L=!0,b.resolve(U,E))}var j=z(function(){O(k,C)});j.status==="error"&&C(j.value)}function z(U,O){var L={};try{L.value=U(O),L.status="success"}catch(C){L.status="error",L.value=C}return L}(y.exports=P).prototype.finally=function(U){if(typeof U!="function")return this;var O=this.constructor;return this.then(function(L){return O.resolve(U()).then(function(){return L})},function(L){return O.resolve(U()).then(function(){throw L})})},P.prototype.catch=function(U){return this.then(null,U)},P.prototype.then=function(U,O){if(typeof U!="function"&&this.state===_||typeof O!="function"&&this.state===w)return this;var L=new this.constructor(v);return this.state!==N?A(L,this.state===_?U:O,this.outcome):this.queue.push(new M(L,U,O)),L},M.prototype.callFulfilled=function(U){b.resolve(this.promise,U)},M.prototype.otherCallFulfilled=function(U){A(this.promise,this.onFulfilled,U)},M.prototype.callRejected=function(U){b.reject(this.promise,U)},M.prototype.otherCallRejected=function(U){A(this.promise,this.onRejected,U)},b.resolve=function(U,O){var L=z(F,O);if(L.status==="error")return b.reject(U,L.value);var C=L.value;if(C)H(U,C);else{U.state=_,U.outcome=O;for(var k=-1,j=U.queue.length;++k<j;)U.queue[k].callFulfilled(O)}return U},b.reject=function(U,O){U.state=w,U.outcome=O;for(var L=-1,C=U.queue.length;++L<C;)U.queue[L].callRejected(O);return U},P.resolve=function(U){return U instanceof this?U:b.resolve(new this(v),U)},P.reject=function(U){var O=new this(v);return b.reject(O,U)},P.all=function(U){var O=this;if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var L=U.length,C=!1;if(!L)return this.resolve([]);for(var k=new Array(L),j=0,E=-1,T=new this(v);++E<L;)R(U[E],E);return T;function R(V,B){O.resolve(V).then(function(K){k[B]=K,++j!==L||C||(C=!0,b.resolve(T,k))},function(K){C||(C=!0,b.reject(T,K))})}},P.race=function(U){if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=U.length,L=!1;if(!O)return this.resolve([]);for(var C,k=-1,j=new this(v);++k<O;)C=U[k],this.resolve(C).then(function(E){L||(L=!0,b.resolve(j,E))},function(E){L||(L=!0,b.reject(j,E))});return j}},{immediate:36}],38:[function(h,y,m){var g={};(0,h("./lib/utils/common").assign)(g,h("./lib/deflate"),h("./lib/inflate"),h("./lib/zlib/constants")),y.exports=g},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(h,y,m){var g=h("./zlib/deflate"),v=h("./utils/common"),b=h("./utils/strings"),w=h("./zlib/messages"),_=h("./zlib/zstream"),N=Object.prototype.toString;function P(A){if(!(this instanceof P))return new P(A);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},A||{});var F=this.options;F.raw&&0<F.windowBits?F.windowBits=-F.windowBits:F.gzip&&0<F.windowBits&&F.windowBits<16&&(F.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var H=g.deflateInit2(this.strm,F.level,F.method,F.windowBits,F.memLevel,F.strategy);if(H!==0)throw new Error(w[H]);if(F.header&&g.deflateSetHeader(this.strm,F.header),F.dictionary){var z;if(z=typeof F.dictionary=="string"?b.string2buf(F.dictionary):N.call(F.dictionary)==="[object ArrayBuffer]"?new Uint8Array(F.dictionary):F.dictionary,(H=g.deflateSetDictionary(this.strm,z))!==0)throw new Error(w[H]);this._dict_set=!0}}function M(A,F){var H=new P(F);if(H.push(A,!0),H.err)throw H.msg||w[H.err];return H.result}P.prototype.push=function(A,F){var H,z,U=this.strm,O=this.options.chunkSize;if(this.ended)return!1;z=F===~~F?F:F===!0?4:0,typeof A=="string"?U.input=b.string2buf(A):N.call(A)==="[object ArrayBuffer]"?U.input=new Uint8Array(A):U.input=A,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new v.Buf8(O),U.next_out=0,U.avail_out=O),(H=g.deflate(U,z))!==1&&H!==0)return this.onEnd(H),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(b.buf2binstring(v.shrinkBuf(U.output,U.next_out))):this.onData(v.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&H!==1);return z===4?(H=g.deflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===0):z!==2||(this.onEnd(0),!(U.avail_out=0))},P.prototype.onData=function(A){this.chunks.push(A)},P.prototype.onEnd=function(A){A===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},m.Deflate=P,m.deflate=M,m.deflateRaw=function(A,F){return(F=F||{}).raw=!0,M(A,F)},m.gzip=function(A,F){return(F=F||{}).gzip=!0,M(A,F)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(h,y,m){var g=h("./zlib/inflate"),v=h("./utils/common"),b=h("./utils/strings"),w=h("./zlib/constants"),_=h("./zlib/messages"),N=h("./zlib/zstream"),P=h("./zlib/gzheader"),M=Object.prototype.toString;function A(H){if(!(this instanceof A))return new A(H);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},H||{});var z=this.options;z.raw&&0<=z.windowBits&&z.windowBits<16&&(z.windowBits=-z.windowBits,z.windowBits===0&&(z.windowBits=-15)),!(0<=z.windowBits&&z.windowBits<16)||H&&H.windowBits||(z.windowBits+=32),15<z.windowBits&&z.windowBits<48&&(15&z.windowBits)==0&&(z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N,this.strm.avail_out=0;var U=g.inflateInit2(this.strm,z.windowBits);if(U!==w.Z_OK)throw new Error(_[U]);this.header=new P,g.inflateGetHeader(this.strm,this.header)}function F(H,z){var U=new A(z);if(U.push(H,!0),U.err)throw U.msg||_[U.err];return U.result}A.prototype.push=function(H,z){var U,O,L,C,k,j,E=this.strm,T=this.options.chunkSize,R=this.options.dictionary,V=!1;if(this.ended)return!1;O=z===~~z?z:z===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof H=="string"?E.input=b.binstring2buf(H):M.call(H)==="[object ArrayBuffer]"?E.input=new Uint8Array(H):E.input=H,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new v.Buf8(T),E.next_out=0,E.avail_out=T),(U=g.inflate(E,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&R&&(j=typeof R=="string"?b.string2buf(R):M.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,U=g.inflateSetDictionary(this.strm,j)),U===w.Z_BUF_ERROR&&V===!0&&(U=w.Z_OK,V=!1),U!==w.Z_STREAM_END&&U!==w.Z_OK)return this.onEnd(U),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&U!==w.Z_STREAM_END&&(E.avail_in!==0||O!==w.Z_FINISH&&O!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(L=b.utf8border(E.output,E.next_out),C=E.next_out-L,k=b.buf2string(E.output,L),E.next_out=C,E.avail_out=T-C,C&&v.arraySet(E.output,E.output,L,C,0),this.onData(k)):this.onData(v.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(V=!0)}while((0<E.avail_in||E.avail_out===0)&&U!==w.Z_STREAM_END);return U===w.Z_STREAM_END&&(O=w.Z_FINISH),O===w.Z_FINISH?(U=g.inflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===w.Z_OK):O!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),!(E.avail_out=0))},A.prototype.onData=function(H){this.chunks.push(H)},A.prototype.onEnd=function(H){H===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},m.Inflate=A,m.inflate=F,m.inflateRaw=function(H,z){return(z=z||{}).raw=!0,F(H,z)},m.ungzip=F},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(h,y,m){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";m.assign=function(w){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var N=_.shift();if(N){if(typeof N!="object")throw new TypeError(N+"must be non-object");for(var P in N)N.hasOwnProperty(P)&&(w[P]=N[P])}}return w},m.shrinkBuf=function(w,_){return w.length===_?w:w.subarray?w.subarray(0,_):(w.length=_,w)};var v={arraySet:function(w,_,N,P,M){if(_.subarray&&w.subarray)w.set(_.subarray(N,N+P),M);else for(var A=0;A<P;A++)w[M+A]=_[N+A]},flattenChunks:function(w){var _,N,P,M,A,F;for(_=P=0,N=w.length;_<N;_++)P+=w[_].length;for(F=new Uint8Array(P),_=M=0,N=w.length;_<N;_++)A=w[_],F.set(A,M),M+=A.length;return F}},b={arraySet:function(w,_,N,P,M){for(var A=0;A<P;A++)w[M+A]=_[N+A]},flattenChunks:function(w){return[].concat.apply([],w)}};m.setTyped=function(w){w?(m.Buf8=Uint8Array,m.Buf16=Uint16Array,m.Buf32=Int32Array,m.assign(m,v)):(m.Buf8=Array,m.Buf16=Array,m.Buf32=Array,m.assign(m,b))},m.setTyped(g)},{}],42:[function(h,y,m){var g=h("./common"),v=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b=!1}for(var w=new g.Buf8(256),_=0;_<256;_++)w[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function N(P,M){if(M<65537&&(P.subarray&&b||!P.subarray&&v))return String.fromCharCode.apply(null,g.shrinkBuf(P,M));for(var A="",F=0;F<M;F++)A+=String.fromCharCode(P[F]);return A}w[254]=w[254]=1,m.string2buf=function(P){var M,A,F,H,z,U=P.length,O=0;for(H=0;H<U;H++)(64512&(A=P.charCodeAt(H)))==55296&&H+1<U&&(64512&(F=P.charCodeAt(H+1)))==56320&&(A=65536+(A-55296<<10)+(F-56320),H++),O+=A<128?1:A<2048?2:A<65536?3:4;for(M=new g.Buf8(O),H=z=0;z<O;H++)(64512&(A=P.charCodeAt(H)))==55296&&H+1<U&&(64512&(F=P.charCodeAt(H+1)))==56320&&(A=65536+(A-55296<<10)+(F-56320),H++),A<128?M[z++]=A:(A<2048?M[z++]=192|A>>>6:(A<65536?M[z++]=224|A>>>12:(M[z++]=240|A>>>18,M[z++]=128|A>>>12&63),M[z++]=128|A>>>6&63),M[z++]=128|63&A);return M},m.buf2binstring=function(P){return N(P,P.length)},m.binstring2buf=function(P){for(var M=new g.Buf8(P.length),A=0,F=M.length;A<F;A++)M[A]=P.charCodeAt(A);return M},m.buf2string=function(P,M){var A,F,H,z,U=M||P.length,O=new Array(2*U);for(A=F=0;A<U;)if((H=P[A++])<128)O[F++]=H;else if(4<(z=w[H]))O[F++]=65533,A+=z-1;else{for(H&=z===2?31:z===3?15:7;1<z&&A<U;)H=H<<6|63&P[A++],z--;1<z?O[F++]=65533:H<65536?O[F++]=H:(H-=65536,O[F++]=55296|H>>10&1023,O[F++]=56320|1023&H)}return N(O,F)},m.utf8border=function(P,M){var A;for((M=M||P.length)>P.length&&(M=P.length),A=M-1;0<=A&&(192&P[A])==128;)A--;return A<0||A===0?M:A+w[P[A]]>M?A:M}},{"./common":41}],43:[function(h,y,m){y.exports=function(g,v,b,w){for(var _=65535&g|0,N=g>>>16&65535|0,P=0;b!==0;){for(b-=P=2e3<b?2e3:b;N=N+(_=_+v[w++]|0)|0,--P;);_%=65521,N%=65521}return _|N<<16|0}},{}],44:[function(h,y,m){y.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(h,y,m){var g=function(){for(var v,b=[],w=0;w<256;w++){v=w;for(var _=0;_<8;_++)v=1&v?3988292384^v>>>1:v>>>1;b[w]=v}return b}();y.exports=function(v,b,w,_){var N=g,P=_+w;v^=-1;for(var M=_;M<P;M++)v=v>>>8^N[255&(v^b[M])];return-1^v}},{}],46:[function(h,y,m){var g,v=h("../utils/common"),b=h("./trees"),w=h("./adler32"),_=h("./crc32"),N=h("./messages"),P=-2,M=258,A=262,F=113;function H(G,te){return G.msg=N[te],te}function z(G){return(G<<1)-(4<G?9:0)}function U(G){for(var te=G.length;0<=--te;)G[te]=0}function O(G){var te=G.state,I=te.pending;I>G.avail_out&&(I=G.avail_out),I!==0&&(v.arraySet(G.output,te.pending_buf,te.pending_out,I,G.next_out),G.next_out+=I,te.pending_out+=I,G.total_out+=I,G.avail_out-=I,te.pending-=I,te.pending===0&&(te.pending_out=0))}function L(G,te){b._tr_flush_block(G,0<=G.block_start?G.block_start:-1,G.strstart-G.block_start,te),G.block_start=G.strstart,O(G.strm)}function C(G,te){G.pending_buf[G.pending++]=te}function k(G,te){G.pending_buf[G.pending++]=te>>>8&255,G.pending_buf[G.pending++]=255&te}function j(G,te){var I,D,X=G.max_chain_length,Q=G.strstart,re=G.prev_length,oe=G.nice_match,se=G.strstart>G.w_size-A?G.strstart-(G.w_size-A):0,he=G.window,le=G.w_mask,de=G.prev,ve=G.strstart+M,ge=he[Q+re-1],ke=he[Q+re];G.prev_length>=G.good_match&&(X>>=2),oe>G.lookahead&&(oe=G.lookahead);do if(he[(I=te)+re]===ke&&he[I+re-1]===ge&&he[I]===he[Q]&&he[++I]===he[Q+1]){Q+=2,I++;do;while(he[++Q]===he[++I]&&he[++Q]===he[++I]&&he[++Q]===he[++I]&&he[++Q]===he[++I]&&he[++Q]===he[++I]&&he[++Q]===he[++I]&&he[++Q]===he[++I]&&he[++Q]===he[++I]&&Q<ve);if(D=M-(ve-Q),Q=ve-M,re<D){if(G.match_start=te,oe<=(re=D))break;ge=he[Q+re-1],ke=he[Q+re]}}while((te=de[te&le])>se&&--X!=0);return re<=G.lookahead?re:G.lookahead}function E(G){var te,I,D,X,Q,re,oe,se,he,le,de=G.w_size;do{if(X=G.window_size-G.lookahead-G.strstart,G.strstart>=de+(de-A)){for(v.arraySet(G.window,G.window,de,de,0),G.match_start-=de,G.strstart-=de,G.block_start-=de,te=I=G.hash_size;D=G.head[--te],G.head[te]=de<=D?D-de:0,--I;);for(te=I=de;D=G.prev[--te],G.prev[te]=de<=D?D-de:0,--I;);X+=de}if(G.strm.avail_in===0)break;if(re=G.strm,oe=G.window,se=G.strstart+G.lookahead,le=void 0,(he=X)<(le=re.avail_in)&&(le=he),I=le===0?0:(re.avail_in-=le,v.arraySet(oe,re.input,re.next_in,le,se),re.state.wrap===1?re.adler=w(re.adler,oe,le,se):re.state.wrap===2&&(re.adler=_(re.adler,oe,le,se)),re.next_in+=le,re.total_in+=le,le),G.lookahead+=I,G.lookahead+G.insert>=3)for(Q=G.strstart-G.insert,G.ins_h=G.window[Q],G.ins_h=(G.ins_h<<G.hash_shift^G.window[Q+1])&G.hash_mask;G.insert&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[Q+3-1])&G.hash_mask,G.prev[Q&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=Q,Q++,G.insert--,!(G.lookahead+G.insert<3)););}while(G.lookahead<A&&G.strm.avail_in!==0)}function T(G,te){for(var I,D;;){if(G.lookahead<A){if(E(G),G.lookahead<A&&te===0)return 1;if(G.lookahead===0)break}if(I=0,G.lookahead>=3&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,I=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),I!==0&&G.strstart-I<=G.w_size-A&&(G.match_length=j(G,I)),G.match_length>=3)if(D=b._tr_tally(G,G.strstart-G.match_start,G.match_length-3),G.lookahead-=G.match_length,G.match_length<=G.max_lazy_match&&G.lookahead>=3){for(G.match_length--;G.strstart++,G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,I=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart,--G.match_length!=0;);G.strstart++}else G.strstart+=G.match_length,G.match_length=0,G.ins_h=G.window[G.strstart],G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+1])&G.hash_mask;else D=b._tr_tally(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++;if(D&&(L(G,!1),G.strm.avail_out===0))return 1}return G.insert=G.strstart<2?G.strstart:2,te===4?(L(G,!0),G.strm.avail_out===0?3:4):G.last_lit&&(L(G,!1),G.strm.avail_out===0)?1:2}function R(G,te){for(var I,D,X;;){if(G.lookahead<A){if(E(G),G.lookahead<A&&te===0)return 1;if(G.lookahead===0)break}if(I=0,G.lookahead>=3&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,I=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),G.prev_length=G.match_length,G.prev_match=G.match_start,G.match_length=2,I!==0&&G.prev_length<G.max_lazy_match&&G.strstart-I<=G.w_size-A&&(G.match_length=j(G,I),G.match_length<=5&&(G.strategy===1||G.match_length===3&&4096<G.strstart-G.match_start)&&(G.match_length=2)),G.prev_length>=3&&G.match_length<=G.prev_length){for(X=G.strstart+G.lookahead-3,D=b._tr_tally(G,G.strstart-1-G.prev_match,G.prev_length-3),G.lookahead-=G.prev_length-1,G.prev_length-=2;++G.strstart<=X&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,I=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),--G.prev_length!=0;);if(G.match_available=0,G.match_length=2,G.strstart++,D&&(L(G,!1),G.strm.avail_out===0))return 1}else if(G.match_available){if((D=b._tr_tally(G,0,G.window[G.strstart-1]))&&L(G,!1),G.strstart++,G.lookahead--,G.strm.avail_out===0)return 1}else G.match_available=1,G.strstart++,G.lookahead--}return G.match_available&&(D=b._tr_tally(G,0,G.window[G.strstart-1]),G.match_available=0),G.insert=G.strstart<2?G.strstart:2,te===4?(L(G,!0),G.strm.avail_out===0?3:4):G.last_lit&&(L(G,!1),G.strm.avail_out===0)?1:2}function V(G,te,I,D,X){this.good_length=G,this.max_lazy=te,this.nice_length=I,this.max_chain=D,this.func=X}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(G){var te;return G&&G.state?(G.total_in=G.total_out=0,G.data_type=2,(te=G.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?42:F,G.adler=te.wrap===2?0:1,te.last_flush=0,b._tr_init(te),0):H(G,P)}function Z(G){var te=K(G);return te===0&&function(I){I.window_size=2*I.w_size,U(I.head),I.max_lazy_match=g[I.level].max_lazy,I.good_match=g[I.level].good_length,I.nice_match=g[I.level].nice_length,I.max_chain_length=g[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=2,I.match_available=0,I.ins_h=0}(G.state),te}function ne(G,te,I,D,X,Q){if(!G)return P;var re=1;if(te===-1&&(te=6),D<0?(re=0,D=-D):15<D&&(re=2,D-=16),X<1||9<X||I!==8||D<8||15<D||te<0||9<te||Q<0||4<Q)return H(G,P);D===8&&(D=9);var oe=new B;return(G.state=oe).strm=G,oe.wrap=re,oe.gzhead=null,oe.w_bits=D,oe.w_size=1<<oe.w_bits,oe.w_mask=oe.w_size-1,oe.hash_bits=X+7,oe.hash_size=1<<oe.hash_bits,oe.hash_mask=oe.hash_size-1,oe.hash_shift=~~((oe.hash_bits+3-1)/3),oe.window=new v.Buf8(2*oe.w_size),oe.head=new v.Buf16(oe.hash_size),oe.prev=new v.Buf16(oe.w_size),oe.lit_bufsize=1<<X+6,oe.pending_buf_size=4*oe.lit_bufsize,oe.pending_buf=new v.Buf8(oe.pending_buf_size),oe.d_buf=1*oe.lit_bufsize,oe.l_buf=3*oe.lit_bufsize,oe.level=te,oe.strategy=Q,oe.method=I,Z(G)}g=[new V(0,0,0,0,function(G,te){var I=65535;for(I>G.pending_buf_size-5&&(I=G.pending_buf_size-5);;){if(G.lookahead<=1){if(E(G),G.lookahead===0&&te===0)return 1;if(G.lookahead===0)break}G.strstart+=G.lookahead,G.lookahead=0;var D=G.block_start+I;if((G.strstart===0||G.strstart>=D)&&(G.lookahead=G.strstart-D,G.strstart=D,L(G,!1),G.strm.avail_out===0)||G.strstart-G.block_start>=G.w_size-A&&(L(G,!1),G.strm.avail_out===0))return 1}return G.insert=0,te===4?(L(G,!0),G.strm.avail_out===0?3:4):(G.strstart>G.block_start&&(L(G,!1),G.strm.avail_out),1)}),new V(4,4,8,4,T),new V(4,5,16,8,T),new V(4,6,32,32,T),new V(4,4,16,16,R),new V(8,16,32,32,R),new V(8,16,128,128,R),new V(8,32,128,256,R),new V(32,128,258,1024,R),new V(32,258,258,4096,R)],m.deflateInit=function(G,te){return ne(G,te,8,15,8,0)},m.deflateInit2=ne,m.deflateReset=Z,m.deflateResetKeep=K,m.deflateSetHeader=function(G,te){return G&&G.state?G.state.wrap!==2?P:(G.state.gzhead=te,0):P},m.deflate=function(G,te){var I,D,X,Q;if(!G||!G.state||5<te||te<0)return G?H(G,P):P;if(D=G.state,!G.output||!G.input&&G.avail_in!==0||D.status===666&&te!==4)return H(G,G.avail_out===0?-5:P);if(D.strm=G,I=D.last_flush,D.last_flush=te,D.status===42)if(D.wrap===2)G.adler=0,C(D,31),C(D,139),C(D,8),D.gzhead?(C(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),C(D,255&D.gzhead.time),C(D,D.gzhead.time>>8&255),C(D,D.gzhead.time>>16&255),C(D,D.gzhead.time>>24&255),C(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),C(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(C(D,255&D.gzhead.extra.length),C(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(G.adler=_(G.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(C(D,0),C(D,0),C(D,0),C(D,0),C(D,0),C(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),C(D,3),D.status=F);else{var re=8+(D.w_bits-8<<4)<<8;re|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(re|=32),re+=31-re%31,D.status=F,k(D,re),D.strstart!==0&&(k(D,G.adler>>>16),k(D,65535&G.adler)),G.adler=1}if(D.status===69)if(D.gzhead.extra){for(X=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>X&&(G.adler=_(G.adler,D.pending_buf,D.pending-X,X)),O(G),X=D.pending,D.pending!==D.pending_buf_size));)C(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>X&&(G.adler=_(G.adler,D.pending_buf,D.pending-X,X)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){X=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>X&&(G.adler=_(G.adler,D.pending_buf,D.pending-X,X)),O(G),X=D.pending,D.pending===D.pending_buf_size)){Q=1;break}Q=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,C(D,Q)}while(Q!==0);D.gzhead.hcrc&&D.pending>X&&(G.adler=_(G.adler,D.pending_buf,D.pending-X,X)),Q===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){X=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>X&&(G.adler=_(G.adler,D.pending_buf,D.pending-X,X)),O(G),X=D.pending,D.pending===D.pending_buf_size)){Q=1;break}Q=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,C(D,Q)}while(Q!==0);D.gzhead.hcrc&&D.pending>X&&(G.adler=_(G.adler,D.pending_buf,D.pending-X,X)),Q===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&O(G),D.pending+2<=D.pending_buf_size&&(C(D,255&G.adler),C(D,G.adler>>8&255),G.adler=0,D.status=F)):D.status=F),D.pending!==0){if(O(G),G.avail_out===0)return D.last_flush=-1,0}else if(G.avail_in===0&&z(te)<=z(I)&&te!==4)return H(G,-5);if(D.status===666&&G.avail_in!==0)return H(G,-5);if(G.avail_in!==0||D.lookahead!==0||te!==0&&D.status!==666){var oe=D.strategy===2?function(se,he){for(var le;;){if(se.lookahead===0&&(E(se),se.lookahead===0)){if(he===0)return 1;break}if(se.match_length=0,le=b._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,le&&(L(se,!1),se.strm.avail_out===0))return 1}return se.insert=0,he===4?(L(se,!0),se.strm.avail_out===0?3:4):se.last_lit&&(L(se,!1),se.strm.avail_out===0)?1:2}(D,te):D.strategy===3?function(se,he){for(var le,de,ve,ge,ke=se.window;;){if(se.lookahead<=M){if(E(se),se.lookahead<=M&&he===0)return 1;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=3&&0<se.strstart&&(de=ke[ve=se.strstart-1])===ke[++ve]&&de===ke[++ve]&&de===ke[++ve]){ge=se.strstart+M;do;while(de===ke[++ve]&&de===ke[++ve]&&de===ke[++ve]&&de===ke[++ve]&&de===ke[++ve]&&de===ke[++ve]&&de===ke[++ve]&&de===ke[++ve]&&ve<ge);se.match_length=M-(ge-ve),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=3?(le=b._tr_tally(se,1,se.match_length-3),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(le=b._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),le&&(L(se,!1),se.strm.avail_out===0))return 1}return se.insert=0,he===4?(L(se,!0),se.strm.avail_out===0?3:4):se.last_lit&&(L(se,!1),se.strm.avail_out===0)?1:2}(D,te):g[D.level].func(D,te);if(oe!==3&&oe!==4||(D.status=666),oe===1||oe===3)return G.avail_out===0&&(D.last_flush=-1),0;if(oe===2&&(te===1?b._tr_align(D):te!==5&&(b._tr_stored_block(D,0,0,!1),te===3&&(U(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),O(G),G.avail_out===0))return D.last_flush=-1,0}return te!==4?0:D.wrap<=0?1:(D.wrap===2?(C(D,255&G.adler),C(D,G.adler>>8&255),C(D,G.adler>>16&255),C(D,G.adler>>24&255),C(D,255&G.total_in),C(D,G.total_in>>8&255),C(D,G.total_in>>16&255),C(D,G.total_in>>24&255)):(k(D,G.adler>>>16),k(D,65535&G.adler)),O(G),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?0:1)},m.deflateEnd=function(G){var te;return G&&G.state?(te=G.state.status)!==42&&te!==69&&te!==73&&te!==91&&te!==103&&te!==F&&te!==666?H(G,P):(G.state=null,te===F?H(G,-3):0):P},m.deflateSetDictionary=function(G,te){var I,D,X,Q,re,oe,se,he,le=te.length;if(!G||!G.state||(Q=(I=G.state).wrap)===2||Q===1&&I.status!==42||I.lookahead)return P;for(Q===1&&(G.adler=w(G.adler,te,le,0)),I.wrap=0,le>=I.w_size&&(Q===0&&(U(I.head),I.strstart=0,I.block_start=0,I.insert=0),he=new v.Buf8(I.w_size),v.arraySet(he,te,le-I.w_size,I.w_size,0),te=he,le=I.w_size),re=G.avail_in,oe=G.next_in,se=G.input,G.avail_in=le,G.next_in=0,G.input=te,E(I);I.lookahead>=3;){for(D=I.strstart,X=I.lookahead-2;I.ins_h=(I.ins_h<<I.hash_shift^I.window[D+3-1])&I.hash_mask,I.prev[D&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=D,D++,--X;);I.strstart=D,I.lookahead=2,E(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=2,I.match_available=0,G.next_in=oe,G.input=se,G.avail_in=re,I.wrap=Q,0},m.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(h,y,m){y.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(h,y,m){y.exports=function(g,v){var b,w,_,N,P,M,A,F,H,z,U,O,L,C,k,j,E,T,R,V,B,K,Z,ne,G;b=g.state,w=g.next_in,ne=g.input,_=w+(g.avail_in-5),N=g.next_out,G=g.output,P=N-(v-g.avail_out),M=N+(g.avail_out-257),A=b.dmax,F=b.wsize,H=b.whave,z=b.wnext,U=b.window,O=b.hold,L=b.bits,C=b.lencode,k=b.distcode,j=(1<<b.lenbits)-1,E=(1<<b.distbits)-1;e:do{L<15&&(O+=ne[w++]<<L,L+=8,O+=ne[w++]<<L,L+=8),T=C[O&j];t:for(;;){if(O>>>=R=T>>>24,L-=R,(R=T>>>16&255)==0)G[N++]=65535&T;else{if(!(16&R)){if((64&R)==0){T=C[(65535&T)+(O&(1<<R)-1)];continue t}if(32&R){b.mode=12;break e}g.msg="invalid literal/length code",b.mode=30;break e}V=65535&T,(R&=15)&&(L<R&&(O+=ne[w++]<<L,L+=8),V+=O&(1<<R)-1,O>>>=R,L-=R),L<15&&(O+=ne[w++]<<L,L+=8,O+=ne[w++]<<L,L+=8),T=k[O&E];r:for(;;){if(O>>>=R=T>>>24,L-=R,!(16&(R=T>>>16&255))){if((64&R)==0){T=k[(65535&T)+(O&(1<<R)-1)];continue r}g.msg="invalid distance code",b.mode=30;break e}if(B=65535&T,L<(R&=15)&&(O+=ne[w++]<<L,(L+=8)<R&&(O+=ne[w++]<<L,L+=8)),A<(B+=O&(1<<R)-1)){g.msg="invalid distance too far back",b.mode=30;break e}if(O>>>=R,L-=R,(R=N-P)<B){if(H<(R=B-R)&&b.sane){g.msg="invalid distance too far back",b.mode=30;break e}if(Z=U,(K=0)===z){if(K+=F-R,R<V){for(V-=R;G[N++]=U[K++],--R;);K=N-B,Z=G}}else if(z<R){if(K+=F+z-R,(R-=z)<V){for(V-=R;G[N++]=U[K++],--R;);if(K=0,z<V){for(V-=R=z;G[N++]=U[K++],--R;);K=N-B,Z=G}}}else if(K+=z-R,R<V){for(V-=R;G[N++]=U[K++],--R;);K=N-B,Z=G}for(;2<V;)G[N++]=Z[K++],G[N++]=Z[K++],G[N++]=Z[K++],V-=3;V&&(G[N++]=Z[K++],1<V&&(G[N++]=Z[K++]))}else{for(K=N-B;G[N++]=G[K++],G[N++]=G[K++],G[N++]=G[K++],2<(V-=3););V&&(G[N++]=G[K++],1<V&&(G[N++]=G[K++]))}break}}break}}while(w<_&&N<M);w-=V=L>>3,O&=(1<<(L-=V<<3))-1,g.next_in=w,g.next_out=N,g.avail_in=w<_?_-w+5:5-(w-_),g.avail_out=N<M?M-N+257:257-(N-M),b.hold=O,b.bits=L}},{}],49:[function(h,y,m){var g=h("../utils/common"),v=h("./adler32"),b=h("./crc32"),w=h("./inffast"),_=h("./inftrees"),N=-2;function P(j){return(j>>>24&255)+(j>>>8&65280)+((65280&j)<<8)+((255&j)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(j){var E;return j&&j.state?(E=j.state,j.total_in=j.total_out=E.total=0,j.msg="",E.wrap&&(j.adler=1&E.wrap),E.mode=1,E.last=0,E.havedict=0,E.dmax=32768,E.head=null,E.hold=0,E.bits=0,E.lencode=E.lendyn=new g.Buf32(852),E.distcode=E.distdyn=new g.Buf32(592),E.sane=1,E.back=-1,0):N}function F(j){var E;return j&&j.state?((E=j.state).wsize=0,E.whave=0,E.wnext=0,A(j)):N}function H(j,E){var T,R;return j&&j.state?(R=j.state,E<0?(T=0,E=-E):(T=1+(E>>4),E<48&&(E&=15)),E&&(E<8||15<E)?N:(R.window!==null&&R.wbits!==E&&(R.window=null),R.wrap=T,R.wbits=E,F(j))):N}function z(j,E){var T,R;return j?(R=new M,(j.state=R).window=null,(T=H(j,E))!==0&&(j.state=null),T):N}var U,O,L=!0;function C(j){if(L){var E;for(U=new g.Buf32(512),O=new g.Buf32(32),E=0;E<144;)j.lens[E++]=8;for(;E<256;)j.lens[E++]=9;for(;E<280;)j.lens[E++]=7;for(;E<288;)j.lens[E++]=8;for(_(1,j.lens,0,288,U,0,j.work,{bits:9}),E=0;E<32;)j.lens[E++]=5;_(2,j.lens,0,32,O,0,j.work,{bits:5}),L=!1}j.lencode=U,j.lenbits=9,j.distcode=O,j.distbits=5}function k(j,E,T,R){var V,B=j.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new g.Buf8(B.wsize)),R>=B.wsize?(g.arraySet(B.window,E,T-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(R<(V=B.wsize-B.wnext)&&(V=R),g.arraySet(B.window,E,T-R,V,B.wnext),(R-=V)?(g.arraySet(B.window,E,T-R,R,0),B.wnext=R,B.whave=B.wsize):(B.wnext+=V,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=V))),0}m.inflateReset=F,m.inflateReset2=H,m.inflateResetKeep=A,m.inflateInit=function(j){return z(j,15)},m.inflateInit2=z,m.inflate=function(j,E){var T,R,V,B,K,Z,ne,G,te,I,D,X,Q,re,oe,se,he,le,de,ve,ge,ke,Pe,Re,Ie=0,qe=new g.Buf8(4),Ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!j||!j.state||!j.output||!j.input&&j.avail_in!==0)return N;(T=j.state).mode===12&&(T.mode=13),K=j.next_out,V=j.output,ne=j.avail_out,B=j.next_in,R=j.input,Z=j.avail_in,G=T.hold,te=T.bits,I=Z,D=ne,ke=0;e:for(;;)switch(T.mode){case 1:if(T.wrap===0){T.mode=13;break}for(;te<16;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}if(2&T.wrap&&G===35615){qe[T.check=0]=255&G,qe[1]=G>>>8&255,T.check=b(T.check,qe,2,0),te=G=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&G)<<8)+(G>>8))%31){j.msg="incorrect header check",T.mode=30;break}if((15&G)!=8){j.msg="unknown compression method",T.mode=30;break}if(te-=4,ge=8+(15&(G>>>=4)),T.wbits===0)T.wbits=ge;else if(ge>T.wbits){j.msg="invalid window size",T.mode=30;break}T.dmax=1<<ge,j.adler=T.check=1,T.mode=512&G?10:12,te=G=0;break;case 2:for(;te<16;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}if(T.flags=G,(255&T.flags)!=8){j.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){j.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=G>>8&1),512&T.flags&&(qe[0]=255&G,qe[1]=G>>>8&255,T.check=b(T.check,qe,2,0)),te=G=0,T.mode=3;case 3:for(;te<32;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}T.head&&(T.head.time=G),512&T.flags&&(qe[0]=255&G,qe[1]=G>>>8&255,qe[2]=G>>>16&255,qe[3]=G>>>24&255,T.check=b(T.check,qe,4,0)),te=G=0,T.mode=4;case 4:for(;te<16;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}T.head&&(T.head.xflags=255&G,T.head.os=G>>8),512&T.flags&&(qe[0]=255&G,qe[1]=G>>>8&255,T.check=b(T.check,qe,2,0)),te=G=0,T.mode=5;case 5:if(1024&T.flags){for(;te<16;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}T.length=G,T.head&&(T.head.extra_len=G),512&T.flags&&(qe[0]=255&G,qe[1]=G>>>8&255,T.check=b(T.check,qe,2,0)),te=G=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(Z<(X=T.length)&&(X=Z),X&&(T.head&&(ge=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),g.arraySet(T.head.extra,R,B,X,ge)),512&T.flags&&(T.check=b(T.check,R,X,B)),Z-=X,B+=X,T.length-=X),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(Z===0)break e;for(X=0;ge=R[B+X++],T.head&&ge&&T.length<65536&&(T.head.name+=String.fromCharCode(ge)),ge&&X<Z;);if(512&T.flags&&(T.check=b(T.check,R,X,B)),Z-=X,B+=X,ge)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(Z===0)break e;for(X=0;ge=R[B+X++],T.head&&ge&&T.length<65536&&(T.head.comment+=String.fromCharCode(ge)),ge&&X<Z;);if(512&T.flags&&(T.check=b(T.check,R,X,B)),Z-=X,B+=X,ge)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;te<16;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}if(G!==(65535&T.check)){j.msg="header crc mismatch",T.mode=30;break}te=G=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),j.adler=T.check=0,T.mode=12;break;case 10:for(;te<32;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}j.adler=T.check=P(G),te=G=0,T.mode=11;case 11:if(T.havedict===0)return j.next_out=K,j.avail_out=ne,j.next_in=B,j.avail_in=Z,T.hold=G,T.bits=te,2;j.adler=T.check=1,T.mode=12;case 12:if(E===5||E===6)break e;case 13:if(T.last){G>>>=7&te,te-=7&te,T.mode=27;break}for(;te<3;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}switch(T.last=1&G,te-=1,3&(G>>>=1)){case 0:T.mode=14;break;case 1:if(C(T),T.mode=20,E!==6)break;G>>>=2,te-=2;break e;case 2:T.mode=17;break;case 3:j.msg="invalid block type",T.mode=30}G>>>=2,te-=2;break;case 14:for(G>>>=7&te,te-=7&te;te<32;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}if((65535&G)!=(G>>>16^65535)){j.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&G,te=G=0,T.mode=15,E===6)break e;case 15:T.mode=16;case 16:if(X=T.length){if(Z<X&&(X=Z),ne<X&&(X=ne),X===0)break e;g.arraySet(V,R,B,X,K),Z-=X,B+=X,ne-=X,K+=X,T.length-=X;break}T.mode=12;break;case 17:for(;te<14;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}if(T.nlen=257+(31&G),G>>>=5,te-=5,T.ndist=1+(31&G),G>>>=5,te-=5,T.ncode=4+(15&G),G>>>=4,te-=4,286<T.nlen||30<T.ndist){j.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;te<3;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}T.lens[Ue[T.have++]]=7&G,G>>>=3,te-=3}for(;T.have<19;)T.lens[Ue[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,Pe={bits:T.lenbits},ke=_(0,T.lens,0,19,T.lencode,0,T.work,Pe),T.lenbits=Pe.bits,ke){j.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;se=(Ie=T.lencode[G&(1<<T.lenbits)-1])>>>16&255,he=65535&Ie,!((oe=Ie>>>24)<=te);){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}if(he<16)G>>>=oe,te-=oe,T.lens[T.have++]=he;else{if(he===16){for(Re=oe+2;te<Re;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}if(G>>>=oe,te-=oe,T.have===0){j.msg="invalid bit length repeat",T.mode=30;break}ge=T.lens[T.have-1],X=3+(3&G),G>>>=2,te-=2}else if(he===17){for(Re=oe+3;te<Re;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}te-=oe,ge=0,X=3+(7&(G>>>=oe)),G>>>=3,te-=3}else{for(Re=oe+7;te<Re;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}te-=oe,ge=0,X=11+(127&(G>>>=oe)),G>>>=7,te-=7}if(T.have+X>T.nlen+T.ndist){j.msg="invalid bit length repeat",T.mode=30;break}for(;X--;)T.lens[T.have++]=ge}}if(T.mode===30)break;if(T.lens[256]===0){j.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,Pe={bits:T.lenbits},ke=_(1,T.lens,0,T.nlen,T.lencode,0,T.work,Pe),T.lenbits=Pe.bits,ke){j.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,Pe={bits:T.distbits},ke=_(2,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,Pe),T.distbits=Pe.bits,ke){j.msg="invalid distances set",T.mode=30;break}if(T.mode=20,E===6)break e;case 20:T.mode=21;case 21:if(6<=Z&&258<=ne){j.next_out=K,j.avail_out=ne,j.next_in=B,j.avail_in=Z,T.hold=G,T.bits=te,w(j,D),K=j.next_out,V=j.output,ne=j.avail_out,B=j.next_in,R=j.input,Z=j.avail_in,G=T.hold,te=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;se=(Ie=T.lencode[G&(1<<T.lenbits)-1])>>>16&255,he=65535&Ie,!((oe=Ie>>>24)<=te);){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}if(se&&(240&se)==0){for(le=oe,de=se,ve=he;se=(Ie=T.lencode[ve+((G&(1<<le+de)-1)>>le)])>>>16&255,he=65535&Ie,!(le+(oe=Ie>>>24)<=te);){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}G>>>=le,te-=le,T.back+=le}if(G>>>=oe,te-=oe,T.back+=oe,T.length=he,se===0){T.mode=26;break}if(32&se){T.back=-1,T.mode=12;break}if(64&se){j.msg="invalid literal/length code",T.mode=30;break}T.extra=15&se,T.mode=22;case 22:if(T.extra){for(Re=T.extra;te<Re;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}T.length+=G&(1<<T.extra)-1,G>>>=T.extra,te-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;se=(Ie=T.distcode[G&(1<<T.distbits)-1])>>>16&255,he=65535&Ie,!((oe=Ie>>>24)<=te);){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}if((240&se)==0){for(le=oe,de=se,ve=he;se=(Ie=T.distcode[ve+((G&(1<<le+de)-1)>>le)])>>>16&255,he=65535&Ie,!(le+(oe=Ie>>>24)<=te);){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}G>>>=le,te-=le,T.back+=le}if(G>>>=oe,te-=oe,T.back+=oe,64&se){j.msg="invalid distance code",T.mode=30;break}T.offset=he,T.extra=15&se,T.mode=24;case 24:if(T.extra){for(Re=T.extra;te<Re;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}T.offset+=G&(1<<T.extra)-1,G>>>=T.extra,te-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){j.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(ne===0)break e;if(X=D-ne,T.offset>X){if((X=T.offset-X)>T.whave&&T.sane){j.msg="invalid distance too far back",T.mode=30;break}Q=X>T.wnext?(X-=T.wnext,T.wsize-X):T.wnext-X,X>T.length&&(X=T.length),re=T.window}else re=V,Q=K-T.offset,X=T.length;for(ne<X&&(X=ne),ne-=X,T.length-=X;V[K++]=re[Q++],--X;);T.length===0&&(T.mode=21);break;case 26:if(ne===0)break e;V[K++]=T.length,ne--,T.mode=21;break;case 27:if(T.wrap){for(;te<32;){if(Z===0)break e;Z--,G|=R[B++]<<te,te+=8}if(D-=ne,j.total_out+=D,T.total+=D,D&&(j.adler=T.check=T.flags?b(T.check,V,D,K-D):v(T.check,V,D,K-D)),D=ne,(T.flags?G:P(G))!==T.check){j.msg="incorrect data check",T.mode=30;break}te=G=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;te<32;){if(Z===0)break e;Z--,G+=R[B++]<<te,te+=8}if(G!==(4294967295&T.total)){j.msg="incorrect length check",T.mode=30;break}te=G=0}T.mode=29;case 29:ke=1;break e;case 30:ke=-3;break e;case 31:return-4;case 32:default:return N}return j.next_out=K,j.avail_out=ne,j.next_in=B,j.avail_in=Z,T.hold=G,T.bits=te,(T.wsize||D!==j.avail_out&&T.mode<30&&(T.mode<27||E!==4))&&k(j,j.output,j.next_out,D-j.avail_out)?(T.mode=31,-4):(I-=j.avail_in,D-=j.avail_out,j.total_in+=I,j.total_out+=D,T.total+=D,T.wrap&&D&&(j.adler=T.check=T.flags?b(T.check,V,D,j.next_out-D):v(T.check,V,D,j.next_out-D)),j.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(I==0&&D===0||E===4)&&ke===0&&(ke=-5),ke)},m.inflateEnd=function(j){if(!j||!j.state)return N;var E=j.state;return E.window&&(E.window=null),j.state=null,0},m.inflateGetHeader=function(j,E){var T;return j&&j.state?(2&(T=j.state).wrap)==0?N:((T.head=E).done=!1,0):N},m.inflateSetDictionary=function(j,E){var T,R=E.length;return j&&j.state?(T=j.state).wrap!==0&&T.mode!==11?N:T.mode===11&&v(1,E,R,0)!==T.check?-3:k(j,E,R,R)?(T.mode=31,-4):(T.havedict=1,0):N},m.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(h,y,m){var g=h("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];y.exports=function(N,P,M,A,F,H,z,U){var O,L,C,k,j,E,T,R,V,B=U.bits,K=0,Z=0,ne=0,G=0,te=0,I=0,D=0,X=0,Q=0,re=0,oe=null,se=0,he=new g.Buf16(16),le=new g.Buf16(16),de=null,ve=0;for(K=0;K<=15;K++)he[K]=0;for(Z=0;Z<A;Z++)he[P[M+Z]]++;for(te=B,G=15;1<=G&&he[G]===0;G--);if(G<te&&(te=G),G===0)return F[H++]=20971520,F[H++]=20971520,U.bits=1,0;for(ne=1;ne<G&&he[ne]===0;ne++);for(te<ne&&(te=ne),K=X=1;K<=15;K++)if(X<<=1,(X-=he[K])<0)return-1;if(0<X&&(N===0||G!==1))return-1;for(le[1]=0,K=1;K<15;K++)le[K+1]=le[K]+he[K];for(Z=0;Z<A;Z++)P[M+Z]!==0&&(z[le[P[M+Z]]++]=Z);if(E=N===0?(oe=de=z,19):N===1?(oe=v,se-=257,de=b,ve-=257,256):(oe=w,de=_,-1),K=ne,j=H,D=Z=re=0,C=-1,k=(Q=1<<(I=te))-1,N===1&&852<Q||N===2&&592<Q)return 1;for(;;){for(T=K-D,V=z[Z]<E?(R=0,z[Z]):z[Z]>E?(R=de[ve+z[Z]],oe[se+z[Z]]):(R=96,0),O=1<<K-D,ne=L=1<<I;F[j+(re>>D)+(L-=O)]=T<<24|R<<16|V|0,L!==0;);for(O=1<<K-1;re&O;)O>>=1;if(O!==0?(re&=O-1,re+=O):re=0,Z++,--he[K]==0){if(K===G)break;K=P[M+z[Z]]}if(te<K&&(re&k)!==C){for(D===0&&(D=te),j+=ne,X=1<<(I=K-D);I+D<G&&!((X-=he[I+D])<=0);)I++,X<<=1;if(Q+=1<<I,N===1&&852<Q||N===2&&592<Q)return 1;F[C=re&k]=te<<24|I<<16|j-H|0}}return re!==0&&(F[j+re]=K-D<<24|64<<16|0),U.bits=te,0}},{"../utils/common":41}],51:[function(h,y,m){y.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(h,y,m){var g=h("../utils/common");function v(de){for(var ve=de.length;0<=--ve;)de[ve]=0}var b=256,w=286,_=30,N=15,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(576);v(H);var z=new Array(60);v(z);var U=new Array(512);v(U);var O=new Array(256);v(O);var L=new Array(29);v(L);var C,k,j,E=new Array(_);function T(de,ve,ge,ke,Pe){this.static_tree=de,this.extra_bits=ve,this.extra_base=ge,this.elems=ke,this.max_length=Pe,this.has_stree=de&&de.length}function R(de,ve){this.dyn_tree=de,this.max_code=0,this.stat_desc=ve}function V(de){return de<256?U[de]:U[256+(de>>>7)]}function B(de,ve){de.pending_buf[de.pending++]=255&ve,de.pending_buf[de.pending++]=ve>>>8&255}function K(de,ve,ge){de.bi_valid>16-ge?(de.bi_buf|=ve<<de.bi_valid&65535,B(de,de.bi_buf),de.bi_buf=ve>>16-de.bi_valid,de.bi_valid+=ge-16):(de.bi_buf|=ve<<de.bi_valid&65535,de.bi_valid+=ge)}function Z(de,ve,ge){K(de,ge[2*ve],ge[2*ve+1])}function ne(de,ve){for(var ge=0;ge|=1&de,de>>>=1,ge<<=1,0<--ve;);return ge>>>1}function G(de,ve,ge){var ke,Pe,Re=new Array(16),Ie=0;for(ke=1;ke<=N;ke++)Re[ke]=Ie=Ie+ge[ke-1]<<1;for(Pe=0;Pe<=ve;Pe++){var qe=de[2*Pe+1];qe!==0&&(de[2*Pe]=ne(Re[qe]++,qe))}}function te(de){var ve;for(ve=0;ve<w;ve++)de.dyn_ltree[2*ve]=0;for(ve=0;ve<_;ve++)de.dyn_dtree[2*ve]=0;for(ve=0;ve<19;ve++)de.bl_tree[2*ve]=0;de.dyn_ltree[512]=1,de.opt_len=de.static_len=0,de.last_lit=de.matches=0}function I(de){8<de.bi_valid?B(de,de.bi_buf):0<de.bi_valid&&(de.pending_buf[de.pending++]=de.bi_buf),de.bi_buf=0,de.bi_valid=0}function D(de,ve,ge,ke){var Pe=2*ve,Re=2*ge;return de[Pe]<de[Re]||de[Pe]===de[Re]&&ke[ve]<=ke[ge]}function X(de,ve,ge){for(var ke=de.heap[ge],Pe=ge<<1;Pe<=de.heap_len&&(Pe<de.heap_len&&D(ve,de.heap[Pe+1],de.heap[Pe],de.depth)&&Pe++,!D(ve,ke,de.heap[Pe],de.depth));)de.heap[ge]=de.heap[Pe],ge=Pe,Pe<<=1;de.heap[ge]=ke}function Q(de,ve,ge){var ke,Pe,Re,Ie,qe=0;if(de.last_lit!==0)for(;ke=de.pending_buf[de.d_buf+2*qe]<<8|de.pending_buf[de.d_buf+2*qe+1],Pe=de.pending_buf[de.l_buf+qe],qe++,ke===0?Z(de,Pe,ve):(Z(de,(Re=O[Pe])+b+1,ve),(Ie=P[Re])!==0&&K(de,Pe-=L[Re],Ie),Z(de,Re=V(--ke),ge),(Ie=M[Re])!==0&&K(de,ke-=E[Re],Ie)),qe<de.last_lit;);Z(de,256,ve)}function re(de,ve){var ge,ke,Pe,Re=ve.dyn_tree,Ie=ve.stat_desc.static_tree,qe=ve.stat_desc.has_stree,Ue=ve.stat_desc.elems,vt=-1;for(de.heap_len=0,de.heap_max=573,ge=0;ge<Ue;ge++)Re[2*ge]!==0?(de.heap[++de.heap_len]=vt=ge,de.depth[ge]=0):Re[2*ge+1]=0;for(;de.heap_len<2;)Re[2*(Pe=de.heap[++de.heap_len]=vt<2?++vt:0)]=1,de.depth[Pe]=0,de.opt_len--,qe&&(de.static_len-=Ie[2*Pe+1]);for(ve.max_code=vt,ge=de.heap_len>>1;1<=ge;ge--)X(de,Re,ge);for(Pe=Ue;ge=de.heap[1],de.heap[1]=de.heap[de.heap_len--],X(de,Re,1),ke=de.heap[1],de.heap[--de.heap_max]=ge,de.heap[--de.heap_max]=ke,Re[2*Pe]=Re[2*ge]+Re[2*ke],de.depth[Pe]=(de.depth[ge]>=de.depth[ke]?de.depth[ge]:de.depth[ke])+1,Re[2*ge+1]=Re[2*ke+1]=Pe,de.heap[1]=Pe++,X(de,Re,1),2<=de.heap_len;);de.heap[--de.heap_max]=de.heap[1],function(St,De){var lt,gt,Ve,Dt,bt,At,ft=De.dyn_tree,jt=De.max_code,ht=De.stat_desc.static_tree,Lt=De.stat_desc.has_stree,ur=De.stat_desc.extra_bits,zt=De.stat_desc.extra_base,wr=De.stat_desc.max_length,br=0;for(Dt=0;Dt<=N;Dt++)St.bl_count[Dt]=0;for(ft[2*St.heap[St.heap_max]+1]=0,lt=St.heap_max+1;lt<573;lt++)wr<(Dt=ft[2*ft[2*(gt=St.heap[lt])+1]+1]+1)&&(Dt=wr,br++),ft[2*gt+1]=Dt,jt<gt||(St.bl_count[Dt]++,bt=0,zt<=gt&&(bt=ur[gt-zt]),At=ft[2*gt],St.opt_len+=At*(Dt+bt),Lt&&(St.static_len+=At*(ht[2*gt+1]+bt)));if(br!==0){do{for(Dt=wr-1;St.bl_count[Dt]===0;)Dt--;St.bl_count[Dt]--,St.bl_count[Dt+1]+=2,St.bl_count[wr]--,br-=2}while(0<br);for(Dt=wr;Dt!==0;Dt--)for(gt=St.bl_count[Dt];gt!==0;)jt<(Ve=St.heap[--lt])||(ft[2*Ve+1]!==Dt&&(St.opt_len+=(Dt-ft[2*Ve+1])*ft[2*Ve],ft[2*Ve+1]=Dt),gt--)}}(de,ve),G(Re,vt,de.bl_count)}function oe(de,ve,ge){var ke,Pe,Re=-1,Ie=ve[1],qe=0,Ue=7,vt=4;for(Ie===0&&(Ue=138,vt=3),ve[2*(ge+1)+1]=65535,ke=0;ke<=ge;ke++)Pe=Ie,Ie=ve[2*(ke+1)+1],++qe<Ue&&Pe===Ie||(qe<vt?de.bl_tree[2*Pe]+=qe:Pe!==0?(Pe!==Re&&de.bl_tree[2*Pe]++,de.bl_tree[32]++):qe<=10?de.bl_tree[34]++:de.bl_tree[36]++,Re=Pe,vt=(qe=0)===Ie?(Ue=138,3):Pe===Ie?(Ue=6,3):(Ue=7,4))}function se(de,ve,ge){var ke,Pe,Re=-1,Ie=ve[1],qe=0,Ue=7,vt=4;for(Ie===0&&(Ue=138,vt=3),ke=0;ke<=ge;ke++)if(Pe=Ie,Ie=ve[2*(ke+1)+1],!(++qe<Ue&&Pe===Ie)){if(qe<vt)for(;Z(de,Pe,de.bl_tree),--qe!=0;);else Pe!==0?(Pe!==Re&&(Z(de,Pe,de.bl_tree),qe--),Z(de,16,de.bl_tree),K(de,qe-3,2)):qe<=10?(Z(de,17,de.bl_tree),K(de,qe-3,3)):(Z(de,18,de.bl_tree),K(de,qe-11,7));Re=Pe,vt=(qe=0)===Ie?(Ue=138,3):Pe===Ie?(Ue=6,3):(Ue=7,4)}}v(E);var he=!1;function le(de,ve,ge,ke){K(de,0+(ke?1:0),3),function(Pe,Re,Ie,qe){I(Pe),B(Pe,Ie),B(Pe,~Ie),g.arraySet(Pe.pending_buf,Pe.window,Re,Ie,Pe.pending),Pe.pending+=Ie}(de,ve,ge)}m._tr_init=function(de){he||(function(){var ve,ge,ke,Pe,Re,Ie=new Array(16);for(Pe=ke=0;Pe<28;Pe++)for(L[Pe]=ke,ve=0;ve<1<<P[Pe];ve++)O[ke++]=Pe;for(O[ke-1]=Pe,Pe=Re=0;Pe<16;Pe++)for(E[Pe]=Re,ve=0;ve<1<<M[Pe];ve++)U[Re++]=Pe;for(Re>>=7;Pe<_;Pe++)for(E[Pe]=Re<<7,ve=0;ve<1<<M[Pe]-7;ve++)U[256+Re++]=Pe;for(ge=0;ge<=N;ge++)Ie[ge]=0;for(ve=0;ve<=143;)H[2*ve+1]=8,ve++,Ie[8]++;for(;ve<=255;)H[2*ve+1]=9,ve++,Ie[9]++;for(;ve<=279;)H[2*ve+1]=7,ve++,Ie[7]++;for(;ve<=287;)H[2*ve+1]=8,ve++,Ie[8]++;for(G(H,287,Ie),ve=0;ve<_;ve++)z[2*ve+1]=5,z[2*ve]=ne(ve,5);C=new T(H,P,257,w,N),k=new T(z,M,0,_,N),j=new T(new Array(0),A,0,19,7)}(),he=!0),de.l_desc=new R(de.dyn_ltree,C),de.d_desc=new R(de.dyn_dtree,k),de.bl_desc=new R(de.bl_tree,j),de.bi_buf=0,de.bi_valid=0,te(de)},m._tr_stored_block=le,m._tr_flush_block=function(de,ve,ge,ke){var Pe,Re,Ie=0;0<de.level?(de.strm.data_type===2&&(de.strm.data_type=function(qe){var Ue,vt=4093624447;for(Ue=0;Ue<=31;Ue++,vt>>>=1)if(1&vt&&qe.dyn_ltree[2*Ue]!==0)return 0;if(qe.dyn_ltree[18]!==0||qe.dyn_ltree[20]!==0||qe.dyn_ltree[26]!==0)return 1;for(Ue=32;Ue<b;Ue++)if(qe.dyn_ltree[2*Ue]!==0)return 1;return 0}(de)),re(de,de.l_desc),re(de,de.d_desc),Ie=function(qe){var Ue;for(oe(qe,qe.dyn_ltree,qe.l_desc.max_code),oe(qe,qe.dyn_dtree,qe.d_desc.max_code),re(qe,qe.bl_desc),Ue=18;3<=Ue&&qe.bl_tree[2*F[Ue]+1]===0;Ue--);return qe.opt_len+=3*(Ue+1)+5+5+4,Ue}(de),Pe=de.opt_len+3+7>>>3,(Re=de.static_len+3+7>>>3)<=Pe&&(Pe=Re)):Pe=Re=ge+5,ge+4<=Pe&&ve!==-1?le(de,ve,ge,ke):de.strategy===4||Re===Pe?(K(de,2+(ke?1:0),3),Q(de,H,z)):(K(de,4+(ke?1:0),3),function(qe,Ue,vt,St){var De;for(K(qe,Ue-257,5),K(qe,vt-1,5),K(qe,St-4,4),De=0;De<St;De++)K(qe,qe.bl_tree[2*F[De]+1],3);se(qe,qe.dyn_ltree,Ue-1),se(qe,qe.dyn_dtree,vt-1)}(de,de.l_desc.max_code+1,de.d_desc.max_code+1,Ie+1),Q(de,de.dyn_ltree,de.dyn_dtree)),te(de),ke&&I(de)},m._tr_tally=function(de,ve,ge){return de.pending_buf[de.d_buf+2*de.last_lit]=ve>>>8&255,de.pending_buf[de.d_buf+2*de.last_lit+1]=255&ve,de.pending_buf[de.l_buf+de.last_lit]=255&ge,de.last_lit++,ve===0?de.dyn_ltree[2*ge]++:(de.matches++,ve--,de.dyn_ltree[2*(O[ge]+b+1)]++,de.dyn_dtree[2*V(ve)]++),de.last_lit===de.lit_bufsize-1},m._tr_align=function(de){K(de,2,3),Z(de,256,H),function(ve){ve.bi_valid===16?(B(ve,ve.bi_buf),ve.bi_buf=0,ve.bi_valid=0):8<=ve.bi_valid&&(ve.pending_buf[ve.pending++]=255&ve.bi_buf,ve.bi_buf>>=8,ve.bi_valid-=8)}(de)}},{"../utils/common":41}],53:[function(h,y,m){y.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(h,y,m){(function(g){(function(v,b){if(!v.setImmediate){var w,_,N,P,M=1,A={},F=!1,H=v.document,z=Object.getPrototypeOf&&Object.getPrototypeOf(v);z=z&&z.setTimeout?z:v,w={}.toString.call(v.process)==="[object process]"?function(C){a.nextTick(function(){O(C)})}:function(){if(v.postMessage&&!v.importScripts){var C=!0,k=v.onmessage;return v.onmessage=function(){C=!1},v.postMessage("","*"),v.onmessage=k,C}}()?(P="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",L,!1):v.attachEvent("onmessage",L),function(C){v.postMessage(P+C,"*")}):v.MessageChannel?((N=new MessageChannel).port1.onmessage=function(C){O(C.data)},function(C){N.port2.postMessage(C)}):H&&"onreadystatechange"in H.createElement("script")?(_=H.documentElement,function(C){var k=H.createElement("script");k.onreadystatechange=function(){O(C),k.onreadystatechange=null,_.removeChild(k),k=null},_.appendChild(k)}):function(C){setTimeout(O,0,C)},z.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var k=new Array(arguments.length-1),j=0;j<k.length;j++)k[j]=arguments[j+1];var E={callback:C,args:k};return A[M]=E,w(M),M++},z.clearImmediate=U}function U(C){delete A[C]}function O(C){if(F)setTimeout(O,0,C);else{var k=A[C];if(k){F=!0;try{(function(j){var E=j.callback,T=j.args;switch(T.length){case 0:E();break;case 1:E(T[0]);break;case 2:E(T[0],T[1]);break;case 3:E(T[0],T[1],T[2]);break;default:E.apply(void 0,T)}})(k)}finally{U(C),F=!1}}}}function L(C){C.source===v&&typeof C.data=="string"&&C.data.indexOf(P)===0&&O(+C.data.slice(P.length))}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,i){(function(a){(function(){var s=/[\\^$.*+?()[\]{}|]/g,l=RegExp(s.source),c=typeof a=="object"&&a&&a.Object===Object&&a,o=typeof self=="object"&&self&&self.Object===Object&&self,u=c||o||Function("return this")(),d=Object.prototype.toString,f=u.Symbol,h=f?f.prototype:void 0,y=h?h.toString:void 0;function m(g){if(typeof g=="string")return g;if(function(b){return typeof b=="symbol"||function(w){return!!w&&typeof w=="object"}(b)&&d.call(b)=="[object Symbol]"}(g))return y?y.call(g):"";var v=g+"";return v=="0"&&1/g==-1/0?"-0":v}n.exports=function(g){var v;return(g=(v=g)==null?"":m(v))&&l.test(g)?g.replace(s,"\\$&"):g}}).call(this)}).call(this,typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,i){(function(a){(function(){var s="[object Arguments]",l="[object Map]",c="[object Object]",o="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,f=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y=/\\(\\)?/g,m=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[s]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[l]=v["[object Number]"]=v[c]=v["[object RegExp]"]=v[o]=v["[object String]"]=v["[object WeakMap]"]=!1;var b=typeof a=="object"&&a&&a.Object===Object&&a,w=typeof self=="object"&&self&&self.Object===Object&&self,_=b||w||Function("return this")(),N=typeof i=="object"&&i&&!i.nodeType&&i,P=N&&typeof n=="object"&&n&&!n.nodeType&&n,M=P&&P.exports===N&&b.process,A=function(){try{return M&&M.binding("util")}catch{}}(),F=A&&A.isTypedArray;function H(Se,Fe,ct,wt){for(var Wt=-1,It=Se?Se.length:0;++Wt<It;){var qt=Se[Wt];Fe(wt,qt,ct(qt),Se)}return wt}function z(Se,Fe){for(var ct=-1,wt=Se?Se.length:0;++ct<wt;)if(Fe(Se[ct],ct,Se))return!0;return!1}function U(Se){var Fe=!1;if(Se!=null&&typeof Se.toString!="function")try{Fe=!!(Se+"")}catch{}return Fe}function O(Se){var Fe=-1,ct=Array(Se.size);return Se.forEach(function(wt,Wt){ct[++Fe]=[Wt,wt]}),ct}function L(Se){var Fe=-1,ct=Array(Se.size);return Se.forEach(function(wt){ct[++Fe]=wt}),ct}var C,k,j,E=Array.prototype,T=Function.prototype,R=Object.prototype,V=_["__core-js_shared__"],B=(C=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",K=T.toString,Z=R.hasOwnProperty,ne=R.toString,G=RegExp("^"+K.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=_.Symbol,I=_.Uint8Array,D=R.propertyIsEnumerable,X=E.splice,Q=(k=Object.keys,j=Object,function(Se){return k(j(Se))}),re=fr(_,"DataView"),oe=fr(_,"Map"),se=fr(_,"Promise"),he=fr(_,"Set"),le=fr(_,"WeakMap"),de=fr(Object,"create"),ve=Ze(re),ge=Ze(oe),ke=Ze(se),Pe=Ze(he),Re=Ze(le),Ie=te?te.prototype:void 0,qe=Ie?Ie.valueOf:void 0,Ue=Ie?Ie.toString:void 0;function vt(Se){var Fe=-1,ct=Se?Se.length:0;for(this.clear();++Fe<ct;){var wt=Se[Fe];this.set(wt[0],wt[1])}}function St(Se){var Fe=-1,ct=Se?Se.length:0;for(this.clear();++Fe<ct;){var wt=Se[Fe];this.set(wt[0],wt[1])}}function De(Se){var Fe=-1,ct=Se?Se.length:0;for(this.clear();++Fe<ct;){var wt=Se[Fe];this.set(wt[0],wt[1])}}function lt(Se){var Fe=-1,ct=Se?Se.length:0;for(this.__data__=new De;++Fe<ct;)this.add(Se[Fe])}function gt(Se){this.__data__=new St(Se)}function Ve(Se,Fe){var ct=Ae(Se)||Ee(Se)?function(qt,Rr){for(var kr=-1,mr=Array(qt);++kr<qt;)mr[kr]=Rr(kr);return mr}(Se.length,String):[],wt=ct.length,Wt=!!wt;for(var It in Se)!Z.call(Se,It)||Wt&&(It=="length"||Ur(It,wt))||ct.push(It);return ct}function Dt(Se,Fe){for(var ct=Se.length;ct--;)if(be(Se[ct][0],Fe))return ct;return-1}function bt(Se,Fe,ct,wt){return ft(Se,function(Wt,It,qt){Fe(wt,Wt,ct(Wt),qt)}),wt}vt.prototype.clear=function(){this.__data__=de?de(null):{}},vt.prototype.delete=function(Se){return this.has(Se)&&delete this.__data__[Se]},vt.prototype.get=function(Se){var Fe=this.__data__;if(de){var ct=Fe[Se];return ct==="__lodash_hash_undefined__"?void 0:ct}return Z.call(Fe,Se)?Fe[Se]:void 0},vt.prototype.has=function(Se){var Fe=this.__data__;return de?Fe[Se]!==void 0:Z.call(Fe,Se)},vt.prototype.set=function(Se,Fe){return this.__data__[Se]=de&&Fe===void 0?"__lodash_hash_undefined__":Fe,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(Se){var Fe=this.__data__,ct=Dt(Fe,Se);return!(ct<0)&&(ct==Fe.length-1?Fe.pop():X.call(Fe,ct,1),!0)},St.prototype.get=function(Se){var Fe=this.__data__,ct=Dt(Fe,Se);return ct<0?void 0:Fe[ct][1]},St.prototype.has=function(Se){return Dt(this.__data__,Se)>-1},St.prototype.set=function(Se,Fe){var ct=this.__data__,wt=Dt(ct,Se);return wt<0?ct.push([Se,Fe]):ct[wt][1]=Fe,this},De.prototype.clear=function(){this.__data__={hash:new vt,map:new(oe||St),string:new vt}},De.prototype.delete=function(Se){return ar(this,Se).delete(Se)},De.prototype.get=function(Se){return ar(this,Se).get(Se)},De.prototype.has=function(Se){return ar(this,Se).has(Se)},De.prototype.set=function(Se,Fe){return ar(this,Se).set(Se,Fe),this},lt.prototype.add=lt.prototype.push=function(Se){return this.__data__.set(Se,"__lodash_hash_undefined__"),this},lt.prototype.has=function(Se){return this.__data__.has(Se)},gt.prototype.clear=function(){this.__data__=new St},gt.prototype.delete=function(Se){return this.__data__.delete(Se)},gt.prototype.get=function(Se){return this.__data__.get(Se)},gt.prototype.has=function(Se){return this.__data__.has(Se)},gt.prototype.set=function(Se,Fe){var ct=this.__data__;if(ct instanceof St){var wt=ct.__data__;if(!oe||wt.length<199)return wt.push([Se,Fe]),this;ct=this.__data__=new De(wt)}return ct.set(Se,Fe),this};var At,ft=(At=function(Se,Fe){return Se&&jt(Se,Fe,Mt)},function(Se,Fe){if(Se==null)return Se;if(!Te(Se))return At(Se,Fe);for(var ct=Se.length,wt=-1,Wt=Object(Se);++wt<ct&&Fe(Wt[wt],wt,Wt)!==!1;);return Se}),jt=function(Se){return function(Fe,ct,wt){for(var Wt=-1,It=Object(Fe),qt=wt(Fe),Rr=qt.length;Rr--;){var kr=qt[++Wt];if(ct(It[kr],kr,It)===!1)break}return Fe}}();function ht(Se,Fe){for(var ct=0,wt=(Fe=dr(Fe,Se)?[Fe]:er(Fe)).length;Se!=null&&ct<wt;)Se=Se[ze(Fe[ct++])];return ct&&ct==wt?Se:void 0}function Lt(Se,Fe){return Se!=null&&Fe in Object(Se)}function ur(Se,Fe,ct,wt,Wt){return Se===Fe||(Se==null||Fe==null||!We(Se)&&!it(Fe)?Se!=Se&&Fe!=Fe:function(It,qt,Rr,kr,mr,or){var Er=Ae(It),Ar=Ae(qt),nn="[object Array]",Nn="[object Array]";Er||(nn=(nn=Sr(It))==s?c:nn),Ar||(Nn=(Nn=Sr(qt))==s?c:Nn);var Bn=nn==c&&!U(It),Kn=Nn==c&&!U(qt),Ti=nn==Nn;if(Ti&&!Bn)return or||(or=new gt),Er||Ct(It)?Zt(It,qt,Rr,kr,mr,or):function(Qr,Gr,Xi,io,ao,Br,aa){switch(Xi){case"[object DataView]":if(Qr.byteLength!=Gr.byteLength||Qr.byteOffset!=Gr.byteOffset)return!1;Qr=Qr.buffer,Gr=Gr.buffer;case"[object ArrayBuffer]":return!(Qr.byteLength!=Gr.byteLength||!io(new I(Qr),new I(Gr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return be(+Qr,+Gr);case"[object Error]":return Qr.name==Gr.name&&Qr.message==Gr.message;case"[object RegExp]":case"[object String]":return Qr==Gr+"";case l:var bs=O;case o:var so=2&Br;if(bs||(bs=L),Qr.size!=Gr.size&&!so)return!1;var ol=aa.get(Qr);if(ol)return ol==Gr;Br|=1,aa.set(Qr,Gr);var Ki=Zt(bs(Qr),bs(Gr),io,ao,Br,aa);return aa.delete(Qr),Ki;case"[object Symbol]":if(qe)return qe.call(Qr)==qe.call(Gr)}return!1}(It,qt,nn,Rr,kr,mr,or);if(!(2&mr)){var ci=Bn&&Z.call(It,"__wrapped__"),vs=Kn&&Z.call(qt,"__wrapped__");if(ci||vs){var yi=ci?It.value():It,Wa=vs?qt.value():qt;return or||(or=new gt),Rr(yi,Wa,kr,mr,or)}}return Ti?(or||(or=new gt),function(Qr,Gr,Xi,io,ao,Br){var aa=2&ao,bs=Mt(Qr),so=bs.length,ol=Mt(Gr).length;if(so!=ol&&!aa)return!1;for(var Ki=so;Ki--;){var sa=bs[Ki];if(!(aa?sa in Gr:Z.call(Gr,sa)))return!1}var oo=Br.get(Qr);if(oo&&Br.get(Gr))return oo==Gr;var Is=!0;Br.set(Qr,Gr),Br.set(Gr,Qr);for(var On=aa;++Ki<so;){sa=bs[Ki];var ka=Qr[sa],oa=Gr[sa];if(io)var Tr=aa?io(oa,ka,sa,Gr,Qr,Br):io(ka,oa,sa,Qr,Gr,Br);if(!(Tr===void 0?ka===oa||Xi(ka,oa,io,ao,Br):Tr)){Is=!1;break}On||(On=sa=="constructor")}if(Is&&!On){var Rs=Qr.constructor,Na=Gr.constructor;Rs==Na||!("constructor"in Qr)||!("constructor"in Gr)||typeof Rs=="function"&&Rs instanceof Rs&&typeof Na=="function"&&Na instanceof Na||(Is=!1)}return Br.delete(Qr),Br.delete(Gr),Is}(It,qt,Rr,kr,mr,or)):!1}(Se,Fe,ur,ct,wt,Wt))}function zt(Se){return!(!We(Se)||function(Fe){return!!B&&B in Fe}(Se))&&(He(Se)||U(Se)?G:m).test(Ze(Se))}function wr(Se){return typeof Se=="function"?Se:Se==null?Gt:typeof Se=="object"?Ae(Se)?function(wt,Wt){return dr(wt)&&Vt(Wt)?Dr(ze(wt),Wt):function(It){var qt=function(Rr,kr,mr){var or=Rr==null?void 0:ht(Rr,kr);return or===void 0?mr:or}(It,wt);return qt===void 0&&qt===Wt?function(Rr,kr){return Rr!=null&&function(mr,or,Er){or=dr(or,mr)?[or]:er(or);for(var Ar,nn=-1,Nn=or.length;++nn<Nn;){var Bn=ze(or[nn]);if(!(Ar=mr!=null&&Er(mr,Bn)))break;mr=mr[Bn]}return Ar||!!(Nn=mr?mr.length:0)&&tt(Nn)&&Ur(Bn,Nn)&&(Ae(mr)||Ee(mr))}(Rr,kr,Lt)}(It,wt):ur(Wt,qt,void 0,3)}}(Se[0],Se[1]):function(wt){var Wt=function(It){for(var qt=Mt(It),Rr=qt.length;Rr--;){var kr=qt[Rr],mr=It[kr];qt[Rr]=[kr,mr,Vt(mr)]}return qt}(wt);return Wt.length==1&&Wt[0][2]?Dr(Wt[0][0],Wt[0][1]):function(It){return It===wt||function(qt,Rr,kr,mr){var or=kr.length,Er=or;if(qt==null)return!Er;for(qt=Object(qt);or--;){var Ar=kr[or];if(Ar[2]?Ar[1]!==qt[Ar[0]]:!(Ar[0]in qt))return!1}for(;++or<Er;){var nn=(Ar=kr[or])[0],Nn=qt[nn],Bn=Ar[1];if(Ar[2]){if(Nn===void 0&&!(nn in qt))return!1}else{var Kn=new gt,Ti;if(!(Ti===void 0?ur(Bn,Nn,mr,3,Kn):Ti))return!1}}return!0}(It,wt,Wt)}}(Se):dr(Fe=Se)?(ct=ze(Fe),function(wt){return wt==null?void 0:wt[ct]}):function(wt){return function(Wt){return ht(Wt,wt)}}(Fe);var Fe,ct}function br(Se){if(ct=(Fe=Se)&&Fe.constructor,wt=typeof ct=="function"&&ct.prototype||R,Fe!==wt)return Q(Se);var Fe,ct,wt,Wt=[];for(var It in Object(Se))Z.call(Se,It)&&It!="constructor"&&Wt.push(It);return Wt}function er(Se){return Ae(Se)?Se:sr(Se)}function Zt(Se,Fe,ct,wt,Wt,It){var qt=2&Wt,Rr=Se.length,kr=Fe.length;if(Rr!=kr&&!(qt&&kr>Rr))return!1;var mr=It.get(Se);if(mr&&It.get(Fe))return mr==Fe;var or=-1,Er=!0,Ar=1&Wt?new lt:void 0;for(It.set(Se,Fe),It.set(Fe,Se);++or<Rr;){var nn=Se[or],Nn=Fe[or];if(wt)var Bn=qt?wt(Nn,nn,or,Fe,Se,It):wt(nn,Nn,or,Se,Fe,It);if(Bn!==void 0){if(Bn)continue;Er=!1;break}if(Ar){if(!z(Fe,function(Kn,Ti){if(!Ar.has(Ti)&&(nn===Kn||ct(nn,Kn,wt,Wt,It)))return Ar.add(Ti)})){Er=!1;break}}else if(nn!==Nn&&!ct(nn,Nn,wt,Wt,It)){Er=!1;break}}return It.delete(Se),It.delete(Fe),Er}function ar(Se,Fe){var ct,wt,Wt=Se.__data__;return((wt=typeof(ct=Fe))=="string"||wt=="number"||wt=="symbol"||wt=="boolean"?ct!=="__proto__":ct===null)?Wt[typeof Fe=="string"?"string":"hash"]:Wt.map}function fr(Se,Fe){var ct=function(wt,Wt){return wt==null?void 0:wt[Wt]}(Se,Fe);return zt(ct)?ct:void 0}var Sr=function(Se){return ne.call(Se)};function Ur(Se,Fe){return!!(Fe=Fe??9007199254740991)&&(typeof Se=="number"||g.test(Se))&&Se>-1&&Se%1==0&&Se<Fe}function dr(Se,Fe){if(Ae(Se))return!1;var ct=typeof Se;return!(ct!="number"&&ct!="symbol"&&ct!="boolean"&&Se!=null&&!et(Se))||d.test(Se)||!u.test(Se)||Fe!=null&&Se in Object(Fe)}function Vt(Se){return Se==Se&&!We(Se)}function Dr(Se,Fe){return function(ct){return ct!=null&&ct[Se]===Fe&&(Fe!==void 0||Se in Object(ct))}}(re&&Sr(new re(new ArrayBuffer(1)))!="[object DataView]"||oe&&Sr(new oe)!=l||se&&Sr(se.resolve())!="[object Promise]"||he&&Sr(new he)!=o||le&&Sr(new le)!="[object WeakMap]")&&(Sr=function(Se){var Fe=ne.call(Se),ct=Fe==c?Se.constructor:void 0,wt=ct?Ze(ct):void 0;if(wt)switch(wt){case ve:return"[object DataView]";case ge:return l;case ke:return"[object Promise]";case Pe:return o;case Re:return"[object WeakMap]"}return Fe});var sr=Ce(function(Se){var Fe;Se=(Fe=Se)==null?"":function(wt){if(typeof wt=="string")return wt;if(et(wt))return Ue?Ue.call(wt):"";var Wt=wt+"";return Wt=="0"&&1/wt==-1/0?"-0":Wt}(Fe);var ct=[];return f.test(Se)&&ct.push(""),Se.replace(h,function(wt,Wt,It,qt){ct.push(It?qt.replace(y,"$1"):Wt||wt)}),ct});function ze(Se){if(typeof Se=="string"||et(Se))return Se;var Fe=Se+"";return Fe=="0"&&1/Se==-1/0?"-0":Fe}function Ze(Se){if(Se!=null){try{return K.call(Se)}catch{}try{return Se+""}catch{}}return""}var mt,pe=(mt=function(Se,Fe,ct){Z.call(Se,ct)?Se[ct].push(Fe):Se[ct]=[Fe]},function(Se,Fe){var ct=Ae(Se)?H:bt,wt={};return ct(Se,mt,wr(Fe),wt)});function Ce(Se,Fe){if(typeof Se!="function"||Fe&&typeof Fe!="function")throw new TypeError("Expected a function");var ct=function(){var wt=arguments,Wt=Fe?Fe.apply(this,wt):wt[0],It=ct.cache;if(It.has(Wt))return It.get(Wt);var qt=Se.apply(this,wt);return ct.cache=It.set(Wt,qt),qt};return ct.cache=new(Ce.Cache||De),ct}function be(Se,Fe){return Se===Fe||Se!=Se&&Fe!=Fe}function Ee(Se){return function(Fe){return it(Fe)&&Te(Fe)}(Se)&&Z.call(Se,"callee")&&(!D.call(Se,"callee")||ne.call(Se)==s)}Ce.Cache=De;var Ae=Array.isArray;function Te(Se){return Se!=null&&tt(Se.length)&&!He(Se)}function He(Se){var Fe=We(Se)?ne.call(Se):"";return Fe=="[object Function]"||Fe=="[object GeneratorFunction]"}function tt(Se){return typeof Se=="number"&&Se>-1&&Se%1==0&&Se<=9007199254740991}function We(Se){var Fe=typeof Se;return!!Se&&(Fe=="object"||Fe=="function")}function it(Se){return!!Se&&typeof Se=="object"}function et(Se){return typeof Se=="symbol"||it(Se)&&ne.call(Se)=="[object Symbol]"}var Ct=F?function(Se){return function(Fe){return Se(Fe)}}(F):function(Se){return it(Se)&&tt(Se.length)&&!!v[ne.call(Se)]};function Mt(Se){return Te(Se)?Ve(Se):br(Se)}function Gt(Se){return Se}n.exports=pe}).call(this)}).call(this,typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,i){var a=Object.prototype.toString;n.exports=function(s){return s===!0||s===!1||function(l){return!!l&&typeof l=="object"}(s)&&a.call(s)=="[object Boolean]"}},{}],445:[function(e,n,i){(function(a){(function(){var s="[object Arguments]",l="[object Map]",c="[object Object]",o="[object Set]",u=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[s]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[l]=f["[object Number]"]=f[c]=f["[object RegExp]"]=f[o]=f["[object String]"]=f["[object WeakMap]"]=!1;var h=typeof a=="object"&&a&&a.Object===Object&&a,y=typeof self=="object"&&self&&self.Object===Object&&self,m=h||y||Function("return this")(),g=typeof i=="object"&&i&&!i.nodeType&&i,v=g&&typeof n=="object"&&n&&!n.nodeType&&n,b=v&&v.exports===g,w=b&&h.process,_=function(){try{return w&&w.binding&&w.binding("util")}catch{}}(),N=_&&_.isTypedArray;function P(ze,Ze){for(var mt=-1,pe=ze==null?0:ze.length;++mt<pe;)if(Ze(ze[mt],mt,ze))return!0;return!1}function M(ze){var Ze=-1,mt=Array(ze.size);return ze.forEach(function(pe,Ce){mt[++Ze]=[Ce,pe]}),mt}function A(ze){var Ze=-1,mt=Array(ze.size);return ze.forEach(function(pe){mt[++Ze]=pe}),mt}var F,H,z,U=Array.prototype,O=Function.prototype,L=Object.prototype,C=m["__core-js_shared__"],k=O.toString,j=L.hasOwnProperty,E=(F=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",T=L.toString,R=RegExp("^"+k.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=b?m.Buffer:void 0,B=m.Symbol,K=m.Uint8Array,Z=L.propertyIsEnumerable,ne=U.splice,G=B?B.toStringTag:void 0,te=Object.getOwnPropertySymbols,I=V?V.isBuffer:void 0,D=(H=Object.keys,z=Object,function(ze){return H(z(ze))}),X=Lt(m,"DataView"),Q=Lt(m,"Map"),re=Lt(m,"Promise"),oe=Lt(m,"Set"),se=Lt(m,"WeakMap"),he=Lt(Object,"create"),le=br(X),de=br(Q),ve=br(re),ge=br(oe),ke=br(se),Pe=B?B.prototype:void 0,Re=Pe?Pe.valueOf:void 0;function Ie(ze){var Ze=-1,mt=ze==null?0:ze.length;for(this.clear();++Ze<mt;){var pe=ze[Ze];this.set(pe[0],pe[1])}}function qe(ze){var Ze=-1,mt=ze==null?0:ze.length;for(this.clear();++Ze<mt;){var pe=ze[Ze];this.set(pe[0],pe[1])}}function Ue(ze){var Ze=-1,mt=ze==null?0:ze.length;for(this.clear();++Ze<mt;){var pe=ze[Ze];this.set(pe[0],pe[1])}}function vt(ze){var Ze=-1,mt=ze==null?0:ze.length;for(this.__data__=new Ue;++Ze<mt;)this.add(ze[Ze])}function St(ze){var Ze=this.__data__=new qe(ze);this.size=Ze.size}function De(ze,Ze){var mt=ar(ze),pe=!mt&&Zt(ze),Ce=!mt&&!pe&&fr(ze),be=!mt&&!pe&&!Ce&&Dr(ze),Ee=mt||pe||Ce||be,Ae=Ee?function(tt,We){for(var it=-1,et=Array(tt);++it<tt;)et[it]=We(it);return et}(ze.length,String):[],Te=Ae.length;for(var He in ze)!j.call(ze,He)||Ee&&(He=="length"||Ce&&(He=="offset"||He=="parent")||be&&(He=="buffer"||He=="byteLength"||He=="byteOffset")||wr(He,Te))||Ae.push(He);return Ae}function lt(ze,Ze){for(var mt=ze.length;mt--;)if(er(ze[mt][0],Ze))return mt;return-1}function gt(ze){return ze==null?ze===void 0?"[object Undefined]":"[object Null]":G&&G in Object(ze)?function(Ze){var mt=j.call(Ze,G),pe=Ze[G];try{Ze[G]=void 0;var Ce=!0}catch{}var be=T.call(Ze);return Ce&&(mt?Ze[G]=pe:delete Ze[G]),be}(ze):function(Ze){return T.call(Ze)}(ze)}function Ve(ze){return Vt(ze)&&gt(ze)==s}function Dt(ze,Ze,mt,pe,Ce){return ze===Ze||(ze==null||Ze==null||!Vt(ze)&&!Vt(Ze)?ze!=ze&&Ze!=Ze:function(be,Ee,Ae,Te,He,tt){var We=ar(be),it=ar(Ee),et=We?"[object Array]":zt(be),Ct=it?"[object Array]":zt(Ee),Mt=(et=et==s?c:et)==c,Gt=(Ct=Ct==s?c:Ct)==c,Se=et==Ct;if(Se&&fr(be)){if(!fr(Ee))return!1;We=!0,Mt=!1}if(Se&&!Mt)return tt||(tt=new St),We||Dr(be)?ft(be,Ee,Ae,Te,He,tt):function(It,qt,Rr,kr,mr,or,Er){switch(Rr){case"[object DataView]":if(It.byteLength!=qt.byteLength||It.byteOffset!=qt.byteOffset)return!1;It=It.buffer,qt=qt.buffer;case"[object ArrayBuffer]":return!(It.byteLength!=qt.byteLength||!or(new K(It),new K(qt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return er(+It,+qt);case"[object Error]":return It.name==qt.name&&It.message==qt.message;case"[object RegExp]":case"[object String]":return It==qt+"";case l:var Ar=M;case o:var nn=1&kr;if(Ar||(Ar=A),It.size!=qt.size&&!nn)return!1;var Nn=Er.get(It);if(Nn)return Nn==qt;kr|=2,Er.set(It,qt);var Bn=ft(Ar(It),Ar(qt),kr,mr,or,Er);return Er.delete(It),Bn;case"[object Symbol]":if(Re)return Re.call(It)==Re.call(qt)}return!1}(be,Ee,et,Ae,Te,He,tt);if(!(1&Ae)){var Fe=Mt&&j.call(be,"__wrapped__"),ct=Gt&&j.call(Ee,"__wrapped__");if(Fe||ct){var wt=Fe?be.value():be,Wt=ct?Ee.value():Ee;return tt||(tt=new St),He(wt,Wt,Ae,Te,tt)}}return Se?(tt||(tt=new St),function(It,qt,Rr,kr,mr,or){var Er=1&Rr,Ar=jt(It),nn=Ar.length,Nn=jt(qt).length;if(nn!=Nn&&!Er)return!1;for(var Bn=nn;Bn--;){var Kn=Ar[Bn];if(!(Er?Kn in qt:j.call(qt,Kn)))return!1}var Ti=or.get(It);if(Ti&&or.get(qt))return Ti==qt;var ci=!0;or.set(It,qt),or.set(qt,It);for(var vs=Er;++Bn<nn;){Kn=Ar[Bn];var yi=It[Kn],Wa=qt[Kn];if(kr)var Qr=Er?kr(Wa,yi,Kn,qt,It,or):kr(yi,Wa,Kn,It,qt,or);if(!(Qr===void 0?yi===Wa||mr(yi,Wa,Rr,kr,or):Qr)){ci=!1;break}vs||(vs=Kn=="constructor")}if(ci&&!vs){var Gr=It.constructor,Xi=qt.constructor;Gr==Xi||!("constructor"in It)||!("constructor"in qt)||typeof Gr=="function"&&Gr instanceof Gr&&typeof Xi=="function"&&Xi instanceof Xi||(ci=!1)}return or.delete(It),or.delete(qt),ci}(be,Ee,Ae,Te,He,tt)):!1}(ze,Ze,mt,pe,Dt,Ce))}function bt(ze){return!(!dr(ze)||function(Ze){return!!E&&E in Ze}(ze))&&(Sr(ze)?R:u).test(br(ze))}function At(ze){if(mt=(Ze=ze)&&Ze.constructor,pe=typeof mt=="function"&&mt.prototype||L,Ze!==pe)return D(ze);var Ze,mt,pe,Ce=[];for(var be in Object(ze))j.call(ze,be)&&be!="constructor"&&Ce.push(be);return Ce}function ft(ze,Ze,mt,pe,Ce,be){var Ee=1&mt,Ae=ze.length,Te=Ze.length;if(Ae!=Te&&!(Ee&&Te>Ae))return!1;var He=be.get(ze);if(He&&be.get(Ze))return He==Ze;var tt=-1,We=!0,it=2&mt?new vt:void 0;for(be.set(ze,Ze),be.set(Ze,ze);++tt<Ae;){var et=ze[tt],Ct=Ze[tt];if(pe)var Mt=Ee?pe(Ct,et,tt,Ze,ze,be):pe(et,Ct,tt,ze,Ze,be);if(Mt!==void 0){if(Mt)continue;We=!1;break}if(it){if(!P(Ze,function(Gt,Se){if(Fe=Se,!it.has(Fe)&&(et===Gt||Ce(et,Gt,mt,pe,be)))return it.push(Se);var Fe})){We=!1;break}}else if(et!==Ct&&!Ce(et,Ct,mt,pe,be)){We=!1;break}}return be.delete(ze),be.delete(Ze),We}function jt(ze){return function(Ze,mt,pe){var Ce=mt(Ze);return ar(Ze)?Ce:function(be,Ee){for(var Ae=-1,Te=Ee.length,He=be.length;++Ae<Te;)be[He+Ae]=Ee[Ae];return be}(Ce,pe(Ze))}(ze,sr,ur)}function ht(ze,Ze){var mt,pe,Ce=ze.__data__;return((pe=typeof(mt=Ze))=="string"||pe=="number"||pe=="symbol"||pe=="boolean"?mt!=="__proto__":mt===null)?Ce[typeof Ze=="string"?"string":"hash"]:Ce.map}function Lt(ze,Ze){var mt=function(pe,Ce){return pe==null?void 0:pe[Ce]}(ze,Ze);return bt(mt)?mt:void 0}Ie.prototype.clear=function(){this.__data__=he?he(null):{},this.size=0},Ie.prototype.delete=function(ze){var Ze=this.has(ze)&&delete this.__data__[ze];return this.size-=Ze?1:0,Ze},Ie.prototype.get=function(ze){var Ze=this.__data__;if(he){var mt=Ze[ze];return mt==="__lodash_hash_undefined__"?void 0:mt}return j.call(Ze,ze)?Ze[ze]:void 0},Ie.prototype.has=function(ze){var Ze=this.__data__;return he?Ze[ze]!==void 0:j.call(Ze,ze)},Ie.prototype.set=function(ze,Ze){var mt=this.__data__;return this.size+=this.has(ze)?0:1,mt[ze]=he&&Ze===void 0?"__lodash_hash_undefined__":Ze,this},qe.prototype.clear=function(){this.__data__=[],this.size=0},qe.prototype.delete=function(ze){var Ze=this.__data__,mt=lt(Ze,ze);return!(mt<0)&&(mt==Ze.length-1?Ze.pop():ne.call(Ze,mt,1),--this.size,!0)},qe.prototype.get=function(ze){var Ze=this.__data__,mt=lt(Ze,ze);return mt<0?void 0:Ze[mt][1]},qe.prototype.has=function(ze){return lt(this.__data__,ze)>-1},qe.prototype.set=function(ze,Ze){var mt=this.__data__,pe=lt(mt,ze);return pe<0?(++this.size,mt.push([ze,Ze])):mt[pe][1]=Ze,this},Ue.prototype.clear=function(){this.size=0,this.__data__={hash:new Ie,map:new(Q||qe),string:new Ie}},Ue.prototype.delete=function(ze){var Ze=ht(this,ze).delete(ze);return this.size-=Ze?1:0,Ze},Ue.prototype.get=function(ze){return ht(this,ze).get(ze)},Ue.prototype.has=function(ze){return ht(this,ze).has(ze)},Ue.prototype.set=function(ze,Ze){var mt=ht(this,ze),pe=mt.size;return mt.set(ze,Ze),this.size+=mt.size==pe?0:1,this},vt.prototype.add=vt.prototype.push=function(ze){return this.__data__.set(ze,"__lodash_hash_undefined__"),this},vt.prototype.has=function(ze){return this.__data__.has(ze)},St.prototype.clear=function(){this.__data__=new qe,this.size=0},St.prototype.delete=function(ze){var Ze=this.__data__,mt=Ze.delete(ze);return this.size=Ze.size,mt},St.prototype.get=function(ze){return this.__data__.get(ze)},St.prototype.has=function(ze){return this.__data__.has(ze)},St.prototype.set=function(ze,Ze){var mt=this.__data__;if(mt instanceof qe){var pe=mt.__data__;if(!Q||pe.length<199)return pe.push([ze,Ze]),this.size=++mt.size,this;mt=this.__data__=new Ue(pe)}return mt.set(ze,Ze),this.size=mt.size,this};var ur=te?function(ze){return ze==null?[]:(ze=Object(ze),function(Ze,mt){for(var pe=-1,Ce=Ze==null?0:Ze.length,be=0,Ee=[];++pe<Ce;){var Ae=Ze[pe];mt(Ae,pe,Ze)&&(Ee[be++]=Ae)}return Ee}(te(ze),function(Ze){return Z.call(ze,Ze)}))}:function(){return[]},zt=gt;function wr(ze,Ze){return!!(Ze=Ze??9007199254740991)&&(typeof ze=="number"||d.test(ze))&&ze>-1&&ze%1==0&&ze<Ze}function br(ze){if(ze!=null){try{return k.call(ze)}catch{}try{return ze+""}catch{}}return""}function er(ze,Ze){return ze===Ze||ze!=ze&&Ze!=Ze}(X&&zt(new X(new ArrayBuffer(1)))!="[object DataView]"||Q&&zt(new Q)!=l||re&&zt(re.resolve())!="[object Promise]"||oe&&zt(new oe)!=o||se&&zt(new se)!="[object WeakMap]")&&(zt=function(ze){var Ze=gt(ze),mt=Ze==c?ze.constructor:void 0,pe=mt?br(mt):"";if(pe)switch(pe){case le:return"[object DataView]";case de:return l;case ve:return"[object Promise]";case ge:return o;case ke:return"[object WeakMap]"}return Ze});var Zt=Ve(function(){return arguments}())?Ve:function(ze){return Vt(ze)&&j.call(ze,"callee")&&!Z.call(ze,"callee")},ar=Array.isArray,fr=I||function(){return!1};function Sr(ze){if(!dr(ze))return!1;var Ze=gt(ze);return Ze=="[object Function]"||Ze=="[object GeneratorFunction]"||Ze=="[object AsyncFunction]"||Ze=="[object Proxy]"}function Ur(ze){return typeof ze=="number"&&ze>-1&&ze%1==0&&ze<=9007199254740991}function dr(ze){var Ze=typeof ze;return ze!=null&&(Ze=="object"||Ze=="function")}function Vt(ze){return ze!=null&&typeof ze=="object"}var Dr=N?function(ze){return function(Ze){return ze(Ze)}}(N):function(ze){return Vt(ze)&&Ur(ze.length)&&!!f[gt(ze)]};function sr(ze){return(Ze=ze)!=null&&Ur(Ze.length)&&!Sr(Ze)?De(ze):At(ze);var Ze}n.exports=function(ze,Ze){return Dt(ze,Ze)}}).call(this)}).call(this,typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,i){(function(a){(function(){var s=typeof a=="object"&&a&&a.Object===Object&&a,l=typeof self=="object"&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),o=Object.prototype,u=o.hasOwnProperty,d=o.toString,f=c.Symbol,h=f?f.toStringTag:void 0;function y(m){return m==null?m===void 0?"[object Undefined]":"[object Null]":h&&h in Object(m)?function(g){var v=u.call(g,h),b=g[h];try{g[h]=void 0;var w=!0}catch{}var _=d.call(g);return w&&(v?g[h]=b:delete g[h]),_}(m):function(g){return d.call(g)}(m)}n.exports=function(m){if(!function(v){var b=typeof v;return v!=null&&(b=="object"||b=="function")}(m))return!1;var g=y(m);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}}).call(this)}).call(this,typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,i){n.exports=function(a){return a==null}},{}],448:[function(e,n,i){n.exports=function(a){return a===void 0}},{}],449:[function(e,n,i){(function(a){(function(){var s=/^\[object .+?Constructor\]$/,l=typeof a=="object"&&a&&a.Object===Object&&a,c=typeof self=="object"&&self&&self.Object===Object&&self,o=l||c||Function("return this")();function u(B,K){return!!(B&&B.length)&&function(Z,ne,G){if(ne!=ne)return function(D,X,Q,re){for(var oe=D.length,se=Q+-1;++se<oe;)if(X(D[se],se,D))return se;return-1}(Z,d,G);for(var te=G-1,I=Z.length;++te<I;)if(Z[te]===ne)return te;return-1}(B,K,0)>-1}function d(B){return B!=B}function f(B,K){return B.has(K)}function h(B){var K=-1,Z=Array(B.size);return B.forEach(function(ne){Z[++K]=ne}),Z}var y,m=Array.prototype,g=Function.prototype,v=Object.prototype,b=o["__core-js_shared__"],w=(y=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",_=g.toString,N=v.hasOwnProperty,P=v.toString,M=RegExp("^"+_.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=m.splice,F=R(o,"Map"),H=R(o,"Set"),z=R(Object,"create");function U(B){var K=-1,Z=B?B.length:0;for(this.clear();++K<Z;){var ne=B[K];this.set(ne[0],ne[1])}}function O(B){var K=-1,Z=B?B.length:0;for(this.clear();++K<Z;){var ne=B[K];this.set(ne[0],ne[1])}}function L(B){var K=-1,Z=B?B.length:0;for(this.clear();++K<Z;){var ne=B[K];this.set(ne[0],ne[1])}}function C(B){var K=-1,Z=B?B.length:0;for(this.__data__=new L;++K<Z;)this.add(B[K])}function k(B,K){for(var Z,ne,G=B.length;G--;)if((Z=B[G][0])===(ne=K)||Z!=Z&&ne!=ne)return G;return-1}function j(B){return!(!V(B)||(K=B,w&&w in K))&&(function(Z){var ne=V(Z)?P.call(Z):"";return ne=="[object Function]"||ne=="[object GeneratorFunction]"}(B)||function(Z){var ne=!1;if(Z!=null&&typeof Z.toString!="function")try{ne=!!(Z+"")}catch{}return ne}(B)?M:s).test(function(Z){if(Z!=null){try{return _.call(Z)}catch{}try{return Z+""}catch{}}return""}(B));var K}U.prototype.clear=function(){this.__data__=z?z(null):{}},U.prototype.delete=function(B){return this.has(B)&&delete this.__data__[B]},U.prototype.get=function(B){var K=this.__data__;if(z){var Z=K[B];return Z==="__lodash_hash_undefined__"?void 0:Z}return N.call(K,B)?K[B]:void 0},U.prototype.has=function(B){var K=this.__data__;return z?K[B]!==void 0:N.call(K,B)},U.prototype.set=function(B,K){return this.__data__[B]=z&&K===void 0?"__lodash_hash_undefined__":K,this},O.prototype.clear=function(){this.__data__=[]},O.prototype.delete=function(B){var K=this.__data__,Z=k(K,B);return!(Z<0)&&(Z==K.length-1?K.pop():A.call(K,Z,1),!0)},O.prototype.get=function(B){var K=this.__data__,Z=k(K,B);return Z<0?void 0:K[Z][1]},O.prototype.has=function(B){return k(this.__data__,B)>-1},O.prototype.set=function(B,K){var Z=this.__data__,ne=k(Z,B);return ne<0?Z.push([B,K]):Z[ne][1]=K,this},L.prototype.clear=function(){this.__data__={hash:new U,map:new(F||O),string:new U}},L.prototype.delete=function(B){return T(this,B).delete(B)},L.prototype.get=function(B){return T(this,B).get(B)},L.prototype.has=function(B){return T(this,B).has(B)},L.prototype.set=function(B,K){return T(this,B).set(B,K),this},C.prototype.add=C.prototype.push=function(B){return this.__data__.set(B,"__lodash_hash_undefined__"),this},C.prototype.has=function(B){return this.__data__.has(B)};var E=H&&1/h(new H([,-0]))[1]==1/0?function(B){return new H(B)}:function(){};function T(B,K){var Z,ne,G=B.__data__;return((ne=typeof(Z=K))=="string"||ne=="number"||ne=="symbol"||ne=="boolean"?Z!=="__proto__":Z===null)?G[typeof K=="string"?"string":"hash"]:G.map}function R(B,K){var Z=function(ne,G){return ne==null?void 0:ne[G]}(B,K);return j(Z)?Z:void 0}function V(B){var K=typeof B;return!!B&&(K=="object"||K=="function")}n.exports=function(B){return B&&B.length?function(K,Z,ne){var G=-1,te=u,I=K.length,D=!0,X=[],Q=X;if(I>=200){var re=E(K);if(re)return h(re);D=!1,te=f,Q=new C}else Q=X;e:for(;++G<I;){var oe=K[G],se=oe;if(oe=oe!==0?oe:0,D&&se==se){for(var he=Q.length;he--;)if(Q[he]===se)continue e;X.push(oe)}else te(Q,se,ne)||(Q!==X&&Q.push(se),X.push(oe))}return X}(B):[]}}).call(this)}).call(this,typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,i){var a=e("inherits"),s=e("hash-base"),l=e("safe-buffer").Buffer,c=new Array(16);function o(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(m,g){return m<<g|m>>>32-g}function d(m,g,v,b,w,_,N){return u(m+(g&v|~g&b)+w+_|0,N)+g|0}function f(m,g,v,b,w,_,N){return u(m+(g&b|v&~b)+w+_|0,N)+g|0}function h(m,g,v,b,w,_,N){return u(m+(g^v^b)+w+_|0,N)+g|0}function y(m,g,v,b,w,_,N){return u(m+(v^(g|~b))+w+_|0,N)+g|0}a(o,s),o.prototype._update=function(){for(var m=c,g=0;g<16;++g)m[g]=this._block.readInt32LE(4*g);var v=this._a,b=this._b,w=this._c,_=this._d;v=d(v,b,w,_,m[0],3614090360,7),_=d(_,v,b,w,m[1],3905402710,12),w=d(w,_,v,b,m[2],606105819,17),b=d(b,w,_,v,m[3],3250441966,22),v=d(v,b,w,_,m[4],4118548399,7),_=d(_,v,b,w,m[5],1200080426,12),w=d(w,_,v,b,m[6],2821735955,17),b=d(b,w,_,v,m[7],4249261313,22),v=d(v,b,w,_,m[8],1770035416,7),_=d(_,v,b,w,m[9],2336552879,12),w=d(w,_,v,b,m[10],4294925233,17),b=d(b,w,_,v,m[11],2304563134,22),v=d(v,b,w,_,m[12],1804603682,7),_=d(_,v,b,w,m[13],4254626195,12),w=d(w,_,v,b,m[14],2792965006,17),v=f(v,b=d(b,w,_,v,m[15],1236535329,22),w,_,m[1],4129170786,5),_=f(_,v,b,w,m[6],3225465664,9),w=f(w,_,v,b,m[11],643717713,14),b=f(b,w,_,v,m[0],3921069994,20),v=f(v,b,w,_,m[5],3593408605,5),_=f(_,v,b,w,m[10],38016083,9),w=f(w,_,v,b,m[15],3634488961,14),b=f(b,w,_,v,m[4],3889429448,20),v=f(v,b,w,_,m[9],568446438,5),_=f(_,v,b,w,m[14],3275163606,9),w=f(w,_,v,b,m[3],4107603335,14),b=f(b,w,_,v,m[8],1163531501,20),v=f(v,b,w,_,m[13],2850285829,5),_=f(_,v,b,w,m[2],4243563512,9),w=f(w,_,v,b,m[7],1735328473,14),v=h(v,b=f(b,w,_,v,m[12],2368359562,20),w,_,m[5],4294588738,4),_=h(_,v,b,w,m[8],2272392833,11),w=h(w,_,v,b,m[11],1839030562,16),b=h(b,w,_,v,m[14],4259657740,23),v=h(v,b,w,_,m[1],2763975236,4),_=h(_,v,b,w,m[4],1272893353,11),w=h(w,_,v,b,m[7],4139469664,16),b=h(b,w,_,v,m[10],3200236656,23),v=h(v,b,w,_,m[13],681279174,4),_=h(_,v,b,w,m[0],3936430074,11),w=h(w,_,v,b,m[3],3572445317,16),b=h(b,w,_,v,m[6],76029189,23),v=h(v,b,w,_,m[9],3654602809,4),_=h(_,v,b,w,m[12],3873151461,11),w=h(w,_,v,b,m[15],530742520,16),v=y(v,b=h(b,w,_,v,m[2],3299628645,23),w,_,m[0],4096336452,6),_=y(_,v,b,w,m[7],1126891415,10),w=y(w,_,v,b,m[14],2878612391,15),b=y(b,w,_,v,m[5],4237533241,21),v=y(v,b,w,_,m[12],1700485571,6),_=y(_,v,b,w,m[3],2399980690,10),w=y(w,_,v,b,m[10],4293915773,15),b=y(b,w,_,v,m[1],2240044497,21),v=y(v,b,w,_,m[8],1873313359,6),_=y(_,v,b,w,m[15],4264355552,10),w=y(w,_,v,b,m[6],2734768916,15),b=y(b,w,_,v,m[13],1309151649,21),v=y(v,b,w,_,m[4],4149444226,6),_=y(_,v,b,w,m[11],3174756917,10),w=y(w,_,v,b,m[2],718787259,15),b=y(b,w,_,v,m[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+b|0,this._c=this._c+w|0,this._d=this._d+_|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var m=l.allocUnsafe(16);return m.writeInt32LE(this._a,0),m.writeInt32LE(this._b,4),m.writeInt32LE(this._c,8),m.writeInt32LE(this._d,12),m},n.exports=o},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,i){var a=e("bn.js"),s=e("brorand");function l(c){this.rand=c||new s.Rand}n.exports=l,l.create=function(c){return new l(c)},l.prototype._randbelow=function(c){var o=c.bitLength(),u=Math.ceil(o/8);do var d=new a(this.rand.generate(u));while(d.cmp(c)>=0);return d},l.prototype._randrange=function(c,o){var u=o.sub(c);return c.add(this._randbelow(u))},l.prototype.test=function(c,o,u){var d=c.bitLength(),f=a.mont(c),h=new a(1).toRed(f);o||(o=Math.max(1,d/48|0));for(var y=c.subn(1),m=0;!y.testn(m);m++);for(var g=c.shrn(m),v=y.toRed(f);o>0;o--){var b=this._randrange(new a(2),y);u&&u(b);var w=b.toRed(f).redPow(g);if(w.cmp(h)!==0&&w.cmp(v)!==0){for(var _=1;_<m;_++){if((w=w.redSqr()).cmp(h)===0)return!1;if(w.cmp(v)===0)break}if(_===m)return!1}}return!0},l.prototype.getDivisor=function(c,o){var u=c.bitLength(),d=a.mont(c),f=new a(1).toRed(d);o||(o=Math.max(1,u/48|0));for(var h=c.subn(1),y=0;!h.testn(y);y++);for(var m=c.shrn(y),g=h.toRed(d);o>0;o--){var v=this._randrange(new a(2),h),b=c.gcd(v);if(b.cmpn(1)!==0)return b;var w=v.toRed(d).redPow(m);if(w.cmp(f)!==0&&w.cmp(g)!==0){for(var _=1;_<y;_++){if((w=w.redSqr()).cmp(f)===0)return w.fromRed().subn(1).gcd(c);if(w.cmp(g)===0)break}if(_===y)return(w=w.redSqr()).fromRed().subn(1).gcd(c)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(e,n,i){function a(s,l){if(!s)throw new Error(l||"Assertion failed")}n.exports=a,a.equal=function(s,l,c){if(s!=l)throw new Error(c||"Assertion failed: "+s+" != "+l)}},{}],454:[function(e,n,i){var a=i;function s(c){return c.length===1?"0"+c:c}function l(c){for(var o="",u=0;u<c.length;u++)o+=s(c[u].toString(16));return o}a.toArray=function(c,o){if(Array.isArray(c))return c.slice();if(!c)return[];var u=[];if(typeof c!="string"){for(var d=0;d<c.length;d++)u[d]=0|c[d];return u}if(o==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),d=0;d<c.length;d+=2)u.push(parseInt(c[d]+c[d+1],16));else for(d=0;d<c.length;d++){var f=c.charCodeAt(d),h=f>>8,y=255&f;h?u.push(h,y):u.push(y)}return u},a.zero2=s,a.toHex=l,a.encode=function(c,o){return o==="hex"?l(c):c}},{}],455:[function(e,n,i){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,i){var a=e("asn1.js");i.certificate=e("./certificate");var s=a.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=s;var l=a.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=l;var c=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())});i.PublicKey=c;var o=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=a.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())});i.PrivateKey=u;var d=a.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=d;var f=a.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=f,i.DSAparam=a.define("DSAparam",function(){this.int()});var h=a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(y),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=h;var y=a.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=a.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,n,i){var a=e("asn1.js"),s=a.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),l=a.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),c=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())}),u=a.define("RelativeDistinguishedName",function(){this.setof(l)}),d=a.define("RDNSequence",function(){this.seqof(u)}),f=a.define("Name",function(){this.choice({rdnSequence:this.use(d)})}),h=a.define("Validity",function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))}),y=a.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),m=a.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(c),this.key("issuer").use(f),this.key("validity").use(h),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(y).optional())}),g=a.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(m),this.key("signatureAlgorithm").use(c),this.key("signatureValue").bitstr())});n.exports=g},{"asn1.js":170}],458:[function(e,n,i){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,l=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,c=e("evp_bytestokey"),o=e("browserify-aes"),u=e("safe-buffer").Buffer;n.exports=function(d,f){var h,y=d.toString(),m=y.match(a);if(m){var g="aes"+m[1],v=u.from(m[2],"hex"),b=u.from(m[3].replace(/[\r\n]/g,""),"base64"),w=c(f,v.slice(0,8),parseInt(m[1],10)).key,_=[],N=o.createDecipheriv(g,w,v);_.push(N.update(b)),_.push(N.final()),h=u.concat(_)}else{var P=y.match(l);h=u.from(P[2].replace(/[\r\n]/g,""),"base64")}return{tag:y.match(s)[1],data:h}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,i){var a=e("./asn1"),s=e("./aesid.json"),l=e("./fixProc"),c=e("browserify-aes"),o=e("pbkdf2"),u=e("safe-buffer").Buffer;function d(f){var h;typeof f!="object"||u.isBuffer(f)||(h=f.passphrase,f=f.key),typeof f=="string"&&(f=u.from(f));var y,m,g=l(f,h),v=g.tag,b=g.data;switch(v){case"CERTIFICATE":m=a.certificate.decode(b,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(m||(m=a.PublicKey.decode(b,"der")),y=m.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(m.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return m.subjectPrivateKey=m.subjectPublicKey,{type:"ec",data:m};case"1.2.840.10040.4.1":return m.algorithm.params.pub_key=a.DSAparam.decode(m.subjectPublicKey.data,"der"),{type:"dsa",data:m.algorithm.params};default:throw new Error("unknown key id "+y)}case"ENCRYPTED PRIVATE KEY":b=function(w,_){var N=w.algorithm.decrypt.kde.kdeparams.salt,P=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),M=s[w.algorithm.decrypt.cipher.algo.join(".")],A=w.algorithm.decrypt.cipher.iv,F=w.subjectPrivateKey,H=parseInt(M.split("-")[1],10)/8,z=o.pbkdf2Sync(_,N,P,H,"sha1"),U=c.createDecipheriv(M,z,A),O=[];return O.push(U.update(F)),O.push(U.final()),u.concat(O)}(b=a.EncryptedPrivateKey.decode(b,"der"),h);case"PRIVATE KEY":switch(y=(m=a.PrivateKey.decode(b,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(m.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:m.algorithm.curve,privateKey:a.ECPrivateKey.decode(m.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return m.algorithm.params.priv_key=a.DSAparam.decode(m.subjectPrivateKey,"der"),{type:"dsa",params:m.algorithm.params};default:throw new Error("unknown key id "+y)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(b,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(b,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(b,"der")};case"EC PRIVATE KEY":return{curve:(b=a.ECPrivateKey.decode(b,"der")).parameters.value,privateKey:b.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=d,d.signature=a.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,i){i.pbkdf2=e("./lib/async"),i.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,i){(function(a){(function(){var s,l,c=e("safe-buffer").Buffer,o=e("./precondition"),u=e("./default-encoding"),d=e("./sync"),f=e("./to-buffer"),h=a.crypto&&a.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},m=[];function g(){return l||(l=a.process&&a.process.nextTick?a.process.nextTick:a.queueMicrotask?a.queueMicrotask:a.setImmediate?a.setImmediate:a.setTimeout)}function v(b,w,_,N,P){return h.importKey("raw",b,{name:"PBKDF2"},!1,["deriveBits"]).then(function(M){return h.deriveBits({name:"PBKDF2",salt:w,iterations:_,hash:{name:P}},M,N<<3)}).then(function(M){return c.from(M)})}n.exports=function(b,w,_,N,P,M){typeof P=="function"&&(M=P,P=void 0);var A=y[(P=P||"sha1").toLowerCase()];if(A&&typeof a.Promise=="function"){if(o(_,N),b=f(b,u,"Password"),w=f(w,u,"Salt"),typeof M!="function")throw new Error("No callback provided to pbkdf2");(function(F,H){F.then(function(z){g()(function(){H(null,z)})},function(z){g()(function(){H(z)})})})(function(F){if(a.process&&!a.process.browser||!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(m[F]!==void 0)return m[F];var H=v(s=s||c.alloc(8),s,10,128,F).then(function(){return!0}).catch(function(){return!1});return m[F]=H,H}(A).then(function(F){return F?v(b,w,_,N,A):d(b,w,_,N,P)}),M)}else g()(function(){var F;try{F=d(b,w,_,N,P)}catch(H){return M(H)}M(null,F)})}}).call(this)}).call(this,typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,i){(function(a,s){(function(){var l;s.process&&s.process.browser?l="utf-8":s.process&&s.process.version?l=parseInt(a.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":l="utf-8",n.exports=l}).call(this)}).call(this,e("_process"),typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,i){var a=Math.pow(2,30)-1;n.exports=function(s,l){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof l!="number")throw new TypeError("Key length not a number");if(l<0||l>a||l!=l)throw new TypeError("Bad key length")}},{}],464:[function(e,n,i){var a=e("create-hash/md5"),s=e("ripemd160"),l=e("sha.js"),c=e("safe-buffer").Buffer,o=e("./precondition"),u=e("./default-encoding"),d=e("./to-buffer"),f=c.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function y(m,g,v){var b=function(A){function F(H){return l(A).update(H).digest()}return A==="rmd160"||A==="ripemd160"?function(H){return new s().update(H).digest()}:A==="md5"?a:F}(m),w=m==="sha512"||m==="sha384"?128:64;g.length>w?g=b(g):g.length<w&&(g=c.concat([g,f],w));for(var _=c.allocUnsafe(w+h[m]),N=c.allocUnsafe(w+h[m]),P=0;P<w;P++)_[P]=54^g[P],N[P]=92^g[P];var M=c.allocUnsafe(w+v+4);_.copy(M,0,0,w),this.ipad1=M,this.ipad2=_,this.opad=N,this.alg=m,this.blocksize=w,this.hash=b,this.size=h[m]}y.prototype.run=function(m,g){return m.copy(g,this.blocksize),this.hash(g).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(m,g,v,b,w){o(v,b);var _=new y(w=w||"sha1",m=d(m,u,"Password"),(g=d(g,u,"Salt")).length),N=c.allocUnsafe(b),P=c.allocUnsafe(g.length+4);g.copy(P,0,0,g.length);for(var M=0,A=h[w],F=Math.ceil(b/A),H=1;H<=F;H++){P.writeUInt32BE(H,g.length);for(var z=_.run(P,_.ipad1),U=z,O=1;O<v;O++){U=_.run(U,_.ipad2);for(var L=0;L<A;L++)z[L]^=U[L]}z.copy(N,M),M+=A}return N}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,i){var a=e("safe-buffer").Buffer;n.exports=function(s,l,c){if(a.isBuffer(s))return s;if(typeof s=="string")return a.from(s,l);if(ArrayBuffer.isView(s))return a.from(s.buffer);throw new TypeError(c+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,i){(function(a){(function(){a===void 0||!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(s,l,c,o){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var u,d,f=arguments.length;switch(f){case 0:case 1:return a.nextTick(s);case 2:return a.nextTick(function(){s.call(null,l)});case 3:return a.nextTick(function(){s.call(null,l,c)});case 4:return a.nextTick(function(){s.call(null,l,c,o)});default:for(u=new Array(f-1),d=0;d<u.length;)u[d++]=arguments[d];return a.nextTick(function(){s.apply(null,u)})}}}:n.exports=a}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,i){var a,s,l=n.exports={};function c(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(w){if(a===setTimeout)return setTimeout(w,0);if((a===c||!a)&&setTimeout)return a=setTimeout,setTimeout(w,0);try{return a(w,0)}catch{try{return a.call(null,w,0)}catch{return a.call(this,w,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:c}catch{a=c}try{s=typeof clearTimeout=="function"?clearTimeout:o}catch{s=o}})();var d,f=[],h=!1,y=-1;function m(){h&&d&&(h=!1,d.length?f=d.concat(f):y=-1,f.length&&g())}function g(){if(!h){var w=u(m);h=!0;for(var _=f.length;_;){for(d=f,f=[];++y<_;)d&&d[y].run();y=-1,_=f.length}d=null,h=!1,function(N){if(s===clearTimeout)return clearTimeout(N);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(N);try{s(N)}catch{try{return s.call(null,N)}catch{return s.call(this,N)}}}(w)}}function v(w,_){this.fun=w,this.array=_}function b(){}l.nextTick=function(w){var _=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)_[N-1]=arguments[N];f.push(new v(w,_)),f.length!==1||h||u(g)},v.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=b,l.addListener=b,l.once=b,l.off=b,l.removeListener=b,l.removeAllListeners=b,l.emit=b,l.prependListener=b,l.prependOnceListener=b,l.listeners=function(w){return[]},l.binding=function(w){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(w){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],468:[function(e,n,i){i.publicEncrypt=e("./publicEncrypt"),i.privateDecrypt=e("./privateDecrypt"),i.privateEncrypt=function(a,s){return i.publicEncrypt(a,s,!0)},i.publicDecrypt=function(a,s){return i.privateDecrypt(a,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,i){var a=e("create-hash"),s=e("safe-buffer").Buffer;function l(c){var o=s.allocUnsafe(4);return o.writeUInt32BE(c,0),o}n.exports=function(c,o){for(var u,d=s.alloc(0),f=0;d.length<o;)u=l(f++),d=s.concat([d,a("sha1").update(c).update(u).digest()]);return d.slice(0,o)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(e,n,i){var a=e("parse-asn1"),s=e("./mgf"),l=e("./xor"),c=e("bn.js"),o=e("browserify-rsa"),u=e("create-hash"),d=e("./withPublic"),f=e("safe-buffer").Buffer;n.exports=function(h,y,m){var g;g=h.padding?h.padding:m?1:4;var v,b=a(h),w=b.modulus.byteLength();if(y.length>w||new c(y).cmp(b.modulus)>=0)throw new Error("decryption error");v=m?d(new c(y),b):o(y,b);var _=f.alloc(w-v.length);if(v=f.concat([_,v],w),g===4)return function(N,P){var M=N.modulus.byteLength(),A=u("sha1").update(f.alloc(0)).digest(),F=A.length;if(P[0]!==0)throw new Error("decryption error");var H=P.slice(1,F+1),z=P.slice(F+1),U=l(H,s(z,F)),O=l(z,s(U,M-F-1));if(function(C,k){C=f.from(C),k=f.from(k);var j=0,E=C.length;C.length!==k.length&&(j++,E=Math.min(C.length,k.length));for(var T=-1;++T<E;)j+=C[T]^k[T];return j}(A,O.slice(0,F)))throw new Error("decryption error");for(var L=F;O[L]===0;)L++;if(O[L++]!==1)throw new Error("decryption error");return O.slice(L)}(b,v);if(g===1)return function(N,P,M){for(var A=P.slice(0,2),F=2,H=0;P[F++]!==0;)if(F>=P.length){H++;break}var z=P.slice(2,F-1);if((A.toString("hex")!=="0002"&&!M||A.toString("hex")!=="0001"&&M)&&H++,z.length<8&&H++,H)throw new Error("decryption error");return P.slice(F)}(0,v,m);if(g===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,i){var a=e("parse-asn1"),s=e("randombytes"),l=e("create-hash"),c=e("./mgf"),o=e("./xor"),u=e("bn.js"),d=e("./withPublic"),f=e("browserify-rsa"),h=e("safe-buffer").Buffer;n.exports=function(y,m,g){var v;v=y.padding?y.padding:g?1:4;var b,w=a(y);if(v===4)b=function(_,N){var P=_.modulus.byteLength(),M=N.length,A=l("sha1").update(h.alloc(0)).digest(),F=A.length,H=2*F;if(M>P-H-2)throw new Error("message too long");var z=h.alloc(P-M-H-2),U=P-F-1,O=s(F),L=o(h.concat([A,z,h.alloc(1,1),N],U),c(O,U)),C=o(O,c(L,F));return new u(h.concat([h.alloc(1),C,L],P))}(w,m);else if(v===1)b=function(_,N,P){var M,A=N.length,F=_.modulus.byteLength();if(A>F-11)throw new Error("message too long");return M=P?h.alloc(F-A-3,255):function(H){for(var z,U=h.allocUnsafe(H),O=0,L=s(2*H),C=0;O<H;)C===L.length&&(L=s(2*H),C=0),(z=L[C++])&&(U[O++]=z);return U}(F-A-3),new u(h.concat([h.from([0,P?1:2]),M,h.alloc(1),N],F))}(w,m,g);else{if(v!==3)throw new Error("unknown padding");if((b=new u(m)).cmp(w.modulus)>=0)throw new Error("data too long for modulus")}return g?f(b,w):d(b,w)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,i){var a=e("bn.js"),s=e("safe-buffer").Buffer;n.exports=function(l,c){return s.from(l.toRed(a.mont(c.modulus)).redPow(new a(c.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,i){n.exports=function(a,s){for(var l=a.length,c=-1;++c<l;)a[c]^=s[c];return a}},{}],475:[function(e,n,i){(function(a,s){(function(){var l=e("safe-buffer").Buffer,c=s.crypto||s.msCrypto;c&&c.getRandomValues?n.exports=function(o,u){if(o>4294967295)throw new RangeError("requested too many random bytes");var d=l.allocUnsafe(o);if(o>0)if(o>65536)for(var f=0;f<o;f+=65536)c.getRandomValues(d.slice(f,f+65536));else c.getRandomValues(d);return typeof u=="function"?a.nextTick(function(){u(null,d)}):d}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,i){(function(a,s){(function(){function l(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var c=e("safe-buffer"),o=e("randombytes"),u=c.Buffer,d=c.kMaxLength,f=s.crypto||s.msCrypto,h=Math.pow(2,32)-1;function y(v,b){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>h||v<0)throw new TypeError("offset must be a uint32");if(v>d||v>b)throw new RangeError("offset out of range")}function m(v,b,w){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>h||v<0)throw new TypeError("size must be a uint32");if(v+b>w||v>d)throw new RangeError("buffer too small")}function g(v,b,w,_){if(a.browser){var N=v.buffer,P=new Uint8Array(N,b,w);return f.getRandomValues(P),_?void a.nextTick(function(){_(null,v)}):v}if(!_)return o(w).copy(v,b),v;o(w,function(M,A){if(M)return _(M);A.copy(v,b),_(null,v)})}f&&f.getRandomValues||!a.browser?(i.randomFill=function(v,b,w,_){if(!(u.isBuffer(v)||v instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")_=b,b=0,w=v.length;else if(typeof w=="function")_=w,w=v.length-b;else if(typeof _!="function")throw new TypeError('"cb" argument must be a function');return y(b,v.length),m(w,b,v.length),g(v,b,w,_)},i.randomFillSync=function(v,b,w){if(b===void 0&&(b=0),!(u.isBuffer(v)||v instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return y(b,v.length),w===void 0&&(w=v.length-b),m(w,b,v.length),g(v,b,w)}):(i.randomFill=l,i.randomFillSync=l)}).call(this)}).call(this,e("_process"),typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,i){var a={};function s(c,o,u){u||(u=Error);var d=function(f){var h,y;function m(g,v,b){return f.call(this,function(w,_,N){return typeof o=="string"?o:o(w,_,N)}(g,v,b))||this}return y=f,(h=m).prototype=Object.create(y.prototype),h.prototype.constructor=h,h.__proto__=y,m}(u);d.prototype.name=u.name,d.prototype.code=c,a[c]=d}function l(c,o){if(Array.isArray(c)){var u=c.length;return c=c.map(function(d){return String(d)}),u>2?"one of ".concat(o," ").concat(c.slice(0,u-1).join(", "),", or ")+c[u-1]:u===2?"one of ".concat(o," ").concat(c[0]," or ").concat(c[1]):"of ".concat(o," ").concat(c[0])}return"of ".concat(o," ").concat(String(c))}s("ERR_INVALID_OPT_VALUE",function(c,o){return'The value "'+o+'" is invalid for option "'+c+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(c,o,u){var d,f,h;if(typeof o=="string"&&(f="not ",o.substr(0,f.length)===f)?(d="must not be",o=o.replace(/^not /,"")):d="must be",function(m,g,v){return(v===void 0||v>m.length)&&(v=m.length),m.substring(v-g.length,v)===g}(c," argument"))h="The ".concat(c," ").concat(d," ").concat(l(o,"type"));else{var y=function(m,g,v){return typeof v!="number"&&(v=0),!(v+g.length>m.length)&&m.indexOf(g,v)!==-1}(c,".")?"property":"argument";h='The "'.concat(c,'" ').concat(y," ").concat(d," ").concat(l(o,"type"))}return h+=". Received type ".concat(typeof u)},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=a},{}],478:[function(e,n,i){(function(a){(function(){var s=Object.keys||function(m){var g=[];for(var v in m)g.push(v);return g};n.exports=f;var l=e("./_stream_readable"),c=e("./_stream_writable");e("inherits")(f,l);for(var o=s(c.prototype),u=0;u<o.length;u++){var d=o[u];f.prototype[d]||(f.prototype[d]=c.prototype[d])}function f(m){if(!(this instanceof f))return new f(m);l.call(this,m),c.call(this,m),this.allowHalfOpen=!0,m&&(m.readable===!1&&(this.readable=!1),m.writable===!1&&(this.writable=!1),m.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||a.nextTick(y,this)}function y(m){m.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,i){n.exports=s;var a=e("./_stream_transform");function s(l){if(!(this instanceof s))return new s(l);a.call(this,l)}e("inherits")(s,a),s.prototype._transform=function(l,c,o){o(null,l)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,i){(function(a,s){(function(){var l;n.exports=U,U.ReadableState=z,e("events").EventEmitter;var c=function(I,D){return I.listeners(D).length},o=e("./internal/streams/stream"),u=e("buffer").Buffer,d=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,h=e("util");f=h&&h.debuglog?h.debuglog("stream"):function(){};var y,m,g,v=e("./internal/streams/buffer_list"),b=e("./internal/streams/destroy"),w=e("./internal/streams/state").getHighWaterMark,_=e("../errors").codes,N=_.ERR_INVALID_ARG_TYPE,P=_.ERR_STREAM_PUSH_AFTER_EOF,M=_.ERR_METHOD_NOT_IMPLEMENTED,A=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(U,o);var F=b.errorOrDestroy,H=["error","close","destroy","pause","resume"];function z(I,D,X){l=l||e("./_stream_duplex"),I=I||{},typeof X!="boolean"&&(X=D instanceof l),this.objectMode=!!I.objectMode,X&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=w(this,I,"readableHighWaterMark",X),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(y||(y=e("string_decoder/").StringDecoder),this.decoder=new y(I.encoding),this.encoding=I.encoding)}function U(I){if(l=l||e("./_stream_duplex"),!(this instanceof U))return new U(I);var D=this instanceof l;this._readableState=new z(I,this,D),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),o.call(this)}function O(I,D,X,Q,re){f("readableAddChunk",D);var oe,se=I._readableState;if(D===null)se.reading=!1,function(he,le){if(f("onEofChunk"),!le.ended){if(le.decoder){var de=le.decoder.end();de&&de.length&&(le.buffer.push(de),le.length+=le.objectMode?1:de.length)}le.ended=!0,le.sync?k(he):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,j(he)))}}(I,se);else if(re||(oe=function(he,le){var de;ve=le,u.isBuffer(ve)||ve instanceof d||typeof le=="string"||le===void 0||he.objectMode||(de=new N("chunk",["string","Buffer","Uint8Array"],le));var ve;return de}(se,D)),oe)F(I,oe);else if(se.objectMode||D&&D.length>0)if(typeof D=="string"||se.objectMode||Object.getPrototypeOf(D)===u.prototype||(D=function(he){return u.from(he)}(D)),Q)se.endEmitted?F(I,new A):L(I,se,D,!0);else if(se.ended)F(I,new P);else{if(se.destroyed)return!1;se.reading=!1,se.decoder&&!X?(D=se.decoder.write(D),se.objectMode||D.length!==0?L(I,se,D,!1):E(I,se)):L(I,se,D,!1)}else Q||(se.reading=!1,E(I,se));return!se.ended&&(se.length<se.highWaterMark||se.length===0)}function L(I,D,X,Q){D.flowing&&D.length===0&&!D.sync?(D.awaitDrain=0,I.emit("data",X)):(D.length+=D.objectMode?1:X.length,Q?D.buffer.unshift(X):D.buffer.push(X),D.needReadable&&k(I)),E(I,D)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),U.prototype.destroy=b.destroy,U.prototype._undestroy=b.undestroy,U.prototype._destroy=function(I,D){D(I)},U.prototype.push=function(I,D){var X,Q=this._readableState;return Q.objectMode?X=!0:typeof I=="string"&&((D=D||Q.defaultEncoding)!==Q.encoding&&(I=u.from(I,D),D=""),X=!0),O(this,I,D,!1,X)},U.prototype.unshift=function(I){return O(this,I,null,!0,!1)},U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(I){y||(y=e("string_decoder/").StringDecoder);var D=new y(I);this._readableState.decoder=D,this._readableState.encoding=this._readableState.decoder.encoding;for(var X=this._readableState.buffer.head,Q="";X!==null;)Q+=D.write(X.data),X=X.next;return this._readableState.buffer.clear(),Q!==""&&this._readableState.buffer.push(Q),this._readableState.length=Q.length,this};function C(I,D){return I<=0||D.length===0&&D.ended?0:D.objectMode?1:I!=I?D.flowing&&D.length?D.buffer.head.data.length:D.length:(I>D.highWaterMark&&(D.highWaterMark=function(X){return X>=1073741824?X=1073741824:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}(I)),I<=D.length?I:D.ended?D.length:(D.needReadable=!0,0))}function k(I){var D=I._readableState;f("emitReadable",D.needReadable,D.emittedReadable),D.needReadable=!1,D.emittedReadable||(f("emitReadable",D.flowing),D.emittedReadable=!0,a.nextTick(j,I))}function j(I){var D=I._readableState;f("emitReadable_",D.destroyed,D.length,D.ended),D.destroyed||!D.length&&!D.ended||(I.emit("readable"),D.emittedReadable=!1),D.needReadable=!D.flowing&&!D.ended&&D.length<=D.highWaterMark,K(I)}function E(I,D){D.readingMore||(D.readingMore=!0,a.nextTick(T,I,D))}function T(I,D){for(;!D.reading&&!D.ended&&(D.length<D.highWaterMark||D.flowing&&D.length===0);){var X=D.length;if(f("maybeReadMore read 0"),I.read(0),X===D.length)break}D.readingMore=!1}function R(I){var D=I._readableState;D.readableListening=I.listenerCount("readable")>0,D.resumeScheduled&&!D.paused?D.flowing=!0:I.listenerCount("data")>0&&I.resume()}function V(I){f("readable nexttick read 0"),I.read(0)}function B(I,D){f("resume",D.reading),D.reading||I.read(0),D.resumeScheduled=!1,I.emit("resume"),K(I),D.flowing&&!D.reading&&I.read(0)}function K(I){var D=I._readableState;for(f("flow",D.flowing);D.flowing&&I.read()!==null;);}function Z(I,D){return D.length===0?null:(D.objectMode?X=D.buffer.shift():!I||I>=D.length?(X=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.first():D.buffer.concat(D.length),D.buffer.clear()):X=D.buffer.consume(I,D.decoder),X);var X}function ne(I){var D=I._readableState;f("endReadable",D.endEmitted),D.endEmitted||(D.ended=!0,a.nextTick(G,D,I))}function G(I,D){if(f("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,D.readable=!1,D.emit("end"),I.autoDestroy)){var X=D._writableState;(!X||X.autoDestroy&&X.finished)&&D.destroy()}}function te(I,D){for(var X=0,Q=I.length;X<Q;X++)if(I[X]===D)return X;return-1}U.prototype.read=function(I){f("read",I),I=parseInt(I,10);var D=this._readableState,X=I;if(I!==0&&(D.emittedReadable=!1),I===0&&D.needReadable&&((D.highWaterMark!==0?D.length>=D.highWaterMark:D.length>0)||D.ended))return f("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?ne(this):k(this),null;if((I=C(I,D))===0&&D.ended)return D.length===0&&ne(this),null;var Q,re=D.needReadable;return f("need readable",re),(D.length===0||D.length-I<D.highWaterMark)&&f("length less than watermark",re=!0),D.ended||D.reading?f("reading or ended",re=!1):re&&(f("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(I=C(X,D))),(Q=I>0?Z(I,D):null)===null?(D.needReadable=D.length<=D.highWaterMark,I=0):(D.length-=I,D.awaitDrain=0),D.length===0&&(D.ended||(D.needReadable=!0),X!==I&&D.ended&&ne(this)),Q!==null&&this.emit("data",Q),Q},U.prototype._read=function(I){F(this,new M("_read()"))},U.prototype.pipe=function(I,D){var X=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=I;break;case 1:Q.pipes=[Q.pipes,I];break;default:Q.pipes.push(I)}Q.pipesCount+=1,f("pipe count=%d opts=%j",Q.pipesCount,D);var re=(!D||D.end!==!1)&&I!==a.stdout&&I!==a.stderr?se:Pe;function oe(Re,Ie){f("onunpipe"),Re===X&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,f("cleanup"),I.removeListener("close",ge),I.removeListener("finish",ke),I.removeListener("drain",he),I.removeListener("error",ve),I.removeListener("unpipe",oe),X.removeListener("end",se),X.removeListener("end",Pe),X.removeListener("data",de),le=!0,!Q.awaitDrain||I._writableState&&!I._writableState.needDrain||he())}function se(){f("onend"),I.end()}Q.endEmitted?a.nextTick(re):X.once("end",re),I.on("unpipe",oe);var he=function(Re){return function(){var Ie=Re._readableState;f("pipeOnDrain",Ie.awaitDrain),Ie.awaitDrain&&Ie.awaitDrain--,Ie.awaitDrain===0&&c(Re,"data")&&(Ie.flowing=!0,K(Re))}}(X);I.on("drain",he);var le=!1;function de(Re){f("ondata");var Ie=I.write(Re);f("dest.write",Ie),Ie===!1&&((Q.pipesCount===1&&Q.pipes===I||Q.pipesCount>1&&te(Q.pipes,I)!==-1)&&!le&&(f("false write response, pause",Q.awaitDrain),Q.awaitDrain++),X.pause())}function ve(Re){f("onerror",Re),Pe(),I.removeListener("error",ve),c(I,"error")===0&&F(I,Re)}function ge(){I.removeListener("finish",ke),Pe()}function ke(){f("onfinish"),I.removeListener("close",ge),Pe()}function Pe(){f("unpipe"),X.unpipe(I)}return X.on("data",de),function(Re,Ie,qe){if(typeof Re.prependListener=="function")return Re.prependListener(Ie,qe);Re._events&&Re._events[Ie]?Array.isArray(Re._events[Ie])?Re._events[Ie].unshift(qe):Re._events[Ie]=[qe,Re._events[Ie]]:Re.on(Ie,qe)}(I,"error",ve),I.once("close",ge),I.once("finish",ke),I.emit("pipe",X),Q.flowing||(f("pipe resume"),X.resume()),I},U.prototype.unpipe=function(I){var D=this._readableState,X={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return I&&I!==D.pipes||(I||(I=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,I&&I.emit("unpipe",this,X)),this;if(!I){var Q=D.pipes,re=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var oe=0;oe<re;oe++)Q[oe].emit("unpipe",this,{hasUnpiped:!1});return this}var se=te(D.pipes,I);return se===-1||(D.pipes.splice(se,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),I.emit("unpipe",this,X)),this},U.prototype.on=function(I,D){var X=o.prototype.on.call(this,I,D),Q=this._readableState;return I==="data"?(Q.readableListening=this.listenerCount("readable")>0,Q.flowing!==!1&&this.resume()):I==="readable"&&(Q.endEmitted||Q.readableListening||(Q.readableListening=Q.needReadable=!0,Q.flowing=!1,Q.emittedReadable=!1,f("on readable",Q.length,Q.reading),Q.length?k(this):Q.reading||a.nextTick(V,this))),X},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(I,D){var X=o.prototype.removeListener.call(this,I,D);return I==="readable"&&a.nextTick(R,this),X},U.prototype.removeAllListeners=function(I){var D=o.prototype.removeAllListeners.apply(this,arguments);return I!=="readable"&&I!==void 0||a.nextTick(R,this),D},U.prototype.resume=function(){var I=this._readableState;return I.flowing||(f("resume"),I.flowing=!I.readableListening,function(D,X){X.resumeScheduled||(X.resumeScheduled=!0,a.nextTick(B,D,X))}(this,I)),I.paused=!1,this},U.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},U.prototype.wrap=function(I){var D=this,X=this._readableState,Q=!1;for(var re in I.on("end",function(){if(f("wrapped end"),X.decoder&&!X.ended){var se=X.decoder.end();se&&se.length&&D.push(se)}D.push(null)}),I.on("data",function(se){f("wrapped data"),X.decoder&&(se=X.decoder.write(se)),X.objectMode&&se==null||(X.objectMode||se&&se.length)&&(D.push(se)||(Q=!0,I.pause()))}),I)this[re]===void 0&&typeof I[re]=="function"&&(this[re]=function(se){return function(){return I[se].apply(I,arguments)}}(re));for(var oe=0;oe<H.length;oe++)I.on(H[oe],this.emit.bind(this,H[oe]));return this._read=function(se){f("wrapped _read",se),Q&&(Q=!1,I.resume())},this},typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return m===void 0&&(m=e("./internal/streams/async_iterator")),m(this)}),Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),U._fromList=Z,Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(U.from=function(I,D){return g===void 0&&(g=e("./internal/streams/from")),g(U,I,D)})}).call(this)}).call(this,e("_process"),typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,i){n.exports=f;var a=e("../errors").codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,l=a.ERR_MULTIPLE_CALLBACK,c=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=a.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function d(m,g){var v=this._transformState;v.transforming=!1;var b=v.writecb;if(b===null)return this.emit("error",new l);v.writechunk=null,v.writecb=null,g!=null&&this.push(g),b(m);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function f(m){if(!(this instanceof f))return new f(m);u.call(this,m),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",h)}function h(){var m=this;typeof this._flush!="function"||this._readableState.destroyed?y(this,null,null):this._flush(function(g,v){y(m,g,v)})}function y(m,g,v){if(g)return m.emit("error",g);if(v!=null&&m.push(v),m._writableState.length)throw new o;if(m._transformState.transforming)throw new c;return m.push(null)}e("inherits")(f,u),f.prototype.push=function(m,g){return this._transformState.needTransform=!1,u.prototype.push.call(this,m,g)},f.prototype._transform=function(m,g,v){v(new s("_transform()"))},f.prototype._write=function(m,g,v){var b=this._transformState;if(b.writecb=v,b.writechunk=m,b.writeencoding=g,!b.transforming){var w=this._readableState;(b.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},f.prototype._read=function(m){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},f.prototype._destroy=function(m,g){u.prototype._destroy.call(this,m,function(v){g(v)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,i){(function(a,s){(function(){function l(T){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(V,B,K){var Z=V.entry;for(V.entry=null;Z;){var ne=Z.callback;B.pendingcb--,ne(K),Z=Z.next}B.corkedRequestsFree.next=V})(R,T)}}var c;n.exports=U,U.WritableState=z;var o={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),d=e("buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,y=e("./internal/streams/destroy"),m=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,v=g.ERR_INVALID_ARG_TYPE,b=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_MULTIPLE_CALLBACK,_=g.ERR_STREAM_CANNOT_PIPE,N=g.ERR_STREAM_DESTROYED,P=g.ERR_STREAM_NULL_VALUES,M=g.ERR_STREAM_WRITE_AFTER_END,A=g.ERR_UNKNOWN_ENCODING,F=y.errorOrDestroy;function H(){}function z(T,R,V){c=c||e("./_stream_duplex"),T=T||{},typeof V!="boolean"&&(V=R instanceof c),this.objectMode=!!T.objectMode,V&&(this.objectMode=this.objectMode||!!T.writableObjectMode),this.highWaterMark=m(this,T,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=T.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){(function(Z,ne){var G=Z._writableState,te=G.sync,I=G.writecb;if(typeof I!="function")throw new w;if(function(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}(G),ne)(function(X,Q,re,oe,se){--Q.pendingcb,re?(a.nextTick(se,oe),a.nextTick(E,X,Q),X._writableState.errorEmitted=!0,F(X,oe)):(se(oe),X._writableState.errorEmitted=!0,F(X,oe),E(X,Q))})(Z,G,te,ne,I);else{var D=k(G)||Z.destroyed;D||G.corked||G.bufferProcessing||!G.bufferedRequest||C(Z,G),te?a.nextTick(L,Z,G,D,I):L(Z,G,D,I)}})(R,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=T.emitClose!==!1,this.autoDestroy=!!T.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function U(T){var R=this instanceof(c=c||e("./_stream_duplex"));if(!R&&!h.call(U,this))return new U(T);this._writableState=new z(T,this,R),this.writable=!0,T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final)),u.call(this)}function O(T,R,V,B,K,Z,ne){R.writelen=B,R.writecb=ne,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new N("write")):V?T._writev(K,R.onwrite):T._write(K,Z,R.onwrite),R.sync=!1}function L(T,R,V,B){V||function(K,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,K.emit("drain"))}(T,R),R.pendingcb--,B(),E(T,R)}function C(T,R){R.bufferProcessing=!0;var V=R.bufferedRequest;if(T._writev&&V&&V.next){var B=R.bufferedRequestCount,K=new Array(B),Z=R.corkedRequestsFree;Z.entry=V;for(var ne=0,G=!0;V;)K[ne]=V,V.isBuf||(G=!1),V=V.next,ne+=1;K.allBuffers=G,O(T,R,!0,R.length,K,"",Z.finish),R.pendingcb++,R.lastBufferedRequest=null,Z.next?(R.corkedRequestsFree=Z.next,Z.next=null):R.corkedRequestsFree=new l(R),R.bufferedRequestCount=0}else{for(;V;){var te=V.chunk,I=V.encoding,D=V.callback;if(O(T,R,!1,R.objectMode?1:te.length,te,I,D),V=V.next,R.bufferedRequestCount--,R.writing)break}V===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=V,R.bufferProcessing=!1}function k(T){return T.ending&&T.length===0&&T.bufferedRequest===null&&!T.finished&&!T.writing}function j(T,R){T._final(function(V){R.pendingcb--,V&&F(T,V),R.prefinished=!0,T.emit("prefinish"),E(T,R)})}function E(T,R){var V=k(R);if(V&&(function(K,Z){Z.prefinished||Z.finalCalled||(typeof K._final!="function"||Z.destroyed?(Z.prefinished=!0,K.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,a.nextTick(j,K,Z)))}(T,R),R.pendingcb===0&&(R.finished=!0,T.emit("finish"),R.autoDestroy))){var B=T._readableState;(!B||B.autoDestroy&&B.endEmitted)&&T.destroy()}return V}e("inherits")(U,u),z.prototype.getBuffer=function(){for(var T=this.bufferedRequest,R=[];T;)R.push(T),T=T.next;return R},function(){try{Object.defineProperty(z.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(T){return!!h.call(this,T)||this===U&&T&&T._writableState instanceof z}})):h=function(T){return T instanceof this},U.prototype.pipe=function(){F(this,new _)},U.prototype.write=function(T,R,V){var B,K=this._writableState,Z=!1,ne=!K.objectMode&&(B=T,d.isBuffer(B)||B instanceof f);return ne&&!d.isBuffer(T)&&(T=function(G){return d.from(G)}(T)),typeof R=="function"&&(V=R,R=null),ne?R="buffer":R||(R=K.defaultEncoding),typeof V!="function"&&(V=H),K.ending?function(G,te){var I=new M;F(G,I),a.nextTick(te,I)}(this,V):(ne||function(G,te,I,D){var X;return I===null?X=new P:typeof I=="string"||te.objectMode||(X=new v("chunk",["string","Buffer"],I)),!X||(F(G,X),a.nextTick(D,X),!1)}(this,K,T,V))&&(K.pendingcb++,Z=function(G,te,I,D,X,Q){if(!I){var re=function(le,de,ve){return le.objectMode||le.decodeStrings===!1||typeof de!="string"||(de=d.from(de,ve)),de}(te,D,X);D!==re&&(I=!0,X="buffer",D=re)}var oe=te.objectMode?1:D.length;te.length+=oe;var se=te.length<te.highWaterMark;if(se||(te.needDrain=!0),te.writing||te.corked){var he=te.lastBufferedRequest;te.lastBufferedRequest={chunk:D,encoding:X,isBuf:I,callback:Q,next:null},he?he.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else O(G,te,!1,oe,D,X,Q);return se}(this,K,ne,T,R,V)),Z},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var T=this._writableState;T.corked&&(T.corked--,T.writing||T.corked||T.bufferProcessing||!T.bufferedRequest||C(this,T))},U.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=T.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((T+"").toLowerCase())>-1))throw new A(T);return this._writableState.defaultEncoding=T,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),U.prototype._write=function(T,R,V){V(new b("_write()"))},U.prototype._writev=null,U.prototype.end=function(T,R,V){var B=this._writableState;return typeof T=="function"?(V=T,T=null,R=null):typeof R=="function"&&(V=R,R=null),T!=null&&this.write(T,R),B.corked&&(B.corked=1,this.uncork()),B.ending||function(K,Z,ne){Z.ending=!0,E(K,Z),ne&&(Z.finished?a.nextTick(ne):K.once("finish",ne)),Z.ended=!0,K.writable=!1}(this,B,V),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(T){this._writableState&&(this._writableState.destroyed=T)}}),U.prototype.destroy=y.destroy,U.prototype._undestroy=y.undestroy,U.prototype._destroy=function(T,R){R(T)}}).call(this)}).call(this,e("_process"),typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,i){(function(a){(function(){var s;function l(N,P,M){return(P=function(A){var F=function(H,z){if(typeof H!="object"||H===null)return H;var U=H[Symbol.toPrimitive];if(U!==void 0){var O=U.call(H,z);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(H)}(A,"string");return typeof F=="symbol"?F:String(F)}(P))in N?Object.defineProperty(N,P,{value:M,enumerable:!0,configurable:!0,writable:!0}):N[P]=M,N}var c=e("./end-of-stream"),o=Symbol("lastResolve"),u=Symbol("lastReject"),d=Symbol("error"),f=Symbol("ended"),h=Symbol("lastPromise"),y=Symbol("handlePromise"),m=Symbol("stream");function g(N,P){return{value:N,done:P}}function v(N){var P=N[o];if(P!==null){var M=N[m].read();M!==null&&(N[h]=null,N[o]=null,N[u]=null,P(g(M,!1)))}}function b(N){a.nextTick(v,N)}var w=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((l(s={get stream(){return this[m]},next:function(){var N=this,P=this[d];if(P!==null)return Promise.reject(P);if(this[f])return Promise.resolve(g(void 0,!0));if(this[m].destroyed)return new Promise(function(H,z){a.nextTick(function(){N[d]?z(N[d]):H(g(void 0,!0))})});var M,A=this[h];if(A)M=new Promise(function(H,z){return function(U,O){H.then(function(){z[f]?U(g(void 0,!0)):z[y](U,O)},O)}}(A,this));else{var F=this[m].read();if(F!==null)return Promise.resolve(g(F,!1));M=new Promise(this[y])}return this[h]=M,M}},Symbol.asyncIterator,function(){return this}),l(s,"return",function(){var N=this;return new Promise(function(P,M){N[m].destroy(null,function(A){A?M(A):P(g(void 0,!0))})})}),s),w);n.exports=function(N){var P,M=Object.create(_,(l(P={},m,{value:N,writable:!0}),l(P,o,{value:null,writable:!0}),l(P,u,{value:null,writable:!0}),l(P,d,{value:null,writable:!0}),l(P,f,{value:N._readableState.endEmitted,writable:!0}),l(P,y,{value:function(A,F){var H=M[m].read();H?(M[h]=null,M[o]=null,M[u]=null,A(g(H,!1))):(M[o]=A,M[u]=F)},writable:!0}),P));return M[h]=null,c(N,function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=M[u];return F!==null&&(M[h]=null,M[o]=null,M[u]=null,F(A)),void(M[d]=A)}var H=M[o];H!==null&&(M[h]=null,M[o]=null,M[u]=null,H(g(void 0,!0))),M[f]=!0}),N.on("readable",b.bind(null,M)),M}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,i){function a(h,y){var m=Object.keys(h);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(h);y&&(g=g.filter(function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable})),m.push.apply(m,g)}return m}function s(h){for(var y=1;y<arguments.length;y++){var m=arguments[y]!=null?arguments[y]:{};y%2?a(Object(m),!0).forEach(function(g){l(h,g,m[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(m)):a(Object(m)).forEach(function(g){Object.defineProperty(h,g,Object.getOwnPropertyDescriptor(m,g))})}return h}function l(h,y,m){return(y=o(y))in h?Object.defineProperty(h,y,{value:m,enumerable:!0,configurable:!0,writable:!0}):h[y]=m,h}function c(h,y){for(var m=0;m<y.length;m++){var g=y[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,o(g.key),g)}}function o(h){var y=function(m,g){if(typeof m!="object"||m===null)return m;var v=m[Symbol.toPrimitive];if(v!==void 0){var b=v.call(m,g);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(m)}(h,"string");return typeof y=="symbol"?y:String(y)}var u=e("buffer").Buffer,d=e("util").inspect,f=d&&d.custom||"inspect";n.exports=function(){function h(){(function(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}var y,m;return y=h,(m=[{key:"push",value:function(g){var v={data:g,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(g){var v={data:g,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var v=this.head,b=""+v.data;v=v.next;)b+=g+v.data;return b}},{key:"concat",value:function(g){if(this.length===0)return u.alloc(0);for(var v,b,w,_=u.allocUnsafe(g>>>0),N=this.head,P=0;N;)v=N.data,b=_,w=P,u.prototype.copy.call(v,b,w),P+=N.data.length,N=N.next;return _}},{key:"consume",value:function(g,v){var b;return g<this.head.data.length?(b=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):b=g===this.head.data.length?this.shift():v?this._getString(g):this._getBuffer(g),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var v=this.head,b=1,w=v.data;for(g-=w.length;v=v.next;){var _=v.data,N=g>_.length?_.length:g;if(N===_.length?w+=_:w+=_.slice(0,g),(g-=N)==0){N===_.length?(++b,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=_.slice(N));break}++b}return this.length-=b,w}},{key:"_getBuffer",value:function(g){var v=u.allocUnsafe(g),b=this.head,w=1;for(b.data.copy(v),g-=b.data.length;b=b.next;){var _=b.data,N=g>_.length?_.length:g;if(_.copy(v,v.length-g,0,N),(g-=N)==0){N===_.length?(++w,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=_.slice(N));break}++w}return this.length-=w,v}},{key:f,value:function(g,v){return d(this,s(s({},v),{},{depth:0,customInspect:!1}))}}])&&c(y.prototype,m),Object.defineProperty(y,"prototype",{writable:!1}),h}()},{buffer:220,util:188}],485:[function(e,n,i){(function(a){(function(){function s(o,u){c(o,u),l(o)}function l(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function c(o,u){o.emit("error",u)}n.exports={destroy:function(o,u){var d=this,f=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return f||h?(u?u(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(c,this,o)):a.nextTick(c,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(y){!u&&y?d._writableState?d._writableState.errorEmitted?a.nextTick(l,d):(d._writableState.errorEmitted=!0,a.nextTick(s,d,y)):a.nextTick(s,d,y):u?(a.nextTick(l,d),u(y)):a.nextTick(l,d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(o,u){var d=o._readableState,f=o._writableState;d&&d.autoDestroy||f&&f.autoDestroy?o.destroy(u):o.emit("error",u)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,i){var a=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}n.exports=function l(c,o,u){if(typeof o=="function")return l(c,null,o);o||(o={}),u=function(N){var P=!1;return function(){if(!P){P=!0;for(var M=arguments.length,A=new Array(M),F=0;F<M;F++)A[F]=arguments[F];N.apply(this,A)}}}(u||s);var d=o.readable||o.readable!==!1&&c.readable,f=o.writable||o.writable!==!1&&c.writable,h=function(){c.writable||m()},y=c._writableState&&c._writableState.finished,m=function(){f=!1,y=!0,d||u.call(c)},g=c._readableState&&c._readableState.endEmitted,v=function(){d=!1,g=!0,f||u.call(c)},b=function(N){u.call(c,N)},w=function(){var N;return d&&!g?(c._readableState&&c._readableState.ended||(N=new a),u.call(c,N)):f&&!y?(c._writableState&&c._writableState.ended||(N=new a),u.call(c,N)):void 0},_=function(){c.req.on("finish",m)};return function(N){return N.setHeader&&typeof N.abort=="function"}(c)?(c.on("complete",m),c.on("abort",w),c.req?_():c.on("request",_)):f&&!c._writableState&&(c.on("end",h),c.on("close",h)),c.on("end",v),c.on("finish",m),o.error!==!1&&c.on("error",b),c.on("close",w),function(){c.removeListener("complete",m),c.removeListener("abort",w),c.removeListener("request",_),c.req&&c.req.removeListener("finish",m),c.removeListener("end",h),c.removeListener("close",h),c.removeListener("finish",m),c.removeListener("end",v),c.removeListener("error",b),c.removeListener("close",w)}}},{"../../../errors":477}],487:[function(e,n,i){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,i){var a,s=e("../../../errors").codes,l=s.ERR_MISSING_ARGS,c=s.ERR_STREAM_DESTROYED;function o(y){if(y)throw y}function u(y,m,g,v){v=function(_){var N=!1;return function(){N||(N=!0,_.apply(void 0,arguments))}}(v);var b=!1;y.on("close",function(){b=!0}),a===void 0&&(a=e("./end-of-stream")),a(y,{readable:m,writable:g},function(_){if(_)return v(_);b=!0,v()});var w=!1;return function(_){if(!b&&!w)return w=!0,function(N){return N.setHeader&&typeof N.abort=="function"}(y)?y.abort():typeof y.destroy=="function"?y.destroy():void v(_||new c("pipe"))}}function d(y){y()}function f(y,m){return y.pipe(m)}function h(y){return y.length?typeof y[y.length-1]!="function"?o:y.pop():o}n.exports=function(){for(var y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];var v,b=h(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new l("streams");var w=m.map(function(_,N){var P=N<m.length-1;return u(_,P,N>0,function(M){v||(v=M),M&&w.forEach(d),P||(w.forEach(d),b(v))})});return m.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,i){var a=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(s,l,c,o){var u=function(d,f,h){return d.highWaterMark!=null?d.highWaterMark:f?d[h]:null}(l,o,c);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new a(o?c:"highWaterMark",u);return Math.floor(u)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,i){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js"),i.finished=e("./lib/internal/streams/end-of-stream.js"),i.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,i){var a=function(s){var l=Object.prototype,c=l.hasOwnProperty,o=Object.defineProperty||function(E,T,R){E[T]=R.value},u=typeof Symbol=="function"?Symbol:{},d=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",h=u.toStringTag||"@@toStringTag";function y(E,T,R){return Object.defineProperty(E,T,{value:R,enumerable:!0,configurable:!0,writable:!0}),E[T]}try{y({},"")}catch{y=function(T,R,V){return T[R]=V}}function m(E,T,R,V){var B=T&&T.prototype instanceof b?T:b,K=Object.create(B.prototype),Z=new C(V||[]);return o(K,"_invoke",{value:z(E,R,Z)}),K}function g(E,T,R){try{return{type:"normal",arg:E.call(T,R)}}catch(V){return{type:"throw",arg:V}}}s.wrap=m;var v={};function b(){}function w(){}function _(){}var N={};y(N,d,function(){return this});var P=Object.getPrototypeOf,M=P&&P(P(k([])));M&&M!==l&&c.call(M,d)&&(N=M);var A=_.prototype=b.prototype=Object.create(N);function F(E){["next","throw","return"].forEach(function(T){y(E,T,function(R){return this._invoke(T,R)})})}function H(E,T){var R;o(this,"_invoke",{value:function(V,B){function K(){return new T(function(Z,ne){(function G(te,I,D,X){var Q=g(E[te],E,I);if(Q.type!=="throw"){var re=Q.arg,oe=re.value;return oe&&typeof oe=="object"&&c.call(oe,"__await")?T.resolve(oe.__await).then(function(se){G("next",se,D,X)},function(se){G("throw",se,D,X)}):T.resolve(oe).then(function(se){re.value=se,D(re)},function(se){return G("throw",se,D,X)})}X(Q.arg)})(V,B,Z,ne)})}return R=R?R.then(K,K):K()}})}function z(E,T,R){var V="suspendedStart";return function(B,K){if(V==="executing")throw new Error("Generator is already running");if(V==="completed"){if(B==="throw")throw K;return j()}for(R.method=B,R.arg=K;;){var Z=R.delegate;if(Z){var ne=U(Z,R);if(ne){if(ne===v)continue;return ne}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(V==="suspendedStart")throw V="completed",R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);V="executing";var G=g(E,T,R);if(G.type==="normal"){if(V=R.done?"completed":"suspendedYield",G.arg===v)continue;return{value:G.arg,done:R.done}}G.type==="throw"&&(V="completed",R.method="throw",R.arg=G.arg)}}}function U(E,T){var R=T.method,V=E.iterator[R];if(V===void 0)return T.delegate=null,R==="throw"&&E.iterator.return&&(T.method="return",T.arg=void 0,U(E,T),T.method==="throw")||R!=="return"&&(T.method="throw",T.arg=new TypeError("The iterator does not provide a '"+R+"' method")),v;var B=g(V,E.iterator,T.arg);if(B.type==="throw")return T.method="throw",T.arg=B.arg,T.delegate=null,v;var K=B.arg;return K?K.done?(T[E.resultName]=K.value,T.next=E.nextLoc,T.method!=="return"&&(T.method="next",T.arg=void 0),T.delegate=null,v):K:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,v)}function O(E){var T={tryLoc:E[0]};1 in E&&(T.catchLoc=E[1]),2 in E&&(T.finallyLoc=E[2],T.afterLoc=E[3]),this.tryEntries.push(T)}function L(E){var T=E.completion||{};T.type="normal",delete T.arg,E.completion=T}function C(E){this.tryEntries=[{tryLoc:"root"}],E.forEach(O,this),this.reset(!0)}function k(E){if(E){var T=E[d];if(T)return T.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var R=-1,V=function B(){for(;++R<E.length;)if(c.call(E,R))return B.value=E[R],B.done=!1,B;return B.value=void 0,B.done=!0,B};return V.next=V}}return{next:j}}function j(){return{value:void 0,done:!0}}return w.prototype=_,o(A,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:w,configurable:!0}),w.displayName=y(_,h,"GeneratorFunction"),s.isGeneratorFunction=function(E){var T=typeof E=="function"&&E.constructor;return!!T&&(T===w||(T.displayName||T.name)==="GeneratorFunction")},s.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,_):(E.__proto__=_,y(E,h,"GeneratorFunction")),E.prototype=Object.create(A),E},s.awrap=function(E){return{__await:E}},F(H.prototype),y(H.prototype,f,function(){return this}),s.AsyncIterator=H,s.async=function(E,T,R,V,B){B===void 0&&(B=Promise);var K=new H(m(E,T,R,V),B);return s.isGeneratorFunction(T)?K:K.next().then(function(Z){return Z.done?Z.value:K.next()})},F(A),y(A,h,"Generator"),y(A,d,function(){return this}),y(A,"toString",function(){return"[object Generator]"}),s.keys=function(E){var T=Object(E),R=[];for(var V in T)R.push(V);return R.reverse(),function B(){for(;R.length;){var K=R.pop();if(K in T)return B.value=K,B.done=!1,B}return B.done=!0,B}},s.values=k,C.prototype={constructor:C,reset:function(E){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!E)for(var T in this)T.charAt(0)==="t"&&c.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=void 0)},stop:function(){this.done=!0;var E=this.tryEntries[0].completion;if(E.type==="throw")throw E.arg;return this.rval},dispatchException:function(E){if(this.done)throw E;var T=this;function R(G,te){return K.type="throw",K.arg=E,T.next=G,te&&(T.method="next",T.arg=void 0),!!te}for(var V=this.tryEntries.length-1;V>=0;--V){var B=this.tryEntries[V],K=B.completion;if(B.tryLoc==="root")return R("end");if(B.tryLoc<=this.prev){var Z=c.call(B,"catchLoc"),ne=c.call(B,"finallyLoc");if(Z&&ne){if(this.prev<B.catchLoc)return R(B.catchLoc,!0);if(this.prev<B.finallyLoc)return R(B.finallyLoc)}else if(Z){if(this.prev<B.catchLoc)return R(B.catchLoc,!0)}else{if(!ne)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return R(B.finallyLoc)}}}},abrupt:function(E,T){for(var R=this.tryEntries.length-1;R>=0;--R){var V=this.tryEntries[R];if(V.tryLoc<=this.prev&&c.call(V,"finallyLoc")&&this.prev<V.finallyLoc){var B=V;break}}B&&(E==="break"||E==="continue")&&B.tryLoc<=T&&T<=B.finallyLoc&&(B=null);var K=B?B.completion:{};return K.type=E,K.arg=T,B?(this.method="next",this.next=B.finallyLoc,v):this.complete(K)},complete:function(E,T){if(E.type==="throw")throw E.arg;return E.type==="break"||E.type==="continue"?this.next=E.arg:E.type==="return"?(this.rval=this.arg=E.arg,this.method="return",this.next="end"):E.type==="normal"&&T&&(this.next=T),v},finish:function(E){for(var T=this.tryEntries.length-1;T>=0;--T){var R=this.tryEntries[T];if(R.finallyLoc===E)return this.complete(R.completion,R.afterLoc),L(R),v}},catch:function(E){for(var T=this.tryEntries.length-1;T>=0;--T){var R=this.tryEntries[T];if(R.tryLoc===E){var V=R.completion;if(V.type==="throw"){var B=V.arg;L(R)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(E,T,R){return this.delegate={iterator:k(E),resultName:T,nextLoc:R},this.method==="next"&&(this.arg=void 0),v}},s}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},{}],493:[function(e,n,i){var a=e("buffer").Buffer,s=e("inherits"),l=e("hash-base"),c=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],y=[1352829926,1548603684,1836072691,2053994217,0];function m(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(P,M){return P<<M|P>>>32-M}function v(P,M,A,F,H,z,U,O){return g(P+(M^A^F)+z+U|0,O)+H|0}function b(P,M,A,F,H,z,U,O){return g(P+(M&A|~M&F)+z+U|0,O)+H|0}function w(P,M,A,F,H,z,U,O){return g(P+((M|~A)^F)+z+U|0,O)+H|0}function _(P,M,A,F,H,z,U,O){return g(P+(M&F|A&~F)+z+U|0,O)+H|0}function N(P,M,A,F,H,z,U,O){return g(P+(M^(A|~F))+z+U|0,O)+H|0}s(m,l),m.prototype._update=function(){for(var P=c,M=0;M<16;++M)P[M]=this._block.readInt32LE(4*M);for(var A=0|this._a,F=0|this._b,H=0|this._c,z=0|this._d,U=0|this._e,O=0|this._a,L=0|this._b,C=0|this._c,k=0|this._d,j=0|this._e,E=0;E<80;E+=1){var T,R;E<16?(T=v(A,F,H,z,U,P[o[E]],h[0],d[E]),R=N(O,L,C,k,j,P[u[E]],y[0],f[E])):E<32?(T=b(A,F,H,z,U,P[o[E]],h[1],d[E]),R=_(O,L,C,k,j,P[u[E]],y[1],f[E])):E<48?(T=w(A,F,H,z,U,P[o[E]],h[2],d[E]),R=w(O,L,C,k,j,P[u[E]],y[2],f[E])):E<64?(T=_(A,F,H,z,U,P[o[E]],h[3],d[E]),R=b(O,L,C,k,j,P[u[E]],y[3],f[E])):(T=N(A,F,H,z,U,P[o[E]],h[4],d[E]),R=v(O,L,C,k,j,P[u[E]],y[4],f[E])),A=U,U=z,z=g(H,10),H=F,F=T,O=j,j=k,k=g(C,10),C=L,L=R}var V=this._b+H+k|0;this._b=this._c+z+j|0,this._c=this._d+U+O|0,this._d=this._e+A+L|0,this._e=this._a+F+C|0,this._a=V},m.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var P=a.alloc?a.alloc(20):new a(20);return P.writeInt32LE(this._a,0),P.writeInt32LE(this._b,4),P.writeInt32LE(this._c,8),P.writeInt32LE(this._d,12),P.writeInt32LE(this._e,16),P},n.exports=m},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=e("buffer"),s=a.Buffer;function l(o,u){for(var d in o)u[d]=o[d]}function c(o,u,d){return s(o,u,d)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=a:(l(a,i),i.Buffer=c),c.prototype=Object.create(s.prototype),l(s,c),c.from=function(o,u,d){if(typeof o=="number")throw new TypeError("Argument must not be a number");return s(o,u,d)},c.alloc=function(o,u,d){if(typeof o!="number")throw new TypeError("Argument must be a number");var f=s(o);return u!==void 0?typeof d=="string"?f.fill(u,d):f.fill(u):f.fill(0),f},c.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s(o)},c.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(o)}},{buffer:220}],495:[function(e,n,i){(function(a){(function(){var s,l=e("buffer"),c=l.Buffer,o={};for(s in l)l.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(o[s]=l[s]);var u=o.Buffer={};for(s in c)c.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(u[s]=c[s]);if(o.Buffer.prototype=c.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(d,f,h){if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof d);if(d&&d.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);return c(d,f,h)}),u.alloc||(u.alloc=function(d,f,h){if(typeof d!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof d);if(d<0||d>=2*(1<<30))throw new RangeError('The value "'+d+'" is invalid for option "size"');var y=c(d);return f&&f.length!==0?typeof h=="string"?y.fill(f,h):y.fill(f):y.fill(0),y}),!o.kStringMaxLength)try{o.kStringMaxLength=a.binding("buffer").kStringMaxLength}catch{}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),n.exports=o}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0});const a=e("xmlchars/xml/1.0/ed5"),s=e("xmlchars/xml/1.1/ed2"),l=e("xmlchars/xmlns/1.0/ed3");var c=a.isS,o=a.isChar,u=a.isNameStartChar,d=a.isNameChar,f=a.S_LIST,h=a.NAME_RE,y=s.isChar,m=l.isNCNameStartChar,g=l.isNCNameChar,v=l.NC_NAME_RE;const b="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",_={__proto__:null,xml:b,xmlns:w},N={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},P=k=>k===34||k===39,M=[34,39],A=[...M,91,62],F=[...M,60,93],H=[61,63,...f],z=[...f,62,38,60];function U(k,j,E){switch(j){case"xml":E!==b&&k.fail(`xml prefix must be bound to ${b}.`);break;case"xmlns":E!==w&&k.fail(`xmlns prefix must be bound to ${w}.`)}switch(E){case w:k.fail(j===""?`the default namespace may not be set to ${E}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case b:switch(j){case"xml":break;case"":k.fail(`the default namespace may not be set to ${E}.`);break;default:k.fail("may not assign the xml namespace to another prefix.")}}}const O=k=>v.test(k),L=k=>h.test(k);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const C={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(k){this.opt=k??{},this.fragmentOpt=!!this.opt.fragment;const j=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,j){this.nameStartCheck=m,this.nameCheck=g,this.isName=O,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},_);const E=this.opt.additionalNamespaces;E!=null&&(function(T,R){for(const V of Object.keys(R))U(T,V,R[V])}(this,E),Object.assign(this.ns,E))}else this.nameStartCheck=u,this.nameCheck=d,this.isName=L,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var k;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:j}=this;this.state=j?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=j,this.xmlDeclPossible=!j,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:E}=this.opt;if(E===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");E="1.0"}this.setXMLVersion(E),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(N),(k=this.readyHandler)===null||k===void 0||k.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(k,j){this[C[k]]=j}off(k){this[C[k]]=void 0}makeError(k){var j;let E=(j=this.fileName)!==null&&j!==void 0?j:"";return this.trackPosition&&(E.length>0&&(E+=":"),E+=`${this.line}:${this.column}`),E.length>0&&(E+=": "),new Error(E+k)}fail(k){const j=this.makeError(k),E=this.errorHandler;if(E===void 0)throw j;return E(j),this}write(k){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let j=!1;k===null?(j=!0,k=""):typeof k=="object"&&(k=k.toString()),this.carriedFromPrevious!==void 0&&(k=`${this.carriedFromPrevious}${k}`,this.carriedFromPrevious=void 0);let E=k.length;const T=k.charCodeAt(E-1);!j&&(T===13||T>=55296&&T<=56319)&&(this.carriedFromPrevious=k[E-1],E--,k=k.slice(0,E));const{stateTable:R}=this;for(this.chunk=k,this.i=0;this.i<E;)R[this.state].call(this);return this.chunkPosition+=E,j?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:k,i:j}=this;if(this.prevI=j,this.i=j+1,j>=k.length)return-1;const E=k.charCodeAt(j);if(this.column++,E<55296){if(E>=32||E===9)return E;switch(E){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return k.charCodeAt(j+1)===10&&(this.i=j+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),E}}if(E>56319)return E>=57344&&E<=65533||this.fail("disallowed character."),E;const T=65536+1024*(E-55296)+(k.charCodeAt(j+1)-56320);return this.i=j+2,T>1114111&&this.fail("disallowed character."),T}getCode11(){const{chunk:k,i:j}=this;if(this.prevI=j,this.i=j+1,j>=k.length)return-1;const E=k.charCodeAt(j);if(this.column++,E<55296){if(E>31&&E<127||E>159&&E!==8232||E===9)return E;switch(E){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const R=k.charCodeAt(j+1);R!==10&&R!==133||(this.i=j+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),E}}if(E>56319)return E>=57344&&E<=65533||this.fail("disallowed character."),E;const T=65536+1024*(E-55296)+(k.charCodeAt(j+1)-56320);return this.i=j+2,T>1114111&&this.fail("disallowed character."),T}getCodeNorm(){const k=this.getCode();return k===-2?10:k}unget(){this.i=this.prevI,this.column--}captureTo(k){let{i:j}=this;const{chunk:E}=this;for(;;){const T=this.getCode(),R=T===-2,V=R?10:T;if(V===-1||k.includes(V))return this.text+=E.slice(j,this.prevI),V;R&&(this.text+=E.slice(j,this.prevI)+`
`,j=this.i)}}captureToChar(k){let{i:j}=this;const{chunk:E}=this;for(;;){let T=this.getCode();switch(T){case-2:this.text+=E.slice(j,this.prevI)+`
`,j=this.i,T=10;break;case-1:return this.text+=E.slice(j),!1}if(T===k)return this.text+=E.slice(j,this.prevI),!0}}captureNameChars(){const{chunk:k,i:j}=this;for(;;){const E=this.getCode();if(E===-1)return this.name+=k.slice(j),-1;if(!d(E))return this.name+=k.slice(j,this.prevI),E===-2?10:E}}skipSpaces(){for(;;){const k=this.getCodeNorm();if(k===-1||!c(k))return k}}setXMLVersion(k){this.currentXMLVersion=k,k==="1.0"?(this.isChar=o,this.getCode=this.getCode10):(this.isChar=y,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const k=this.i,j=this.skipSpaces();switch(this.prevI!==k&&(this.xmlDeclPossible=!1),j){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var k;const j=this.captureTo(A);switch(j){case 62:(k=this.doctypeHandler)===null||k===void 0||k.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(j),j===91?this.state=4:P(j)&&(this.state=3,this.q=j)}}sDoctypeQuote(){const k=this.q;this.captureToChar(k)&&(this.text+=String.fromCodePoint(k),this.q=null,this.state=2)}sDTD(){const k=this.captureTo(F);k!==-1&&(this.text+=String.fromCodePoint(k),k===93?this.state=2:k===60?this.state=6:P(k)&&(this.state=5,this.q=k))}sDTDQuoted(){const k=this.q;this.captureToChar(k)&&(this.text+=String.fromCodePoint(k),this.state=4,this.q=null)}sDTDOpenWaka(){const k=this.getCodeNorm();switch(this.text+=String.fromCodePoint(k),k){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const k=String.fromCodePoint(this.getCodeNorm()),j=this.openWakaBang+=k;this.text+=k,j!=="-"&&(this.state=j==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const k=this.getCodeNorm();this.text+=String.fromCodePoint(k),this.state=k===45?10:8}sDTDCommentEnded(){const k=this.getCodeNorm();this.text+=String.fromCodePoint(k),k===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const k=this.getCodeNorm();this.text+=String.fromCodePoint(k),k===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:k}=this;const{chunk:j}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=j.slice(k,this.prevI)+`
`,k=this.i;break;case 59:{const{entityReturnState:E}=this,T=this.entity+j.slice(k,this.prevI);let R;this.state=E,T===""?(this.fail("empty entity name."),R="&;"):(R=this.parseEntity(T),this.entity=""),E===13&&this.textHandler===void 0||(this.text+=R);break e}case-1:this.entity+=j.slice(k);break e}}sOpenWaka(){const k=this.getCode();if(u(k))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(k){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var k;const j=this.getCodeNorm();j===45?(this.state=19,(k=this.commentHandler)===null||k===void 0||k.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(j),this.state=17)}sCommentEnded(){const k=this.getCodeNorm();k!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(k),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const k=this.getCodeNorm();k===93?this.state=22:(this.text+="]"+String.fromCodePoint(k),this.state=20)}sCDataEnding2(){var k;const j=this.getCodeNorm();switch(j){case 62:(k=this.cdataHandler)===null||k===void 0||k.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(j),this.state=20}}sPIFirstChar(){const k=this.getCodeNorm();this.nameStartCheck(k)?(this.piTarget+=String.fromCodePoint(k),this.state=24):k===63||c(k)?(this.fail("processing instruction without a target."),this.state=k===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(k),this.state=24)}sPIRest(){const{chunk:k,i:j}=this;for(;;){const E=this.getCodeNorm();if(E===-1)return void(this.piTarget+=k.slice(j));if(!this.nameCheck(E)){this.piTarget+=k.slice(j,this.prevI);const T=E===63;T||c(E)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=T?33:27):this.state=T?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(E));break}}}sPIBody(){if(this.text.length===0){const k=this.getCodeNorm();k===63?this.state=26:c(k)||(this.text=String.fromCodePoint(k))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var k;const j=this.getCodeNorm();if(j===62){const{piTarget:E}=this;E.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(k=this.piHandler)===null||k===void 0||k.call(this,{target:E,body:this.text}),this.piTarget=this.text="",this.state=13}else j===63?this.text+="?":(this.text+="?"+String.fromCodePoint(j),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const k=this.skipSpaces();k!==63?k!==-1&&(this.state=28,this.name=String.fromCodePoint(k)):this.state=33}sXMLDeclName(){const k=this.captureTo(H);if(k===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(c(k)||k===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=k===61?30:29}}sXMLDeclEq(){const k=this.getCodeNorm();if(k===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(k)||(k!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const k=this.getCodeNorm();if(k===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(k)||(P(k)?this.q=k:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const k=this.captureTo([this.q,63]);if(k===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(k===-1)return;const j=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const E=j;this.xmlDecl.version=E,/^1\.[0-9]+$/.test(E)?this.opt.forceXMLVersion||this.setXMLVersion(E):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(j)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=j;break;case"standalone":j!=="yes"&&j!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=j}this.name="",this.state=32}sXMLDeclSeparator(){const k=this.getCodeNorm();k!==63?(c(k)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var k;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(k=this.xmldeclHandler)===null||k===void 0||k.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var k;const j=this.captureNameChars();if(j===-1)return;const E=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=E.ns=Object.create(null)),(k=this.openTagStartHandler)===null||k===void 0||k.call(this,E),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),j){case 62:this.openTag();break;case 47:this.state=35;break;default:c(j)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const k=this.skipSpaces();k!==-1&&(u(k)?(this.unget(),this.state=37):k===62?this.openTag():k===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const k=this.captureNameChars();k===61?this.state=39:c(k)?this.state=38:k===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):k!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const k=this.skipSpaces();switch(k){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",k===62?this.openTag():u(k)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const k=this.getCodeNorm();P(k)?(this.q=k,this.state=40):c(k)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:k,chunk:j}=this;let{i:E}=this;for(;;)switch(this.getCode()){case k:return this.pushAttrib(this.name,this.text+j.slice(E,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=j.slice(E,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=j.slice(E,this.prevI)+" ",E=this.i;break;case 60:return this.text+=j.slice(E,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=j.slice(E))}}sAttribValueClosed(){const k=this.getCodeNorm();c(k)?this.state=36:k===62?this.openTag():k===47?this.state=35:u(k)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const k=this.captureTo(z);switch(k){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",k===62?this.openTag():this.state=36}}sCloseTag(){const k=this.captureNameChars();k===62?this.closeTag():c(k)?this.state=44:k!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:k,forbiddenState:j}=this;const{chunk:E,textHandler:T}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,T!==void 0){const{text:R}=this,V=E.slice(k,this.prevI);R.length!==0?(T(R+V),this.text=""):V.length!==0&&T(V)}j=0;break e;case 38:this.state=14,this.entityReturnState=13,T!==void 0&&(this.text+=E.slice(k,this.prevI)),j=0;break e;case 93:switch(j){case 0:j=1;break;case 1:j=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:j===2&&this.fail('the string "]]>" is disallowed in char data.'),j=0;break;case-2:T!==void 0&&(this.text+=E.slice(k,this.prevI)+`
`),k=this.i,j=0;break;case-1:T!==void 0&&(this.text+=E.slice(k));break e;default:j=0}this.forbiddenState=j}handleTextOutsideRoot(){let{i:k}=this;const{chunk:j,textHandler:E}=this;let T=!1;e:for(;;){const R=this.getCode();switch(R){case 60:if(this.state=15,E!==void 0){const{text:V}=this,B=j.slice(k,this.prevI);V.length!==0?(E(V+B),this.text=""):B.length!==0&&E(B)}break e;case 38:this.state=14,this.entityReturnState=13,E!==void 0&&(this.text+=j.slice(k,this.prevI)),T=!0;break e;case-2:E!==void 0&&(this.text+=j.slice(k,this.prevI)+`
`),k=this.i;break;case-1:E!==void 0&&(this.text+=j.slice(k));break e;default:c(R)||(T=!0)}}T&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(k,j){var E;const{prefix:T,local:R}=this.qname(k),V={name:k,prefix:T,local:R,value:j};if(this.attribList.push(V),(E=this.attributeHandler)===null||E===void 0||E.call(this,V),T==="xmlns"){const B=j.trim();this.currentXMLVersion==="1.0"&&B===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[R]=B,U(this,R,B)}else if(k==="xmlns"){const B=j.trim();this.topNS[""]=B,U(this,"",B)}}pushAttribPlain(k,j){var E;const T={name:k,value:j};this.attribList.push(T),(E=this.attributeHandler)===null||E===void 0||E.call(this,T)}end(){var k,j;this.sawRoot||this.fail("document must contain a root element.");const{tags:E}=this;for(;E.length>0;){const R=E.pop();this.fail("unclosed tag: "+R.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:T}=this;return T.length!==0&&((k=this.textHandler)===null||k===void 0||k.call(this,T),this.text=""),this._closed=!0,(j=this.endHandler)===null||j===void 0||j.call(this),this._init(),this}resolve(k){var j,E;let T=this.topNS[k];if(T!==void 0)return T;const{tags:R}=this;for(let V=R.length-1;V>=0;V--)if(T=R[V].ns[k],T!==void 0)return T;return T=this.ns[k],T!==void 0?T:(E=(j=this.opt).resolvePrefix)===null||E===void 0?void 0:E.call(j,k)}qname(k){const j=k.indexOf(":");if(j===-1)return{prefix:"",local:k};const E=k.slice(j+1),T=k.slice(0,j);return(T===""||E===""||E.includes(":"))&&this.fail(`malformed name: ${k}.`),{prefix:T,local:E}}processAttribsNS(){var k;const{attribList:j}=this,E=this.tag;{const{prefix:V,local:B}=this.qname(E.name);E.prefix=V,E.local=B;const K=E.uri=(k=this.resolve(V))!==null&&k!==void 0?k:"";V!==""&&(V==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),K===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(V)}.`),E.uri=V))}if(j.length===0)return;const{attributes:T}=E,R=new Set;for(const V of j){const{name:B,prefix:K,local:Z}=V;let ne,G;K===""?(ne=B==="xmlns"?w:"",G=B):(ne=this.resolve(K),ne===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(K)}.`),ne=K),G=`{${ne}}${Z}`),R.has(G)&&this.fail(`duplicate attribute: ${G}.`),R.add(G),V.uri=ne,T[B]=V}this.attribList=[]}processAttribsPlain(){const{attribList:k}=this,j=this.tag.attributes;for(const{name:E,value:T}of k)j[E]!==void 0&&this.fail(`duplicate attribute: ${E}.`),j[E]=T;this.attribList=[]}openTag(){var k;this.processAttribs();const{tags:j}=this,E=this.tag;E.isSelfClosing=!1,(k=this.openTagHandler)===null||k===void 0||k.call(this,E),j.push(E),this.state=13,this.name=""}openSelfClosingTag(){var k,j,E;this.processAttribs();const{tags:T}=this,R=this.tag;R.isSelfClosing=!0,(k=this.openTagHandler)===null||k===void 0||k.call(this,R),(j=this.closeTagHandler)===null||j===void 0||j.call(this,R),(this.tag=(E=T[T.length-1])!==null&&E!==void 0?E:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:k,name:j}=this;if(this.state=13,this.name="",j==="")return this.fail("weird empty close tag."),void(this.text+="</>");const E=this.closeTagHandler;let T=k.length;for(;T-- >0;){const R=this.tag=k.pop();if(this.topNS=R.ns,E==null||E(R),R.name===j)break;this.fail("unexpected close tag.")}T===0?this.closedRoot=!0:T<0&&(this.fail(`unmatched closing tag: ${j}.`),this.text+=`</${j}>`)}parseEntity(k){if(k[0]!=="#"){const E=this.ENTITIES[k];return E!==void 0?E:(this.fail(this.isName(k)?"undefined entity.":"disallowed character in entity name."),`&${k};`)}let j=NaN;return k[1]==="x"&&/^#x[0-9a-f]+$/i.test(k)?j=parseInt(k.slice(2),16):/^#[0-9]+$/.test(k)&&(j=parseInt(k.slice(1),10)),this.isChar(j)?String.fromCodePoint(j):(this.fail("malformed character entity."),`&${k};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,i){var a=e("safe-buffer").Buffer;function s(l,c){this._block=a.alloc(l),this._finalSize=c,this._blockSize=l,this._len=0}s.prototype.update=function(l,c){typeof l=="string"&&(c=c||"utf8",l=a.from(l,c));for(var o=this._block,u=this._blockSize,d=l.length,f=this._len,h=0;h<d;){for(var y=f%u,m=Math.min(d-h,u-y),g=0;g<m;g++)o[y+g]=l[h+g];h+=m,(f+=m)%u==0&&this._update(o)}return this._len+=d,this},s.prototype.digest=function(l){var c=this._len%this._blockSize;this._block[c]=128,this._block.fill(0,c+1),c>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=8*this._len;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var u=(4294967295&o)>>>0,d=(o-u)/4294967296;this._block.writeUInt32BE(d,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var f=this._hash();return l?f.toString(l):f},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=s},{"safe-buffer":494}],498:[function(e,n,i){var a=n.exports=function(s){s=s.toLowerCase();var l=a[s];if(!l)throw new Error(s+" is not supported (we accept pull requests)");return new l};a.sha=e("./sha"),a.sha1=e("./sha1"),a.sha224=e("./sha224"),a.sha256=e("./sha256"),a.sha384=e("./sha384"),a.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,i){var a=e("inherits"),s=e("./hash"),l=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,s.call(this,64,56)}function d(h){return h<<30|h>>>2}function f(h,y,m,g){return h===0?y&m|~y&g:h===2?y&m|y&g|m&g:y^m^g}a(u,s),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(h){for(var y,m=this._w,g=0|this._a,v=0|this._b,b=0|this._c,w=0|this._d,_=0|this._e,N=0;N<16;++N)m[N]=h.readInt32BE(4*N);for(;N<80;++N)m[N]=m[N-3]^m[N-8]^m[N-14]^m[N-16];for(var P=0;P<80;++P){var M=~~(P/20),A=0|((y=g)<<5|y>>>27)+f(M,v,b,w)+_+m[P]+c[M];_=w,w=b,b=d(v),v=g,g=A}this._a=g+this._a|0,this._b=v+this._b|0,this._c=b+this._c|0,this._d=w+this._d|0,this._e=_+this._e|0},u.prototype._hash=function(){var h=l.allocUnsafe(20);return h.writeInt32BE(0|this._a,0),h.writeInt32BE(0|this._b,4),h.writeInt32BE(0|this._c,8),h.writeInt32BE(0|this._d,12),h.writeInt32BE(0|this._e,16),h},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,i){var a=e("inherits"),s=e("./hash"),l=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,s.call(this,64,56)}function d(y){return y<<5|y>>>27}function f(y){return y<<30|y>>>2}function h(y,m,g,v){return y===0?m&g|~m&v:y===2?m&g|m&v|g&v:m^g^v}a(u,s),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(y){for(var m,g=this._w,v=0|this._a,b=0|this._b,w=0|this._c,_=0|this._d,N=0|this._e,P=0;P<16;++P)g[P]=y.readInt32BE(4*P);for(;P<80;++P)g[P]=(m=g[P-3]^g[P-8]^g[P-14]^g[P-16])<<1|m>>>31;for(var M=0;M<80;++M){var A=~~(M/20),F=d(v)+h(A,b,w,_)+N+g[M]+c[A]|0;N=_,_=w,w=f(b),b=v,v=F}this._a=v+this._a|0,this._b=b+this._b|0,this._c=w+this._c|0,this._d=_+this._d|0,this._e=N+this._e|0},u.prototype._hash=function(){var y=l.allocUnsafe(20);return y.writeInt32BE(0|this._a,0),y.writeInt32BE(0|this._b,4),y.writeInt32BE(0|this._c,8),y.writeInt32BE(0|this._d,12),y.writeInt32BE(0|this._e,16),y},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,i){var a=e("inherits"),s=e("./sha256"),l=e("./hash"),c=e("safe-buffer").Buffer,o=new Array(64);function u(){this.init(),this._w=o,l.call(this,64,56)}a(u,s),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var d=c.allocUnsafe(28);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,i){var a=e("inherits"),s=e("./hash"),l=e("safe-buffer").Buffer,c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function u(){this.init(),this._w=o,s.call(this,64,56)}function d(g,v,b){return b^g&(v^b)}function f(g,v,b){return g&v|b&(g|v)}function h(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function y(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function m(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}a(u,s),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(g){for(var v,b=this._w,w=0|this._a,_=0|this._b,N=0|this._c,P=0|this._d,M=0|this._e,A=0|this._f,F=0|this._g,H=0|this._h,z=0;z<16;++z)b[z]=g.readInt32BE(4*z);for(;z<64;++z)b[z]=0|(((v=b[z-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+b[z-7]+m(b[z-15])+b[z-16];for(var U=0;U<64;++U){var O=H+y(M)+d(M,A,F)+c[U]+b[U]|0,L=h(w)+f(w,_,N)|0;H=F,F=A,A=M,M=P+O|0,P=N,N=_,_=w,w=O+L|0}this._a=w+this._a|0,this._b=_+this._b|0,this._c=N+this._c|0,this._d=P+this._d|0,this._e=M+this._e|0,this._f=A+this._f|0,this._g=F+this._g|0,this._h=H+this._h|0},u.prototype._hash=function(){var g=l.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,i){var a=e("inherits"),s=e("./sha512"),l=e("./hash"),c=e("safe-buffer").Buffer,o=new Array(160);function u(){this.init(),this._w=o,l.call(this,128,112)}a(u,s),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var d=c.allocUnsafe(48);function f(h,y,m){d.writeInt32BE(h,m),d.writeInt32BE(y,m+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),d},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,i){var a=e("inherits"),s=e("./hash"),l=e("safe-buffer").Buffer,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function u(){this.init(),this._w=o,s.call(this,128,112)}function d(_,N,P){return P^_&(N^P)}function f(_,N,P){return _&N|P&(_|N)}function h(_,N){return(_>>>28|N<<4)^(N>>>2|_<<30)^(N>>>7|_<<25)}function y(_,N){return(_>>>14|N<<18)^(_>>>18|N<<14)^(N>>>9|_<<23)}function m(_,N){return(_>>>1|N<<31)^(_>>>8|N<<24)^_>>>7}function g(_,N){return(_>>>1|N<<31)^(_>>>8|N<<24)^(_>>>7|N<<25)}function v(_,N){return(_>>>19|N<<13)^(N>>>29|_<<3)^_>>>6}function b(_,N){return(_>>>19|N<<13)^(N>>>29|_<<3)^(_>>>6|N<<26)}function w(_,N){return _>>>0<N>>>0?1:0}a(u,s),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(_){for(var N=this._w,P=0|this._ah,M=0|this._bh,A=0|this._ch,F=0|this._dh,H=0|this._eh,z=0|this._fh,U=0|this._gh,O=0|this._hh,L=0|this._al,C=0|this._bl,k=0|this._cl,j=0|this._dl,E=0|this._el,T=0|this._fl,R=0|this._gl,V=0|this._hl,B=0;B<32;B+=2)N[B]=_.readInt32BE(4*B),N[B+1]=_.readInt32BE(4*B+4);for(;B<160;B+=2){var K=N[B-30],Z=N[B-30+1],ne=m(K,Z),G=g(Z,K),te=v(K=N[B-4],Z=N[B-4+1]),I=b(Z,K),D=N[B-14],X=N[B-14+1],Q=N[B-32],re=N[B-32+1],oe=G+X|0,se=ne+D+w(oe,G)|0;se=(se=se+te+w(oe=oe+I|0,I)|0)+Q+w(oe=oe+re|0,re)|0,N[B]=se,N[B+1]=oe}for(var he=0;he<160;he+=2){se=N[he],oe=N[he+1];var le=f(P,M,A),de=f(L,C,k),ve=h(P,L),ge=h(L,P),ke=y(H,E),Pe=y(E,H),Re=c[he],Ie=c[he+1],qe=d(H,z,U),Ue=d(E,T,R),vt=V+Pe|0,St=O+ke+w(vt,V)|0;St=(St=(St=St+qe+w(vt=vt+Ue|0,Ue)|0)+Re+w(vt=vt+Ie|0,Ie)|0)+se+w(vt=vt+oe|0,oe)|0;var De=ge+de|0,lt=ve+le+w(De,ge)|0;O=U,V=R,U=z,R=T,z=H,T=E,H=F+St+w(E=j+vt|0,j)|0,F=A,j=k,A=M,k=C,M=P,C=L,P=St+lt+w(L=vt+De|0,vt)|0}this._al=this._al+L|0,this._bl=this._bl+C|0,this._cl=this._cl+k|0,this._dl=this._dl+j|0,this._el=this._el+E|0,this._fl=this._fl+T|0,this._gl=this._gl+R|0,this._hl=this._hl+V|0,this._ah=this._ah+P+w(this._al,L)|0,this._bh=this._bh+M+w(this._bl,C)|0,this._ch=this._ch+A+w(this._cl,k)|0,this._dh=this._dh+F+w(this._dl,j)|0,this._eh=this._eh+H+w(this._el,E)|0,this._fh=this._fh+z+w(this._fl,T)|0,this._gh=this._gh+U+w(this._gl,R)|0,this._hh=this._hh+O+w(this._hl,V)|0},u.prototype._hash=function(){var _=l.allocUnsafe(64);function N(P,M,A){_.writeInt32BE(P,A),_.writeInt32BE(M,A+4)}return N(this._ah,this._al,0),N(this._bh,this._bl,8),N(this._ch,this._cl,16),N(this._dh,this._dl,24),N(this._eh,this._el,32),N(this._fh,this._fl,40),N(this._gh,this._gl,48),N(this._hh,this._hl,56),_},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,i){n.exports=s;var a=e("events").EventEmitter;function s(){a.call(this)}e("inherits")(s,a),s.Readable=e("readable-stream/readable.js"),s.Writable=e("readable-stream/writable.js"),s.Duplex=e("readable-stream/duplex.js"),s.Transform=e("readable-stream/transform.js"),s.PassThrough=e("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(l,c){var o=this;function u(v){l.writable&&l.write(v)===!1&&o.pause&&o.pause()}function d(){o.readable&&o.resume&&o.resume()}o.on("data",u),l.on("drain",d),l._isStdio||c&&c.end===!1||(o.on("end",h),o.on("close",y));var f=!1;function h(){f||(f=!0,l.end())}function y(){f||(f=!0,typeof l.destroy=="function"&&l.destroy())}function m(v){if(g(),a.listenerCount(this,"error")===0)throw v}function g(){o.removeListener("data",u),l.removeListener("drain",d),o.removeListener("end",h),o.removeListener("close",y),o.removeListener("error",m),l.removeListener("error",m),o.removeListener("end",g),o.removeListener("close",g),l.removeListener("close",g)}return o.on("error",m),l.on("error",m),o.on("end",g),o.on("close",g),l.on("close",g),l.emit("pipe",o),l}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,i){var a={}.toString;n.exports=Array.isArray||function(s){return a.call(s)=="[object Array]"}},{}],507:[function(e,n,i){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,i){var a=e("process-nextick-args"),s=Object.keys||function(g){var v=[];for(var b in g)v.push(b);return v};n.exports=h;var l=Object.create(e("core-util-is"));l.inherits=e("inherits");var c=e("./_stream_readable"),o=e("./_stream_writable");l.inherits(h,c);for(var u=s(o.prototype),d=0;d<u.length;d++){var f=u[d];h.prototype[f]||(h.prototype[f]=o.prototype[f])}function h(g){if(!(this instanceof h))return new h(g);c.call(this,g),o.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y)}function y(){this.allowHalfOpen||this._writableState.ended||a.nextTick(m,this)}function m(g){g.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),h.prototype._destroy=function(g,v){this.push(null),this.end(),a.nextTick(v,g)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,i){n.exports=l;var a=e("./_stream_transform"),s=Object.create(e("core-util-is"));function l(c){if(!(this instanceof l))return new l(c);a.call(this,c)}s.inherits=e("inherits"),s.inherits(l,a),l.prototype._transform=function(c,o,u){u(null,c)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,i){(function(a,s){(function(){var l=e("process-nextick-args");n.exports=P;var c,o=e("isarray");P.ReadableState=N,e("events").EventEmitter;var u=function(V,B){return V.listeners(B).length},d=e("./internal/streams/stream"),f=e("safe-buffer").Buffer,h=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y=Object.create(e("core-util-is"));y.inherits=e("inherits");var m=e("util"),g=void 0;g=m&&m.debuglog?m.debuglog("stream"):function(){};var v,b=e("./internal/streams/BufferList"),w=e("./internal/streams/destroy");y.inherits(P,d);var _=["error","close","destroy","pause","resume"];function N(V,B){V=V||{};var K=B instanceof(c=c||e("./_stream_duplex"));this.objectMode=!!V.objectMode,K&&(this.objectMode=this.objectMode||!!V.readableObjectMode);var Z=V.highWaterMark,ne=V.readableHighWaterMark,G=this.objectMode?16:16384;this.highWaterMark=Z||Z===0?Z:K&&(ne||ne===0)?ne:G,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(v||(v=e("string_decoder/").StringDecoder),this.decoder=new v(V.encoding),this.encoding=V.encoding)}function P(V){if(c=c||e("./_stream_duplex"),!(this instanceof P))return new P(V);this._readableState=new N(V,this),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),d.call(this)}function M(V,B,K,Z,ne){var G,te=V._readableState;return B===null?(te.reading=!1,function(I,D){if(!D.ended){if(D.decoder){var X=D.decoder.end();X&&X.length&&(D.buffer.push(X),D.length+=D.objectMode?1:X.length)}D.ended=!0,H(I)}}(V,te)):(ne||(G=function(I,D){var X;Q=D,f.isBuffer(Q)||Q instanceof h||typeof D=="string"||D===void 0||I.objectMode||(X=new TypeError("Invalid non-string/buffer chunk"));var Q;return X}(te,B)),G?V.emit("error",G):te.objectMode||B&&B.length>0?(typeof B=="string"||te.objectMode||Object.getPrototypeOf(B)===f.prototype||(B=function(I){return f.from(I)}(B)),Z?te.endEmitted?V.emit("error",new Error("stream.unshift() after end event")):A(V,te,B,!0):te.ended?V.emit("error",new Error("stream.push() after EOF")):(te.reading=!1,te.decoder&&!K?(B=te.decoder.write(B),te.objectMode||B.length!==0?A(V,te,B,!1):U(V,te)):A(V,te,B,!1))):Z||(te.reading=!1)),function(I){return!I.ended&&(I.needReadable||I.length<I.highWaterMark||I.length===0)}(te)}function A(V,B,K,Z){B.flowing&&B.length===0&&!B.sync?(V.emit("data",K),V.read(0)):(B.length+=B.objectMode?1:K.length,Z?B.buffer.unshift(K):B.buffer.push(K),B.needReadable&&H(V)),U(V,B)}Object.defineProperty(P.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(V){this._readableState&&(this._readableState.destroyed=V)}}),P.prototype.destroy=w.destroy,P.prototype._undestroy=w.undestroy,P.prototype._destroy=function(V,B){this.push(null),B(V)},P.prototype.push=function(V,B){var K,Z=this._readableState;return Z.objectMode?K=!0:typeof V=="string"&&((B=B||Z.defaultEncoding)!==Z.encoding&&(V=f.from(V,B),B=""),K=!0),M(this,V,B,!1,K)},P.prototype.unshift=function(V){return M(this,V,null,!0,!1)},P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(V){return v||(v=e("string_decoder/").StringDecoder),this._readableState.decoder=new v(V),this._readableState.encoding=V,this};function F(V,B){return V<=0||B.length===0&&B.ended?0:B.objectMode?1:V!=V?B.flowing&&B.length?B.buffer.head.data.length:B.length:(V>B.highWaterMark&&(B.highWaterMark=function(K){return K>=8388608?K=8388608:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}(V)),V<=B.length?V:B.ended?B.length:(B.needReadable=!0,0))}function H(V){var B=V._readableState;B.needReadable=!1,B.emittedReadable||(g("emitReadable",B.flowing),B.emittedReadable=!0,B.sync?l.nextTick(z,V):z(V))}function z(V){g("emit readable"),V.emit("readable"),k(V)}function U(V,B){B.readingMore||(B.readingMore=!0,l.nextTick(O,V,B))}function O(V,B){for(var K=B.length;!B.reading&&!B.flowing&&!B.ended&&B.length<B.highWaterMark&&(g("maybeReadMore read 0"),V.read(0),K!==B.length);)K=B.length;B.readingMore=!1}function L(V){g("readable nexttick read 0"),V.read(0)}function C(V,B){B.reading||(g("resume read 0"),V.read(0)),B.resumeScheduled=!1,B.awaitDrain=0,V.emit("resume"),k(V),B.flowing&&!B.reading&&V.read(0)}function k(V){var B=V._readableState;for(g("flow",B.flowing);B.flowing&&V.read()!==null;);}function j(V,B){return B.length===0?null:(B.objectMode?K=B.buffer.shift():!V||V>=B.length?(K=B.decoder?B.buffer.join(""):B.buffer.length===1?B.buffer.head.data:B.buffer.concat(B.length),B.buffer.clear()):K=function(Z,ne,G){var te;return Z<ne.head.data.length?(te=ne.head.data.slice(0,Z),ne.head.data=ne.head.data.slice(Z)):te=Z===ne.head.data.length?ne.shift():G?function(I,D){var X=D.head,Q=1,re=X.data;for(I-=re.length;X=X.next;){var oe=X.data,se=I>oe.length?oe.length:I;if(se===oe.length?re+=oe:re+=oe.slice(0,I),(I-=se)===0){se===oe.length?(++Q,X.next?D.head=X.next:D.head=D.tail=null):(D.head=X,X.data=oe.slice(se));break}++Q}return D.length-=Q,re}(Z,ne):function(I,D){var X=f.allocUnsafe(I),Q=D.head,re=1;for(Q.data.copy(X),I-=Q.data.length;Q=Q.next;){var oe=Q.data,se=I>oe.length?oe.length:I;if(oe.copy(X,X.length-I,0,se),(I-=se)===0){se===oe.length?(++re,Q.next?D.head=Q.next:D.head=D.tail=null):(D.head=Q,Q.data=oe.slice(se));break}++re}return D.length-=re,X}(Z,ne),te}(V,B.buffer,B.decoder),K);var K}function E(V){var B=V._readableState;if(B.length>0)throw new Error('"endReadable()" called on non-empty stream');B.endEmitted||(B.ended=!0,l.nextTick(T,B,V))}function T(V,B){V.endEmitted||V.length!==0||(V.endEmitted=!0,B.readable=!1,B.emit("end"))}function R(V,B){for(var K=0,Z=V.length;K<Z;K++)if(V[K]===B)return K;return-1}P.prototype.read=function(V){g("read",V),V=parseInt(V,10);var B=this._readableState,K=V;if(V!==0&&(B.emittedReadable=!1),V===0&&B.needReadable&&(B.length>=B.highWaterMark||B.ended))return g("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?E(this):H(this),null;if((V=F(V,B))===0&&B.ended)return B.length===0&&E(this),null;var Z,ne=B.needReadable;return g("need readable",ne),(B.length===0||B.length-V<B.highWaterMark)&&g("length less than watermark",ne=!0),B.ended||B.reading?g("reading or ended",ne=!1):ne&&(g("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(V=F(K,B))),(Z=V>0?j(V,B):null)===null?(B.needReadable=!0,V=0):B.length-=V,B.length===0&&(B.ended||(B.needReadable=!0),K!==V&&B.ended&&E(this)),Z!==null&&this.emit("data",Z),Z},P.prototype._read=function(V){this.emit("error",new Error("_read() is not implemented"))},P.prototype.pipe=function(V,B){var K=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=V;break;case 1:Z.pipes=[Z.pipes,V];break;default:Z.pipes.push(V)}Z.pipesCount+=1,g("pipe count=%d opts=%j",Z.pipesCount,B);var ne=(!B||B.end!==!1)&&V!==a.stdout&&V!==a.stderr?te:he;function G(le,de){g("onunpipe"),le===K&&de&&de.hasUnpiped===!1&&(de.hasUnpiped=!0,g("cleanup"),V.removeListener("close",oe),V.removeListener("finish",se),V.removeListener("drain",I),V.removeListener("error",re),V.removeListener("unpipe",G),K.removeListener("end",te),K.removeListener("end",he),K.removeListener("data",Q),D=!0,!Z.awaitDrain||V._writableState&&!V._writableState.needDrain||I())}function te(){g("onend"),V.end()}Z.endEmitted?l.nextTick(ne):K.once("end",ne),V.on("unpipe",G);var I=function(le){return function(){var de=le._readableState;g("pipeOnDrain",de.awaitDrain),de.awaitDrain&&de.awaitDrain--,de.awaitDrain===0&&u(le,"data")&&(de.flowing=!0,k(le))}}(K);V.on("drain",I);var D=!1,X=!1;function Q(le){g("ondata"),X=!1,V.write(le)!==!1||X||((Z.pipesCount===1&&Z.pipes===V||Z.pipesCount>1&&R(Z.pipes,V)!==-1)&&!D&&(g("false write response, pause",Z.awaitDrain),Z.awaitDrain++,X=!0),K.pause())}function re(le){g("onerror",le),he(),V.removeListener("error",re),u(V,"error")===0&&V.emit("error",le)}function oe(){V.removeListener("finish",se),he()}function se(){g("onfinish"),V.removeListener("close",oe),he()}function he(){g("unpipe"),K.unpipe(V)}return K.on("data",Q),function(le,de,ve){if(typeof le.prependListener=="function")return le.prependListener(de,ve);le._events&&le._events[de]?o(le._events[de])?le._events[de].unshift(ve):le._events[de]=[ve,le._events[de]]:le.on(de,ve)}(V,"error",re),V.once("close",oe),V.once("finish",se),V.emit("pipe",K),Z.flowing||(g("pipe resume"),K.resume()),V},P.prototype.unpipe=function(V){var B=this._readableState,K={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return V&&V!==B.pipes||(V||(V=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,V&&V.emit("unpipe",this,K)),this;if(!V){var Z=B.pipes,ne=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var G=0;G<ne;G++)Z[G].emit("unpipe",this,{hasUnpiped:!1});return this}var te=R(B.pipes,V);return te===-1||(B.pipes.splice(te,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),V.emit("unpipe",this,K)),this},P.prototype.on=function(V,B){var K=d.prototype.on.call(this,V,B);if(V==="data")this._readableState.flowing!==!1&&this.resume();else if(V==="readable"){var Z=this._readableState;Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.emittedReadable=!1,Z.reading?Z.length&&H(this):l.nextTick(L,this))}return K},P.prototype.addListener=P.prototype.on,P.prototype.resume=function(){var V=this._readableState;return V.flowing||(g("resume"),V.flowing=!0,function(B,K){K.resumeScheduled||(K.resumeScheduled=!0,l.nextTick(C,B,K))}(this,V)),this},P.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},P.prototype.wrap=function(V){var B=this,K=this._readableState,Z=!1;for(var ne in V.on("end",function(){if(g("wrapped end"),K.decoder&&!K.ended){var te=K.decoder.end();te&&te.length&&B.push(te)}B.push(null)}),V.on("data",function(te){g("wrapped data"),K.decoder&&(te=K.decoder.write(te)),K.objectMode&&te==null||(K.objectMode||te&&te.length)&&(B.push(te)||(Z=!0,V.pause()))}),V)this[ne]===void 0&&typeof V[ne]=="function"&&(this[ne]=function(te){return function(){return V[te].apply(V,arguments)}}(ne));for(var G=0;G<_.length;G++)V.on(_[G],this.emit.bind(this,_[G]));return this._read=function(te){g("wrapped _read",te),Z&&(Z=!1,V.resume())},this},Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),P._fromList=j}).call(this)}).call(this,e("_process"),typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,i){n.exports=c;var a=e("./_stream_duplex"),s=Object.create(e("core-util-is"));function l(d,f){var h=this._transformState;h.transforming=!1;var y=h.writecb;if(!y)return this.emit("error",new Error("write callback called multiple times"));h.writechunk=null,h.writecb=null,f!=null&&this.push(f),y(d);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function c(d){if(!(this instanceof c))return new c(d);a.call(this,d),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",o)}function o(){var d=this;typeof this._flush=="function"?this._flush(function(f,h){u(d,f,h)}):u(this,null,null)}function u(d,f,h){if(f)return d.emit("error",f);if(h!=null&&d.push(h),d._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(d._transformState.transforming)throw new Error("Calling transform done when still transforming");return d.push(null)}s.inherits=e("inherits"),s.inherits(c,a),c.prototype.push=function(d,f){return this._transformState.needTransform=!1,a.prototype.push.call(this,d,f)},c.prototype._transform=function(d,f,h){throw new Error("_transform() is not implemented")},c.prototype._write=function(d,f,h){var y=this._transformState;if(y.writecb=h,y.writechunk=d,y.writeencoding=f,!y.transforming){var m=this._readableState;(y.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},c.prototype._read=function(d){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},c.prototype._destroy=function(d,f){var h=this;a.prototype._destroy.call(this,d,function(y){f(y),h.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,i){(function(a,s,l){(function(){var c=e("process-nextick-args");function o(U){var O=this;this.next=null,this.entry=null,this.finish=function(){(function(L,C,k){var j=L.entry;for(L.entry=null;j;){var E=j.callback;C.pendingcb--,E(k),j=j.next}C.corkedRequestsFree.next=L})(O,U)}}n.exports=N;var u,d=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?l:c.nextTick;N.WritableState=_;var f=Object.create(e("core-util-is"));f.inherits=e("inherits");var h={deprecate:e("util-deprecate")},y=e("./internal/streams/stream"),m=e("safe-buffer").Buffer,g=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,b=e("./internal/streams/destroy");function w(){}function _(U,O){u=u||e("./_stream_duplex"),U=U||{};var L=O instanceof u;this.objectMode=!!U.objectMode,L&&(this.objectMode=this.objectMode||!!U.writableObjectMode);var C=U.highWaterMark,k=U.writableHighWaterMark,j=this.objectMode?16:16384;this.highWaterMark=C||C===0?C:L&&(k||k===0)?k:j,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var E=U.decodeStrings===!1;this.decodeStrings=!E,this.defaultEncoding=U.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(T){(function(R,V){var B=R._writableState,K=B.sync,Z=B.writecb;if(function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}(B),V)(function(G,te,I,D,X){--te.pendingcb,I?(c.nextTick(X,D),c.nextTick(z,G,te),G._writableState.errorEmitted=!0,G.emit("error",D)):(X(D),G._writableState.errorEmitted=!0,G.emit("error",D),z(G,te))})(R,B,K,V,Z);else{var ne=F(B);ne||B.corked||B.bufferProcessing||!B.bufferedRequest||A(R,B),K?d(M,R,B,ne,Z):M(R,B,ne,Z)}})(O,T)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function N(U){if(u=u||e("./_stream_duplex"),!(v.call(N,this)||this instanceof u))return new N(U);this._writableState=new _(U,this),this.writable=!0,U&&(typeof U.write=="function"&&(this._write=U.write),typeof U.writev=="function"&&(this._writev=U.writev),typeof U.destroy=="function"&&(this._destroy=U.destroy),typeof U.final=="function"&&(this._final=U.final)),y.call(this)}function P(U,O,L,C,k,j,E){O.writelen=C,O.writecb=E,O.writing=!0,O.sync=!0,L?U._writev(k,O.onwrite):U._write(k,j,O.onwrite),O.sync=!1}function M(U,O,L,C){L||function(k,j){j.length===0&&j.needDrain&&(j.needDrain=!1,k.emit("drain"))}(U,O),O.pendingcb--,C(),z(U,O)}function A(U,O){O.bufferProcessing=!0;var L=O.bufferedRequest;if(U._writev&&L&&L.next){var C=O.bufferedRequestCount,k=new Array(C),j=O.corkedRequestsFree;j.entry=L;for(var E=0,T=!0;L;)k[E]=L,L.isBuf||(T=!1),L=L.next,E+=1;k.allBuffers=T,P(U,O,!0,O.length,k,"",j.finish),O.pendingcb++,O.lastBufferedRequest=null,j.next?(O.corkedRequestsFree=j.next,j.next=null):O.corkedRequestsFree=new o(O),O.bufferedRequestCount=0}else{for(;L;){var R=L.chunk,V=L.encoding,B=L.callback;if(P(U,O,!1,O.objectMode?1:R.length,R,V,B),L=L.next,O.bufferedRequestCount--,O.writing)break}L===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=L,O.bufferProcessing=!1}function F(U){return U.ending&&U.length===0&&U.bufferedRequest===null&&!U.finished&&!U.writing}function H(U,O){U._final(function(L){O.pendingcb--,L&&U.emit("error",L),O.prefinished=!0,U.emit("prefinish"),z(U,O)})}function z(U,O){var L=F(O);return L&&(function(C,k){k.prefinished||k.finalCalled||(typeof C._final=="function"?(k.pendingcb++,k.finalCalled=!0,c.nextTick(H,C,k)):(k.prefinished=!0,C.emit("prefinish")))}(U,O),O.pendingcb===0&&(O.finished=!0,U.emit("finish"))),L}f.inherits(N,y),_.prototype.getBuffer=function(){for(var U=this.bufferedRequest,O=[];U;)O.push(U),U=U.next;return O},function(){try{Object.defineProperty(_.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(U){return!!v.call(this,U)||this===N&&U&&U._writableState instanceof _}})):v=function(U){return U instanceof this},N.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},N.prototype.write=function(U,O,L){var C,k=this._writableState,j=!1,E=!k.objectMode&&(C=U,m.isBuffer(C)||C instanceof g);return E&&!m.isBuffer(U)&&(U=function(T){return m.from(T)}(U)),typeof O=="function"&&(L=O,O=null),E?O="buffer":O||(O=k.defaultEncoding),typeof L!="function"&&(L=w),k.ended?function(T,R){var V=new Error("write after end");T.emit("error",V),c.nextTick(R,V)}(this,L):(E||function(T,R,V,B){var K=!0,Z=!1;return V===null?Z=new TypeError("May not write null values to stream"):typeof V=="string"||V===void 0||R.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk")),Z&&(T.emit("error",Z),c.nextTick(B,Z),K=!1),K}(this,k,U,L))&&(k.pendingcb++,j=function(T,R,V,B,K,Z){if(!V){var ne=function(D,X,Q){return D.objectMode||D.decodeStrings===!1||typeof X!="string"||(X=m.from(X,Q)),X}(R,B,K);B!==ne&&(V=!0,K="buffer",B=ne)}var G=R.objectMode?1:B.length;R.length+=G;var te=R.length<R.highWaterMark;if(te||(R.needDrain=!0),R.writing||R.corked){var I=R.lastBufferedRequest;R.lastBufferedRequest={chunk:B,encoding:K,isBuf:V,callback:Z,next:null},I?I.next=R.lastBufferedRequest:R.bufferedRequest=R.lastBufferedRequest,R.bufferedRequestCount+=1}else P(T,R,!1,G,B,K,Z);return te}(this,k,E,U,O,L)),j},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var U=this._writableState;U.corked&&(U.corked--,U.writing||U.corked||U.bufferProcessing||!U.bufferedRequest||A(this,U))},N.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),N.prototype._write=function(U,O,L){L(new Error("_write() is not implemented"))},N.prototype._writev=null,N.prototype.end=function(U,O,L){var C=this._writableState;typeof U=="function"?(L=U,U=null,O=null):typeof O=="function"&&(L=O,O=null),U!=null&&this.write(U,O),C.corked&&(C.corked=1,this.uncork()),C.ending||function(k,j,E){j.ending=!0,z(k,j),E&&(j.finished?c.nextTick(E):k.once("finish",E)),j.ended=!0,k.writable=!1}(this,C,L)},Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),N.prototype.destroy=b.destroy,N.prototype._undestroy=b.undestroy,N.prototype._destroy=function(U,O){this.end(),O(U)}}).call(this)}).call(this,e("_process"),typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,i){var a=e("safe-buffer").Buffer,s=e("util");n.exports=function(){function l(){(function(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(c){var o={data:c,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},l.prototype.unshift=function(c){var o={data:c,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length},l.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(c){if(this.length===0)return"";for(var o=this.head,u=""+o.data;o=o.next;)u+=c+o.data;return u},l.prototype.concat=function(c){if(this.length===0)return a.alloc(0);for(var o,u,d,f=a.allocUnsafe(c>>>0),h=this.head,y=0;h;)o=h.data,u=f,d=y,o.copy(u,d),y+=h.data.length,h=h.next;return f},l}(),s&&s.inspect&&s.inspect.custom&&(n.exports.prototype[s.inspect.custom]=function(){var l=s.inspect({length:this.length});return this.constructor.name+" "+l})},{"safe-buffer":520,util:188}],514:[function(e,n,i){var a=e("process-nextick-args");function s(l,c){l.emit("error",c)}n.exports={destroy:function(l,c){var o=this,u=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return u||d?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(s,this,l)):a.nextTick(s,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(f){!c&&f?o._writableState?o._writableState.errorEmitted||(o._writableState.errorEmitted=!0,a.nextTick(s,o,f)):a.nextTick(s,o,f):c&&c(f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(e,n,i){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,i){(i=n.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,i){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,i){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,i){(function(a,s){(function(){var l=e("process/browser.js").nextTick,c=Function.prototype.apply,o=Array.prototype.slice,u={},d=0;function f(h,y){this._id=h,this._clearFn=y}i.setTimeout=function(){return new f(c.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new f(c.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(h){h.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(h,y){clearTimeout(h._idleTimeoutId),h._idleTimeout=y},i.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},i._unrefActive=i.active=function(h){clearTimeout(h._idleTimeoutId);var y=h._idleTimeout;y>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},y))},i.setImmediate=typeof a=="function"?a:function(h){var y=d++,m=!(arguments.length<2)&&o.call(arguments,1);return u[y]=!0,l(function(){u[y]&&(m?h.apply(null,m):h.call(null),i.clearImmediate(y))}),y},i.clearImmediate=typeof s=="function"?s:function(h){delete u[h]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,i){(function(a){(function(){function s(l){try{if(!a.localStorage)return!1}catch{return!1}var c=a.localStorage[l];return c!=null&&String(c).toLowerCase()==="true"}n.exports=function(l,c){if(s("noDeprecation"))return l;var o=!1;return function(){if(!o){if(s("throwDeprecation"))throw new Error(c);s("traceDeprecation")?console.trace(c):console.warn(c),o=!0}return l.apply(this,arguments)}}}).call(this)}).call(this,typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,i){typeof Object.create=="function"?n.exports=function(a,s){a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(a,s){a.super_=s;var l=function(){};l.prototype=s.prototype,a.prototype=new l,a.prototype.constructor=a}},{}],526:[function(e,n,i){n.exports=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},{}],527:[function(e,n,i){(function(a,s){(function(){var l=/%[sdj%]/g;i.format=function(k){if(!_(k)){for(var j=[],E=0;E<arguments.length;E++)j.push(u(arguments[E]));return j.join(" ")}E=1;for(var T=arguments,R=T.length,V=String(k).replace(l,function(K){if(K==="%%")return"%";if(E>=R)return K;switch(K){case"%s":return String(T[E++]);case"%d":return Number(T[E++]);case"%j":try{return JSON.stringify(T[E++])}catch{return"[Circular]"}default:return K}}),B=T[E];E<R;B=T[++E])b(B)||!M(B)?V+=" "+B:V+=" "+u(B);return V},i.deprecate=function(k,j){if(N(s.process))return function(){return i.deprecate(k,j).apply(this,arguments)};if(a.noDeprecation===!0)return k;var E=!1;return function(){if(!E){if(a.throwDeprecation)throw new Error(j);a.traceDeprecation?console.trace(j):console.error(j),E=!0}return k.apply(this,arguments)}};var c,o={};function u(k,j){var E={seen:[],stylize:f};return arguments.length>=3&&(E.depth=arguments[2]),arguments.length>=4&&(E.colors=arguments[3]),v(j)?E.showHidden=j:j&&i._extend(E,j),N(E.showHidden)&&(E.showHidden=!1),N(E.depth)&&(E.depth=2),N(E.colors)&&(E.colors=!1),N(E.customInspect)&&(E.customInspect=!0),E.colors&&(E.stylize=d),h(E,k,E.depth)}function d(k,j){var E=u.styles[j];return E?"\x1B["+u.colors[E][0]+"m"+k+"\x1B["+u.colors[E][1]+"m":k}function f(k,j){return k}function h(k,j,E){if(k.customInspect&&j&&H(j.inspect)&&j.inspect!==i.inspect&&(!j.constructor||j.constructor.prototype!==j)){var T=j.inspect(E,k);return _(T)||(T=h(k,T,E)),T}var R=function(I,D){if(N(D))return I.stylize("undefined","undefined");if(_(D)){var X="'"+JSON.stringify(D).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return I.stylize(X,"string")}if(w(D))return I.stylize(""+D,"number");if(v(D))return I.stylize(""+D,"boolean");if(b(D))return I.stylize("null","null")}(k,j);if(R)return R;var V=Object.keys(j),B=function(I){var D={};return I.forEach(function(X,Q){D[X]=!0}),D}(V);if(k.showHidden&&(V=Object.getOwnPropertyNames(j)),F(j)&&(V.indexOf("message")>=0||V.indexOf("description")>=0))return y(j);if(V.length===0){if(H(j)){var K=j.name?": "+j.name:"";return k.stylize("[Function"+K+"]","special")}if(P(j))return k.stylize(RegExp.prototype.toString.call(j),"regexp");if(A(j))return k.stylize(Date.prototype.toString.call(j),"date");if(F(j))return y(j)}var Z,ne="",G=!1,te=["{","}"];return g(j)&&(G=!0,te=["[","]"]),H(j)&&(ne=" [Function"+(j.name?": "+j.name:"")+"]"),P(j)&&(ne=" "+RegExp.prototype.toString.call(j)),A(j)&&(ne=" "+Date.prototype.toUTCString.call(j)),F(j)&&(ne=" "+y(j)),V.length!==0||G&&j.length!=0?E<0?P(j)?k.stylize(RegExp.prototype.toString.call(j),"regexp"):k.stylize("[Object]","special"):(k.seen.push(j),Z=G?function(I,D,X,Q,re){for(var oe=[],se=0,he=D.length;se<he;++se)C(D,String(se))?oe.push(m(I,D,X,Q,String(se),!0)):oe.push("");return re.forEach(function(le){le.match(/^\d+$/)||oe.push(m(I,D,X,Q,le,!0))}),oe}(k,j,E,B,V):V.map(function(I){return m(k,j,E,B,I,G)}),k.seen.pop(),function(I,D,X){return I.reduce(function(Q,re){return re.indexOf(`
`)>=0,Q+re.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?X[0]+(D===""?"":D+`
 `)+" "+I.join(`,
  `)+" "+X[1]:X[0]+D+" "+I.join(", ")+" "+X[1]}(Z,ne,te)):te[0]+ne+te[1]}function y(k){return"["+Error.prototype.toString.call(k)+"]"}function m(k,j,E,T,R,V){var B,K,Z;if((Z=Object.getOwnPropertyDescriptor(j,R)||{value:j[R]}).get?K=Z.set?k.stylize("[Getter/Setter]","special"):k.stylize("[Getter]","special"):Z.set&&(K=k.stylize("[Setter]","special")),C(T,R)||(B="["+R+"]"),K||(k.seen.indexOf(Z.value)<0?(K=b(E)?h(k,Z.value,null):h(k,Z.value,E-1)).indexOf(`
`)>-1&&(K=V?K.split(`
`).map(function(ne){return"  "+ne}).join(`
`).substr(2):`
`+K.split(`
`).map(function(ne){return"   "+ne}).join(`
`)):K=k.stylize("[Circular]","special")),N(B)){if(V&&R.match(/^\d+$/))return K;(B=JSON.stringify(""+R)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(B=B.substr(1,B.length-2),B=k.stylize(B,"name")):(B=B.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),B=k.stylize(B,"string"))}return B+": "+K}function g(k){return Array.isArray(k)}function v(k){return typeof k=="boolean"}function b(k){return k===null}function w(k){return typeof k=="number"}function _(k){return typeof k=="string"}function N(k){return k===void 0}function P(k){return M(k)&&z(k)==="[object RegExp]"}function M(k){return typeof k=="object"&&k!==null}function A(k){return M(k)&&z(k)==="[object Date]"}function F(k){return M(k)&&(z(k)==="[object Error]"||k instanceof Error)}function H(k){return typeof k=="function"}function z(k){return Object.prototype.toString.call(k)}function U(k){return k<10?"0"+k.toString(10):k.toString(10)}i.debuglog=function(k){if(N(c)&&(c=a.env.NODE_DEBUG||""),k=k.toUpperCase(),!o[k])if(new RegExp("\\b"+k+"\\b","i").test(c)){var j=a.pid;o[k]=function(){var E=i.format.apply(i,arguments);console.error("%s %d: %s",k,j,E)}}else o[k]=function(){};return o[k]},i.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=g,i.isBoolean=v,i.isNull=b,i.isNullOrUndefined=function(k){return k==null},i.isNumber=w,i.isString=_,i.isSymbol=function(k){return typeof k=="symbol"},i.isUndefined=N,i.isRegExp=P,i.isObject=M,i.isDate=A,i.isError=F,i.isFunction=H,i.isPrimitive=function(k){return k===null||typeof k=="boolean"||typeof k=="number"||typeof k=="string"||typeof k=="symbol"||k===void 0},i.isBuffer=e("./support/isBuffer");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var k=new Date,j=[U(k.getHours()),U(k.getMinutes()),U(k.getSeconds())].join(":");return[k.getDate(),O[k.getMonth()],j].join(" ")}function C(k,j){return Object.prototype.hasOwnProperty.call(k,j)}i.log=function(){console.log("%s - %s",L(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(k,j){if(!j||!M(j))return k;for(var E=Object.keys(j),T=E.length;T--;)k[E[T]]=j[E[T]];return k}}).call(this)}).call(this,e("_process"),typeof Jr<"u"?Jr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return h.default}});var a=y(e("./v1.js")),s=y(e("./v3.js")),l=y(e("./v4.js")),c=y(e("./v5.js")),o=y(e("./nil.js")),u=y(e("./version.js")),d=y(e("./validate.js")),f=y(e("./stringify.js")),h=y(e("./parse.js"));function y(m){return m&&m.__esModule?m:{default:m}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,i){function a(h){return 14+(h+64>>>9<<4)+1}function s(h,y){const m=(65535&h)+(65535&y);return(h>>16)+(y>>16)+(m>>16)<<16|65535&m}function l(h,y,m,g,v,b){return s((w=s(s(y,h),s(g,b)))<<(_=v)|w>>>32-_,m);var w,_}function c(h,y,m,g,v,b,w){return l(y&m|~y&g,h,y,v,b,w)}function o(h,y,m,g,v,b,w){return l(y&g|m&~g,h,y,v,b,w)}function u(h,y,m,g,v,b,w){return l(y^m^g,h,y,v,b,w)}function d(h,y,m,g,v,b,w){return l(m^(y|~g),h,y,v,b,w)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var f=function(h){if(typeof h=="string"){const y=unescape(encodeURIComponent(h));h=new Uint8Array(y.length);for(let m=0;m<y.length;++m)h[m]=y.charCodeAt(m)}return function(y){const m=[],g=32*y.length;for(let v=0;v<g;v+=8){const b=y[v>>5]>>>v%32&255,w=parseInt("0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(15&b),16);m.push(w)}return m}(function(y,m){y[m>>5]|=128<<m%32,y[a(m)-1]=m;let g=1732584193,v=-271733879,b=-1732584194,w=271733878;for(let _=0;_<y.length;_+=16){const N=g,P=v,M=b,A=w;g=c(g,v,b,w,y[_],7,-680876936),w=c(w,g,v,b,y[_+1],12,-389564586),b=c(b,w,g,v,y[_+2],17,606105819),v=c(v,b,w,g,y[_+3],22,-1044525330),g=c(g,v,b,w,y[_+4],7,-176418897),w=c(w,g,v,b,y[_+5],12,1200080426),b=c(b,w,g,v,y[_+6],17,-1473231341),v=c(v,b,w,g,y[_+7],22,-45705983),g=c(g,v,b,w,y[_+8],7,1770035416),w=c(w,g,v,b,y[_+9],12,-1958414417),b=c(b,w,g,v,y[_+10],17,-42063),v=c(v,b,w,g,y[_+11],22,-1990404162),g=c(g,v,b,w,y[_+12],7,1804603682),w=c(w,g,v,b,y[_+13],12,-40341101),b=c(b,w,g,v,y[_+14],17,-1502002290),v=c(v,b,w,g,y[_+15],22,1236535329),g=o(g,v,b,w,y[_+1],5,-165796510),w=o(w,g,v,b,y[_+6],9,-1069501632),b=o(b,w,g,v,y[_+11],14,643717713),v=o(v,b,w,g,y[_],20,-373897302),g=o(g,v,b,w,y[_+5],5,-701558691),w=o(w,g,v,b,y[_+10],9,38016083),b=o(b,w,g,v,y[_+15],14,-660478335),v=o(v,b,w,g,y[_+4],20,-405537848),g=o(g,v,b,w,y[_+9],5,568446438),w=o(w,g,v,b,y[_+14],9,-1019803690),b=o(b,w,g,v,y[_+3],14,-187363961),v=o(v,b,w,g,y[_+8],20,1163531501),g=o(g,v,b,w,y[_+13],5,-1444681467),w=o(w,g,v,b,y[_+2],9,-51403784),b=o(b,w,g,v,y[_+7],14,1735328473),v=o(v,b,w,g,y[_+12],20,-1926607734),g=u(g,v,b,w,y[_+5],4,-378558),w=u(w,g,v,b,y[_+8],11,-2022574463),b=u(b,w,g,v,y[_+11],16,1839030562),v=u(v,b,w,g,y[_+14],23,-35309556),g=u(g,v,b,w,y[_+1],4,-1530992060),w=u(w,g,v,b,y[_+4],11,1272893353),b=u(b,w,g,v,y[_+7],16,-155497632),v=u(v,b,w,g,y[_+10],23,-1094730640),g=u(g,v,b,w,y[_+13],4,681279174),w=u(w,g,v,b,y[_],11,-358537222),b=u(b,w,g,v,y[_+3],16,-722521979),v=u(v,b,w,g,y[_+6],23,76029189),g=u(g,v,b,w,y[_+9],4,-640364487),w=u(w,g,v,b,y[_+12],11,-421815835),b=u(b,w,g,v,y[_+15],16,530742520),v=u(v,b,w,g,y[_+2],23,-995338651),g=d(g,v,b,w,y[_],6,-198630844),w=d(w,g,v,b,y[_+7],10,1126891415),b=d(b,w,g,v,y[_+14],15,-1416354905),v=d(v,b,w,g,y[_+5],21,-57434055),g=d(g,v,b,w,y[_+12],6,1700485571),w=d(w,g,v,b,y[_+3],10,-1894986606),b=d(b,w,g,v,y[_+10],15,-1051523),v=d(v,b,w,g,y[_+1],21,-2054922799),g=d(g,v,b,w,y[_+8],6,1873313359),w=d(w,g,v,b,y[_+15],10,-30611744),b=d(b,w,g,v,y[_+6],15,-1560198380),v=d(v,b,w,g,y[_+13],21,1309151649),g=d(g,v,b,w,y[_+4],6,-145523070),w=d(w,g,v,b,y[_+11],10,-1120210379),b=d(b,w,g,v,y[_+2],15,718787259),v=d(v,b,w,g,y[_+9],21,-343485551),g=s(g,N),v=s(v,P),b=s(b,M),w=s(w,A)}return[g,v,b,w]}(function(y){if(y.length===0)return[];const m=8*y.length,g=new Uint32Array(a(m));for(let v=0;v<m;v+=8)g[v>>5]|=(255&y[v/8])<<v%32;return g}(h),8*h.length))};i.default=f},{}],530:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=e("./validate.js"))&&a.__esModule?a:{default:a},l=function(c){if(!(0,s.default)(c))throw TypeError("Invalid UUID");let o;const u=new Uint8Array(16);return u[0]=(o=parseInt(c.slice(0,8),16))>>>24,u[1]=o>>>16&255,u[2]=o>>>8&255,u[3]=255&o,u[4]=(o=parseInt(c.slice(9,13),16))>>>8,u[5]=255&o,u[6]=(o=parseInt(c.slice(14,18),16))>>>8,u[7]=255&o,u[8]=(o=parseInt(c.slice(19,23),16))>>>8,u[9]=255&o,u[10]=(o=parseInt(c.slice(24,36),16))/1099511627776&255,u[11]=o/4294967296&255,u[12]=o>>>24&255,u[13]=o>>>16&255,u[14]=o>>>8&255,u[15]=255&o,u};i.default=l},{"./validate.js":541}],532:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,i){let a;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)};const s=new Uint8Array(16)},{}],534:[function(e,n,i){function a(c,o,u,d){switch(c){case 0:return o&u^~o&d;case 1:return o^u^d;case 2:return o&u^o&d^u&d;case 3:return o^u^d}}function s(c,o){return c<<o|c>>>32-o}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var l=function(c){const o=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof c=="string"){const y=unescape(encodeURIComponent(c));c=[];for(let m=0;m<y.length;++m)c.push(y.charCodeAt(m))}else Array.isArray(c)||(c=Array.prototype.slice.call(c));c.push(128);const d=c.length/4+2,f=Math.ceil(d/16),h=new Array(f);for(let y=0;y<f;++y){const m=new Uint32Array(16);for(let g=0;g<16;++g)m[g]=c[64*y+4*g]<<24|c[64*y+4*g+1]<<16|c[64*y+4*g+2]<<8|c[64*y+4*g+3];h[y]=m}h[f-1][14]=8*(c.length-1)/Math.pow(2,32),h[f-1][14]=Math.floor(h[f-1][14]),h[f-1][15]=8*(c.length-1)&4294967295;for(let y=0;y<f;++y){const m=new Uint32Array(80);for(let N=0;N<16;++N)m[N]=h[y][N];for(let N=16;N<80;++N)m[N]=s(m[N-3]^m[N-8]^m[N-14]^m[N-16],1);let g=u[0],v=u[1],b=u[2],w=u[3],_=u[4];for(let N=0;N<80;++N){const P=Math.floor(N/20),M=s(g,5)+a(P,v,b,w)+_+o[P]+m[N]>>>0;_=w,w=b,b=s(v,30)>>>0,v=g,g=M}u[0]=u[0]+g>>>0,u[1]=u[1]+v>>>0,u[2]=u[2]+b>>>0,u[3]=u[3]+w>>>0,u[4]=u[4]+_>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};i.default=l},{}],535:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=e("./validate.js"))&&a.__esModule?a:{default:a};const l=[];for(let o=0;o<256;++o)l.push((o+256).toString(16).substr(1));var c=function(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const d=(l[o[u+0]]+l[o[u+1]]+l[o[u+2]]+l[o[u+3]]+"-"+l[o[u+4]]+l[o[u+5]]+"-"+l[o[u+6]]+l[o[u+7]]+"-"+l[o[u+8]]+l[o[u+9]]+"-"+l[o[u+10]]+l[o[u+11]]+l[o[u+12]]+l[o[u+13]]+l[o[u+14]]+l[o[u+15]]).toLowerCase();if(!(0,s.default)(d))throw TypeError("Stringified UUID is invalid");return d};i.default=c},{"./validate.js":541}],536:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=l(e("./rng.js")),s=l(e("./stringify.js"));function l(h){return h&&h.__esModule?h:{default:h}}let c,o,u=0,d=0;var f=function(h,y,m){let g=y&&m||0;const v=y||new Array(16);let b=(h=h||{}).node||c,w=h.clockseq!==void 0?h.clockseq:o;if(b==null||w==null){const F=h.random||(h.rng||a.default)();b==null&&(b=c=[1|F[0],F[1],F[2],F[3],F[4],F[5]]),w==null&&(w=o=16383&(F[6]<<8|F[7]))}let _=h.msecs!==void 0?h.msecs:Date.now(),N=h.nsecs!==void 0?h.nsecs:d+1;const P=_-u+(N-d)/1e4;if(P<0&&h.clockseq===void 0&&(w=w+1&16383),(P<0||_>u)&&h.nsecs===void 0&&(N=0),N>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=_,d=N,o=w,_+=122192928e5;const M=(1e4*(268435455&_)+N)%4294967296;v[g++]=M>>>24&255,v[g++]=M>>>16&255,v[g++]=M>>>8&255,v[g++]=255&M;const A=_/4294967296*1e4&268435455;v[g++]=A>>>8&255,v[g++]=255&A,v[g++]=A>>>24&15|16,v[g++]=A>>>16&255,v[g++]=w>>>8|128,v[g++]=255&w;for(let F=0;F<6;++F)v[g+F]=b[F];return y||(0,s.default)(v)};i.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=l(e("./v35.js")),s=l(e("./md5.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=(0,a.default)("v3",48,s.default);i.default=c},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(u,d,f){function h(y,m,g,v){if(typeof y=="string"&&(y=function(w){w=unescape(encodeURIComponent(w));const _=[];for(let N=0;N<w.length;++N)_.push(w.charCodeAt(N));return _}(y)),typeof m=="string"&&(m=(0,s.default)(m)),m.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let b=new Uint8Array(16+y.length);if(b.set(m),b.set(y,m.length),b=f(b),b[6]=15&b[6]|d,b[8]=63&b[8]|128,g){v=v||0;for(let w=0;w<16;++w)g[v+w]=b[w];return g}return(0,a.default)(b)}try{h.name=u}catch{}return h.DNS=c,h.URL=o,h},i.URL=i.DNS=void 0;var a=l(e("./stringify.js")),s=l(e("./parse.js"));function l(u){return u&&u.__esModule?u:{default:u}}const c="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=c;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=o},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=l(e("./rng.js")),s=l(e("./stringify.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=function(o,u,d){const f=(o=o||{}).random||(o.rng||a.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,u){d=d||0;for(let h=0;h<16;++h)u[d+h]=f[h];return u}return(0,s.default)(f)};i.default=c},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=l(e("./v35.js")),s=l(e("./sha1.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=(0,a.default)("v5",80,s.default);i.default=c},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=e("./regex.js"))&&a.__esModule?a:{default:a},l=function(c){return typeof c=="string"&&s.default.test(c)};i.default=l},{"./regex.js":532}],542:[function(e,n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,s=(a=e("./validate.js"))&&a.__esModule?a:{default:a},l=function(c){if(!(0,s.default)(c))throw TypeError("Invalid UUID");return parseInt(c.substr(14,1),16)};i.default=l},{"./validate.js":541}],543:[function(e,n,i){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r ---`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isS=function(s){return s===32||s===10||s===13||s===9},i.isNameStartChar=a,i.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(e,n,i){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="---",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},i.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},i.isS=function(s){return s===32||s===10||s===13||s===9},i.isNameStartChar=a,i.isNameChar=function(s){return a(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(e,n,i){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function a(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-z------------",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9--",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=a,i.isNCNameChar=function(s){return a(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)})}(x6)),x6.exports}var Zbe=Jbe();const Qbe=kn(Zbe);async function exe(r,t="Sheet1",e="export.xlsx"){try{const n=new Qbe.Workbook,i=n.addWorksheet(t);if(!r||r.length===0){const c=await n.xlsx.writeBuffer();eR(c,e);return}const a=Object.keys(r[0]);i.addRow(a);const s=i.getRow(1);s.font={bold:!0},s.eachCell(c=>{c.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE0E0E0"}},c.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),r.forEach(c=>{const o=a.map(u=>c[u]);i.addRow(o)}),(i.columns||[]).forEach(c=>{var o;if(c){let u=0;(o=c==null?void 0:c.eachCell)==null||o.call(c,{includeEmpty:!0},d=>{const f=d.value?d.value.toString().length:10;f>u&&(u=f)}),c.width!==void 0&&(c.width=u<10?10:u+2)}});const l=await n.xlsx.writeBuffer();eR(l,e)}catch(n){throw console.error("Error exporting to Excel:",n),n}}function eR(r,t){const e=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download=t,i.click(),window.URL.revokeObjectURL(n)}function txe(r,t){let e;try{const i=r.period.split(" - ")[0].trim();console.log("Period parts:",i);const a=new Date(i);console.log("Parsed date:",a),isNaN(a.getTime())?(console.warn("Invalid date, using current date as fallback"),e=vr(new Date,"MMyyyy")):e=vr(a,"MMyyyy")}catch(i){console.error("Error parsing date:",i),e=vr(new Date,"MMyyyy")}return console.log("Using month/year for GSTR3B:",e),{gstin:t,ret_period:e,sup_details:{osup_det:{txval:Number(r.taxableValue.toFixed(2)),camt:Number(r.cgst.toFixed(2)),samt:Number(r.sgst.toFixed(2)),iamt:Number(r.igst.toFixed(2)),csamt:Number(r.cess.toFixed(2))},osup_zero:{txval:0},osup_nil_exmp:{txval:0},isup_rev:{txval:0,camt:0,samt:0,iamt:0,csamt:0},osup_nongst:{txval:0}},inter_sup:{unreg_details:[],comp_details:[],uin_details:[]},itc_elg:{itc_avl:[{ty:"IMPG",iamt:0,camt:0,samt:0,csamt:0}],itc_rev:[{ty:"RUL",iamt:0,camt:0,samt:0,csamt:0}],itc_net:{iamt:0,camt:0,samt:0,csamt:0},itc_inelg:[{ty:"RUL",iamt:0,camt:0,samt:0,csamt:0}]},inward_sup:{isup_details:[{ty:"GST",inter:0,intra:0}]}}}function LU(r,t){let e;try{const i=r.period.split(" - ")[0].trim();console.log("Purchase period parts:",i);const a=new Date(i);console.log("Purchase parsed date:",a),isNaN(a.getTime())?(console.warn("Invalid purchase date, using current date as fallback"),e=vr(new Date,"MMyyyy")):e=vr(a,"MMyyyy")}catch(i){console.error("Error parsing purchase date:",i),e=vr(new Date,"MMyyyy")}return console.log("Using month/year for Purchase GSTR3B:",e),{gstin:t,ret_period:e,sup_details:{osup_det:{txval:0,camt:0,samt:0,iamt:0,csamt:0},osup_zero:{txval:0},osup_nil_exmp:{txval:0},isup_rev:{txval:0,camt:0,samt:0,iamt:0,csamt:0},osup_nongst:{txval:0}},inter_sup:{unreg_details:[],comp_details:[],uin_details:[]},itc_elg:{itc_avl:[{ty:"IMPS",iamt:Number(r.igst.toFixed(2)),camt:Number(r.cgst.toFixed(2)),samt:Number(r.sgst.toFixed(2)),csamt:Number(r.cess.toFixed(2))}],itc_rev:[{ty:"RUL",iamt:0,camt:0,samt:0,csamt:0}],itc_net:{iamt:Number(r.igst.toFixed(2)),camt:Number(r.cgst.toFixed(2)),samt:Number(r.sgst.toFixed(2)),csamt:Number(r.cess.toFixed(2))},itc_inelg:[{ty:"RUL",iamt:0,camt:0,samt:0,csamt:0}]},inward_sup:{isup_details:[{ty:"GST",inter:Number(r.igst.toFixed(2)),intra:Number((r.cgst+r.sgst).toFixed(2))}]}}}function DU(r,t){const{salesSummary:e,purchaseSummary:n}=r;let i=(e==null?void 0:e.period)||(n==null?void 0:n.period)||"",a;try{const l=i.split(" - ")[0].trim();console.log("Consolidated period parts:",l);const c=new Date(l);console.log("Consolidated parsed date:",c),isNaN(c.getTime())?(console.warn("Invalid date, using current date as fallback"),a=vr(new Date,"MMyyyy")):a=vr(c,"MMyyyy")}catch(l){console.error("Error parsing date:",l),a=vr(new Date,"MMyyyy")}return console.log("Using month/year for Consolidated GSTR3B:",a),{gstin:t,ret_period:a,sup_details:{osup_det:{txval:Number(((e==null?void 0:e.taxableValue)||0).toFixed(2)),camt:Number(((e==null?void 0:e.cgst)||0).toFixed(2)),samt:Number(((e==null?void 0:e.sgst)||0).toFixed(2)),iamt:Number(((e==null?void 0:e.igst)||0).toFixed(2)),csamt:Number(((e==null?void 0:e.cess)||0).toFixed(2))},osup_zero:{txval:0},osup_nil_exmp:{txval:0},isup_rev:{txval:0,camt:0,samt:0,iamt:0,csamt:0},osup_nongst:{txval:0}},inter_sup:{unreg_details:[],comp_details:[],uin_details:[]},itc_elg:{itc_avl:[{ty:"IMPS",iamt:Number(((n==null?void 0:n.igst)||0).toFixed(2)),camt:Number(((n==null?void 0:n.cgst)||0).toFixed(2)),samt:Number(((n==null?void 0:n.sgst)||0).toFixed(2)),csamt:Number(((n==null?void 0:n.cess)||0).toFixed(2))}],itc_rev:[{ty:"RUL",iamt:0,camt:0,samt:0,csamt:0}],itc_net:{iamt:Number(((n==null?void 0:n.igst)||0).toFixed(2)),camt:Number(((n==null?void 0:n.cgst)||0).toFixed(2)),samt:Number(((n==null?void 0:n.sgst)||0).toFixed(2)),csamt:Number(((n==null?void 0:n.cess)||0).toFixed(2))},itc_inelg:[{ty:"RUL",iamt:0,camt:0,samt:0,csamt:0}]},inward_sup:{isup_details:[{ty:"GST",inter:Number(((n==null?void 0:n.igst)||0).toFixed(2)),intra:Number((((n==null?void 0:n.cgst)||0)+((n==null?void 0:n.sgst)||0)).toFixed(2))}]}}}function $v(r,t){try{console.log("Preparing to download JSON file:",t);const e=JSON.stringify(r,null,2),n=new Blob([e],{type:"application/json"}),i=URL.createObjectURL(n),a=document.createElement("a");a.href=i,a.download=t,document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(i)},100),console.log("Download process completed")}catch(e){throw console.error("Error in downloadJsonFile:",e),e}}function rxe(r,t,e){const n=DU(r,t),a=`gstr3b-${e.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase()}-${vr(new Date,"yyyy-MM-dd")}.json`;return{data:n,fileName:a}}const nxe=({startDate:r,endDate:t},e)=>{const{theme:n}=Vr(),i=n==="dark",{selectedCompany:a}=li(),[s,l]=fe.useState(!0),[c,o]=fe.useState(null),[u,d]=fe.useState(null),[f,h]=fe.useState("");rt.useImperativeHandle(e,()=>({getSummary:()=>u})),fe.useEffect(()=>{a&&h(a.tax_number||"")},[a]),fe.useEffect(()=>{y()},[r,t]);const y=async()=>{if(!a){o("Please select a company first"),l(!1);return}l(!0);try{const v=pu(ip(r)),b=ah(ip(t)),{data:w,error:_}=await $e.from("purchase_entries").select(`
          id,
          subtotal,
          tax,
          total,
          tax_type,
          cgst,
          sgst,
          igst,
          cess,
          created_at
        `).eq("company_id",a.id).gte("created_at",v.toISOString()).lte("created_at",b.toISOString());if(_)throw _;const N={period:`${vr(v,"dd MMM yyyy")} - ${vr(b,"dd MMM yyyy")}`,taxableValue:w.reduce((P,M)=>P+(M.subtotal||0),0),cgst:w.reduce((P,M)=>P+(M.cgst||0),0),sgst:w.reduce((P,M)=>P+(M.sgst||0),0),igst:w.reduce((P,M)=>P+(M.igst||0),0),cess:w.reduce((P,M)=>P+(M.cess||0),0),totalTax:w.reduce((P,M)=>P+(M.tax||0),0)};d(N)}catch(v){console.error("Error fetching purchase GST summary:",v),o("Failed to load purchase GST summary")}finally{l(!1)}},m=v=>`${v.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,g=()=>{if(u)try{const v=LU(u,f),b=`gstr3b-purchase-${vr(new Date,"yyyy-MM-dd")}.json`;$v(v,b),Oe.success("GSTR 3B JSON file generated successfully")}catch(v){console.error("Error generating GSTR 3B JSON:",v),Oe.error("Failed to generate GSTR 3B JSON file")}};return s?p.jsx("div",{className:"flex justify-center items-center py-8",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):c?p.jsx("div",{className:`p-4 rounded-md ${i?"bg-red-900/30 text-red-200":"bg-red-100 text-red-700"}`,children:p.jsx("p",{children:c})}):u?p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:`p-6 rounded-lg shadow-sm ${i?"bg-gray-800":"bg-white"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-lg font-semibold",children:"Purchase GST Summary"}),p.jsx(_t,{variant:"secondary",onClick:g,leftIcon:p.jsx(Ov,{className:"w-4 h-4"}),size:"sm",children:"Export GSTR 3B JSON"})]}),a&&p.jsxs("div",{className:`p-3 rounded-lg ${i?"bg-gray-700":"bg-gray-50"} flex items-center mb-4`,children:[p.jsx(Ba,{className:"w-4 h-4 mr-2 text-gray-400"}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"font-medium",children:a.name}),a.tax_number&&p.jsxs("span",{className:`ml-3 ${i?"text-gray-300":"text-gray-600"}`,children:["GSTIN: ",a.tax_number]})]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-2 md:space-y-0 md:space-x-4 mb-4",children:[p.jsxs("p",{className:`${i?"text-gray-400":"text-gray-600"}`,children:["Period: ",u.period]}),a!=null&&a.tax_number?p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"text-sm font-medium",children:"GSTIN:"}),p.jsx("span",{className:`px-3 py-1 rounded-md ${i?"bg-gray-700 text-white":"bg-gray-100"}`,children:f})]}):p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("label",{htmlFor:"purchase-gstin",className:"text-sm font-medium",children:"GSTIN:"}),p.jsx("input",{id:"purchase-gstin",type:"text",value:f,onChange:v=>h(v.target.value),placeholder:"Enter GSTIN",className:`px-3 py-1 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:`min-w-full ${i?"text-gray-200":"text-gray-700"}`,children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${i?"bg-gray-700":"bg-gray-100"}`,children:[p.jsx("th",{className:"px-4 py-2 text-left",children:"Component"}),p.jsx("th",{className:"px-4 py-2 text-right",children:"Amount"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("td",{className:"px-4 py-2",children:"Taxable Value"}),p.jsx("td",{className:"px-4 py-2 text-right",children:m(u.taxableValue)})]}),p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("td",{className:"px-4 py-2",children:"CGST"}),p.jsx("td",{className:"px-4 py-2 text-right",children:m(u.cgst)})]}),p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("td",{className:"px-4 py-2",children:"SGST"}),p.jsx("td",{className:"px-4 py-2 text-right",children:m(u.sgst)})]}),p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("td",{className:"px-4 py-2",children:"IGST"}),p.jsx("td",{className:"px-4 py-2 text-right",children:m(u.igst)})]}),p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("td",{className:"px-4 py-2",children:"CESS"}),p.jsx("td",{className:"px-4 py-2 text-right",children:m(u.cess)})]}),p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b font-semibold`,children:[p.jsx("td",{className:"px-4 py-2",children:"Total Tax"}),p.jsx("td",{className:"px-4 py-2 text-right",children:m(u.totalTax)})]}),p.jsxs("tr",{className:`${i?"bg-gray-700/50":"bg-gray-100"} font-semibold`,children:[p.jsx("td",{className:"px-4 py-2",children:"Total Value (Taxable + Tax)"}),p.jsx("td",{className:"px-4 py-2 text-right",children:m(u.taxableValue+u.totalTax)})]})]})]})}),p.jsxs("div",{className:"mt-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Notes:"}),p.jsxs("ul",{className:`list-disc pl-5 ${i?"text-gray-300":"text-gray-600"}`,children:[p.jsx("li",{children:"CGST and SGST apply to intra-state transactions (same state)"}),p.jsx("li",{children:"IGST applies to inter-state transactions (different states)"}),p.jsx("li",{children:"CESS is an additional tax on luxury or sin goods (28% GST category)"}),p.jsx("li",{children:"This report can be used for filing GST purchase returns"})]})]})]})}):p.jsx("div",{className:`p-4 rounded-md ${i?"bg-gray-800 text-gray-300":"bg-gray-100 text-gray-700"}`,children:p.jsx("p",{children:"No purchase data available for the selected period."})})},ixe=rt.forwardRef(nxe),axe=()=>{const{theme:r}=Vr(),t=r==="dark",{selectedCompany:e}=li(),[n,i]=fe.useState("sales"),[a,s]=fe.useState(vr(new Date().setDate(1),"yyyy-MM-dd")),[l,c]=fe.useState(vr(new Date,"yyyy-MM-dd")),[o,u]=fe.useState(!1),[d,f]=fe.useState(null),[h,y]=fe.useState(null),[m,g]=fe.useState(null),[v,b]=fe.useState(""),w=fe.useRef(null);fe.useEffect(()=>{e&&b(e.tax_number||"")},[e]),fe.useEffect(()=>{_()},[a,l,e]);const _=async()=>{u(!0);try{if(!e){f("Please select a company first"),u(!1);return}const z=pu(ip(a)),U=ah(ip(l)),{data:O,error:L}=await $e.from("sales").select(`
          id,
          subtotal,
          tax,
          total,
          tax_type,
          cgst,
          sgst,
          igst,
          cess,
          created_at
        `).eq("company_id",e.id).gte("created_at",z.toISOString()).lte("created_at",U.toISOString());if(L)throw L;const C={period:`${vr(z,"dd MMM yyyy")} - ${vr(U,"dd MMM yyyy")}`,taxableValue:O.reduce((k,j)=>k+(j.subtotal||0),0),cgst:O.reduce((k,j)=>k+(j.cgst||0),0),sgst:O.reduce((k,j)=>k+(j.sgst||0),0),igst:O.reduce((k,j)=>k+(j.igst||0),0),cess:O.reduce((k,j)=>k+(j.cess||0),0),totalTax:O.reduce((k,j)=>k+(j.tax||0),0)};y(C)}catch(z){console.error("Error fetching GST summary:",z),Oe.error("Failed to fetch GST summary")}finally{u(!1)}},N=z=>`${z.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,P=()=>{if(h)try{const z=[{Title:`GST ${n==="sales"?"Sales":"Purchase"} Summary Report`,Value:""},{Title:"Period",Value:h.period},{Title:"Taxable Value",Value:N(h.taxableValue)},{Title:"CGST",Value:N(h.cgst)},{Title:"SGST",Value:N(h.sgst)},{Title:"IGST",Value:N(h.igst)},{Title:"CESS",Value:N(h.cess)},{Title:"Total Tax",Value:N(h.totalTax)},{Title:"Total Value",Value:N(h.taxableValue+h.totalTax)}],U=`gst-${n}-summary-${vr(new Date,"yyyy-MM-dd")}.xlsx`;exe(z,"GST Summary",U),Oe.success("Excel report generated successfully")}catch(z){console.error("Error generating Excel:",z),Oe.error("Failed to generate Excel report")}},M=()=>{if(h)try{const z=new Pr,U=z.internal.pageSize.width;z.setFontSize(16),z.text(`GST ${n==="sales"?"Sales":"Purchase"} Summary Report`,U/2,20,{align:"center"}),z.setFontSize(12),z.text(`Period: ${h.period}`,U/2,30,{align:"center"});const O=[["Component","Amount"],["Taxable Value",N(h.taxableValue)],["CGST",N(h.cgst)],["SGST",N(h.sgst)],["IGST",N(h.igst)],["CESS",N(h.cess)],["Total Tax",N(h.totalTax)],["Total Value",N(h.taxableValue+h.totalTax)]];U0(z,{startY:40,head:[O[0]],body:O.slice(1),theme:"striped",headStyles:{fillColor:[59,130,246]}});const L=`gst-${n}-summary-${vr(new Date,"yyyy-MM-dd")}.pdf`;z.save(L),Oe.success("PDF report generated successfully")}catch(z){console.error("Error generating PDF:",z),Oe.error("Failed to generate PDF report")}},A=()=>{if(h)try{const z=n==="sales"?txe(h,v):LU(h,v),U=`gstr3b-${n}-${vr(new Date,"yyyy-MM-dd")}.json`;$v(z,U),Oe.success("GSTR 3B JSON file generated successfully")}catch(z){console.error("Error generating GSTR 3B JSON:",z),Oe.error("Failed to generate GSTR 3B JSON file")}},F=async()=>{try{console.log("Starting consolidated export...");const z=h;console.log("Sales data:",z);let U=m;if(console.log("Initial purchase data from state:",U),n==="sales"&&!U&&w.current&&(console.log("Trying to get purchase data from ref..."),console.log("Ref current:",w.current),U=w.current.getSummary(),console.log("Purchase data from ref:",U)),!U){console.log("No purchase data available, fetching from database..."),u(!0),Oe.loading("Fetching purchase data...");try{console.log("Fetching purchase data for period:",a,"to",l);const{data:C,error:k}=await $e.from("purchase_entries").select(`
              id,
              subtotal,
              tax,
              total,
              tax_type,
              cgst,
              sgst,
              igst,
              cess,
              created_at
            `).eq("company_id",(e==null?void 0:e.id)||"").gte("created_at",pu(new Date(a)).toISOString()).lte("created_at",ah(new Date(l)).toISOString());if(k)throw console.error("Supabase error:",k),k;if(console.log("Fetched purchase data:",C),C&&C.length>0){const j=`${vr(new Date(a),"dd MMM yyyy")} - ${vr(new Date(l),"dd MMM yyyy")}`;console.log("Purchase period:",j),U={period:j,taxableValue:C.reduce((E,T)=>E+(T.subtotal||0),0),cgst:C.reduce((E,T)=>E+(T.cgst||0),0),sgst:C.reduce((E,T)=>E+(T.sgst||0),0),igst:C.reduce((E,T)=>E+(T.igst||0),0),cess:C.reduce((E,T)=>E+(T.cess||0),0),totalTax:C.reduce((E,T)=>E+(T.tax||0),0)},console.log("Calculated purchase summary:",U),g(U)}else console.log("No purchase data found for the selected period")}catch(C){console.error("Error fetching purchase data:",C),Oe.error("Failed to fetch purchase data"),u(!1);return}finally{Oe.dismiss(),u(!1)}}console.log("Preparing combined data for GSTR 3B JSON...");const O={period:`${vr(new Date(a),"dd MMM yyyy")} - ${vr(new Date(l),"dd MMM yyyy")}`,taxableValue:0,cgst:0,sgst:0,igst:0,cess:0,totalTax:0},L={salesSummary:z||O,purchaseSummary:U||O};console.log("Combined data:",L),console.log("GSTIN:",v);try{const C=DU(L,v);console.log("Generated JSON data:",C);const k=`gstr3b-consolidated-${vr(new Date,"yyyy-MM-dd")}.json`;console.log("Downloading file:",k),$v(C,k),Oe.success("Consolidated GSTR 3B JSON file generated successfully")}catch(C){console.error("Error in generateConsolidatedGSTR3BJson:",C),Oe.error("Error generating consolidated JSON: "+(C.message||"Unknown error"))}}catch(z){console.error("Error generating consolidated GSTR 3B JSON:",z),Oe.error("Failed to generate consolidated GSTR 3B JSON file")}},H=async()=>{try{if(!e){Oe.error("Please select a company first");return}u(!0),Oe.loading("Generating company-specific GSTR 3B report...");const{data:z,error:U}=await $e.from("sales").select(`
          id,
          subtotal,
          tax,
          total,
          tax_type,
          cgst,
          sgst,
          igst,
          cess,
          created_at
        `).eq("company_id",e.id).gte("created_at",pu(new Date(a)).toISOString()).lte("created_at",ah(new Date(l)).toISOString());if(U)throw U;const{data:O,error:L}=await $e.from("purchase_entries").select(`
          id,
          subtotal,
          tax,
          total,
          tax_type,
          cgst,
          sgst,
          igst,
          cess,
          created_at
        `).eq("company_id",e.id).gte("created_at",pu(new Date(a)).toISOString()).lte("created_at",ah(new Date(l)).toISOString());if(L)throw L;const C=`${vr(new Date(a),"dd MMM yyyy")} - ${vr(new Date(l),"dd MMM yyyy")}`,k={period:C,taxableValue:z.reduce((V,B)=>V+(B.subtotal||0),0),cgst:z.reduce((V,B)=>V+(B.cgst||0),0),sgst:z.reduce((V,B)=>V+(B.sgst||0),0),igst:z.reduce((V,B)=>V+(B.igst||0),0),cess:z.reduce((V,B)=>V+(B.cess||0),0),totalTax:z.reduce((V,B)=>V+(B.tax||0),0)},j={period:C,taxableValue:O.reduce((V,B)=>V+(B.subtotal||0),0),cgst:O.reduce((V,B)=>V+(B.cgst||0),0),sgst:O.reduce((V,B)=>V+(B.sgst||0),0),igst:O.reduce((V,B)=>V+(B.igst||0),0),cess:O.reduce((V,B)=>V+(B.cess||0),0),totalTax:O.reduce((V,B)=>V+(B.tax||0),0)},E={salesSummary:k,purchaseSummary:j},{data:T,fileName:R}=rxe(E,v||e.tax_number||"",e.name);$v(T,R),Oe.success(`GSTR 3B JSON file for ${e.name} generated successfully`)}catch(z){console.error("Error generating company-specific GSTR 3B JSON:",z),Oe.error("Failed to generate company GSTR 3B JSON: "+(z.message||"Unknown error"))}finally{u(!1),Oe.dismiss()}};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-2xl font-semibold",children:"GST Reports"}),p.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[p.jsxs(_t,{variant:"secondary",size:"sm",onClick:P,disabled:o||!h,children:[p.jsx("span",{className:"mr-2 h-4 w-4 font-bold",children:"XLS"}),"Export Excel"]}),p.jsxs(_t,{variant:"secondary",size:"sm",onClick:A,disabled:o||!h,children:[p.jsx(Ov,{className:"mr-2 h-4 w-4"}),"Export GSTR 3B JSON"]}),p.jsxs(_t,{variant:"secondary",size:"sm",onClick:F,disabled:o,children:[p.jsx(Ov,{className:"mr-2 h-4 w-4"}),"Export Consolidated GSTR 3B JSON"]}),p.jsxs(_t,{variant:"secondary",size:"sm",onClick:H,disabled:o||!e,children:[p.jsx(Ov,{className:"mr-2 h-4 w-4"}),"Export Company GSTR 3B"]}),p.jsxs(_t,{variant:"secondary",size:"sm",onClick:M,disabled:o||!h,children:[p.jsx(eF,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]}),e&&p.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-700":"bg-gray-50"} flex items-center`,children:[p.jsx(Ba,{className:"w-5 h-5 mr-3 text-gray-400"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium",children:e.name}),p.jsxs("div",{className:"flex flex-wrap gap-x-4 text-sm mt-1",children:[e.tax_number&&p.jsxs("span",{className:t?"text-gray-300":"text-gray-600",children:["GSTIN: ",e.tax_number]}),e.address_city&&e.address_state&&p.jsxs("span",{className:t?"text-gray-300":"text-gray-600",children:[e.address_city,", ",e.address_state]})]})]})]})]}),p.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[p.jsxs("button",{className:`py-2 px-4 font-medium flex items-center ${n==="sales"?`border-b-2 border-blue-500 text-blue-600 ${t?"dark:text-blue-400":""}`:`text-gray-500 hover:text-gray-700 ${t?"dark:text-gray-400 dark:hover:text-gray-300":""}`}`,onClick:()=>i("sales"),children:[p.jsx(qi,{className:"w-4 h-4 mr-2"}),"Sales GST"]}),p.jsxs("button",{className:`py-2 px-4 font-medium flex items-center ${n==="purchases"?`border-b-2 border-blue-500 text-blue-600 ${t?"dark:text-blue-400":""}`:`text-gray-500 hover:text-gray-700 ${t?"dark:text-gray-400 dark:hover:text-gray-300":""}`}`,onClick:()=>i("purchases"),children:[p.jsx(yx,{className:"w-4 h-4 mr-2"}),"Purchase GST"]})]}),p.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm`,children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4 mb-6",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx(j8,{className:"w-5 h-5"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"date",value:a,onChange:z=>s(z.target.value),className:`px-3 py-1 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),p.jsx("span",{children:"to"}),p.jsx("input",{type:"date",value:l,onChange:z=>c(z.target.value),className:`px-3 py-1 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),e!=null&&e.tax_number?p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"text-sm font-medium",children:"GSTIN:"}),p.jsx("span",{className:`px-3 py-1 rounded-md ${t?"bg-gray-700 text-white":"bg-gray-100"}`,children:v})]}):p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("label",{htmlFor:"gstin",className:"text-sm font-medium",children:"GSTIN:"}),p.jsx("input",{id:"gstin",type:"text",value:v,onChange:z=>b(z.target.value),placeholder:"Enter GSTIN",className:`px-3 py-1 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),n==="sales"?o?p.jsx("div",{className:"flex justify-center py-12",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h?p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:`p-6 rounded-lg ${t?"bg-gray-700":"bg-gray-50"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Taxable Value"}),p.jsx(Ai,{className:"w-5 h-5 text-gray-400"})]}),p.jsx("p",{className:"mt-2 text-2xl font-semibold",children:N(h.taxableValue)})]}),p.jsxs("div",{className:`p-6 rounded-lg ${t?"bg-gray-700":"bg-gray-50"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Total Tax"}),p.jsx(Ai,{className:"w-5 h-5 text-gray-400"})]}),p.jsx("p",{className:"mt-2 text-2xl font-semibold",children:N(h.totalTax)})]}),p.jsxs("div",{className:`p-6 rounded-lg ${t?"bg-gray-700":"bg-gray-50"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Total Value"}),p.jsx(Ai,{className:"w-5 h-5 text-gray-400"})]}),p.jsx("p",{className:"mt-2 text-2xl font-semibold",children:N(h.taxableValue+h.totalTax)})]})]}),p.jsxs("div",{className:`p-6 rounded-lg ${t?"bg-gray-700":"bg-gray-50"}`,children:[p.jsx("h3",{className:"text-lg font-medium mb-4",children:"Tax Breakdown"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"CGST"}),p.jsx("span",{children:N(h.cgst)})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"SGST"}),p.jsx("span",{children:N(h.sgst)})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"IGST"}),p.jsx("span",{children:N(h.igst)})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"CESS"}),p.jsx("span",{children:N(h.cess)})]})]})]})]}):d?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(ei,{className:"w-12 h-12 mx-auto text-red-400 mb-4"}),p.jsx("p",{className:t?"text-red-400":"text-red-500",children:d})]}):p.jsxs("div",{className:"text-center py-12",children:[p.jsx(ei,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),p.jsx("p",{className:t?"text-gray-400":"text-gray-500",children:"No sales data available for the selected period"})]}):p.jsx(ixe,{ref:w,startDate:a,endDate:l})]})]})},sxe=({subtotal:r,cgst:t=0,sgst:e=0,igst:n=0,cess:i=0,total:a,taxType:s})=>{const{theme:l}=Vr(),c=l==="dark",o=u=>`${u.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`;return p.jsxs("div",{className:`p-4 rounded-lg ${c?"bg-gray-800":"bg-gray-50"}`,children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tax Breakdown"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"Taxable Value"}),p.jsx("span",{className:"font-medium",children:o(r)})]}),s==="split"?p.jsxs(p.Fragment,{children:[t>0&&p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"CGST"}),p.jsx("span",{className:"font-medium",children:o(t)})]}),e>0&&p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"SGST"}),p.jsx("span",{className:"font-medium",children:o(e)})]})]}):n>0&&p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"IGST"}),p.jsx("span",{className:"font-medium",children:o(n)})]}),i>0&&p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{children:"CESS"}),p.jsx("span",{className:"font-medium",children:o(i)})]}),p.jsx("div",{className:"border-t pt-2 mt-2",children:p.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[p.jsx("span",{children:"Total Amount"}),p.jsxs("span",{className:"flex items-center",children:[p.jsx(Ai,{className:"w-4 h-4 mr-1"}),o(a)]})]})})]})]})},tR=()=>{const{theme:r}=Vr(),t=r==="dark",[e,n]=fe.useState(null),[i,a]=fe.useState([]),[s,l]=fe.useState(!0),[c,o]=fe.useState(!1),[u,d]=fe.useState("1000"),[f,h]=fe.useState(null),[y,m]=fe.useState(null),[g,v]=fe.useState(null),[b,w]=fe.useState(!1);fe.useEffect(()=>{_()},[]);const _=async()=>{l(!0);try{let A;try{A=await e2(),a(A),A.length>0&&h(A[0])}catch(F){console.error("Error loading tax rates:",F),Oe.error(`Failed to load tax rates: ${F.message||"Unknown error"}`),a([])}try{const F=await Uk();F&&(n(F),v(JSON.parse(JSON.stringify(F))),w(!1),console.log("Successfully loaded tax settings:",F))}catch(F){console.error("Error loading tax settings:",F),Oe.error(`Failed to load GST settings: ${F.message||"Unknown error"}`)}}catch(A){console.error("Unexpected error in loadSettings:",A),Oe.error(`An unexpected error occurred: ${A.message||"Unknown error"}`)}finally{l(!1)}},N=async()=>{if(console.log("Save button clicked. Settings:",e,"hasChanges:",b),!e||!b){console.log("Not saving because settings is null or hasChanges is false");return}if(!window.confirm(`Are you sure you want to save these GST settings?

These changes will affect GST calculations for current and future sales and purchases.

Click OK to save changes.`)){console.log("User cancelled save operation");return}o(!0),console.log("Saving settings with ID:",e.id);try{if(!e.company_id){console.log("No company_id found in settings, attempting to get a default company");const{data:L,error:C}=await $e.from("companies").select("id").limit(1);if(C)throw console.error("Error fetching companies:",C),new Error("Failed to find a company for these settings");if(!L||L.length===0)throw console.error("No companies found"),new Error("No companies found. Please create a company first.");e.company_id=L[0].id,console.log("Using company ID:",e.company_id)}if(!e.id)throw console.error("Settings ID is missing or invalid:",e.id),new Error("Settings ID is missing. Cannot update settings.");const A={tax_type:e.tax_type,tax_inclusive:e.tax_inclusive,cess_enabled:e.cess_enabled,company_id:e.company_id,updated_at:new Date().toISOString()};console.log("Updating tax settings with data:",A,"for ID:",e.id);const{data:F,error:H}=await $e.from("tax_settings").select("id").eq("id",e.id);if(H)throw console.error("Error checking if settings exist:",H),new Error(`Failed to verify settings: ${H.message}`);if(!F||F.length===0)throw console.error("Settings no longer exist with ID:",e.id),new Error("The settings you are trying to update no longer exist. Please refresh the page.");console.log("Settings exist, proceeding with update");const{data:z,error:U}=await $e.from("tax_settings").update(A).eq("id",e.id).select();if(console.log("Update result:",z),U)throw console.error("Supabase error when updating tax settings:",U),U;(!z||z.length===0)&&console.log("No data returned after update, but no error occurred. Assuming success.");const O=[];e.tax_type!==(g==null?void 0:g.tax_type)&&O.push(`Tax type changed to ${e.tax_type==="split"?"CGST + SGST":"IGST"}`),e.tax_inclusive!==(g==null?void 0:g.tax_inclusive)&&O.push(`GST pricing changed to ${e.tax_inclusive?"inclusive":"exclusive"}`),e.cess_enabled!==(g==null?void 0:g.cess_enabled)&&O.push(`CESS ${e.cess_enabled?"enabled":"disabled"}`),Oe.success(p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:"GST settings updated successfully"}),p.jsx("p",{className:"text-sm mt-1",children:"Changes will apply to current and future sales and purchases."}),O.length>0&&p.jsx("ul",{className:"mt-1 text-sm",children:O.map((L,C)=>p.jsxs("li",{children:[" ",L]},C))})]}),{duration:6e3}),w(!1),e&&v(JSON.parse(JSON.stringify(e))),await _()}catch(A){console.error("Error saving GST settings:",A);const F=A.message||A.details||A.hint||"Failed to save GST settings. Please try again.";Oe.error(F)}finally{o(!1)}},P=async()=>{if(!(!e||!f))try{const A=parseFloat(u);if(isNaN(A)){Oe.error("Please enter a valid amount");return}const F=await vhe(A,f.rate,e.tax_type==="split",e.cess_enabled&&f.rate===28);m(F)}catch(A){console.error("Error calculating GST:",A),Oe.error("Failed to calculate GST")}},M=()=>{try{const A=us.book_new(),F=e?[["GST Configuration"],["Setting","Value"],["Tax Type",e.tax_type==="split"?"CGST + SGST":"IGST"],["Tax Inclusive",e.tax_inclusive?"Yes":"No"],["CESS Enabled",e.cess_enabled?"Yes":"No"]]:[],H=us.aoa_to_sheet(F);us.book_append_sheet(A,H,"Tax Settings"),d2(A,`gst-settings-${new Date().toISOString().split("T")[0]}.xlsx`),Oe.success("Settings exported successfully")}catch(A){console.error("Error exporting settings:",A),Oe.error("Failed to export settings")}};return s?p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-semibold",children:"GST Settings"}),p.jsx("p",{className:`mt-1 ${t?"text-gray-400":"text-gray-500"}`,children:"Configure GST tax rates and calculation preferences"})]}),p.jsxs("div",{className:"flex items-center space-x-4",children:[b&&p.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-800 px-4 py-2 rounded-md flex items-center animate-pulse",children:[p.jsx("span",{className:"inline-block w-3 h-3 bg-yellow-500 rounded-full mr-2"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:"Unsaved changes"}),p.jsx("p",{className:"text-xs",children:"Changes will affect GST calculations in sales and purchases"})]})]}),p.jsx(_t,{variant:"secondary",onClick:M,leftIcon:p.jsx(QR,{className:"w-4 h-4"}),children:"Export Settings"}),p.jsx(_t,{variant:"primary",onClick:N,disabled:!b||c,leftIcon:b?p.jsx(dg,{className:"w-5 h-5"}):p.jsx(pg,{className:"w-4 h-4"}),className:`transition-all duration-200 ${b?"opacity-100 transform scale-100 bg-green-600 hover:bg-green-700 font-bold text-lg px-6 py-3 border-2 border-green-400":"opacity-50 transform scale-95"}`,isLoading:c,children:b?"SAVE GST SETTINGS":"Save GST Settings"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[p.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm`,children:[p.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Tax Configuration"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tax Calculation Type"}),p.jsxs("select",{value:e==null?void 0:e.tax_type,onChange:A=>{const F=A.target.value;console.log("Tax type changed to:",F),w(!0),console.log("hasChanges set to true"),n(H=>H?{...H,tax_type:F}:null)},className:`w-full p-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"split",children:"CGST + SGST (Same State)"}),p.jsx("option",{value:"integrated",children:"IGST (Interstate)"})]}),p.jsx("p",{className:`mt-1 text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Choose CGST + SGST for intra-state transactions, IGST for inter-state transactions"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",checked:e==null?void 0:e.tax_inclusive,onChange:A=>{const F=A.target.checked;w(!0),n(H=>H?{...H,tax_inclusive:F}:null)},className:"rounded border-gray-300"}),p.jsx("span",{children:"GST Inclusive Pricing"})]}),p.jsx("p",{className:`mt-1 text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"When enabled, product prices will include GST"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",checked:e==null?void 0:e.cess_enabled,onChange:A=>{const F=A.target.checked;w(!0),n(H=>H?{...H,cess_enabled:F}:null)},className:"rounded border-gray-300"}),p.jsx("span",{children:"Enable CESS"})]}),p.jsx("p",{className:`mt-1 text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Apply CESS for applicable products (28% GST category)"})]}),p.jsx("div",{className:`p-4 rounded-md ${t?"bg-blue-900/20":"bg-blue-50"} border border-blue-200`,children:p.jsxs("div",{className:"flex items-start",children:[p.jsx(tp,{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-medium text-blue-700 dark:text-blue-400",children:"GST Calculation Rules"}),p.jsxs("ul",{className:`mt-2 text-sm space-y-1 ${t?"text-gray-300":"text-gray-600"}`,children:[p.jsx("li",{children:" CGST + SGST: Equal split of tax rate for intra-state transactions"}),p.jsx("li",{children:" IGST: Full tax rate for inter-state transactions"}),p.jsx("li",{children:" CESS: Additional 15% for 28% GST category (if enabled)"})]})]})]})})]})]}),p.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} p-6 rounded-lg shadow-sm`,children:[p.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Tax Calculator"}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Amount"}),p.jsxs("div",{className:"relative",children:[p.jsx(Ai,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"number",value:u,onChange:A=>d(A.target.value),className:`w-full pl-10 pr-4 py-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,placeholder:"Enter amount"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tax Rate"}),p.jsx("select",{value:f==null?void 0:f.id,onChange:A=>h(i.find(F=>F.id===A.target.value)||null),className:`w-full p-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:i.map(A=>p.jsxs("option",{value:A.id,children:[A.description," (",A.rate,"%)"]},A.id))})]}),p.jsx(_t,{variant:"primary",onClick:P,leftIcon:p.jsx(hc,{className:"w-4 h-4"}),className:"w-full",children:"Calculate Tax"})]}),y&&p.jsx(sxe,{subtotal:parseFloat(u),cgst:y.cgst_amount,sgst:y.sgst_amount,igst:y.igst_amount,cess:y.cess_amount,total:parseFloat(u)+y.total_tax,taxType:(e==null?void 0:e.tax_type)||"split"})]})]})]})]})},oxe=({isOpen:r,onClose:t,user:e,onUserUpdated:n})=>{const{selectedCompany:i}=li(),[a,s]=fe.useState({display_name:"",role:"",is_active:!0}),[l,c]=fe.useState(!1),[o,u]=fe.useState(null);fe.useEffect(()=>{e&&s({display_name:e.display_name||"",role:e.role||"cashier",is_active:e.is_active!==!1})},[e]);const d=y=>{const{name:m,value:g}=y.target;s(v=>({...v,[m]:g}))},f=y=>{const{name:m,checked:g}=y.target;s(v=>({...v,[m]:g}))},h=async y=>{if(y.preventDefault(),u(null),!e||!i){u("Missing user or company information");return}c(!0);try{const{error:m}=await $e.from("auth_users").update({display_name:a.display_name,updated_at:new Date().toISOString()}).eq("id",e.id);if(m)throw console.error("Error updating user profile:",m),new Error("Failed to update user profile");const{error:g}=await $e.from("company_users").update({role:a.role,is_active:a.is_active,updated_at:new Date().toISOString()}).eq("user_id",e.id).eq("company_id",i.id);if(g)throw console.error("Error updating user role:",g),new Error("Failed to update user role");try{const{error:v}=await $e.from("users").select("id").limit(1);if(!v||v.code!=="42P01"){const{error:b}=await $e.from("users").update({display_name:a.display_name,role:a.role,is_active:a.is_active,updated_at:new Date().toISOString()}).eq("id",e.id).eq("company_id",i.id);b&&console.error("Error updating users record:",b)}}catch(v){console.log("Note: users table may not exist or another error occurred, skipping update"),console.error(v)}Oe.success("User updated successfully"),n(),t()}catch(m){console.error("Error updating user:",m),u(m instanceof Error?m.message:"Failed to update user"),Oe.error("Failed to update user")}finally{c(!1)}};return!r||!e?null:p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit User"}),p.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:p.jsx(Li,{className:"h-5 w-5"})})]}),p.jsxs("div",{className:"p-4",children:[o&&p.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4 rounded",children:p.jsx("p",{children:o})}),p.jsx("div",{className:"mb-4",children:p.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[p.jsx("span",{className:"font-medium",children:"Email:"})," ",e.email]})}),p.jsxs("form",{onSubmit:h,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"display_name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Display Name"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(bx,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"display_name",name:"display_name",type:"text",value:a.display_name,onChange:d,className:"appearance-none block w-full pl-10 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Display name",disabled:l})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(np,{className:"h-5 w-5 text-gray-400"})}),p.jsxs("select",{id:"role",name:"role",value:a.role,onChange:d,className:"appearance-none block w-full pl-10 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",disabled:l,children:[p.jsx("option",{value:"cashier",children:"Cashier"}),p.jsx("option",{value:"salesperson",children:"Salesperson"}),p.jsx("option",{value:"manager",children:"Manager"}),p.jsx("option",{value:"admin",children:"Admin"}),p.jsx("option",{value:"owner",children:"Owner"})]})]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{id:"is_active",name:"is_active",type:"checkbox",checked:a.is_active,onChange:f,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",disabled:l}),p.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Active"})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx(_t,{type:"button",variant:"secondary",onClick:t,disabled:l,children:"Cancel"}),p.jsx(_t,{type:"submit",variant:"primary",isLoading:l,children:"Save Changes"})]})]})]})]})})},lxe=({isOpen:r,onClose:t,onConfirm:e,title:n,message:i,confirmText:a="Confirm",cancelText:s="Cancel",isLoading:l=!1})=>r?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[p.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[p.jsx(dg,{className:"h-5 w-5 text-red-500 mr-2"}),n]}),p.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",disabled:l,children:p.jsx(Li,{className:"h-5 w-5"})})]}),p.jsxs("div",{className:"p-4",children:[p.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:i}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx(_t,{type:"button",variant:"secondary",onClick:t,disabled:l,children:s}),p.jsx(_t,{type:"button",variant:"danger",onClick:e,isLoading:l,children:a})]})]})]})}):null,cxe=({isOpen:r,onClose:t,onUserCreated:e})=>{const{selectedCompany:n}=li(),i={email:"",password:"",confirmPassword:"",role:"cashier",displayName:""},[a,s]=fe.useState(i),[l,c]=fe.useState(!1),[o,u]=fe.useState(!1),[d,f]=fe.useState(!1),[h,y]=fe.useState(null),m=v=>{const{name:b,value:w}=v.target;s(_=>({..._,[b]:w}))},g=async v=>{if(v.preventDefault(),y(null),!n){y("No company selected. Please select a company first.");return}if(!a.email||!a.password||!a.confirmPassword||!a.displayName){y("All fields are required");return}if(a.password.length<8){y("Password must be at least 8 characters long");return}if(a.password!==a.confirmPassword){y("Passwords do not match");return}f(!0);try{const{data:b,error:w}=await $e.auth.signUp({email:a.email,password:a.password,options:{data:{role:a.role,display_name:a.displayName}}});if(w)throw w;if(!b.user)throw new Error("Failed to create user account");const _=b.user.id;await new Promise(A=>setTimeout(A,100));const{data:N,error:P}=await $e.from("auth_users").select("id, display_name, email").eq("id",_).single();if(P){console.error("Error checking auth_users record:",P);const{error:A}=await $e.from("auth_users").insert({id:_,display_name:a.displayName,email:a.email,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});A&&A.code!=="23505"&&console.error("Error manually creating auth_users record:",A)}else if(!(N!=null&&N.display_name)){const{error:A}=await $e.from("auth_users").update({display_name:a.displayName,updated_at:new Date().toISOString()}).eq("id",_);A&&console.error("Error updating auth_users display_name:",A)}const{error:M}=await $e.from("company_users").insert({company_id:n.id,user_id:_,role:a.role,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(M)throw console.error("Error creating company_users record:",M),new Error("Failed to assign user to company");try{const{error:A}=await $e.from("users").select("id").limit(1);if(!A||A.code!=="42P01"){const{error:F}=await $e.from("users").insert({id:_,email:a.email,display_name:a.displayName,role:a.role,company_id:n.id,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});F&&console.error("Error creating users record:",F)}}catch(A){console.log("Note: users table may not exist or another error occurred, skipping insert"),console.error(A)}Oe.success(`Successfully created ${a.role} account for ${a.email}`),s(i),e(),t()}catch(b){console.error("Error creating user account:",b),y(b instanceof Error?b.message:"Failed to create account"),Oe.error(b instanceof Error?b.message:"Failed to create account")}finally{f(!1)}};return r?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New User"}),p.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:p.jsx(Li,{className:"h-5 w-5"})})]}),p.jsx("div",{className:"p-4",children:n?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-md text-blue-800 dark:text-blue-300 mb-4",children:p.jsxs("p",{children:["Users created here will be automatically assigned to ",p.jsx("strong",{children:n.name}),"."]})}),h&&p.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4 rounded",children:p.jsx("p",{children:h})}),p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Display Name"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(bx,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"displayName",name:"displayName",type:"text",value:a.displayName,onChange:m,className:"appearance-none block w-full pl-10 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Full name",disabled:d})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(rp,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"email",name:"email",type:"email",value:a.email,onChange:m,className:"appearance-none block w-full pl-10 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Email address",disabled:d})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(np,{className:"h-5 w-5 text-gray-400"})}),p.jsxs("select",{id:"role",name:"role",value:a.role,onChange:m,className:"appearance-none block w-full pl-10 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",disabled:d,children:[p.jsx("option",{value:"cashier",children:"Cashier"}),p.jsx("option",{value:"salesperson",children:"Salesperson"}),p.jsx("option",{value:"manager",children:"Manager"}),p.jsx("option",{value:"admin",children:"Admin"}),p.jsx("option",{value:"owner",children:"Owner"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Wv,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"password",name:"password",type:l?"text":"password",value:a.password,onChange:m,className:"appearance-none block w-full pl-10 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Password (min 8 characters)",disabled:d}),p.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!l),tabIndex:-1,children:l?p.jsx(Hv,{className:"h-5 w-5 text-gray-400"}):p.jsx(hg,{className:"h-5 w-5 text-gray-400"})})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Wv,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",value:a.confirmPassword,onChange:m,className:"appearance-none block w-full pl-10 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Confirm password",disabled:d}),p.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!o),tabIndex:-1,children:o?p.jsx(Hv,{className:"h-5 w-5 text-gray-400"}):p.jsx(hg,{className:"h-5 w-5 text-gray-400"})})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx(_t,{type:"button",variant:"secondary",onClick:t,disabled:d,children:"Cancel"}),p.jsx(_t,{type:"submit",variant:"primary",isLoading:d,children:"Create User"})]})]})]}):p.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-md text-yellow-800 dark:text-yellow-300",children:p.jsx("p",{children:"Please select a company first to create users within that company."})})})]})}):null},uxe=({isOpen:r,onClose:t,onRoleUpdated:e})=>{const{theme:n}=Vr(),{selectedCompany:i}=li(),a=n==="dark",[s,l]=fe.useState("roles"),[c,o]=fe.useState([]),[u,d]=fe.useState([]),[f,h]=fe.useState(!1),[y,m]=fe.useState(null),[g,v]=fe.useState(!1),b=[{id:"admin",name:"Administrator",description:"Full system access and management capabilities",permissions:{users:{view:!0,create:!0,edit:!0,delete:!0},products:{view:!0,create:!0,edit:!0,delete:!0},sales:{view:!0,create:!0,edit:!0,delete:!0},reports:{view:!0,create:!0,edit:!0,delete:!0},settings:{view:!0,create:!0,edit:!0,delete:!0}}},{id:"manager",name:"Manager",description:"Management access with limited administrative functions",permissions:{users:{view:!0,create:!0,edit:!0,delete:!1},products:{view:!0,create:!0,edit:!0,delete:!0},sales:{view:!0,create:!0,edit:!0,delete:!1},reports:{view:!0,create:!0,edit:!1,delete:!1},settings:{view:!0,create:!1,edit:!0,delete:!1}}},{id:"cashier",name:"Cashier",description:"Point of sale operations and basic inventory access",permissions:{users:{view:!1,create:!1,edit:!1,delete:!1},products:{view:!0,create:!1,edit:!1,delete:!1},sales:{view:!0,create:!0,edit:!1,delete:!1},reports:{view:!0,create:!1,edit:!1,delete:!1},settings:{view:!1,create:!1,edit:!1,delete:!1}}},{id:"salesperson",name:"Salesperson",description:"Sales operations and customer management",permissions:{users:{view:!1,create:!1,edit:!1,delete:!1},products:{view:!0,create:!1,edit:!1,delete:!1},sales:{view:!0,create:!0,edit:!0,delete:!1},reports:{view:!0,create:!1,edit:!1,delete:!1},settings:{view:!1,create:!1,edit:!1,delete:!1}}}],w=async()=>{if(i)try{const{data:N,error:P}=await $e.from("company_users").select(`
          user_id,
          role,
          auth_users (
            id,
            email,
            display_name
          )
        `).eq("company_id",i.id);if(P){console.error("Error fetching users:",P);return}const M=(N==null?void 0:N.map(A=>{const F=Array.isArray(A.auth_users)?A.auth_users[0]:A.auth_users;return{id:A.user_id,email:(F==null?void 0:F.email)||`user_${A.user_id.substring(0,6)}@example.com`,display_name:(F==null?void 0:F.display_name)||`User ${A.user_id.substring(0,6)}`,role:A.role}}))||[];d(M)}catch(N){console.error("Error fetching users:",N)}},_=async(N,P)=>{if(!i){Oe.error("Please select a company first");return}h(!0);try{const{error:M}=await $e.from("company_users").update({role:P,updated_at:new Date().toISOString()}).eq("user_id",N).eq("company_id",i.id);M?(console.error("Error updating user role:",M),Oe.error("Failed to update user role")):(Oe.success("User role updated successfully"),w(),e==null||e())}catch(M){console.error("Error updating user role:",M),Oe.error("Failed to update user role")}finally{h(!1)}};return fe.useEffect(()=>{r&&(o(b),w())},[r,i]),r?p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:`${a?"bg-gray-800":"bg-white"} rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-hidden`,children:[p.jsxs("div",{className:`px-6 py-4 border-b ${a?"border-gray-700":"border-gray-200"} flex items-center justify-between`,children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(np,{className:"w-6 h-6 text-purple-600 mr-2"}),p.jsx("h2",{className:`text-xl font-semibold ${a?"text-white":"text-gray-900"}`,children:"Role Management"})]}),p.jsx("button",{onClick:t,className:`p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 ${a?"text-gray-400":"text-gray-500"}`,children:p.jsx(Li,{className:"w-5 h-5"})})]}),p.jsx("div",{className:`px-6 py-2 border-b ${a?"border-gray-700":"border-gray-200"}`,children:p.jsxs("div",{className:"flex space-x-4",children:[p.jsxs("button",{onClick:()=>l("roles"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="roles"?"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300":a?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"}`,children:[p.jsx(np,{className:"w-4 h-4 inline mr-1"}),"Roles & Permissions"]}),p.jsxs("button",{onClick:()=>l("assignments"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="assignments"?"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300":a?"text-gray-400 hover:text-gray-300":"text-gray-600 hover:text-gray-700"}`,children:[p.jsx(un,{className:"w-4 h-4 inline mr-1"}),"User Assignments"]})]})}),p.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[s==="roles"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:`text-lg font-medium ${a?"text-white":"text-gray-900"}`,children:"System Roles"}),p.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors flex items-center",children:[p.jsx(Qs,{className:"w-4 h-4 mr-1"}),"Add Role"]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map(N=>p.jsxs("div",{className:`p-4 rounded-lg border ${a?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-3",children:[p.jsxs("div",{children:[p.jsx("h4",{className:`font-medium ${a?"text-white":"text-gray-900"}`,children:N.name}),p.jsx("p",{className:`text-sm ${a?"text-gray-300":"text-gray-600"}`,children:N.description})]}),p.jsx("button",{onClick:()=>m(N),className:`p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 ${a?"text-gray-400":"text-gray-500"}`,children:p.jsx(gh,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("h5",{className:`text-sm font-medium ${a?"text-gray-300":"text-gray-700"}`,children:"Permissions:"}),p.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(N.permissions).map(([P,M])=>p.jsxs("div",{className:`p-2 rounded ${a?"bg-gray-600":"bg-white"}`,children:[p.jsx("div",{className:`font-medium capitalize ${a?"text-gray-200":"text-gray-800"}`,children:P}),p.jsxs("div",{className:"flex space-x-1 mt-1",children:[M.view&&p.jsx("span",{className:"px-1 bg-green-100 text-green-800 rounded",children:"V"}),M.create&&p.jsx("span",{className:"px-1 bg-blue-100 text-blue-800 rounded",children:"C"}),M.edit&&p.jsx("span",{className:"px-1 bg-yellow-100 text-yellow-800 rounded",children:"E"}),M.delete&&p.jsx("span",{className:"px-1 bg-red-100 text-red-800 rounded",children:"D"})]})]},P))})]})]},N.id))})]}),s==="assignments"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:`text-lg font-medium ${a?"text-white":"text-gray-900"}`,children:"User Role Assignments"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsxs("span",{className:`text-sm ${a?"text-gray-400":"text-gray-600"}`,children:[u.length," user",u.length!==1?"s":""," found"]}),p.jsx("button",{onClick:w,disabled:f,className:`px-3 py-1 text-xs rounded-md border transition-colors ${a?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} ${f?"opacity-50 cursor-not-allowed":""}`,children:f?"Refreshing...":"Refresh"})]})]}),i?u.length===0?p.jsxs("div",{className:`text-center py-8 ${a?"text-gray-400":"text-gray-600"}`,children:[p.jsx(un,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),p.jsx("p",{children:"No users found for this company"}),p.jsx("p",{className:"text-sm mt-1",children:"Users will appear here once they join the company"})]}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:`min-w-full ${a?"text-gray-300":"text-gray-600"}`,children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${a?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("th",{className:"py-3 px-4 text-left font-medium",children:"User"}),p.jsx("th",{className:"py-3 px-4 text-left font-medium",children:"Email"}),p.jsx("th",{className:"py-3 px-4 text-left font-medium",children:"Current Role"}),p.jsx("th",{className:"py-3 px-4 text-left font-medium",children:"Actions"})]})}),p.jsx("tbody",{children:u.map(N=>p.jsxs("tr",{className:`${a?"border-gray-700":"border-gray-200"} border-b hover:${a?"bg-gray-700":"bg-gray-50"} transition-colors`,children:[p.jsx("td",{className:"py-3 px-4",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium mr-3 ${a?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-700"}`,children:(N.display_name||N.email||"U").charAt(0).toUpperCase()}),p.jsx("span",{className:"font-medium",children:N.display_name||"Unknown User"})]})}),p.jsx("td",{className:"py-3 px-4",children:N.email}),p.jsx("td",{className:"py-3 px-4",children:p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium capitalize ${N.role==="admin"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":N.role==="manager"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":N.role==="cashier"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":N.role==="salesperson"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:N.role||"No Role"})}),p.jsx("td",{className:"py-3 px-4",children:p.jsxs("select",{value:N.role||"",onChange:P=>_(N.id,P.target.value),disabled:f,className:`px-3 py-1 rounded border text-sm min-w-[140px] ${a?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"} focus:outline-none focus:ring-2 focus:ring-purple-500 ${f?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[p.jsx("option",{value:"",children:"Select Role"}),c.map(P=>p.jsx("option",{value:P.id,children:P.name},P.id))]})})]},N.id))})]})}):p.jsxs("div",{className:`text-center py-8 ${a?"text-gray-400":"text-gray-600"}`,children:[p.jsx(un,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),p.jsx("p",{children:"Please select a company to view user assignments"})]})]})]}),g&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60 p-4",children:p.jsxs("div",{className:`${a?"bg-gray-800":"bg-white"} rounded-lg shadow-xl w-full max-w-2xl`,children:[p.jsxs("div",{className:`px-6 py-4 border-b ${a?"border-gray-700":"border-gray-200"} flex items-center justify-between`,children:[p.jsx("h3",{className:`text-lg font-semibold ${a?"text-white":"text-gray-900"}`,children:"Add New Role"}),p.jsx("button",{onClick:()=>v(!1),className:`p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 ${a?"text-gray-400":"text-gray-500"}`,children:p.jsx(Li,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"p-6",children:[p.jsx("p",{className:`text-sm ${a?"text-gray-300":"text-gray-600"} mb-4`,children:"Custom role creation is not yet implemented. Currently, the system uses predefined roles (Administrator, Manager, Cashier, Salesperson) that cover most business needs."}),p.jsx("div",{className:"flex justify-end space-x-3",children:p.jsx("button",{onClick:()=>v(!1),className:`px-4 py-2 rounded-md border ${a?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} transition-colors`,children:"Close"})})]})]})}),y&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60 p-4",children:p.jsxs("div",{className:`${a?"bg-gray-800":"bg-white"} rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden`,children:[p.jsxs("div",{className:`px-6 py-4 border-b ${a?"border-gray-700":"border-gray-200"} flex items-center justify-between`,children:[p.jsxs("h3",{className:`text-lg font-semibold ${a?"text-white":"text-gray-900"}`,children:["Edit Role: ",y.name]}),p.jsx("button",{onClick:()=>m(null),className:`p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 ${a?"text-gray-400":"text-gray-500"}`,children:p.jsx(Li,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-2`,children:"Role Name"}),p.jsx("input",{type:"text",value:y.name,readOnly:!0,className:`w-full px-3 py-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-gray-300":"bg-gray-100 border-gray-300 text-gray-700"} cursor-not-allowed`})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-2`,children:"Description"}),p.jsx("textarea",{value:y.description,readOnly:!0,rows:3,className:`w-full px-3 py-2 rounded-md border ${a?"bg-gray-700 border-gray-600 text-gray-300":"bg-gray-100 border-gray-300 text-gray-700"} cursor-not-allowed`})]}),p.jsxs("div",{children:[p.jsx("h4",{className:`text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-4`,children:"Permissions (Read-only)"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(y.permissions).map(([N,P])=>p.jsxs("div",{className:`p-4 rounded-lg border ${a?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[p.jsx("h5",{className:`font-medium capitalize mb-3 ${a?"text-gray-200":"text-gray-800"}`,children:N}),p.jsx("div",{className:"space-y-2",children:Object.entries(P).map(([M,A])=>p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",checked:A,readOnly:!0,className:"mr-2 cursor-not-allowed"}),p.jsx("span",{className:`text-sm capitalize ${a?"text-gray-300":"text-gray-600"}`,children:M})]},M))})]},N))})]}),p.jsx("div",{className:`p-4 rounded-lg ${a?"bg-blue-900/20 border border-blue-800":"bg-blue-50 border border-blue-200"}`,children:p.jsxs("p",{className:`text-sm ${a?"text-blue-300":"text-blue-700"}`,children:[p.jsx("strong",{children:"Note:"})," Role permissions are currently read-only. These predefined roles are designed to cover most business scenarios. Contact your system administrator if you need custom role configurations."]})})]})}),p.jsx("div",{className:`px-6 py-4 border-t ${a?"border-gray-700":"border-gray-200"} flex justify-end`,children:p.jsx("button",{onClick:()=>m(null),className:`px-4 py-2 rounded-md border ${a?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} transition-colors`,children:"Close"})})]})}),p.jsx("div",{className:`px-6 py-4 border-t ${a?"border-gray-700":"border-gray-200"} flex justify-end space-x-3`,children:p.jsx("button",{onClick:t,className:`px-4 py-2 rounded-md border ${a?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} transition-colors`,children:"Close"})})]})}):null},fxe="https://pdxyqlxbucoghoetyzmv.supabase.co",dxe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBkeHlxbHhidWNvZ2hvZXR5em12Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk0MjMyODAsImV4cCI6MjA1NDk5OTI4MH0.HlFAMTnjM-Uxlxu_VbhmZt_6dLgYsVyGRy_lu1foASc",rR=BR(fxe,dxe,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});let w6=!1;function hxe(){if(w6)return()=>{};w6=!0,console.log("Initializing tab focus handler");const r=async()=>{if(document.visibilityState==="visible")try{const{data:{session:t},error:e}=await rR.auth.getSession();if(e)throw e;if(t){console.log("Refreshing session on tab focus");const{error:n}=await rR.auth.refreshSession();if(n)throw n}}catch(t){console.error("Error refreshing session:",t)}};return document.addEventListener("visibilitychange",r),()=>{document.removeEventListener("visibilitychange",r),w6=!1}}const BU=({children:r})=>{var w,_;const t=nl(),e=qa(),{theme:n,toggleTheme:i}=Vr(),{signOut:a}=jc(),{userRole:s}=Ha(),[l,c]=fe.useState(()=>{const N=localStorage.getItem("sidebarCollapsed");return window.innerWidth<768&&N===null?!0:N?JSON.parse(N):!1}),[o,u]=fe.useState(!1),[d,f]=fe.useState(window.innerWidth<768),h=()=>{const N=!l;c(N),localStorage.setItem("sidebarCollapsed",JSON.stringify(N))},y=()=>{u(!o)};fe.useEffect(()=>{const N=()=>{f(window.innerWidth<768),window.innerWidth<768&&!l&&(c(!0),localStorage.setItem("sidebarCollapsed",JSON.stringify(!0)))};return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[l]),fe.useEffect(()=>{const N=hxe();return()=>{N()}},[]),fe.useEffect(()=>{console.log("Current user role:",s)},[s]);const g=(()=>{const N=[{name:"Dashboard",href:"/role-selection",icon:du}];return s==="manager"||s==="admin"||s==="owner"?[{name:"Dashboard",href:"/role-selection",icon:du},{name:"Products",href:"/products",icon:Vn},{name:"Barcode Printing",href:"/barcode-printing",icon:bc},{name:"Sales",href:"/sales",icon:qi},{name:"Purchase",href:"/purchase",icon:yx},{name:"Customers",href:"/customers",icon:un},{name:"Reports",href:"/reports",icon:Q0},{name:"GST Settings",href:"/gst-settings",icon:hc},{name:"GST Reports",href:"/gst-reports",icon:GR},{name:"User Management",href:"/users",icon:un}]:s==="cashier"?[{name:"Dashboard",href:"/role-selection",icon:du},{name:"Sales",href:"/sales",icon:qi},{name:"Products",href:"/products",icon:Vn},{name:"Barcode Printing",href:"/barcode-printing",icon:bc},{name:"Customers",href:"/customers",icon:un}]:s==="salesperson"?[{name:"Dashboard",href:"/role-selection",icon:du},{name:"Products",href:"/products",icon:Vn},{name:"Barcode Printing",href:"/barcode-printing",icon:bc},{name:"Create Quotation",href:"/sales",icon:qi},{name:"Customers",href:"/customers",icon:un}]:N})(),v=async()=>{await a(),e("/login")},b=N=>{e(N),d&&u(!1)};return p.jsx("div",{className:`min-h-screen ${n==="dark"?"dark bg-gray-900":"bg-gray-50"}`,children:p.jsxs("div",{className:"flex flex-col md:flex-row h-screen",children:[p.jsxs("header",{className:`md:hidden h-16 ${n==="dark"?"bg-gray-800":"bg-white"} shadow-sm flex items-center justify-between px-4 z-30`,children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("button",{onClick:y,className:`p-2 rounded-md ${n==="dark"?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,"aria-label":"Toggle menu",children:o?p.jsx(Li,{className:"h-6 w-6"}):p.jsx(iF,{className:"h-6 w-6"})}),p.jsx("h1",{className:`font-bold text-lg ${n==="dark"?"text-white":"text-gray-900"}`,children:"Tallybooks"})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("button",{onClick:i,className:`p-2 rounded-md ${n==="dark"?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,"aria-label":n==="dark"?"Switch to light mode":"Switch to dark mode",children:n==="dark"?p.jsx(Xv,{className:"h-5 w-5"}):p.jsx(Vv,{className:"h-5 w-5"})}),p.jsx("button",{onClick:v,className:`p-2 rounded-md ${n==="dark"?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,"aria-label":"Sign out",children:p.jsx(L6,{className:"h-5 w-5"})})]})]}),d&&o&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:y}),p.jsxs("div",{className:`
              ${d?`fixed top-16 bottom-0 left-0 z-40 ${o?"translate-x-0":"-translate-x-full"}`:"relative"}
              ${l?"w-20":"w-64"} 
              ${n==="dark"?"bg-gray-800":"bg-white"} 
              shadow-lg flex flex-col overflow-hidden transition-all duration-300 ease-in-out
            `,children:[!d&&p.jsx("button",{onClick:h,className:`absolute top-4 right-2 p-1.5 rounded-full ${n==="dark"?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"} z-10 transition-all duration-300 ${l?"rotate-180":""}`,"aria-label":l?"Expand sidebar":"Collapse sidebar",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:p.jsx("path",{d:"m15 18-6-6 6-6"})})}),!d&&p.jsxs("div",{className:`flex flex-col h-16 justify-center ${l?"px-2 items-center":"px-6"}`,children:[p.jsx("h1",{className:`font-bold ${l?"text-lg":"text-xl"} ${n==="dark"?"text-white":"text-gray-900"} truncate`,children:l?"TB":"Tallybooks"}),!l&&p.jsx("p",{className:`text-xs ${n==="dark"?"text-blue-400":"text-blue-500"}`,children:s?`${s.charAt(0).toUpperCase()+s.slice(1)} Dashboard`:"Dashboard"})]}),p.jsx("div",{className:`px-3 py-2 ${d?"block":"hidden"} md:block`,children:p.jsx(kp,{})}),p.jsx("nav",{className:`space-y-1 ${l&&!d?"px-2":"px-3"} flex-1 overflow-y-auto py-2`,children:g.map(N=>{const P=N.icon,M=t.pathname===N.href;return N.href==="/barcode-printing"&&console.log("Layout - Barcode Printing item:",{name:N.name,href:N.href,currentPath:t.pathname,isActive:M}),p.jsxs(Ri,{to:N.href,title:N.name,onClick:A=>{A.preventDefault(),b(N.href)},className:`
                      flex items-center ${l&&!d?"justify-center":""} 
                      px-3 py-3 rounded-md text-sm font-medium
                      ${M?"bg-blue-600 text-white":`${n==="dark"?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`}
                    `,children:[p.jsx(P,{className:`${l&&!d?"":"mr-3"} h-5 w-5`}),(!l||d)&&N.name]},N.name)})})]}),p.jsxs("div",{className:`flex-1 flex flex-col overflow-hidden transition-all duration-300 ease-in-out  ${d?"mt-16":""}`,children:[p.jsxs("header",{className:`hidden md:flex h-16 ${n==="dark"?"bg-gray-800":"bg-white"} shadow-sm items-center justify-between px-6`,children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(l8,{}),p.jsx("h2",{className:`text-lg font-semibold ${n==="dark"?"text-white":"text-gray-900"} truncate`,children:((w=g.find(N=>N.href===t.pathname))==null?void 0:w.name)||"Dashboard"})]}),p.jsx(kp,{})]}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("button",{onClick:i,className:`p-2 rounded-md ${n==="dark"?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,"aria-label":n==="dark"?"Switch to light mode":"Switch to dark mode",children:n==="dark"?p.jsx(Xv,{className:"h-5 w-5"}):p.jsx(Vv,{className:"h-5 w-5"})}),p.jsx("button",{onClick:v,className:`p-2 rounded-md ${n==="dark"?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,"aria-label":"Sign out",children:p.jsx(L6,{className:"h-5 w-5"})})]})]}),p.jsx("div",{className:`md:hidden px-4 py-3 ${n==="dark"?"bg-gray-800":"bg-white"} border-b ${n==="dark"?"border-gray-700":"border-gray-200"}`,children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(l8,{}),p.jsx("h2",{className:`text-lg font-semibold ${n==="dark"?"text-white":"text-gray-900"} truncate`,children:((_=g.find(N=>N.href===t.pathname))==null?void 0:_.name)||"Dashboard"})]})}),p.jsx("main",{className:`flex-1 overflow-y-auto p-4 md:p-6 ${n==="dark"?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:r})]})]})})},pxe=()=>p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg flex items-center space-x-4",children:[p.jsx(nF,{className:"h-8 w-8 text-blue-600 dark:text-blue-400 animate-spin"}),p.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Loading..."})]})}),mxe=()=>{const{theme:r}=Vr(),{userRole:t,permissions:e}=Ha(),{selectedCompany:n}=li(),i=r==="dark",[a,s]=fe.useState([]),[l,c]=fe.useState(!1),[o,u]=fe.useState(!1),[d,f]=fe.useState(!1),[,h]=fe.useState(null),[y,m]=fe.useState(!1),[g,v]=fe.useState(!1),[b,w]=fe.useState(null),[_,N]=fe.useState(!1),[P,M]=fe.useState(!1),[A,F]=fe.useState(!1),[H,z]=fe.useState(""),[,U]=fe.useState(!1),[O,L]=fe.useState(null),[C,k]=fe.useState(null),j=ne=>ne?p.jsxs("span",{className:"flex items-center text-green-500",children:[p.jsx(KR,{className:"w-4 h-4 mr-1"}),"Yes"]}):p.jsxs("span",{className:"flex items-center text-red-500",children:[p.jsx(Li,{className:"w-4 h-4 mr-1"}),"No"]}),E=async()=>{if(!n){Oe.error("Please select a company first");return}c(!0),u(!0),h(null);try{console.log("Fetching users for company:",n.id);let ne,G;try{const I=await $e.from("company_users").select(`
            user_id,
            role,
            is_active,
            created_at,
            auth_users (
              id,
              email,
              display_name,
              avatar_url,
              created_at
            )
          `).eq("company_id",n.id);if(ne=I.data,G=I.error,G)throw console.log("JOIN query failed, trying fallback approach:",G),G}catch(I){console.log("JOIN approach failed, using fallback method:",I);const{data:D,error:X}=await $e.from("company_users").select("user_id, role, is_active, created_at").eq("company_id",n.id);if(X)throw console.error("Error fetching basic company users:",X),new Error("Failed to fetch company users");if(!D||D.length===0){s([]);return}const Q=D.map(se=>se.user_id);let re=[];try{const{data:se,error:he}=await $e.from("auth_users").select("id, email, display_name, avatar_url, created_at").in("id",Q);!he&&se&&(re=se)}catch(se){console.log("Auth users table not accessible:",se)}const oe=D.map(se=>{const he=re.find(le=>le.id===se.user_id);return{id:se.user_id,email:(he==null?void 0:he.email)||`user_${se.user_id.substring(0,6)}@example.com`,display_name:(he==null?void 0:he.display_name)||`User ${se.user_id.substring(0,6)}`,avatar_url:he==null?void 0:he.avatar_url,is_active:se.is_active!==!1,created_at:(he==null?void 0:he.created_at)||se.created_at,last_sign_in_at:void 0}});s(oe);return}if(!ne||ne.length===0){s([]);return}const te=ne.map(I=>{const D=Array.isArray(I.auth_users)?I.auth_users[0]:I.auth_users;return{id:I.user_id,email:(D==null?void 0:D.email)||`user_${I.user_id.substring(0,6)}@example.com`,display_name:(D==null?void 0:D.display_name)||`User ${I.user_id.substring(0,6)}`,avatar_url:D==null?void 0:D.avatar_url,is_active:I.is_active!==!1,created_at:(D==null?void 0:D.created_at)||I.created_at,last_sign_in_at:void 0}});s(te),console.log("Successfully loaded users:",te.length)}catch(ne){console.error("Error fetching users:",ne),h("Failed to load users"),Oe.error("Failed to load users. Please check the console for details.")}finally{c(!1),u(!1)}},T=()=>{E(),Oe.success("User data refreshed")},R=()=>{m(!0)},V=()=>{v(!0)},B=async()=>{if(!b||!n){Oe.error("Missing user or company information");return}F(!0),f(!0);try{const{error:ne}=await $e.from("company_users").delete().eq("user_id",b.id).eq("company_id",n.id);if(ne)throw console.error("Error removing user from company_users:",ne),new Error("Failed to remove user from company");try{const{error:I}=await $e.from("users").select("id").limit(1);if(!I||I.code!=="42P01"){const{error:D}=await $e.from("users").delete().eq("id",b.id).eq("company_id",n.id);D&&console.error("Error removing from users table:",D)}}catch(I){console.log("Note: users table may not exist or another error occurred, skipping delete"),console.error(I)}const{data:G,error:te}=await $e.from("company_users").select("company_id").eq("user_id",b.id);if(te&&console.error("Error checking remaining companies:",te),!G||G.length===0){console.log("User is not associated with any companies anymore");const{error:I}=await $e.from("auth_users").update({updated_at:new Date().toISOString()}).eq("id",b.id);I&&console.error("Error updating auth_users:",I)}Oe.success(`User ${b.display_name||b.email} removed from company`),M(!1),E()}catch(ne){console.error("Error deleting user:",ne),Oe.error(ne instanceof Error?ne.message:"Failed to delete user")}finally{F(!1),f(!1)}},K=a.filter(ne=>{var te,I;if(!H)return!0;const G=H.toLowerCase();return((te=ne.display_name)==null?void 0:te.toLowerCase().includes(G))||!1||ne.email.toLowerCase().includes(G)||((I=ne.role)==null?void 0:I.toLowerCase().includes(G))||!1}),Z=ne=>{z(ne.target.value)};return fe.useEffect(()=>{E()},[]),fe.useEffect(()=>{n&&E()},[n]),p.jsx(BU,{children:p.jsxs("div",{className:"h-full flex flex-col space-y-4",children:[(o||d)&&p.jsx(pxe,{}),p.jsxs("div",{className:"container mx-auto px-4 py-6",children:[p.jsx(oxe,{isOpen:_,onClose:()=>N(!1),user:b,onUserUpdated:E}),p.jsx(lxe,{isOpen:P,onClose:()=>M(!1),onConfirm:B,title:"Remove User",message:`Are you sure you want to remove ${(b==null?void 0:b.display_name)||(b==null?void 0:b.email)||"this user"} from ${(n==null?void 0:n.name)||"the company"}? This action cannot be undone.`,confirmText:"Remove User",cancelText:"Cancel",isLoading:A}),p.jsx(cxe,{isOpen:y,onClose:()=>m(!1),onUserCreated:E}),p.jsx(uxe,{isOpen:g,onClose:()=>v(!1),onRoleUpdated:E}),p.jsxs("div",{className:"mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold mb-2",children:"User Management"}),p.jsx("p",{className:`${i?"text-gray-300":"text-gray-600"}`,children:"Manage users, roles, and permissions for your organization"}),n&&p.jsx("div",{className:`mt-4 p-4 rounded-lg border ${i?"bg-gray-700 border-gray-600":"bg-blue-50 border-blue-200"}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Ba,{className:`w-5 h-5 ${i?"text-blue-400":"text-blue-600"}`}),p.jsxs("div",{children:[p.jsxs("h3",{className:`font-semibold ${i?"text-blue-400":"text-blue-800"}`,children:["Managing users for: ",n.name]}),p.jsxs("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:["Company ID: ",n.id]})]})]}),p.jsxs(Ri,{to:`/companies/${n.id}`,className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors bg-blue-600 text-white hover:bg-blue-700",children:[p.jsx("span",{children:"View Company"}),p.jsx(l7,{className:"w-4 h-4"})]})]})}),p.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4 transition-all duration-300",children:[p.jsxs("div",{className:"relative transform hover:scale-105 transition-transform",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Iu,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"text",placeholder:"Search users...",value:H,onChange:Z,className:`pl-10 pr-4 py-2 w-full rounded-md border ${i?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300`})]}),p.jsxs("div",{className:"md:col-span-3 flex justify-end space-x-2",children:[p.jsxs("button",{onClick:R,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center",children:[p.jsx(sF,{className:"w-4 h-4 mr-1"}),"Add User"]}),p.jsxs("button",{onClick:V,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors flex items-center",children:[p.jsx(np,{className:"w-4 h-4 mr-1"}),"Manage Roles"]})]})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[p.jsxs("div",{className:`lg:col-span-2 p-6 rounded-lg shadow-md ${i?"bg-gray-800":"bg-white"}`,children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:"p-2 rounded-full bg-blue-100 text-blue-600 mr-3",children:p.jsx(un,{className:"h-6 w-6"})}),p.jsx("h2",{className:"text-xl font-semibold",children:"User List"})]}),p.jsx("p",{className:`mb-4 ${i?"text-gray-300":"text-gray-600"}`,children:"View and manage all users in your organization"}),p.jsxs("button",{onClick:T,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[p.jsx(pc,{className:"w-4 h-4 mr-1 inline"}),"Refresh Users"]}),K.length>0?p.jsx("div",{className:"mt-4 overflow-x-auto",children:p.jsxs("table",{className:`min-w-full ${i?"text-gray-300":"text-gray-600"}`,children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("th",{className:"py-3 px-4 text-left",children:"User"}),p.jsx("th",{className:"py-3 px-4 text-left",children:"Email"}),p.jsx("th",{className:"py-3 px-4 text-left",children:"Role"}),p.jsx("th",{className:"py-3 px-4 text-left",children:"Company"}),p.jsx("th",{className:"py-3 px-4 text-left",children:"Status"}),p.jsx("th",{className:"py-3 px-4 text-left",children:"Actions"})]})}),p.jsx("tbody",{children:K.map(ne=>p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b hover:bg-gray-50 dark:hover:bg-gray-700`,children:[p.jsx("td",{className:"py-3 px-4 font-medium",children:ne.display_name||"Unknown"}),p.jsx("td",{className:"py-3 px-4",children:ne.email}),p.jsx("td",{className:"py-3 px-4 capitalize",children:ne.role||"Not assigned"}),p.jsx("td",{className:"py-3 px-4",children:n&&p.jsxs(Ri,{to:`/companies/${n.id}`,className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",title:"View Company Details",children:[p.jsx(Ba,{className:"w-4 h-4"}),p.jsx("span",{className:"truncate max-w-24",children:n.name}),p.jsx(l7,{className:"w-3 h-3"})]})}),p.jsx("td",{className:"py-3 px-4",children:p.jsx("button",{onClick:async G=>{if(G.stopPropagation(),!n){Oe.error("Please select a company first");return}k(ne.id);try{const te=!ne.is_active,{error:I}=await $e.from("company_users").update({is_active:te,updated_at:new Date().toISOString()}).eq("user_id",ne.id).eq("company_id",n.id);I?(console.error("Error updating user status:",I),Oe.error("Failed to update user status")):(Oe.success(`User ${te?"activated":"deactivated"} successfully`),E())}catch(te){console.error("Error updating user status:",te),Oe.error("Failed to update user status")}finally{k(null)}},disabled:C===ne.id,className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full transition-colors hover:opacity-80 ${C===ne.id?"opacity-50 cursor-not-allowed":ne.is_active!==!1?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 hover:bg-green-200 dark:hover:bg-green-800":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 hover:bg-red-200 dark:hover:bg-red-800"}`,title:`Click to ${ne.is_active!==!1?"deactivate":"activate"} user`,children:C===ne.id?p.jsxs("div",{className:"flex items-center",children:[p.jsx(pc,{className:"w-3 h-3 mr-1 animate-spin"}),"Updating..."]}):ne.is_active!==!1?"Active":"Inactive"})}),p.jsx("td",{className:"py-3 px-4",children:p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{onClick:G=>{G.stopPropagation(),w(ne),N(!0),U(!0),L(ne.id)},className:`text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 ${O===ne.id?"opacity-50":""}`,title:"Edit User",children:p.jsx(gh,{className:"h-4 w-4"})}),p.jsx("button",{onClick:G=>{G.stopPropagation(),w(ne),M(!0)},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Remove User",children:p.jsx(Eu,{className:"h-4 w-4"})})]})})]},ne.id))})]})}):p.jsx("div",{className:`mt-4 p-6 text-center rounded-lg ${i?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-600"}`,children:H?p.jsxs("p",{children:['No users found matching "',H,'". Try a different search term or clear the search.']}):p.jsx("p",{children:"No users found. Add users to get started."})}),l&&p.jsx("div",{className:"flex justify-center items-center p-4 mt-4",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 dark:border-white"})})]}),p.jsxs("div",{className:`p-6 rounded-lg shadow-md ${i?"bg-gray-800":"bg-white"}`,children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:"p-2 rounded-full bg-purple-100 text-purple-600 mr-3",children:p.jsx(GV,{className:"h-6 w-6"})}),p.jsx("h2",{className:"text-xl font-semibold",children:"Role Management"})]}),p.jsx("p",{className:`mb-4 ${i?"text-gray-300":"text-gray-600"}`,children:"Manage roles and permissions"}),p.jsx("button",{onClick:V,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Manage Roles"})]})]}),p.jsxs("div",{className:`p-6 rounded-lg shadow-md ${i?"bg-gray-800":"bg-white"} mb-8`,children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:"p-2 rounded-full bg-orange-100 text-orange-600 mr-3",children:p.jsx(tl,{className:"h-6 w-6"})}),p.jsx("h2",{className:"text-xl font-semibold",children:"User Settings"})]}),p.jsx("p",{className:`mb-4 ${i?"text-gray-300":"text-gray-600"}`,children:"Configure default user settings and permissions"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:`p-4 rounded-md ${i?"bg-gray-700":"bg-gray-100"}`,children:[p.jsx("h3",{className:"font-medium mb-2",children:"Default Permissions"}),p.jsx("p",{className:`text-sm ${i?"text-gray-300":"text-gray-600"}`,children:"Set default permissions for new users"})]}),p.jsxs("div",{className:`p-4 rounded-md ${i?"bg-gray-700":"bg-gray-100"}`,children:[p.jsx("h3",{className:"font-medium mb-2",children:"Password Policy"}),p.jsx("p",{className:`text-sm ${i?"text-gray-300":"text-gray-600"}`,children:"Configure password requirements and expiration"})]})]})]}),p.jsxs("div",{className:`p-6 rounded-lg shadow-md ${i?"bg-gray-800":"bg-white"} mb-8`,children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:"p-2 rounded-full bg-blue-100 text-blue-600 mr-3",children:p.jsx(np,{className:"h-6 w-6"})}),p.jsx("h2",{className:"text-xl font-semibold",children:"Your Permissions"})]}),p.jsxs("p",{className:`mb-4 ${i?"text-gray-300":"text-gray-600"}`,children:["Current role: ",p.jsx("span",{className:"font-semibold",children:t?t.charAt(0).toUpperCase()+t.slice(1):"Not assigned"})]}),e&&p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:`min-w-full ${i?"text-gray-300":"text-gray-600"}`,children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("th",{className:"py-3 px-4 text-left",children:"Module"}),p.jsx("th",{className:"py-3 px-4 text-left",children:"View"}),p.jsx("th",{className:"py-3 px-4 text-left",children:"Create"}),p.jsx("th",{className:"py-3 px-4 text-left",children:"Edit"}),p.jsx("th",{className:"py-3 px-4 text-left",children:"Delete"})]})}),p.jsx("tbody",{children:Object.entries(e).map(([ne,G])=>p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("td",{className:"py-3 px-4 font-medium capitalize",children:ne}),p.jsx("td",{className:"py-3 px-4",children:j(G.view)}),p.jsx("td",{className:"py-3 px-4",children:j(G.create)}),p.jsx("td",{className:"py-3 px-4",children:j(G.edit)}),p.jsx("td",{className:"py-3 px-4",children:j(G.delete)})]},ne))})]})}),!e&&p.jsx("div",{className:`p-4 rounded-md ${i?"bg-gray-700":"bg-gray-100"}`,children:p.jsx("p",{className:`text-sm ${i?"text-gray-300":"text-gray-600"}`,children:"No permissions data available. Please contact your administrator."})})]}),p.jsxs("div",{className:`p-6 rounded-lg shadow-md ${i?"bg-gray-800":"bg-white"}`,children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Activity"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:`min-w-full ${i?"text-gray-300":"text-gray-600"}`,children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("th",{className:"py-3 px-4 text-left",children:"User"}),p.jsx("th",{className:"py-3 px-4 text-left",children:"Action"}),p.jsx("th",{className:"py-3 px-4 text-left",children:"Date & Time"})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("td",{className:"py-3 px-4",children:"Admin User"}),p.jsx("td",{className:"py-3 px-4",children:"Logged in"}),p.jsx("td",{className:"py-3 px-4",children:"Today, 10:30 AM"})]}),p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("td",{className:"py-3 px-4",children:"Manager User"}),p.jsx("td",{className:"py-3 px-4",children:"Updated profile"}),p.jsx("td",{className:"py-3 px-4",children:"Today, 9:15 AM"})]}),p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("td",{className:"py-3 px-4",children:"Cashier User"}),p.jsx("td",{className:"py-3 px-4",children:"Password changed"}),p.jsx("td",{className:"py-3 px-4",children:"Yesterday, 4:45 PM"})]}),p.jsxs("tr",{className:`${i?"border-gray-700":"border-gray-200"} border-b`,children:[p.jsx("td",{className:"py-3 px-4",children:"Salesperson User"}),p.jsx("td",{className:"py-3 px-4",children:"Password changed"}),p.jsx("td",{className:"py-3 px-4",children:"Yesterday, 4:45 PM"})]})]})]})})]})]})})},gxe=({isOpen:r,onClose:t,companyId:e})=>{const{theme:n}=Vr(),i=n==="dark",[a,s]=fe.useState(null),[l,c]=fe.useState([]),[o,u]=fe.useState(!0),[d,f]=fe.useState(!1),[h,y]=fe.useState(null),[m,g]=fe.useState(!1);fe.useEffect(()=>{r&&v()},[r,e]);const v=async()=>{u(!0);try{const[_,N]=await Promise.all([Uk(e),e2()]);_&&(s(_),y(_),f(!1)),c(N)}catch(_){console.error("Error loading GST settings:",_),Oe.error("Failed to load GST settings")}finally{u(!1)}},b=(_,N)=>{a&&s(P=>{if(!P)return null;const M={...P,[_]:N};return f(JSON.stringify(M)!==JSON.stringify(h)),M})},w=async()=>{if(!(!a||!e)){g(!0);try{const{error:_}=await $e.from("tax_settings").upsert({...a,company_id:e});if(_)throw _;Oe.success("GST settings saved successfully"),y(a),f(!1)}catch(_){console.error("Error saving GST settings:",_),Oe.error("Failed to save GST settings")}finally{g(!1)}}};return r?p.jsx("div",{className:"space-y-4",children:o?p.jsxs("div",{className:"py-4 text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),p.jsx("p",{className:"mt-2",children:"Loading GST settings..."})]}):a?p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tax Calculation Type"}),p.jsxs("select",{value:a.tax_type,onChange:_=>b("tax_type",_.target.value),className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"split",children:"CGST + SGST (Same State)"}),p.jsx("option",{value:"integrated",children:"IGST (Interstate)"})]}),p.jsx("p",{className:`mt-1 text-sm ${i?"text-gray-400":"text-gray-500"}`,children:"Choose CGST + SGST for intra-state transactions, IGST for inter-state transactions"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",checked:a.tax_inclusive,onChange:_=>b("tax_inclusive",_.target.checked),className:"rounded border-gray-300"}),p.jsx("span",{children:"GST Inclusive Pricing"})]}),p.jsx("p",{className:`mt-1 text-sm ${i?"text-gray-400":"text-gray-500"}`,children:"When enabled, product prices will include GST"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",checked:a.cess_enabled,onChange:_=>b("cess_enabled",_.target.checked),className:"rounded border-gray-300"}),p.jsx("span",{children:"Enable CESS"})]}),p.jsx("p",{className:`mt-1 text-sm ${i?"text-gray-400":"text-gray-500"}`,children:"Apply CESS for applicable products (28% GST category)"})]}),d&&p.jsx("div",{className:"flex justify-end mt-4",children:p.jsx(_t,{variant:"primary",onClick:w,disabled:m,children:m?p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save GST Settings"})})]}):p.jsxs("div",{className:"py-4 text-center",children:[p.jsx("p",{className:"text-red-500",children:"Failed to load GST settings"}),p.jsx(_t,{variant:"secondary",size:"sm",className:"mt-2",onClick:v,children:"Retry"})]})}):null};async function nR(){try{console.log("Starting company settings initialization...");const{data:{user:r},error:t}=await $e.auth.getUser();if(t)return console.error("Auth error:",t),!1;if(!r)return console.error("No authenticated user found"),!1;console.log("Current user:",r.id);const{data:e,error:n}=await $e.from("companies").select(`
        *,
        company_users!inner (
          role,
          is_active
        )
      `).eq("company_users.user_id",r.id).eq("company_users.is_active",!0);if(n)return console.error("Error fetching companies:",n),!1;if(console.log(`Found ${(e==null?void 0:e.length)||0} companies for user`),!e||e.length===0){console.log("Creating a default company for the user...");const{data:i,error:a}=await $e.rpc("create_company",{p_name:"My Company",p_user_id:r.id,p_legal_name:"My Legal Company Name",p_tax_number:"",p_email:r.email||"",p_phone:"",p_website:"",p_address_street:"",p_address_city:"",p_address_state:"",p_address_postal_code:"",p_address_country:"India"});if(a)return console.error("Error creating company:",a),!1;console.log("Created default company with ID:",i);const{data:s,error:l}=await $e.from("company_settings").select("*").eq("company_id",i).single();if(l&&l.code!=="PGRST116"&&console.error("Error checking company settings:",l),!s){console.log("Creating default company settings...");const{error:u}=await $e.from("company_settings").insert({company_id:i,currency:"INR",timezone:"Asia/Kolkata",fiscal_year_start:"04-01",enable_multi_branch:!1,enable_stock_alerts:!0,low_stock_threshold:10,invoice_prefix:"INV",invoice_starting_number:1});if(u)return console.error("Error creating company settings:",u),!1;console.log("Created default company settings")}const{data:c,error:o}=await $e.from("tax_settings").select("*").eq("company_id",i).single();if(o&&o.code!=="PGRST116"&&console.error("Error checking tax settings:",o),!c){console.log("Creating default tax settings...");const{error:u}=await $e.from("tax_settings").insert({company_id:i,tax_type:"split",tax_inclusive:!1,cess_enabled:!1});if(u)return console.error("Error creating tax settings:",u),!1;console.log("Created default tax settings")}return!0}for(const i of e){const a=i.id;console.log(`Checking settings for company: ${i.name} (${a})`);const{data:s,error:l}=await $e.from("company_settings").select("*").eq("company_id",a).single();if(l&&l.code!=="PGRST116"&&console.error("Error checking company settings:",l),s)console.log(`Found existing settings for company ${a}`);else{console.log(`No settings found for company ${a}, creating default settings...`);const{error:u}=await $e.from("company_settings").insert({company_id:a,currency:"INR",timezone:"Asia/Kolkata",fiscal_year_start:"04-01",enable_multi_branch:!1,enable_stock_alerts:!0,low_stock_threshold:10,invoice_prefix:"INV",invoice_starting_number:1});u?console.error("Error creating company settings:",u):console.log(`Created settings for company ${a}`)}const{data:c,error:o}=await $e.from("tax_settings").select("*").eq("company_id",a).single();if(o&&o.code!=="PGRST116"&&console.error("Error checking tax settings:",o),c)console.log(`Found existing tax settings for company ${a}`);else{console.log(`No tax settings found for company ${a}, creating default tax settings...`);const{error:u}=await $e.from("tax_settings").insert({company_id:a,tax_type:"split",tax_inclusive:!1,cess_enabled:!1});u?console.error("Error creating tax settings:",u):console.log(`Created tax settings for company ${a}`)}}return!0}catch(r){return console.error("Error in createDefaultCompanySettings:",r),!1}}const yxe=({isOpen:r,onClose:t,companyId:e})=>{const{theme:n}=Vr(),i=n==="dark",[a,s]=fe.useState(null),[l,c]=fe.useState(!0),[o,u]=fe.useState(!1),[d,f]=fe.useState(!1),[h,y]=fe.useState(null);fe.useEffect(()=>{r&&m()},[r,e]);const m=async()=>{c(!0);try{const{data:b,error:w}=await $e.from("company_settings").select("*").eq("company_id",e).single();if(w)if(w.code==="PGRST116"||w.code==="42P01")if(console.log("Company settings not found, attempting to create default settings..."),await nR()){const{data:N,error:P}=await $e.from("company_settings").select("*").eq("company_id",e).single();if(P)throw P;if(N){s(N),y(N),f(!1),Oe.success("Company settings initialized successfully");return}}else throw new Error("Failed to initialize company settings");else throw w;b&&(s(b),y(b),f(!1))}catch(b){console.error("Error loading company settings:",b),Oe.error("Failed to load company settings")}finally{c(!1)}},g=(b,w)=>{a&&s(_=>{if(!_)return null;const N={..._,[b]:w};return f(JSON.stringify(N)!==JSON.stringify(h)),N})},v=async()=>{if(a){u(!0);try{const{error:b}=await $e.from("company_settings").upsert({...a,company_id:e});if(b)throw b;Oe.success("Settings saved successfully"),y(a),f(!1),t()}catch(b){console.error("Error saving company settings:",b),Oe.error("Failed to save settings")}finally{u(!1)}}};return r?p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),p.jsxs("div",{className:`relative w-full max-w-4xl transform rounded-lg ${i?"bg-gray-800":"bg-white"} p-6 shadow-xl transition-all`,children:[p.jsx("div",{className:"flex items-center justify-between mb-6",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(pg,{className:"w-6 h-6 mr-2"}),p.jsx("h2",{className:"text-xl font-semibold",children:"Company Settings"})]})}),l?p.jsxs("div",{className:"py-8 text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),p.jsx("p",{className:"mt-4",children:"Loading settings..."})]}):a?p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[p.jsx(Ba,{className:"w-5 h-5 mr-2"}),"General Settings"]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Currency"}),p.jsxs("select",{value:a.currency,onChange:b=>g("currency",b.target.value),className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"INR",children:"Indian Rupee ()"}),p.jsx("option",{value:"USD",children:"US Dollar ($)"}),p.jsx("option",{value:"EUR",children:"Euro ()"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Timezone"}),p.jsxs("select",{value:a.timezone,onChange:b=>g("timezone",b.target.value),className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"Asia/Kolkata",children:"India (IST)"}),p.jsx("option",{value:"UTC",children:"UTC"}),p.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Fiscal Year Start"}),p.jsx("input",{type:"text",value:a.fiscal_year_start,onChange:b=>g("fiscal_year_start",b.target.value),placeholder:"MM-DD",className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[p.jsx(ep,{className:"w-5 h-5 mr-2"}),"Invoice Settings"]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Invoice Prefix"}),p.jsx("input",{type:"text",value:a.invoice_prefix,onChange:b=>g("invoice_prefix",b.target.value),className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Starting Invoice Number"}),p.jsx("input",{type:"number",value:a.invoice_starting_number,onChange:b=>g("invoice_starting_number",parseInt(b.target.value)),className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[p.jsx(E8,{className:"w-5 h-5 mr-2"}),"Stock Settings"]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",id:"enableStockAlerts",checked:a.enable_stock_alerts,onChange:b=>g("enable_stock_alerts",b.target.checked),className:"rounded border-gray-300"}),p.jsx("label",{htmlFor:"enableStockAlerts",children:"Enable Stock Alerts"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Low Stock Threshold"}),p.jsx("input",{type:"number",value:a.low_stock_threshold,onChange:b=>g("low_stock_threshold",parseInt(b.target.value)),className:`w-full p-2 rounded-md border ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[p.jsx(qV,{className:"w-5 h-5 mr-2"}),"Branch Settings"]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",id:"enableMultiBranch",checked:a.enable_multi_branch,onChange:b=>g("enable_multi_branch",b.target.checked),className:"rounded border-gray-300"}),p.jsx("label",{htmlFor:"enableMultiBranch",children:"Enable Multi-Branch Support"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[p.jsx(Js,{className:"w-5 h-5 mr-2"}),"GST Settings"]}),p.jsx(gxe,{isOpen:!0,onClose:()=>{},companyId:e})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[p.jsx(_t,{variant:"ghost",onClick:t,disabled:o,children:"Cancel"}),p.jsxs("div",{className:"flex flex-col items-end",children:[d&&p.jsx("p",{className:`text-sm mb-2 ${i?"text-blue-400":"text-blue-600"}`,children:"You have unsaved changes"}),p.jsx(_t,{variant:"primary",onClick:v,disabled:!d||o,className:`transition-all duration-200 ${d?"opacity-100 transform scale-100":"opacity-50 transform scale-95"}`,children:o?p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):d?"Save Changes":"No Changes"})]})]})]}):p.jsxs("div",{className:"py-8 text-center",children:[p.jsx("p",{className:"text-red-500",children:"Failed to load company settings"}),p.jsxs("div",{className:"flex justify-center space-x-4 mt-4",children:[p.jsx(_t,{variant:"secondary",size:"sm",onClick:m,children:"Retry"}),p.jsx(_t,{variant:"primary",size:"sm",onClick:async()=>{c(!0);try{await nR()?(Oe.success("Company settings initialized successfully"),m()):Oe.error("Failed to initialize company settings")}catch(b){console.error("Error initializing company settings:",b),Oe.error("Error initializing company settings")}finally{c(!1)}},children:"Initialize Settings"})]})]})]})]})}):null},iR=({openAddModal:r=!1})=>{const{theme:t}=Vr(),e=t==="dark",{refresh:n,companies:i,loading:a,error:s,fetchCompanies:l,setSelectedCompany:c}=CV(),[o,u]=fe.useState(r),[d,f]=fe.useState(null),[h,y]=fe.useState(null),[m,g]=fe.useState(null),[v,b]=fe.useState(""),[w,_]=fe.useState("grid"),[N,P]=fe.useState("all"),M=qa();fe.useEffect(()=>{console.log("Companies component state:",{loading:a,error:s,companiesCount:i.length})},[a,s,i]),fe.useEffect(()=>{u(r)},[r]);const A=i.filter(O=>{var k,j,E;const L=O.name.toLowerCase().includes(v.toLowerCase())||((k=O.legal_name)==null?void 0:k.toLowerCase().includes(v.toLowerCase()))||((j=O.tax_number)==null?void 0:j.toLowerCase().includes(v.toLowerCase()))||((E=O.email)==null?void 0:E.toLowerCase().includes(v.toLowerCase())),C=N==="all"||O.subscription_status===N;return L&&C}),F=O=>{switch(O){case"active":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 border-green-200 dark:border-green-800";case"trial":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 border-blue-200 dark:border-blue-800";case"expired":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400 border-red-200 dark:border-red-800";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400 border-gray-200 dark:border-gray-800"}},H=O=>{switch(O){case"active":return p.jsx(XR,{className:"w-4 h-4"});case"trial":return p.jsx(Km,{className:"w-4 h-4"});case"expired":return p.jsx(ei,{className:"w-4 h-4"});default:return null}},z=({company:O})=>p.jsxs("div",{className:`rounded-xl border shadow-sm hover:shadow-lg transition-all duration-200 overflow-hidden group flex flex-col justify-between min-h-[240px] ${e?"bg-gray-800 border-gray-700 text-gray-100":"bg-white border-gray-900 text-gray-900"}`,style:{padding:"1rem",gap:"0.5rem"},children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[O.logo_url?p.jsx("img",{src:O.logo_url,alt:`${O.name} logo`,className:"h-10 w-10 object-contain rounded",style:{maxHeight:"40px",maxWidth:"40px"},onError:L=>{var j;const C=L.target;C.onerror=null,C.style.display="none";const k=(j=C.parentElement)==null?void 0:j.querySelector(".logo-fallback");k&&(k.style.display="flex")}}):p.jsx("div",{className:"logo-fallback flex items-center justify-center text-gray-400 h-10 w-10",children:p.jsx(Ba,{className:"w-7 h-7"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-base font-semibold line-clamp-1 mb-0.5",children:O.name}),p.jsx("span",{className:`text-xs font-medium capitalize ${O.subscription_status==="active"?"text-green-500":"text-gray-400"}`,children:O.subscription_status})]})]}),p.jsx("div",{className:"flex items-center gap-1",children:H(O.subscription_status)})]}),p.jsxs("div",{className:"flex-1 text-xs space-y-1 mb-2",children:[O.tax_number&&p.jsxs("div",{className:"flex items-center",children:[p.jsx(F6,{className:"w-3 h-3 mr-2 text-gray-400"}),p.jsxs("span",{className:"truncate",children:["GST: ",O.tax_number]})]}),(O.address_street||O.address_city||O.address_state)&&p.jsxs("div",{className:"flex items-start",children:[p.jsx(T8,{className:"w-3 h-3 mr-2 mt-0.5 text-gray-400"}),p.jsx("span",{className:"truncate",children:[O.address_street,O.address_city,O.address_state,O.address_postal_code].filter(Boolean).join(", ")})]}),O.phone&&p.jsxs("div",{className:"flex items-center",children:[p.jsx(Gv,{className:"w-3 h-3 mr-2 text-gray-400"}),p.jsx("span",{className:"truncate",children:O.phone})]}),O.email&&p.jsxs("div",{className:"flex items-center",children:[p.jsx(rp,{className:"w-3 h-3 mr-2 text-gray-400"}),p.jsx("span",{className:"truncate",children:O.email})]})]}),p.jsxs("div",{className:`flex items-center justify-center gap-3 mt-2 rounded-lg px-2 py-2 ${e?"bg-gray-700":"bg-gray-100"}`,children:[p.jsx(_t,{variant:"primary",size:"sm",leftIcon:p.jsx(Q0,{className:"w-5 h-5"}),onClick:()=>{c(O),window.location.href="/"},className:"min-w-[110px]",children:"Dashboard"}),O.role&&["owner","admin"].includes(O.role)&&p.jsxs(p.Fragment,{children:[p.jsx(_t,{variant:"secondary",size:"sm",leftIcon:p.jsx(gh,{className:"w-5 h-5"}),onClick:()=>g({id:O.id,name:O.name}),className:"min-w-[90px]",children:"Edit"}),p.jsx(_t,{variant:"secondary",size:"sm",leftIcon:p.jsx(tl,{className:"w-5 h-5"}),onClick:()=>y({id:O.id,name:O.name}),className:"min-w-[110px]",children:"Settings"}),O.role==="owner"&&p.jsx(_t,{variant:"danger",size:"sm",onClick:()=>f({id:O.id,name:O.name}),className:"min-w-[40px]",children:p.jsx(Eu,{className:"w-5 h-5"})})]})]})]}),U=({company:O})=>p.jsx("div",{className:`rounded-lg border p-6 hover:shadow-md transition-all duration-200
  ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:`w-16 h-16 ${e?"bg-gray-700":"bg-gray-100"} rounded-lg flex items-center justify-center flex-shrink-0`,children:[O.logo_url?p.jsx("img",{src:O.logo_url,alt:`${O.name} logo`,className:"w-full h-full object-cover rounded-lg",onError:L=>{var j;const C=L.target;C.onerror=null,C.style.display="none";const k=(j=C.parentElement)==null?void 0:j.querySelector(".logo-fallback");k&&(k.style.display="flex")}}):p.jsx("div",{className:"logo-fallback flex flex-col items-center justify-center text-gray-400",children:p.jsx(Ba,{className:"w-8 h-8"})}),O.logo_url&&p.jsx("div",{className:"logo-fallback hidden items-center justify-center text-gray-400 absolute inset-0 bg-gray-100 dark:bg-gray-700 rounded-lg",children:p.jsx(Ba,{className:"w-8 h-8"})})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h3",{className:"text-lg font-semibold truncate",children:O.name}),p.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-1 border ml-4 ${F(O.subscription_status)}`,children:[H(O.subscription_status),p.jsx("span",{className:"capitalize",children:O.subscription_status})]})]}),O.legal_name&&p.jsx("p",{className:`text-sm ${e?"text-gray-400":"text-gray-500"} mb-2`,children:O.legal_name}),p.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[O.tax_number&&p.jsxs("div",{className:"flex items-center",children:[p.jsx(F6,{className:"w-4 h-4 mr-2 text-gray-400"}),p.jsxs("span",{children:["GST: ",O.tax_number]})]}),O.email&&p.jsxs("div",{className:"flex items-center",children:[p.jsx(rp,{className:"w-4 h-4 mr-2 text-gray-400"}),p.jsx("span",{className:"truncate",children:O.email})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(un,{className:"w-4 h-4 mr-2 text-gray-400"}),p.jsx("span",{children:O.role})]})]})]}),p.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[p.jsx(_t,{variant:"primary",size:"sm",leftIcon:p.jsx(Q0,{className:"w-4 h-4"}),onClick:()=>{c(O),window.location.href="/"},children:"Dashboard"}),O.role&&["owner","admin"].includes(O.role)&&p.jsxs(p.Fragment,{children:[p.jsx(_t,{variant:"secondary",size:"sm",leftIcon:p.jsx(gh,{className:"w-4 h-4"}),onClick:()=>g({id:O.id,name:O.name}),children:"Edit"}),p.jsx(_t,{variant:"secondary",size:"sm",leftIcon:p.jsx(tl,{className:"w-4 h-4"}),onClick:()=>y({id:O.id,name:O.name}),children:"Settings"}),O.role==="owner"&&p.jsx(_t,{variant:"danger",size:"sm",onClick:()=>f({id:O.id,name:O.name}),children:p.jsx(Eu,{className:"w-4 h-4"})})]})]})]})});return p.jsx("div",{className:`min-h-screen w-full bg-gray-900 py-8 px-4 ${e?"text-gray-100":"text-gray-900"}`,children:p.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[p.jsx(_t,{variant:"secondary",onClick:()=>M(-1),leftIcon:p.jsx(WR,{className:"w-4 h-4"}),className:"mb-4",children:"Back"}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold",children:"Companies"}),p.jsx("p",{className:`mt-2 ${e?"text-gray-400":"text-gray-500"}`,children:"Manage your companies and their settings"})]}),p.jsx(_t,{variant:"primary",onClick:()=>u(!0),leftIcon:p.jsx(Qs,{className:"w-4 h-4"}),className:"w-full sm:w-auto",children:"Add Company"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx(Iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Search companies...",value:v,onChange:O=>b(O.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border ${e?"bg-gray-800 border-gray-700 text-gray-100 placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsxs("select",{value:N,onChange:O=>P(O.target.value),className:`px-3 py-2 rounded-lg border ${e?"bg-gray-800 border-gray-700 text-gray-100":"bg-white border-gray-300 text-gray-900"} focus:ring-2 focus:ring-blue-500 focus:border-transparent`,children:[p.jsx("option",{value:"all",children:"All Status"}),p.jsx("option",{value:"active",children:"Active"}),p.jsx("option",{value:"trial",children:"Trial"}),p.jsx("option",{value:"expired",children:"Expired"})]}),p.jsxs("div",{className:"flex border rounded-lg overflow-hidden",children:[p.jsx("button",{onClick:()=>_("grid"),className:`p-2 ${w==="grid"?"bg-blue-500 text-white":e?"bg-gray-800 text-gray-400":"bg-white text-gray-600"}`,children:p.jsx(tF,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>_("list"),className:`p-2 ${w==="list"?"bg-blue-500 text-white":e?"bg-gray-800 text-gray-400":"bg-white text-gray-600"}`,children:p.jsx(rF,{className:"w-4 h-4"})})]})]})]}),p.jsxs("div",{className:`text-sm ${e?"text-gray-400":"text-gray-500"}`,children:[A.length," of ",i.length," companies"]}),s&&p.jsx("div",{className:`p-4 rounded-lg border ${e?"bg-red-900/20 border-red-800":"bg-red-50 border-red-200"}`,children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(ei,{className:"w-5 h-5 text-red-500 mr-3"}),p.jsx("p",{className:"text-red-600 dark:text-red-400",children:s})]})}),a?p.jsx("div",{className:w==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:[1,2,3].map(O=>p.jsxs("div",{className:`animate-pulse ${e?"bg-gray-800":"bg-white"} rounded-lg p-6 shadow-sm`,children:[p.jsx("div",{className:"h-6 bg-gray-400 rounded w-3/4 mb-4"}),p.jsx("div",{className:"h-4 bg-gray-400 rounded w-1/2 mb-2"}),p.jsx("div",{className:"h-4 bg-gray-400 rounded w-2/3"})]},O))}):A.length===0?p.jsxs("div",{className:"text-center py-16",children:[p.jsx(Ba,{className:"w-20 h-20 mx-auto mb-6 text-gray-400"}),p.jsx("h2",{className:"text-2xl font-semibold mb-3",children:i.length===0?"No Companies Yet":"No Companies Found"}),p.jsx("p",{className:`${e?"text-gray-400":"text-gray-500"} max-w-md mx-auto mb-8`,children:i.length===0?"Get started by creating your first company to manage inventory, sales, and more.":"Try adjusting your search or filter criteria."}),i.length===0&&p.jsx(_t,{variant:"primary",onClick:()=>u(!0),leftIcon:p.jsx(Qs,{className:"w-4 h-4"}),children:"Create Company"})]}):p.jsx("div",{className:w==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:A.map(O=>w==="grid"?p.jsx(z,{company:O},O.id):p.jsx(U,{company:O},O.id))}),p.jsx(Gb,{isOpen:o,onClose:()=>u(!1),onSuccess:()=>{l(),n()},title:"Create New Company"}),m&&p.jsx(l$,{isOpen:!0,onClose:()=>g(null),companyId:m.id,onCompanyUpdated:()=>{l(),n()}}),h&&p.jsx(yxe,{isOpen:!0,onClose:()=>y(null),companyId:h.id}),d&&p.jsx(c$,{isOpen:!0,onClose:()=>f(null),companyId:d.id,companyName:d.name,onRemoved:n})]})})},vxe=({title:r,description:t,icon:e,role:n,onSelect:i,isSelected:a,permissions:s})=>{const{theme:l}=Vr(),[c,o]=fe.useState(!1);return p.jsx("div",{className:`p-4 md:p-6 rounded-lg shadow-md cursor-pointer transition-all duration-200 ${a?"bg-blue-50 dark:bg-blue-900 border-2 border-blue-500 dark:border-blue-400 transform scale-102":"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 border-2 border-transparent"}`,onClick:()=>i(n),children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsxs("div",{className:"flex items-center w-full",children:[p.jsx("div",{className:`p-3 rounded-full ${a?"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:e}),p.jsxs("div",{className:"ml-4 text-left flex-1",children:[p.jsx("h3",{className:"text-lg md:text-xl font-medium text-gray-900 dark:text-white",children:r}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t})]})]}),p.jsxs("button",{onClick:u=>{u.stopPropagation(),o(!c)},className:`mt-3 w-full flex items-center justify-between px-3 py-2 rounded-md text-sm font-medium ${l==="dark"?"bg-gray-700 text-gray-200 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[p.jsx("span",{children:"Permissions"}),c?p.jsx(JR,{className:"h-4 w-4"}):p.jsx(Vf,{className:"h-4 w-4"})]}),c&&p.jsx("div",{className:"mt-3 w-full",children:p.jsx("ul",{className:"text-left text-sm space-y-1",children:s.map((u,d)=>p.jsxs("li",{className:"flex items-center",children:[p.jsx(YR,{className:"h-3 w-3 mr-1 flex-shrink-0 text-blue-500"}),p.jsx("span",{className:`${l==="dark"?"text-gray-300":"text-gray-600"}`,children:u})]},d))})})]})})},bxe=()=>{const r=qa(),{user:t}=jc(),{refreshUserRole:e}=Ha(),{theme:n}=Vr(),[i,a]=fe.useState(null),[s,l]=fe.useState(!1),[c,o]=fe.useState(!0),[u,d]=fe.useState(null),f={admin:["Full system administration","Access to Super Admin Dashboard","Manage all companies and users","System-wide configuration","Complete access to all features"],manager:["Access all settings and reports","Manage inventory and products","View sales and financial data","Manage user accounts","Configure system settings"],cashier:["Process sales transactions","Generate receipts","Handle customer payments","View product inventory","Access basic reports"],salesperson:["View product catalog","Create customer orders","Manage customer information","Create quotations","Cannot complete transactions"],owner:["Full system ownership","Access to all features and settings","Manage all companies and users","System-wide configuration","Complete access to all features"]};fe.useEffect(()=>{(async()=>{if(!t){Oe.error("Please log in to access role selection"),r("/login");return}try{const{data:v,error:b}=await $e.from("company_users").select("role").eq("is_active",!0);if(b){console.error("Error checking existing users:",b),Oe.error("Failed to check system status"),r("/login");return}if(!v||v.length===0){console.log("First user detected - setting up as admin..."),d("admin"),a("admin"),o(!1);return}const{data:w,error:_}=await $e.from("company_users").select("role, company_id").eq("user_id",t.id).eq("is_active",!0).single();if(_&&_.code!=="PGRST116"){console.error("Error fetching user role:",_),Oe.error("Failed to fetch your assigned role"),r("/login");return}if(w&&w.role)d(w.role),a(w.role);else{Oe.error("No role assigned. Please contact your administrator."),r("/login");return}}catch(v){console.error("Error in role check:",v),Oe.error("An error occurred while checking your role"),r("/login");return}o(!1)})()},[t,r]);const h=g=>{a(g)},y=async()=>{if(!i){Oe.error("Please select a role to continue");return}l(!0);try{console.log("Setting user role to:",i),console.log("User ID:",t==null?void 0:t.id);const{data:g,error:v}=await $e.from("company_users").select("role").eq("is_active",!0);if(v)throw console.error("Error checking existing users:",v),new Error("Failed to check system status");if(!g||g.length===0){if(i!=="admin"){Oe.error("First user must be an administrator"),l(!1);return}const{error:w}=await $e.from("company_users").insert({user_id:t==null?void 0:t.id,role:"admin",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(w)throw console.error("Error creating admin user:",w),new Error("Failed to create admin user");const{error:_}=await $e.auth.updateUser({data:{role:"admin"}});_&&(console.error("Error updating user metadata:",_),console.warn("User metadata update failed, but role was set successfully"))}else{const{data:w,error:_}=await $e.from("company_users").select("*").eq("user_id",t==null?void 0:t.id).single();if(_&&_.code!=="PGRST116")throw console.error("Error checking existing user:",_),new Error("Failed to check existing user data");if(w){const{error:N}=await $e.from("company_users").update({role:i,is_active:!0,updated_at:new Date().toISOString()}).eq("user_id",t==null?void 0:t.id);if(N)throw console.error("Error updating company_users:",N),new Error(`Failed to update role: ${N.message}`)}else{const{data:N,error:P}=await $e.from("companies").select("id").eq("is_active",!0).limit(1);if(P||!N||N.length===0)throw console.error("Error fetching companies:",P),new Error("No company found. Please contact administrator.");const{error:M}=await $e.from("company_users").insert({user_id:t==null?void 0:t.id,company_id:N[0].id,role:i,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(M)throw console.error("Error inserting company_users:",M),new Error(`Failed to create user role: ${M.message}`)}}const{error:b}=await $e.auth.updateUser({data:{role:i}});switch(b&&(console.error("Error updating user metadata:",b),console.warn("User metadata update failed, but role was set successfully")),await e(),i){case"admin":r("/super-admin-dashboard");break;case"manager":r("/manager-dashboard");break;case"cashier":r("/cashier-dashboard");break;case"salesperson":r("/salesperson-dashboard");break;case"owner":r("/owner-dashboard");break;default:r("/")}Oe.success(`You are now using the application as ${i}`)}catch(g){console.error("Error setting user role:",g);const v=g instanceof Error?g.message:"Failed to set user role";Oe.error(v)}finally{l(!1)}};if(c||!t)return p.jsx("div",{className:`min-h-screen flex items-center justify-center ${n==="dark"?"bg-gradient-to-br from-gray-900 to-gray-800":"bg-gradient-to-br from-blue-50 to-indigo-50"} py-6 px-4`,children:p.jsxs("div",{className:`text-center ${n==="dark"?"text-white":"text-gray-900"}`,children:[p.jsx(gw,{className:`h-10 w-10 mx-auto mb-3 ${n==="dark"?"text-blue-400":"text-blue-600"}`}),p.jsx("p",{className:"text-base",children:c?"Checking authentication...":"Redirecting to login..."})]})});const m=g=>{switch(g){case"admin":return p.jsx(tl,{className:"w-6 h-6 md:w-7 md:h-7"});case"manager":return p.jsx(tl,{className:"w-6 h-6 md:w-7 md:h-7"});case"cashier":return p.jsx(qi,{className:"w-6 h-6 md:w-7 md:h-7"});case"salesperson":return p.jsx(un,{className:"w-6 h-6 md:w-7 md:h-7"});default:return p.jsx(gw,{className:"w-6 h-6 md:w-7 md:h-7"})}};return p.jsx("div",{className:`min-h-screen flex items-center justify-center ${n==="dark"?"bg-gradient-to-br from-gray-900 to-gray-800":"bg-gradient-to-br from-blue-50 to-indigo-50"} py-4 px-3 md:py-12 md:px-6`,children:p.jsxs("div",{className:`max-w-md md:max-w-lg w-full space-y-4 md:space-y-6 ${n==="dark"?"bg-gray-800":"bg-white"} p-4 md:p-6 rounded-xl shadow-lg`,children:[p.jsxs("div",{className:"text-center",children:[p.jsx(gw,{className:`h-10 w-10 md:h-12 md:w-12 mx-auto ${n==="dark"?"text-blue-400":"text-blue-600"}`}),p.jsx("h2",{className:`mt-2 md:mt-4 text-2xl md:text-3xl font-bold ${n==="dark"?"text-white":"text-gray-900"}`,children:"Tallybooks POS"}),p.jsxs("div",{className:`mt-2 inline-flex items-center px-2 py-1 rounded-full text-xs md:text-sm font-medium ${n==="dark"?"bg-green-900 text-green-200 border border-green-700":"bg-green-100 text-green-800 border border-green-200"}`,children:[p.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-green-500 rounded-full mr-1 md:mr-2"}),p.jsx("span",{className:"truncate max-w-[200px] md:max-w-full",children:t.email})]}),p.jsx("p",{className:`mt-2 md:mt-4 text-sm md:text-base ${n==="dark"?"text-gray-300":"text-gray-600"}`,children:"Your assigned role is displayed below"})]}),p.jsx("div",{className:"mt-4",children:u&&p.jsx(vxe,{title:u.charAt(0).toUpperCase()+u.slice(1),description:`You have been assigned the ${u} role`,icon:m(u),role:u,onSelect:h,isSelected:i===u,permissions:f[u]})}),p.jsx("div",{className:"mt-4 md:mt-6",children:p.jsx(_t,{variant:"primary",size:"lg",onClick:y,isLoading:s,disabled:!i||s,className:"w-full py-3 text-base md:text-lg rounded-lg",children:i?`Continue as ${i.charAt(0).toUpperCase()+i.slice(1)}`:"Select a Role to Continue"})})]})})},xxe=()=>{const{theme:r}=Vr(),t=r==="dark",{companies:e,selectedCompany:n,setSelectedCompany:i}=Bk(),a=n||(e&&e.length>0?e[0]:null),s=nl(),l=qa();fe.useEffect(()=>{console.log("BarcodePrinting - Current path:",s.pathname)},[s.pathname]);const[c,o]=fe.useState([]),[u,d]=fe.useState([]),[f,h]=fe.useState(""),[y,m]=fe.useState(!0),[g,v]=fe.useState(null),[b,w]=fe.useState(!1),[_,N]=fe.useState("all"),[P,M]=fe.useState([]);fe.useEffect(()=>{console.log("BarcodePrinting - activeCompany effect triggered"),console.log("activeCompany:",a),console.log("companies:",e),a?(console.log("Calling fetchProducts with activeCompany:",a.id),A()):e&&e.length>0?(console.log("No activeCompany but companies exist, setting selectedCompany to first company"),i(e[0])):console.log("No activeCompany and no companies available")},[a,e]);const A=async()=>{if(console.log("Starting fetchProducts function"),console.log("Active company:",a),!a)return console.log("No active company selected"),Promise.resolve();m(!0);try{console.log("Checking Supabase connection...");try{const{data:C,error:k}=await $e.from("companies").select("id").limit(1);if(k)return console.error("Supabase connection test failed:",k),Oe.error("Database connection issue. Please refresh the page."),Promise.reject(k);console.log("Supabase connection test successful:",C)}catch(C){return console.error("Supabase connection test threw an exception:",C),Oe.error("Database connection failed. Please check your internet connection."),Promise.reject(C)}console.log("Fetching products for company:",a.id);const{data:U,error:O}=await $e.from("products").select("id, name, sku, barcode, mrp, art_no, color, size, category").eq("company_id",a.id).order("name");if(O)return console.error("Error fetching products:",O),console.error("Error details:",JSON.stringify(O)),Oe.error(`Failed to load products: ${O.message||"Unknown error"}`),Promise.reject(O);console.log(`Found ${(U==null?void 0:U.length)||0} products for company ${a.name}`),o(U||[]),d(U||[]);const L=Array.from(new Set((U||[]).filter(C=>C.category).map(C=>C.category)));return M(L),(U==null?void 0:U.length)===0&&Oe("No products found for this company. Please add products first."),Promise.resolve()}catch(U){return console.error("Error fetching products:",U),console.error("Error details:",U instanceof Error?U.message:JSON.stringify(U)),Oe.error("An error occurred while loading products."),Promise.reject(U)}finally{m(!1)}};fe.useEffect(()=>{let U=[...c];if(_!=="all"&&(U=U.filter(O=>O.category===_)),f){const O=f.toLowerCase();U=U.filter(L=>L.name.toLowerCase().includes(O)||L.sku.toLowerCase().includes(O)||L.art_no&&L.art_no.toLowerCase().includes(O)||L.color&&L.color.toLowerCase().includes(O)||L.size&&L.size.toLowerCase().includes(O))}d(U)},[f,c,_]);const F=U=>{v(U),w(!0)},H=()=>{w(!1),v(null)},z=a?`${a.name} | Print product barcodes and labels`:"Select a company to print barcodes";return p.jsxs(ph,{title:"Barcode Printing",subtitle:z,children:[p.jsx("div",{className:"container mx-auto px-4 py-6",children:a?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[p.jsxs("div",{className:"relative flex-grow",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Iu,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"text",placeholder:"Search products by name, SKU, Art No, Color, or Size...",value:f,onChange:U=>h(U.target.value),className:`pl-10 pr-4 py-2 w-full rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`})]}),p.jsx("div",{className:"w-full md:w-64",children:p.jsxs("select",{value:_,onChange:U=>N(U.target.value),className:`w-full p-2 rounded-md border ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[p.jsx("option",{value:"all",children:"All Categories"}),P.map(U=>p.jsx("option",{value:U,children:U.charAt(0).toUpperCase()+U.slice(1)},U))]})}),p.jsx(_t,{variant:"secondary",size:"sm",leftIcon:p.jsx(pc,{className:"w-4 h-4"}),onClick:()=>{Oe.loading("Refreshing products...",{id:"refresh-products"}),A().then(()=>{Oe.dismiss("refresh-products"),Oe.success("Products refreshed")})},disabled:y,children:"Refresh"})]}),y?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):p.jsx(p.Fragment,{children:u.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Vn,{className:"mx-auto h-12 w-12 text-gray-400"}),p.jsx("h3",{className:"mt-2 text-lg font-medium",children:"No products found"}),f||_!=="all"?p.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter to find what you're looking for."}):p.jsxs("div",{children:[p.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["No products available for ",(a==null?void 0:a.name)||"this company","."]}),p.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Please add products first in the Products section."}),p.jsx(_t,{variant:"primary",className:"mt-4",onClick:()=>l("/products"),children:"Go to Products"})]})]}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:`min-w-full divide-y ${t?"divide-gray-700 text-gray-200":"divide-gray-200"}`,children:[p.jsx("thead",{className:t?"bg-gray-800":"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Product"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"SKU"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"MRP"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Details"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${t?"divide-gray-700 bg-gray-900":"divide-gray-200 bg-white"}`,children:u.map(U=>p.jsxs("tr",{className:t?"hover:bg-gray-800":"hover:bg-gray-50",children:[p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[p.jsx("div",{className:"text-sm font-medium",children:U.name}),p.jsx("div",{className:"text-sm text-gray-500",children:U.category})]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:U.sku}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:["",U.mrp.toFixed(2)]}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[U.art_no&&p.jsxs("div",{children:["Art No: ",U.art_no]}),U.color&&p.jsxs("div",{children:["Color: ",U.color]}),U.size&&p.jsxs("div",{children:["Size: ",U.size]})]}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:p.jsx(_t,{variant:"primary",size:"sm",leftIcon:p.jsx(bc,{className:"w-4 h-4"}),onClick:()=>F(U),children:"Print"})})]},U.id))})]})})})]}):p.jsxs("div",{className:"text-center py-12",children:[p.jsx(Fl,{className:"mx-auto h-12 w-12 text-gray-400"}),p.jsx("h3",{className:"mt-2 text-lg font-medium",children:"No Company Selected"}),p.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please select a company to view and print product barcodes."}),p.jsx(_t,{variant:"primary",className:"mt-4",onClick:()=>l("/companies"),children:"Select a Company"})]})}),g&&p.jsx(f$,{isOpen:b,onClose:H,product:g,companyName:a==null?void 0:a.name})]})},ea=({children:r,requiredRole:t,redirectTo:e="/login",noLayout:n=!1})=>{const{isAuthenticated:i,isLoading:a}=jc(),{userRole:s,isRoleLoading:l}=Ha(),c=nl();if(a||i&&l&&c.pathname!=="/role-selection")return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto"}),p.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading..."})]})});if(!i)return p.jsx(Ko,{to:e,state:{from:c},replace:!0});if(c.pathname==="/role-selection")return p.jsx(p.Fragment,{children:r});if(i&&!s)return p.jsx(Ko,{to:"/role-selection",state:{from:c},replace:!0});if(t&&s){let u=!1;if(t==="admin"&&s==="owner"?u=!0:u=Array.isArray(t)?t.includes(s):s===t,!u){let d="/";switch(s){case"manager":d="/manager-dashboard";break;case"cashier":d="/cashier-dashboard";break;case"salesperson":d="/salesperson-dashboard";break;case"owner":d="/super-admin-dashboard";break;case"admin":d="/super-admin-dashboard";break}return p.jsx(Ko,{to:d,state:{from:c},replace:!0})}}const o=c.pathname==="/super-admin-dashboard"||c.pathname==="/admin-dashboard"||c.pathname==="/manager-dashboard"||c.pathname==="/cashier-dashboard"||c.pathname==="/salesperson-dashboard"||c.pathname==="/"||c.pathname==="/dashboard"||c.pathname==="/database"||c.pathname==="/barcode-printing";return c.pathname==="/barcode-printing"&&console.log("AuthRoute - Barcode Printing page:",{path:c.pathname,isDashboardPage:o,noLayout:n}),o||n?p.jsx(p.Fragment,{children:r}):p.jsx(BU,{children:r})},aR=()=>{const{isAuthenticated:r,isLoading:t}=jc(),{selectedCompany:e}=li(),{userRole:n,isRoleLoading:i}=Ha(),[a,s]=fe.useState(!0);if(fe.useEffect(()=>{!t&&!i&&s(!1)},[t,i]),a)return p.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),p.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Setting up your dashboard..."})]})});if(!r)return p.jsx(Ko,{to:"/login",replace:!0});if(!e)return Oe.error("Please select a company first"),p.jsx(Ko,{to:"/role-selection",replace:!0});if(!n)return Oe.error("No role assigned. Please contact your administrator."),p.jsx(Ko,{to:"/role-selection",replace:!0});switch(console.log("RoleBasedRouter - Redirecting based on role:",n),n){case"manager":return console.log("RoleBasedRouter - Redirecting to /manager-dashboard"),p.jsx(Ko,{to:"/manager-dashboard",replace:!0});case"admin":case"owner":return console.log("RoleBasedRouter - Redirecting to /super-admin-dashboard (admin/owner)"),p.jsx(Ko,{to:"/super-admin-dashboard",replace:!0});case"cashier":return console.log("RoleBasedRouter - Redirecting to /cashier-dashboard"),p.jsx(Ko,{to:"/cashier-dashboard",replace:!0});case"salesperson":return console.log("RoleBasedRouter - Redirecting to /salesperson-dashboard"),p.jsx(Ko,{to:"/salesperson-dashboard",replace:!0});default:return console.log("RoleBasedRouter - Redirecting to /role-selection (default case)"),p.jsx(Ko,{to:"/role-selection",replace:!0})}},wxe=()=>{const r=qa(),{userRole:t}=Ha(),[e,n]=fe.useState(!1),[i,a]=fe.useState(!1),[s,l]=fe.useState(null),[c,o]=fe.useState(null),u=fe.useRef(null),[d,f]=fe.useState({name:"",legal_name:"",gst_number:"",website:"",email:"",phone:"",street_address:"",city:"",state:"",postal_code:"",country:""}),h=v=>{var _;const b=(_=v.target.files)==null?void 0:_[0];if(!b)return;if(!b.type.startsWith("image/")){Oe.error("Please upload an image file");return}if(b.size>2*1024*1024){Oe.error("File size should be less than 2MB");return}l(b);const w=new FileReader;w.onloadend=()=>{o(w.result)},w.readAsDataURL(b)},y=async()=>{if(!s)return null;try{a(!0);const v=s.name.split(".").pop(),w=`company-logos/${`${$k()}.${v}`}`,{error:_}=await $e.storage.from("company-logos").upload(w,s,{cacheControl:"3600",upsert:!1});if(_)throw _;const{data:{publicUrl:N}}=$e.storage.from("company-logos").getPublicUrl(w);return N}catch(v){return console.error("Error uploading logo:",v),Oe.error("Failed to upload logo"),null}finally{a(!1)}},m=v=>{const{name:b,value:w}=v.target;f(_=>({..._,[b]:w}))},g=async v=>{if(v.preventDefault(),!(e||i)){n(!0);try{let b=null;s&&(b=await y());const{error:w}=await $e.from("companies").insert({name:d.name,legal_name:d.legal_name,gst_number:d.gst_number,website:d.website,email:d.email,phone:d.phone,address:`${d.street_address}, ${d.city}, ${d.state} ${d.postal_code}, ${d.country}`,logo_url:b,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select("id").single();if(w)throw new Error(w.message||"Failed to create company");Oe.success(`${d.name} has been created successfully!`),r("/super-admin-dashboard")}catch(b){console.error("Error creating company:",b),Oe.error(b instanceof Error?b.message:"Failed to create company")}finally{n(!1)}}};return t!=="admin"?null:p.jsx("div",{className:"min-h-screen bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:p.jsx("div",{className:"max-w-3xl mx-auto",children:p.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-8",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-3xl font-bold text-white",children:"Create New Company"}),p.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Fill in the company details below"})]}),p.jsxs("form",{onSubmit:g,className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"relative w-32 h-32 mb-4 rounded-full overflow-hidden bg-gray-700 flex items-center justify-center",children:c?p.jsx("img",{src:c,alt:"Logo preview",className:"w-full h-full object-cover"}):p.jsx("div",{className:"text-gray-400",children:p.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),p.jsx("input",{type:"file",ref:u,onChange:h,accept:"image/*",className:"hidden"}),p.jsx(_t,{type:"button",onClick:()=>{var v;return(v=u.current)==null?void 0:v.click()},variant:"secondary",size:"sm",disabled:i,children:i?"Uploading...":"Upload Logo"}),p.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"JPG, PNG (max 2MB)"})]}),p.jsxs("div",{children:[p.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300",children:["Company Name ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx("input",{type:"text",id:"name",name:"name",value:d.name,onChange:m,required:!0,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter company name"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"legal_name",className:"block text-sm font-medium text-gray-300",children:"Legal Name"}),p.jsx("input",{type:"text",id:"legal_name",name:"legal_name",value:d.legal_name,onChange:m,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"gst_number",className:"block text-sm font-medium text-gray-300",children:"GST Number"}),p.jsx("input",{type:"text",id:"gst_number",name:"gst_number",value:d.gst_number,onChange:m,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-300",children:"Website"}),p.jsx("input",{type:"url",id:"website",name:"website",value:d.website,onChange:m,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email"}),p.jsx("input",{type:"email",id:"email",name:"email",value:d.email,onChange:m,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300",children:"Phone"}),p.jsx("input",{type:"tel",id:"phone",name:"phone",value:d.phone,onChange:m,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"street_address",className:"block text-sm font-medium text-gray-300",children:"Street Address"}),p.jsx("input",{type:"text",id:"street_address",name:"street_address",value:d.street_address,onChange:m,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-300",children:"City"}),p.jsx("input",{type:"text",id:"city",name:"city",value:d.city,onChange:m,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-300",children:"State"}),p.jsx("input",{type:"text",id:"state",name:"state",value:d.state,onChange:m,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-gray-300",children:"Postal Code"}),p.jsx("input",{type:"text",id:"postal_code",name:"postal_code",value:d.postal_code,onChange:m,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-300",children:"Country"}),p.jsx("input",{type:"text",id:"country",name:"country",value:d.country,onChange:m,className:"mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),p.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[p.jsx(_t,{type:"button",variant:"secondary",onClick:()=>r("/super-admin-dashboard"),disabled:e,className:"px-6 py-2",children:"Cancel"}),p.jsx(_t,{type:"submit",variant:"primary",isLoading:e,disabled:e,className:"px-6 py-2",children:"Add Company"})]})]})]})})})},_xe=()=>{const{selectedCompany:r}=li(),{userRole:t}=Ha(),{theme:e}=Vr(),n=e==="dark",[i,a]=fe.useState([]),[s,l]=fe.useState(!1),[c,o]=fe.useState(null);return fe.useEffect(()=>{r&&(l(!0),$e.from("products").select("id, name, sku, art_no, color, size, category, stock, unit, purchase_price, mrp").eq("company_id",r.id).order("name").then(({data:u,error:d})=>{d?o(d.message):a(u||[]),l(!1)}))},[r]),t==="admin"||t==="manager"||t==="owner"?p.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Stock Report"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>{const u=i.map(h=>({Name:h.name,SKU:h.sku,"Art No":h.artNo||h.art_no||"",Color:h.color||"",Size:h.size||"",Category:h.category,Stock:h.stock,Unit:h.unit,"P.Price":h.purchase_price,MRP:h.mrp}));u.push({Name:"",SKU:"","Art No":"",Color:"",Size:"",Category:"Total",Stock:i.reduce((h,y)=>h+(y.stock||0),0),Unit:"","P.Price":0,MRP:0});const d=us.json_to_sheet(u),f=us.book_new();us.book_append_sheet(f,d,"Stock Report"),d2(f,`stock-report-${new Date().toISOString().slice(0,10)}.xlsx`)},children:"Export to Excel"}),p.jsx(_t,{variant:"secondary",size:"sm",onClick:()=>{const u=new Pr;u.setFontSize(16),u.text("Stock Report",14,18);const d=i.map(f=>[f.name,f.sku,f.artNo||f.art_no||"",f.color||"",f.size||"",f.category,f.stock,f.unit,f.purchase_price,f.mrp]);d.push(["","","","","","Total",i.reduce((f,h)=>f+(h.stock||0),0),"","",""]),U0(u,{startY:24,head:[["Name","SKU","Art No","Color","Size","Category","Stock","Unit","P.Price","MRP"]],body:d,theme:"striped",headStyles:{fillColor:[59,130,246]}}),u.save(`stock-report-${new Date().toISOString().slice(0,10)}.pdf`)},children:"Export to PDF"})]})]}),c&&p.jsx("div",{className:"text-red-500 mb-4",children:c}),p.jsx("div",{className:`overflow-x-auto rounded-lg shadow ${n?"bg-gray-800":"bg-white"}`,children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[p.jsx("thead",{className:n?"bg-gray-700 text-gray-100":"bg-gray-100 text-gray-700",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-2",children:"Name"}),p.jsx("th",{className:"px-4 py-2",children:"SKU"}),p.jsx("th",{className:"px-4 py-2",children:"Art No"}),p.jsx("th",{className:"px-4 py-2",children:"Color"}),p.jsx("th",{className:"px-4 py-2",children:"Size"}),p.jsx("th",{className:"px-4 py-2",children:"Category"}),p.jsx("th",{className:"px-4 py-2",children:"Stock"}),p.jsx("th",{className:"px-4 py-2",children:"Unit"}),p.jsx("th",{className:"px-4 py-2",children:"P.Price"}),p.jsx("th",{className:"px-4 py-2",children:"MRP"})]})}),p.jsx("tbody",{className:n?"bg-gray-900 text-gray-100":"bg-white text-gray-900",children:s?p.jsx("tr",{children:p.jsx("td",{colSpan:10,className:"text-center py-8",children:"Loading..."})}):i.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:10,className:"text-center py-8",children:"No products found."})}):p.jsxs(p.Fragment,{children:[i.map(u=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-4 py-2 font-medium",children:u.name}),p.jsx("td",{className:"px-4 py-2",children:u.sku}),p.jsx("td",{className:"px-4 py-2",children:u.artNo||u.art_no||""}),p.jsx("td",{className:"px-4 py-2",children:u.color||""}),p.jsx("td",{className:"px-4 py-2",children:u.size||""}),p.jsx("td",{className:"px-4 py-2",children:u.category}),p.jsx("td",{className:"px-4 py-2",children:u.stock}),p.jsx("td",{className:"px-4 py-2",children:u.unit}),p.jsx("td",{className:"px-4 py-2",children:u.purchase_price}),p.jsx("td",{className:"px-4 py-2",children:u.mrp})]},u.id)),p.jsxs("tr",{className:n?"bg-gray-700 font-bold":"bg-gray-200 font-bold",children:[p.jsx("td",{className:"px-4 py-2",colSpan:6,children:"Total"}),p.jsx("td",{className:"px-4 py-2",children:i.reduce((u,d)=>u+(d.stock||0),0)}),p.jsx("td",{className:"px-4 py-2",colSpan:3})]})]})})]})})]}):p.jsx(Ko,{to:"/",replace:!0})};function Sxe(){return fe.useEffect(()=>{const r=MV();return()=>{r()}},[]),p.jsxs(p.Fragment,{children:[p.jsx(yH,{position:"top-center",toastOptions:{duration:6e3,style:{background:"#333",color:"#fff",padding:"16px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:9999}}}),p.jsx(kq,{children:p.jsx(OV,{children:p.jsxs(yq,{children:[p.jsx(hi,{path:"/login",element:p.jsx(ghe,{})}),p.jsx(hi,{path:"/role-selection",element:p.jsx(bxe,{})}),p.jsx(hi,{path:"/",element:p.jsx(ea,{children:p.jsx(aR,{})})}),p.jsx(hi,{path:"/super-admin-dashboard",element:p.jsx(ea,{requiredRole:"admin",children:p.jsx(mhe,{})})}),p.jsx(hi,{path:"/create-company",element:p.jsx(ea,{requiredRole:"admin",children:p.jsx(wxe,{})})}),p.jsx(hi,{path:"/manager-dashboard",element:p.jsx(ea,{requiredRole:"manager",children:p.jsx(uhe,{})})}),p.jsx(hi,{path:"/cashier-dashboard",element:p.jsx(ea,{requiredRole:"cashier",children:p.jsx(fhe,{})})}),p.jsx(hi,{path:"/salesperson-dashboard",element:p.jsx(ea,{requiredRole:"salesperson",children:p.jsx(dhe,{})})}),p.jsx(hi,{path:"/products",element:p.jsx(ea,{children:p.jsx(qbe,{})})}),p.jsx(hi,{path:"/sales",element:p.jsx(ea,{children:p.jsx(hJ,{})})}),p.jsx(hi,{path:"/purchase",element:p.jsx(ea,{children:p.jsx(Wbe,{})})}),p.jsx(hi,{path:"/customers",element:p.jsx(ea,{children:p.jsx(Kbe,{})})}),p.jsx(hi,{path:"/reports",element:p.jsx(ea,{children:p.jsx(Ybe,{})})}),p.jsx(hi,{path:"/gst-reports",element:p.jsx(ea,{children:p.jsx(axe,{})})}),p.jsx(hi,{path:"/gst-settings",element:p.jsx(ea,{children:p.jsx(tR,{})})}),p.jsx(hi,{path:"/barcode-printing",element:p.jsx(ea,{children:p.jsx(xxe,{})})}),p.jsx(hi,{path:"/users",element:p.jsx(ea,{requiredRole:"admin",noLayout:!0,children:p.jsx(mxe,{})})}),p.jsx(hi,{path:"/companies",element:p.jsx(iR,{})}),p.jsx(hi,{path:"/companies/:id",element:p.jsx(iR,{})}),p.jsx(hi,{path:"/settings",element:p.jsx(ea,{requiredRole:"admin",children:p.jsx(tR,{})})}),p.jsx(hi,{path:"/database",element:p.jsx(ea,{requiredRole:"admin",children:p.jsx(hhe,{})})}),p.jsx(hi,{path:"/stock-report",element:p.jsx(ea,{children:p.jsx(_xe,{})})}),p.jsx(hi,{path:"*",element:p.jsx(ea,{children:p.jsx(aR,{})})})]})})})]})}Az.createRoot(document.getElementById("root")).render(p.jsx(fe.StrictMode,{children:p.jsx(AV,{children:p.jsx(TV,{children:p.jsx(XV,{children:p.jsx(Sxe,{})})})})}));export{Oe as _,Ln as a,Jr as c,SV as e,kn as g,$e as s};
